"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["memex"],{46132:(e,t,a)=>{let n,r,l,i;var s,o,d,u,c,m,p,f,h,g,y,x,b,v,w,k,j,C,S,I,N,T,_,R,P,D,E,L,A,M,F,Z,O,$,V,B,z,U,K,W,H,G,q,Q,X,Y,J,ee,et,ea,en,er,el,ei,es,eo,ed,eu,ec,em,ep,ef,eh,eg,ey,ex,eb,ev,ew,ek,ej,eC,eS,eI,eN,eT,e_,eR,eP,eD,eE,eL,eA,eM,eF,eZ,eO,e$,eV,eB,ez,eU,eK,eW,eH,eG,eq,eQ,eX,eY,eJ,e0,e1,e2,e5,e3,e4,e6,e8,e7,e9,te,tt,ta,tn,tr,tl,ti,ts,to,td,tu,tc,tm,tp,tf,th,tg,ty,tx,tb,tv,tw,tk,tj,tC,tS,tI,tN,tT,t_,tR,tP,tD,tE,tL,tA,tM,tF,tZ,tO,t$,tV,tB,tz,tU,tK,tW,tH,tG,tq,tQ,tX,tY,tJ,t0,t1,t2,t5,t3,t4,t6,t8,t7,t9,ae,at,aa,an,ar,al,ai,as,ao,ad,au,ac,am,ap,af,ah,ag,ay,ax,ab,av,aw,ak,aj,aC,aS,aI,aN,aT,a_,aR,aP,aD,aE,aL,aA,aM,aF,aZ,aO,a$,aV,aB,az,aU,aK,aW,aH,aG,aq,aQ,aX,aY,aJ,a0,a1,a2,a5,a3,a4,a6,a8,a7,a9,ne,nt,na,nn,nr,nl,ni,ns,no,nd,nu,nc,nm,np,nf,nh,ng,ny,nx,nb,nv,nw,nk,nj,nC,nS,nI,nN,nT,n_,nR,nP,nD,nE,nL,nA,nM,nF,nZ,nO,n$,nV,nB,nz,nU,nK,nW,nH,nG,nq,nQ,nX,nY,nJ,n0,n1,n2,n5,n3,n4,n6,n8,n7,n9,re,rt,ra,rn,rr,rl,ri,rs,ro,rd,ru,rc,rm,rp,rf,rh,rg,ry,rx,rb,rv,rw,rk,rj,rC,rS,rI,rN,rT,r_,rR,rP,rD,rE,rL,rA,rM,rF,rZ,rO,r$,rV,rB,rz,rU,rK,rW,rH,rG,rq,rQ,rX,rY,rJ,r0,r1,r2,r5,r3,r4,r6,r8,r7,r9,le,lt,la,ln,lr,ll,li,ls,lo,ld,lu,lc,lm,lp,lf,lh,lg,ly,lx,lb,lv,lw,lk,lj,lC,lS,lI,lN,lT,l_,lR,lP,lD,lE,lL,lA,lM,lF,lZ,lO,l$,lV,lB,lz,lU,lK,lW,lH,lG,lq,lQ,lX,lY,lJ,l0,l1,l2,l5,l3,l4,l6,l8,l7,l9,ie,it,ia,ir,il,ii,is,io,id,iu,ic,im,ip,ih,ig,iy,ix,ib,iv,iw,ik,ij,iC,iS,iI,iN,iT,i_,iR,iP,iD,iE,iL,iA,iM,iF,iZ,iO,i$,iV,iB,iz,iU,iK,iW,iH,iG,iq,iQ,iX,iY,iJ,i0,i1,i2,i5,i3,i4,i6,i8,i7,i9,se,st,sa,sn,sr,sl,si,ss,so,sd,su,sc,sm,sp,sf,sh,sg,sy,sx,sb,sv,sw,sk,sj,sC,sS,sI,sN,sT,s_,sR,sP,sD,sE,sL,sA,sM,sF,sZ,sO,s$,sV,sB,sz,sU,sK,sW,sH,sG,sq,sQ,sX,sY,sJ,s0,s1,s2,s5,s3,s4,s6,s8,s7,s9,oe,ot,oa,on,or,ol,oi,os,oo,od,ou,oc,om,op,of,oh,og,oy,ox,ob,ov,ow,ok,oj,oC,oS,oI,oN,oT,o_,oR,oP,oD,oE,oL,oA,oM,oF,oZ,oO,o$,oV,oB,oz,oU,oK,oW,oH,oG,oq,oQ,oX,oY,oJ,o0,o1,o2,o5,o3,o4,o6,o8,o7,o9,de,dt,da,dn,dr,dl,di,ds,dd,du,dc,dm,dp,df,dh,dg,dy,dx,db,dv,dw,dk,dj,dC,dS,dI,dN,dT,d_,dR,dP,dD,dE,dL,dA,dM,dF,dZ,dO,d$,dV,dB,dz,dU,dK,dW,dH,dG,dq,dQ,dX,dY,dJ,d0,d1,d2,d5,d3,d4,d6,d8,d7,d9,ue,ut,ua,un,ur,ul,ui,us,uo,ud,uu,uc,um,up,uf,uh,ug,uy,ux,ub,uv,uw,uk,uj,uC,uS,uI,uN,uT,u_,uR,uP,uD,uE,uL,uA,uM,uF,uZ,uO,u$,uV,uB,uz,uU,uK,uW,uH,uG,uq,uQ,uX,uY,uJ,u0,u1,u2,u5,u3,u4,u6,u8,u7,u9,ce,ct,ca,cn,cr,cl,ci,cs=a(85893),co=a(51145),cd=a(20745),cu=a(11334),cc=a(8386),cm=a(27233),cp=a(85945),cf=a(90041),ch=a(42379),cg=a(67294),cy=a.t(cg,2),cx=a(7838),cb=a(84384),cv=a(12599),cw=a(15388),ck=a(38776);function cj(e,t){return Array.from(cZ(e,t).values.entries())}function cC(e,t=[]){let a=t.reduce((e,t)=>(cD(t)?e.set(t[0],cS(t[1],t[2],t[3])):e.set(t[0],cC(t[1],t[2])),e),new Map);return{description:e,values:a}}function cS(e,t,a){return{description:e,type:t,effect:a}}function cI(e,t,a=[]){if(0===t.length)return e;let n=t[0];if((0,ck.Z)(null!=n,"Path must have at least one item"),1===t.length)return cL(e,n);let r=cZ(e,n,a);return cI(r,t.slice(1),[...a,n])}function*cN(e,t=[]){for(let[a,n]of e.values.entries())t=[...t,a],yield[t,n],cP(n)&&(yield*cN(n,t)),t=t.slice(0,-1)}function cT(e,t){if(cD(t)){let a=cS(t[1],t[2],t[3]);return cA(e,t[0],a)}let[a,n,r]=t,l=cC(n,r);return cA(e,a,l)}function c_(e,[t]){return cM(e,t)}function cR(e){return!cP(e)}function cP(e){return"values"in e}function cD(e){return!cE(e)}function cE(e){return Array.isArray(e[2])}function cL(e,t){return e.values.get(t)??null}function cA(e,t,a){let n=new Map(e.values);return n.set(t,a),{...e,values:n}}function cM(e,t){let a=new Map(e.values);return a.delete(t),{...e,values:a}}function cF(e,t,a=[]){let n="string"==typeof t?[t]:t,r=cI(e,n);if(!r)return null;if(cR(r))throw Error(`Command at path where command tree expected: ${[...a,...n].join(",")}`);return r}function cZ(e,t,a=[]){let n="string"==typeof t?[t]:t,r=cF(e,n,a);if(!r)throw Error(`Command tree does not exist at path: ${[...a,...n].join(",")}`);return r}let cO=(0,cg.createContext)(null);try{(s=cO).displayName||(s.displayName="StatelessContext")}catch{}var c$=a(33241);function cV(e,t){let a=cB(e[0]),n=cB(t[0]);return a&&n?Number(e[0])-Number(t[0]):a&&!n?1:!a&&n?-1:e[0].localeCompare(t[0])}function cB(e){return/^\d+$/.test(e)}let MemexCommandItem=class MemexCommandItem extends c$.ck{activate(e){cP(this.memexItem)?e.pushPage(this.staticItemsPage()):(this.memexItem.effect(),e.dismiss())}copy(e){}select(e){cP(this.memexItem)?e.pushPage(this.staticItemsPage()):e.autocomplete(this)}get path(){}buildCommandItems(){if(!cP(this.memexItem))return;let e=cj(this.memexItem,[]).sort(cV);for(let[t,a]of e)this.commandItems.push(new MemexCommandItem(a.description,t,a))}staticItemsPage(){return new c$.Z4(this.title,`memex-items-page-${this.memexKey}`,this.commandItems)}constructor(e,t,a){super({title:e,priority:1,group:"commands",hint:"Run command"}),this.commandItems=[],this.memexKey=t,this.memexItem=a,this.buildCommandItems()}};let MemexProvider=class MemexProvider extends c$.BX{clearCache(){}enabledFor(e){let t=">"===e.mode||""===e.mode,a="memex_project"===e.scope.type;return t&&a}async fetch(e,t){let a=[...this.commandItems];if(0!==e.text.trim().length){let t=[];for(let[e,a]of cN(this.commandTree))cR(a)&&t.push([e,a]);for(let[e,n]of t)a.push(new MemexCommandItem(n.description,e.join("-"),n));a=this.fuzzyFilter(a,e)}return{results:a}}buildCommandItems(){let e=cj(this.commandTree,[]).sort(cV);for(let[t,a]of e)this.commandItems.push(new MemexCommandItem(a.description,t,a));for(let[e,t]of this.commandItems.entries())t.priority=this.commandItems.length-e}constructor(e){super(),this.id="memex-provider",this.hasCommands=!0,this.debounce=0,this.commandItems=[],this.commandTree=e,this.buildCommandItems()}};function cz({children:e}){let[t,a]=(0,cg.useState)(cC("root")),[n,r]=(0,cg.useState)([]),[l,i]=(0,cg.useState)([]);(0,cg.useEffect)(()=>{if(0===l.length&&0===n.length)return;let e=t;e=n.reduce(c_,e),a(e=l.reduce(cT,e));let s=l.length,o=n.length;i(e=>e.slice(s)),r(e=>e.slice(o))},[n,l,t]);let s=(0,cg.useMemo)(()=>({registerCommands:e=>{i(t=>[...t,e])},deregisterCommands:e=>{r(t=>[...t,e])}}),[]);return(0,cg.useEffect)(()=>{function e(){window.commandPalette?.registerProvider("memex-provider",new MemexProvider(t))}return window.commandPalette?e():document.addEventListener("command-palette-ready",e),()=>{document.removeEventListener("command-palette-ready",e)}},[t]),(0,cs.jsx)(cO.Provider,{value:s,children:e})}try{(o=cz).displayName||(o.displayName="CommandProvider")}catch{}function cU(e,t){let a=(0,cg.useContext)(cO);if(!a)throw Error("useCommands must be used within a <CommandProvider>");let{registerCommands:n,deregisterCommands:r}=a,l=(0,cg.useMemo)(e,t);(0,cg.useEffect)(()=>{if(l)return n(l),()=>r(l)},[l,r,n])}var cK=a(75809),cW=a(61296);function cH({children:e,...t}){return(0,cs.jsx)(cW.Z,{...t,sx:{position:"relative",backgroundSize:"1px 37px",backgroundPositionY:"15px",backgroundRepeat:"repeat-x, repeat",backgroundColor:e=>`${e.colors.canvas.default}`,color:e=>`${e.colors.fg.default}`,width:"100%",height:"100%",overflow:"auto",...t.sx},children:e})}try{(d=cH).displayName||(d.displayName="BaseSettingsPage")}catch{}function cG(e){let t=document.getElementById(e);if(t&&t.textContent)try{return JSON.parse(t.textContent)}catch{return}}let cq={};function cQ(e){let t=cq[e];if(!t){if(t=cG(e))cq[e]=t;else throw Error(`Missing API metadata for ${e}`)}return t}let cX=["memex_beta_with_dummy_feature","memex_insights","memex_insights_public","memex_insights_chart_view","memex_charts_basic_allow","memex_find_in_project","memex_historical_charts_on_assignees_milestones","memex_tracked_by_items","tasklist_block","memex_group_by_multi_value_changes","memex_tracked_by_add_missing_items","memex_delay","memex_insights_forecasting","memex_insights_forecasting_backend","memex_tracked_by_drag_drop","memex_sidepanel_tracking_fields","memex_paginated_archive","memex_roadmap_reordering","memex_org_templates","memex_bulk_actions","memex_roadmap_date_fields","memex_verified_fetch_for_memex_endpoints","memex_user_settings","memex_verified_fetch_for_memex_items_endpoints","memex_automation_enabled","memex_filter_bar_always_visible","memex_skip_json_parsing_if_invalid_response_and_content_found"],cY=[],cJ=["memex_charts_basic_public","memex_charts_basic_private","memex_insights_limited_public","memex_insights_limited_private","memex_insights_basic_public","memex_insights_basic_private"],c0=[...cY,...cX,...cJ],c1=c0.reduce((e,t)=>(e[t]=!1,e),{}),c2=c1;function c5(){if(!n){let e=cG("memex-enabled-features");for(let t of(n=e&&new Set(e),c0))c2[t]=c3(t)}return c2}function c3(e){return!!n&&n.has(e)}var c4=a(89445),c6=a(37266),c8=a(77914);let c7={Assignees:"assignees",Labels:"labels",LinkedPullRequests:"linkedPullRequests",Milestone:"milestone",Repository:"repository",Reviewers:"reviewers",Title:"title",Tracks:"tracks",TrackedBy:"trackedBy",Text:"text",Number:"number",Date:"date",SingleSelect:"singleSelect",Iteration:"iteration"},c9={Assignees:"Assignees",Labels:"Labels",LinkedPullRequests:"Linked pull requests",Milestone:"Milestone",Repository:"Repository",Reviewers:"Reviewers",Status:"Status",Title:"Title",Tracks:"Tracks",TrackedBy:"Tracked by"};var me=a(85529),mt=a(71067),ma=a(15173),mn=a(63625),mr=a(17920),ml=a(28366),mi=a(77349),ms=a(31952),mo=a(19843),md=a(27856);let mu={DraftIssue:"DraftIssue",Issue:"Issue",PullRequest:"PullRequest",RedactedItem:"RedactedItem"},mc="@today",mm=/^([1-9][0-9]*)days?$/,mp=/^<@today-([1-9][0-9]*)(d|w|m)$/,mf=/^\s+/,mh=/^,/,mg=/^>/,my=/^</,mx=/^>=/,mb=/^<=/,mv=/^\.\./,mw=/^-/,mk=/^\+/,mj=/^:/,mC=/^'/,mS=/^[^']*/,mI=/^"/,mN=/^[^"]*/,mT=/^-?[A-Za-z0-9_][A-Za-z0-9_-]*/,m_=/^([A-Za-z0-9_=!@#$%^*]+)([A-Za-z0-9_\-=!@#$%^*+]*)/,mR=/^@(today|next|previous|current)/,mP=/^(0|[1-9][0-9]*)/,mD=/^[^ ]+/,mE=(e,t,a,n)=>{let r=n>0?a.substring(n):a,l=r.match(e);if(null===l)throw Error(`Tried to emit a '${t}' token, but the pattern (${e.toString()}) did not match. Did you check if the pattern has a token before trying to emit it?

Text: ${r}`);let i={start:n,end:l[0].length-1+n},s={kind:t,text:l[0],location:i},o=r.replace(e,"");return{token:s,remainder:o,length:s.text.length}};function mL(e){let t=[],a=0,n=e=>{"location"in e?(t.push(e),a=e.location.end+1):(t.push({...e,location:{start:a,end:a+e.text.length-1}}),a+=e.text.length)},r=(t,r)=>{let{token:l}=mE(t,r,e,a);return n(l),l},l=(t,n)=>t.test(n??e.substring(a));for(;a<e.length;)if(l(mf))r(mf,"source.whitespace");else if(l(mw))r(mw,"keyword.operator.minus");else if(l(mT)){let{token:t,remainder:i}=mE(mT,"unknown",e,a);if(l(mj,i)?n({...t,kind:"variable"}):n({...t,kind:"string"}),l(mj))for(r(mj,"keyword.operator.separator"),l(mx)?r(mx,"keyword.operator.comparison"):l(mg)?r(mg,"keyword.operator.comparison"):l(mb)?r(mb,"keyword.operator.comparison"):l(my)&&r(my,"keyword.operator.comparison");(l(m_)||l(mR))&&!l(mf);){if(l(mR)){let t=r(mR,"string");if(l(mk))r(mk,"keyword.operator.plus"),l(mP)&&r(mP,"string");else if(l(mw))r(mw,"keyword.operator.minus"),l(mP)&&r(mP,"string");else if(l(m_)){let{token:n}=mE(m_,"string",e,a);t.location.end+=n.text.length,t.text+=n.text,a+=n.text.length}}else l(m_)&&r(m_,"string");l(mv)?r(mv,"keyword.operator.range"):l(mh)&&r(mh,"punctuation.separator")}}else if(l(mC)||l(mI)){let[t,n]=l(mC)?[mC,mS]:[mI,mN];for(r(t,"punctuation.definition.string.begin");!l(t)&&a<e.length;)l(n)&&r(n,"string");l(t)&&r(t,"punctuation.definition.string.end")}else if(l(mj))r(mj,"keyword.operator.separator");else if(l(mh))r(mh,"punctuation.separator");else if(l(mv))r(mv,"keyword.operator.range");else if(l(mk))r(mk,"keyword.operator.plus");else if(l(mR)){let t=r(mR,"string");if(l(mk))r(mk,"keyword.operator.plus"),l(mP)&&r(mP,"string");else if(l(mw))r(mw,"keyword.operator.minus"),l(mP)&&r(mP,"string");else if(l(m_)){let{token:n}=mE(m_,"string",e,a);t.location.end+=n.text.length,t.text+=n.text,a+=n.text.length}}else l(m_)?r(m_,"string"):l(mD)&&r(mD,"unknown");return t}let mA=(e,t)=>e.filter(e=>e.location.end<=t),mM=(e,t)=>e.filter(e=>e.location.start>=t),mF=(e,t)=>{let{kind:a,start:n,end:r}=t,l="number"==typeof n?mA(e,n):mA(e,n.location.start),i=Array.isArray(a)?a:[a];for(let e=l.length-1;e>=0;e--){let t=l[e];if((0,ck.Z)(null!=t,"Token must exist"),i.some(e=>t.kind.startsWith(e)))return t;if(r){if("number"==typeof r){if(t.location.end>=r)break}else if(Array.isArray(r)||"string"==typeof r){let e=Array.isArray(r)?r:[r];if(e.includes(t.kind))break}else if(t.location.end>=r.location.start)break}}return null},mZ=(e,t)=>{let{kind:a,start:n,end:r}=t,l="number"==typeof n?mM(e,n):mM(e,n.location.start),i=Array.isArray(a)?a:[a];for(let e of l){if(i.some(t=>e.kind.startsWith(t)))return e;if(r){if("number"==typeof r){if(e.location.start>=r)break}else if(Array.isArray(r)||"string"==typeof r){let t=Array.isArray(r)?r:[r];if(t.includes(e.kind))break}else if(e.location.start>=r.location.start)break}}return null};function mO(e,t){let{kinds:a,start:n=0}=t,r=[],l="number"==typeof n?n:n.location.end;for(let t of a){let a=r[r.length-1],n=mM(e,a?a.location.end+1:l),i=n[0];if(!i?.kind.startsWith(t))return null;r.push(i)}return r}function m$(e){return"object"==typeof e&&!!e&&mK(e,"status")&&mK(e,"message")&&"string"==typeof e.message}function mV(e){return!!m$(e)&&403===e.status}function mB(e){if(e)switch(e){case c9.Assignees:case c9.Labels:case c9.LinkedPullRequests:case c9.Milestone:case c9.Repository:case c9.Reviewers:case c9.Tracks:case c9.TrackedBy:case c9.Title:case c9.Status:return e;default:{let t=parseInt(e,10);if(isNaN(t))return;return t}}}function mz(e){return Number(e.replace(/,/g,""))}function mU(e,t="yyyy-MM-dd"){let a=mL(e),n=mZ(a,{kind:"string",start:0});if(!n)return null;if(n.text===mc){let e=(0,ml.Z)(),t=mO(a,{kinds:["keyword.operator","string"],start:n});if(!t&&a.length>1)return null;if(t){let[a,n]=t;(0,ck.Z)(null!=n,"offset tokens must define offsetValue"),(0,ck.Z)(null!=a,"offset tokens must define offsetOperator");let r=mz(n.text)*("+"===a.text?1:-1);return isNaN(r)?null:(0,mi.Z)(e,r)}return e}let r=(0,ms.Z)(n.text,t,new Date);return(0,mo.Z)(r)?r:null}function mK(e,t){return t in e}function mW(e){if("object"!=typeof e||!e)return null;if(mK(e,"raw")&&"string"==typeof e.raw&&mK(e,"html")&&"string"==typeof e.html){let{raw:t,html:a}=e;return{raw:t,html:a}}return null}function mH(e){return"object"==typeof e&&e&&mK(e,"value")&&"number"==typeof e.value?{value:e.value}:null}function mG(e){return"object"==typeof e&&e&&mK(e,"id")&&"string"==typeof e.id?{id:e.id}:null}function mq(e){return"number"==typeof e}function mQ(e){return"object"==typeof e.value}let mX=/(\d{4}-[01]\d-[0-3]\d)/;function mY(e){return"object"==typeof e&&e?m0(e):null}function mJ(e){let t=mY(e);if(t&&t.value)return m5(t.value,{timeZone:"UTC"})}function m0(e){if(mQ(e))return e;let t=m1(e.value);return t?{value:t}:null}function m1(e){return(e=e.slice(0,10)).match(mX)?new Date(`${e}T00:00:00Z`):null}let m2={year:"numeric",month:"short",day:"numeric",timeZone:"UTC"};function m5(e,t={}){return e.toLocaleDateString("en-us",{...m2,...t})}function m3(e){return e.toISOString().slice(0,10)}function m4(e){if(!e)return"";let{title:t}=e.value;return"string"==typeof t?t:t.raw}function m6(e){if(!e)return"";let{title:t}=e.value;return"string"==typeof t?t:t.html}function m8(e){return e&&(e.contentType===mu.Issue||e.contentType===mu.PullRequest)?e.value.number:void 0}function m7(e){if(!e)return;if(e?.percent)return e.percent/100;let{total:t,completed:a}=e;if(0!==t)return a/t}function m9(e){if(e?.percent!==void 0)return e.percent;let t=m7(e);return t?Math.round(100*t):0}function pe(e){return e?(0,md.sanitize)(e,{ALLOWED_TAGS:[]}):e}function pt(e){return"object"==typeof e&&"raw"in e}function pa(e){return"object"==typeof e&&"value"in e&&"number"==typeof e.value}function pn(e){return"object"==typeof e&&"value"in e&&"string"==typeof e.value}function pr(e){return"object"==typeof e&&"id"in e}function pl(e){return e.toLowerCase().replace(/^(.)/,e=>e.toUpperCase())}function pi(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(e,t)=>0==+e?"":0===t?e.toLowerCase():e.toUpperCase())}function ps(e,t="and"){if(e.length<=2)return e.join(` ${t} `);{let a=e.pop();return e.push(`${t} ${a}`),e.join(", ")}}function po(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(let n of a)if(!Object.prototype.hasOwnProperty.call(t,n)||e[n]!==t[n])return!1;return!0}let pd="single-select-option",pu=e=>!!e&&!!e.match(pd),pc=e=>`${pd}-${e}`,pm=e=>m3(new Date)===e;function pp(e){return Boolean(e)}function pf(e){return e.filter(pp)}let ph=RegExp('<img.+class=".*\\bemoji\\b.*".+title="(?<emoji>:[^:]+:)".+>\\s+(?<text>.*)|<g-emoji.+>(?<gemoji>.+)<\\/g-emoji>\\s+(?<gtext>.+)',"i"),pg=e=>{let t=e.match(ph),{emoji:a,text:n,gemoji:r,gtext:l}=t?.groups??{};return a&&n?`${a} ${n}`:r&&l?`${r} ${l}`:e};function py(e){return(0,mr.eE)()?e.metaKey:e.ctrlKey}function px(e,t){let a=-1;for(;!0===e.test(t);)a=e.lastIndex;return a}function pb(e,t){let a=RegExp(`^[\\s${t}\\s]*|[\\s${t}\\s]*`);return e.replace(a,"")}function pv(e,t,a){let n=a.findIndex(t=>t.id===e.id),r=a.findIndex(e=>e.id===t.id);return -1===n&&-1===r?e.name.localeCompare(t.name):-1===n&&r>-1?1:-1===r&&n>-1?-1:n-r}function pw(e,t,a){let n=t>0?a[t-1]:void 0,r=t<a.length-1?a[t+1]:void 0;return[n,e,r]}function pk(e,t){let{x:a,y:n}=t,{left:r,top:l,right:i,bottom:s}=e.getBoundingClientRect();return a>=r&&a<=i&&n>=l&&n<=s}let pj={success:"success",default:"default",warning:"warning",error:"error"},pC=cw.ZP.button`
  padding: 8px;
  margin: 8px 10px 8px 0px;
  border-radius: 3px;
  color: ${(0,ch.U2)("colors.fg.onEmphasis")};
  border: 0;
  background: transparent;
  outline: none;
  cursor: pointer;

  /* can be removed if using Primer IconButton component */
  &:focus {
    box-shadow: 0 0 0 2px ${(0,ch.U2)("colors.accent.fg")};
  }
`,pS=e=>(0,cs.jsx)(pC,{"aria-label":"Close",...e,children:(0,cs.jsx)(mt.Z,{icon:me.b0D})}),pI={[pj.default]:"accent.emphasis",[pj.success]:"success.emphasis",[pj.warning]:"attention.emphasis",[pj.error]:"danger.emphasis"},pN=(0,cs.jsx)(mt.Z,{icon:me.szr,sx:{color:"fg.onEmphasis"}}),pT=(0,cs.jsx)(mt.Z,{icon:me.rE2,sx:{color:"fg.onEmphasis"}}),p_=(0,cs.jsx)(mt.Z,{icon:me.zMQ,sx:{color:"fg.onEmphasis"}}),pR=(0,cs.jsx)(mt.Z,{icon:me.wNq,sx:{color:"fg.onEmphasis"}}),pP={[pj.default]:pN,[pj.success]:pT,[pj.warning]:p_,[pj.error]:pR},pD=cw.F4`
  from {
    transform: translateX(-400px);
  }
  to {
    transform: translateX(0);
  }
`,pE=cw.F4`
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-460px);
  }

`,pL=(0,cw.ZP)(cW.Z)`
  flex-shrink: 0;
  padding: ${(0,ch.U2)("space.3")};
`,pA=cw.ZP.div`
  position: fixed;
  display: flex;
  gap: ${(0,ch.U2)("space.2")};
  box-shadow: ${(0,ch.U2)("shadows.shadow.large")};
  background-color: ${(0,ch.U2)("colors.neutral.emphasisPlus")};
  border-radius: ${(0,ch.U2)("radii.2")};
  align-items: stretch;
  box-sizing: border-box;
  overflow: hidden;
  max-width: 400px;
  bottom: 66px;
  left: 12px;
  z-index: 99;

  animation: ${pD} ${300}ms cubic-bezier(0.25, 1, 0.5, 1);

  &.toast-leave {
    animation: ${pE} ${300}ms cubic-bezier(0.5, 0, 0.75, 0) forwards;
  }
`,pM=cw.ZP.button`
  background-color: transparent;
  border: none;
  font-weight: ${(0,ch.U2)("fontWeights.bold")};
  margin-left: ${(0,ch.U2)("space.2")};

  margin-top: ${(0,ch.U2)("space.3")};
  margin-bottom: ${(0,ch.U2)("space.3")};
  color: ${(0,ch.U2)("colors.fg.onEmphasis")};
  font-size: ${(0,ch.U2)("fontSizes.1")};
  font-family: inherit;
  outline: none;
  padding: 0;
  white-space: nowrap;

  &:hover {
    text-decoration: underline;
  }

  &:focus {
    border-color: transparent;
    box-shadow: 0 0 0 3px ${(0,ch.U2)("colors.border.default")};
  }
  ${ma.Z}
`,pF=e=>{let{toast:t,startRemovingToast:a}=e,n=(0,cg.useRef)(null);(0,cg.useEffect)(()=>{let e=e=>{n.current&&e.ctrlKey&&"t"===e.key&&(n.current.focus(),t.timeout?.cancel())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]);let r=t.icon?(0,cs.jsx)(mt.Z,{icon:t.icon,sx:{color:"fg.onEmphasis",m:"auto"}}):pP[t.type],l=(0,cg.useCallback)(()=>{t.action?.handleClick(),a(t.id)},[t,a]);return(0,cs.jsxs)(pA,{role:"status",className:t.className,...(0,cK.f)(pi(t.message)),children:[(0,cs.jsx)(pL,{sx:{bg:pI[t.type],display:"flex",alignItems:"center"},children:r}),(0,cs.jsx)(mn.Z,{sx:{fontSize:1,mx:2,my:3,color:"fg.onEmphasis"},children:t.message}),t.action&&(0,cs.jsx)(pM,{ref:n,onClick:l,...(0,cK.f)("toast-action"),children:t.action.text}),(0,cs.jsx)(pS,{onClick:()=>a(t.id)})]})};try{(u=pS).displayName||(u.displayName="ToastCloseButton")}catch{}try{(c=pL).displayName||(c.displayName="IconContainer")}catch{}try{(m=pF).displayName||(m.displayName="Toast")}catch{}function pZ(e){let t=(0,cg.useRef)(e);return(0,cg.useLayoutEffect)(()=>{t.current=e},[e]),t}let pO=(e,t)=>{let a=p$(e);return(0,cg.useMemo)(()=>a(t),[a,t])},p$=e=>{let t=(0,cg.useRef)([]);(0,cg.useEffect)(()=>()=>{for(let e of t.current)e.cancel()},[]);let a=pZ(e);return(0,cg.useCallback)(e=>(...n)=>{let r=setTimeout(()=>a.current(...n),e),l={cancel:()=>clearTimeout(r)};return t.current.push(l),l},[a])},pV=({autoDismiss:e=!0,timeout:t=5e3}={})=>{let[a,n]=(0,cg.useState)([]),r=t??5e3,l=(0,cg.useRef)(0),i=()=>l.current++,s=(0,cg.useCallback)(e=>a.find(t=>t.id===e),[a]),o=pO(n,300),d=(0,cg.useCallback)(e=>{let t=s(e);t&&(t.timeout?.cancel(),n(e=>e.filter(e=>e.id===t.id)),t.onDismiss&&t.onDismiss())},[s,n]),u=pO(d,300),c=(0,cg.useCallback)(e=>{n(t=>t.map(t=>t.id===e?{...t,className:"toast-leave"}:t)),u(e)},[u,n]),m=pO(c,r),p=(0,cg.useCallback)(t=>{let r;let l=i();e&&!t.keepAlive&&(r=m(l));let s={id:l,timeout:r,...t};if(a.length>0){let e=a[0];if(!e)return;c(e.id),o([s]);return}n([s])},[e,m,o,c,a]),f=(0,cg.useCallback)(()=>({toasts:a,removeToast:d,startRemovingToast:c}),[a,d,c]);return{addToast:p,getToastProps:f}},pB=(0,cg.createContext)(null),pz=e=>{let{autoDismiss:t,timeout:a,children:n}=e,{addToast:r,getToastProps:l}=pV({autoDismiss:t,timeout:a}),{toasts:i,...s}=l(),o=(0,cg.useMemo)(()=>({addToast:r}),[r]);return(0,cs.jsxs)(pB.Provider,{value:o,children:[n,i&&i.map(e=>(0,cs.jsx)(pF,{toast:e,...s},e.id))]})};try{(p=pB).displayName||(p.displayName="ToastContext")}catch{}function pU(){let e=(0,cg.useContext)(pB);if(!e)throw Error("useToasts must be used within a ToastContext.Provider");return e}var pK=a(23855);let pW=(e,t="EEE, MMM d")=>{let a=e.toISOString().slice(0,-1),n=(0,pK.Z)(a);return(0,c8.Z)(n,t)},pH=e=>{let t=new Date(new Date(e).setHours(0,0,0,0)),a=new Date(t.getTime()-6e4*t.getTimezoneOffset());return a},pG=(e,t,a="EEE, MMM d")=>{let n=e.getUTCFullYear()!==t.getUTCFullYear(),r=pW(e,a),l=pW(t,n?`${a} yyyy`:a);return r===l?r:`${r} - ${l}`};function pq([e,t]){return e?t?e<=t?[e,t]:[t,e]:[e,e]:[t,t]}let pQ=(e,t,a)=>1===e?t:a,pX={addColumnNameValue:e=>`Add ${e.toLowerCase()}\u{2026}`,addItem:"Add item",updateTitleLabel:"Update project title",archiveBoardColumnConfirmationMessage:e=>`Are you sure you want to archive ${pQ(e.itemsCount,"1 item",`all ${e.itemsCount} items`)} from the ${e.columnName} column?`,removeBoardColumnConfirmationMessage:e=>`Are you sure you want to delete ${pQ(e.itemsCount,"1 item",`all ${e.itemsCount} items`)} from the ${e.columnName} column?`,archiveBoardColumnConfirmationTitle:"Archive all items?",removeBoardColumnConfirmationTitle:"Delete all items?",cannotAddItemsWhenGroupByMilestone:"Cannot add items when grouped by milestone",cannotAddItemsWhenGroupByRepository:"Cannot add items when grouped by repository",cannotEditTitle:"Update permissions",cannotEditItemContent:"You can't edit this item because it belongs to a repository that you don't have write-access to.",cannotAddAssigneesToDraftContent:"Convert this draft to an issue to add an assignee",confirmDialog:"Got it!",iterationLabel:{current:"Current",planned:"Planned",completed:"Completed",break:"Break"},cannotReorderForSortMessage:"Cannot reorder items between sorted values",cannotReorderForSortAction:"Remove sorting",createNewItemOrAddExistingIssueAriaLabel:"Create new item or add existing item",dateEditor:"Date editor",defaultArchiveConfirmationMessage:(e,t)=>`Are you sure you want to archive ${e?`these ${t} items`:"this item"}?`,defaultArchiveConfirmationTitle:e=>`Archive item${e?"s":""}?`,deleteFieldDialogTitle:"Delete field?",deleteField:e=>`This will delete the field \u{201C}${e}\u{201D}`,draftConvertPromptDescription:"Convert to issue to edit this cell",draftConvertPromptTitle:"Convert to issue",editField:"Edit values\u2026",editTitleAriaLabel:"Edit title",emptyColumnNameValue:{number:"Enter a number\u2026",text:"Enter text\u2026",date:"Enter a date\u2026",iteration:"Choose an iteration\u2026",singleSelect:"Choose an option\u2026",linkedPullRequest:"No linked pull requests"},excludeSuggestion:"Exclude",fieldMustBeANumber:"This field must be a number",fieldMustBeBetween:"This value must be between",fieldMustBeDate:"This field must be a date",fieldValueTooLong:"This value is too long",filterByKeyboardOrByField:"Filter by keyword or by field",floatingPointValueTooPrecise:"This floating point value is too precise",genericErrorMessage:"Sorry, something went wrong",invalidFieldValues:({name:e,value:t,fields:a})=>`Invalid \`${e}\`: ${t}. ${a} are acceptable values for \`${e}\``,issue:"issue",sidePanelLabel:e=>{switch(e){case"issue":return"Item details";case"info":return"Project information";case"bulk-add":return"Add items"}},sidePanelItemNotSupported:"Pull requests are not currently supported in the side panel.",sidePanelItemNotFound:"The item is not in the project, or you don't have access to view it.",sidePanelCloseConfirmation:{title:"Discard changes?",content:"You have unsaved changes. Are you sure you want to discard them?",cancelButtonContent:"Keep editing",confirmButtonContent:"Close and discard"},issueButtonLabel:{closeIssue:"Close issue",reopenIssue:"Reopen",closeWithComment:"Close with comment",reopenWithComment:"Reopen and comment",reopenIssueLong:"Reopen issue",closeAsCompleted:"Close as completed",closeAsCompletedDescription:"Done, closed, fixed, resolved",closeAsNotPlanned:"Close as not planned",closeAsNotPlannedDescription:"Won\u2019t fix, can\u2019t repro, duplicate, stale"},issueSideButtonMoreOptionsLabel:"More options",iterationCustomModelError:"Iteration editor requires a custom model",iterationDurationQtyLow:e=>`Iteration length must be ${e} or more`,iterationDurationQtyHigh:e=>`Iteration length must be ${e} or less`,iterationDurationLabel:"Duration",iterationNotFound:"Iteration not found",iterationStartDateLabel:"Starts on",jumpToBottom:"Jump to bottom",newField:"New Field",newItemFilterWarning:"The new item is hidden by this view's filters.",viewItem:"Open item",newItemFindIssuePlaceholder:e=>e?"Search issues and pull requests, create a new issue, or add multiple items":"Search issues and pull requests, or add multiple items",newItemPlaceholder:"Start typing to create a draft, or type # to select a repository",newItemPlaceholderAriaLabel:"Start typing to create a draft, or type hashtag to select a repository",newIterationField:e=>`Iteration${e}`,newOptionsCount:"New options count",noPermissionEmptyColumnValue:e=>`No ${e}`,noDescriptionProvided:"No description provided",noneYet:"None yet",noSuggestion:"No",numberEditor:"Number editor",projectNameRequired:"Project name is required.",pullRequest:"pull request",repoArchivedErrorMessage:"You can't edit this field because this repository is archived",repoIsEmpty:"This repository is either empty or all items were already added to this project.",repoListInstructions:"Pick a repository to add issues and pull requests from",repoListTitle:"Select a repository",repoPickerFilterPlaceholder:"Search repositories",requiredFieldErrorMessage:"Field name is required.",requiresCustomColumn:"requires a custom column",reviewersCount:e=>`${e} reviewer${e>1?"s":""}`,progressCount:({percent:e,total:t})=>`${e}% of ${t}`,progressScalarCount:({completed:e,total:t})=>`${e} of ${t} completed`,progressPercentCount:e=>`${e}% completed`,noItemsInSearchResult:"We couldn't find any items matching that search query.",singleSelectCustomModelError:"Single select editor requires a custom model",singleSelectOptionLimitWarning:e=>`Maximum of ${e} options reached`,saveChanges:"Save changes",saveFilter:"Save filter",selectRepo:"Select Repo",reset:"Reset",sortBy:"Sort by",statusFieldEmptyError:"Error: At least one valid option is required for the status field",sortDatesAscending:"oldest...newest",sortDatesDescending:"newest...oldest",sortNumbersAscending:"123...",sortNumbersDescending:"...321",sortSingleSelectAscending:"first...last",sortSingleSelectDescending:"last...first",sortStringsAscending:"A...Z",sortStringsDescending:"Z...A",textEditor:"Text editor",titleCannotBeBlank:"Title cannot be blank",titleContainsReservedColonCharacter:"Field name can't contain colons",titleHasAlreadyBeenTaken:"This field name has already been taken",titleIsReserved:"This field name is a reserved word",unableToAssignUsersToConvertedIssue:e=>`Unable to assign the following users to the converted issue: ${e.join(", ")}`,unableToPasteLabelsBetweensRepos:"Labels can only be pasted into the same repository",unableToPasteAssigneesBetweensRepos:"Assignees can only be pasted into the same repository",unableToPasteMilestonesBetweensRepos:"Milestones can only be pasted into the same repository",unableToPasteOnDraftIssue:"Cannot paste into draft issue",unableToPasteMismatchedDataTypes:"Cannot paste data of different types",forbiddenErrorMessage:"You don't have permission to edit this field.",undefined:"undefined",unsortBy:"Unsort by",untitledProject:"Untitled project",untitledUserProject:e=>`@${e}'s untitled project`,removeTitle:"Remove",resultCount:e=>`${e} result${1===e?"":"s"}.`},pY={closed:"Closed",noDueDate:"No due date",pastDueBy:e=>`Past due by ${(0,c6.Z)(e)}`,dueOn:e=>`Due by ${(0,c8.Z)(e,"MMMM d, yyyy")}`},pJ={invalidFilterQuotes:"Invalid filter: Unmatched quotation mark",updatedValueErrorMessage:"Supported format is <@today-X, where X is a number and unit. Unit can be one of d,w or m ex: 7d",lastUpdatedValueErrorMessage:"Supported format is XXdays (except 0days)",unknownFieldFilter:e=>`Invalid filter: Unknown field name "${e}"`,noIterationMatch:(e,t)=>`Invalid value: "${e}" doesn't match any iterations in the "${t}" field`,noOptionsMatch:(e,t)=>`Invalid value: "${e}" doesn't match options for the "${t}" field`,invalidNumberValue:e=>`Invalid value: "${e}" is not a number`,invalidDateValue:e=>`Invalid value: "${e}" is not a valid date (must be formatted YYYY-MM-DD)'`,invalidQualifier:(e,t)=>`Invalid value: "${e.join(", ")}" does not match the supported values "${ps(Object.values(t),"or")}"`},p0=e=>e===c7.SingleSelect?["option","options"]:e===c7.Iteration?["iteration","iterations"]:["value","values"],p1={deleteProjectWarning:"Unexpected bad things will happen if you don\u2019t read this!",deleteProjectTitle:"Are you absolutely sure?",deleteProjectConfirmation:"I understand the consequences, delete this project",deleteProjectInputLabel:"Type in the name of the project to confirm that you want to delete this project.",noIterationsTitle:"You're out of iterations.",noIterationsDescription:'Create an iteration using the "+ Add iteration" button above.',noCompletedIterationsTitle:"No completed iterations.",noCompletedIterationsDescription:"Iterations will automatically move here over time.",organizationOwnedProjectVisibilityRestriction:"Only organization owners can change project visibility.",projectIsPublic:"This project is currently public.",projectIsPrivate:"This project is currently private.",unselectCollaborator:e=>`Unselect ${e}`,selectCollaborator:e=>`Select ${e}`,userOwnedProjectVisibilityRestriction:"Only admins can change project visibility.",willPushActiveIterations:e=>`${e} active ${1===e?"iteration":"iterations"} will also be pushed forward.`,deleteValuesTitle:(e,t)=>`Delete ${pQ(t,p0(e)[0],`${t} ${p0(e)[1]}`)}?`,deleteValuesIntro:(e,t,a)=>`This will permanently delete ${pQ(a,`this ${p0(e)[0]}`,`these ${p0(e)[1]}`)} from the "${t}" field.`,deleteValuesAffectedItemsWarning:(e,t,a)=>`The ${pQ(t,...p0(e))} will be permanently deleted from ${a} ${pQ(a,"item","items")} in this project.`,cannotBeUndone:"This cannot be undone."},p2={Repository:{Alerts:{NeedsConversion:{title:pX.draftConvertPromptTitle,content:"Convert this draft to an issue to add it to this repository",confirmButtonContent:pX.confirmDialog},CannotTransferPulls:{title:"Unable to transfer pull request",content:"Pull requests cannot be moved between repositories.",confirmButtonContent:pX.confirmDialog},IssueNeedsTransfer:{title:"Transfer issue",confirmButtonContent:pX.confirmDialog}}},Milestone:{Alerts:{NeedsConversion:{title:pX.draftConvertPromptTitle,content:"Drafts can\u2019t be added to milestones. Convert this draft to an issue to add it to a milestone.",confirmButtonContent:pX.confirmDialog},NeedsTransfer:{title:"Create milestone",confirmButtonContent:pX.confirmDialog}}}},p5={editWorkflow:"Edit",saveWorkflow:"Save and turn on workflow",discardWorkflow:"Discard",deleteWorkflow:"Delete",readOnlyLabel:"Viewing mode. Click edit to make changes to this workflow.",duplicateWorkflowName:"A workflow with this name already exists",emptyFilterDefault:"Filter cannot be empty",emptyFilterAutoAdd:"An empty filter will match all newly created and updated Issues and Pull Requests",emptyWorkflowName:"Workflow name cannot be empty",invalidActionField:"A valid field is required",invalidActionFieldValue:"A valid value is required",invalidNoAction:"An action is required",invalidNoContentType:"A type is required",invalidNoQuery:"A query is required",invalidNoRepository:"A repository is required",invalidNoValue:"A value is required",workflowNameTooLong:"Workflow name cannot be longer than 250 characters",invalidQuery:"Filter contains invalid syntax",isClosed:"is:closed",isMerged:"is:merged",isNewlyAdded:"is added",isReopened:"is:reopened",addItemBlockLabel:"Add the item to the project",getItemsBlockLabel:"When the filter matches a new or updated item",itemAddedToProjectLabel:"When an item is added to the project",itemReopenedLabel:"When an item is reopened",itemClosedLabel:"When an item is closed",codeChangesRequestedLabel:"When a pull request has a review requesting changes",codeReviewApprovedLabel:"When a pull request is approved",pullRequestMergedLabel:"When a pull request is merged",autoArchiveItemsLabel:"Filter items",setValueLabel:"Set value",selectContentType:"Select a content type",archiveItemLabel:"Archive item",autoAddManualTip:"Going forward, all new or updated items that match your filter will be auto added. You can also manually add items that currently match your filter",manualRunConfirmationButton:e=>"update"===e?"Update workflow":"disable"===e?"Disable workflow?":"Save and enable",manualRunConfirmationMessage:(e,t)=>"disable"===e?"You have to disable this workflow to be able to edit this field.":`${"update"===e?"Updating":"Enabling"} this workflow will archive <strong>${t}</strong> item${t&&t>1?"s":""} that currently meet the filter conditions.
      <br><br>As future items match filter conditions, they will be automatically archived.`,manualRunConfirmationTitle:e=>"update"===e?"Update workflow?":"disable"===e?"Disable workflow?":"Enable workflow?",reviewApproved:"review:approved",deleteValuesAffectedWorkflowsWarning:(e,t,a)=>`${pQ(t,`This ${p0(e)[0]} is`,`These ${p0(e)[1]} are`)} used in ${a} ${1===a?"workflow":"workflows"}. Deleting ${pQ(t,"it","them")} will disable the ${pQ(a,"workflow","workflows")} and invalidate any actions referencing ${pQ(t,"it","them")}.`,reviewChangesRequested:"review:changes_requested",deleteWorkflowError:"Could not delete workflow, please try again",deleteWorkflowSuccess:"Workflow deleted",deleteWorkflowCallToAction:"Delete workflow",deleteWorkflowConfirmationTitle:"Delete workflow",deleteWorkflowConfirmationContent:"Are you sure you want to delete this workflow? This action cannot be undone.",deleteWorkflowConfirmationButton:"Delete"},p3={defaultWorkflowName:"New auto-add workflow",duplicateWorkflowLabel:"Duplicate workflow",newWorkflowLabel:"New workflow",workflowNameInputLabel:"Workflow name",duplicateButton:"Duplicate",userAddedWorkflowLimitReached:"Maximum number of auto-add workflows reached. Delete a workflow or upgrade your plan to continue.",newWorkflowName:e=>`Duplicate of ${e}`},p4={privacySettingsAdmin:"Everyone in the organization is an admin of this project.",collaboratorDropDownAdmin:"Can see, make changes to, and add new collaborators to this project.",collaboratorDropDownWrite:"Can see and make changes to this project.",collaboratorDropDownRead:"Can see this project.",collaboratorDropDownNone:"Organization members will only be able to see this project if it\u2019s public. To give an organization member additional access, they can be added as part of a team or as a collaborator.",addCollaboratorPlaceholderUserProject:"Search by username",addCollaboratorPlaceholderOrgProject:"Search by username or team",collaboratorFilterPlaceholderUserProject:"Find a collaborator",collaboratorFilterPlaceholderOrgProject:"Find a collaborator or a team"},p6={saveButton:"Save",cancelButton:"Cancel",shortDescriptionTitle:"Short description",shortDescriptionPlaceholder:"Add a short description",readmeTitle:"README",readmePlaceholder:"Let everyone know what this project is about, how to use it and link to important resources.",errorMessage:"An error occurred while saving."},p8={addInsightsChartNamePlaceholder:"Add a name for this chart",defaultBurnupChartName:"Burn up / CFD",defaultBurnupChartDescription:"Burn up shows the progress being made towards completion of the project, development flow, and scope changes over time.       Use this chart to identify bottlenecks and issues blocking the team from making progress.",defaultStatusChartName:"Status chart",defaultStatusChartDescription:"This chart shows the current status for the total number of items in your project.",invalidFieldLabel:"Missing field",invalidFieldErrorMessage:"The selected field no longer exists",operationLabel:{count:"Count of",sum:"Sum of",avg:"Average of",min:"Minimum of",max:"Maximum of"},sideNavNewChartButton:"New chart",sideNavDefaultCharts:"Default charts",sideNavCustomCharts:"Custom charts",sideNavPreviewFeatureText:"Historical charts are currently in limited feature preview.",sideNavPreviewFeatureTooltip:"This is a preview feature",upsellDialogTitle:"Get unlimited charts",upsellDialogSubtitle:"Upgrade your plan to get:",upsellDialogBullet1:"Unlimited custom charts for private projects",upsellDialogBullet2:"Historical insights (Team or Enterprise plans only)",upsellDialogBullet3:"All the additional perks of a premium GitHub plan",upsellDialogCancelButton:"Cancel",upsellDialogUpgradePlanButton:"Upgrade plan",planUpgradeText:e=>`Private projects are limited to ${e} custom charts.  Make your project public or upgrade your plan to add more charts.`},p7={addItemToToday:"Add item to today",dragSashAriaLabel:"Drag to resize the table column",noDateFieldsConfiguredTooltip:"Create a date or iteration field to specify dates",noIterationConfiguredTooltip:e=>`Create an iteration containing ${e} to add items here`,iterationSuffix:e=>"start"===e?"start":"end",startDate:"Start date",endDate:"Target date",noStartDate:"No start date",noEndDate:"No target date",noDateSet:"No date set",gettingStarted:{popoverTitle:"Welcome to Roadmap!",popoverDismissButton:"Got it!",projectNeedsField:"Your project needs at least one date or iteration field to get started.",fieldsSelectedByDefault:e=>`We've selected an existing ${e} field in your project to get started. You can change the fields used here.`},toolbarDateFields:"Date fields",toolbarDateFieldsAriaLabel:"Select date fields",toolbarToday:"Today",toolbarZoomAriaLabel:e=>`Zoom level: ${e}.`,zoomMenuDialogAriaLabel:e=>`Select zoom level. The current zoom level is ${e}.`,zoomLevel:"Zoom level",zoomLevelOptions:{month:"Month",quarter:"Quarter",year:"Year"},scrollToDateText:e=>`Scroll to: ${pW(e)}`,scrollToPreviousPage:"Scroll to previous date range",scrollToNextPage:"Scroll to next date range"},p9={statuses:{pending:"Starting migration\u2026",in_progress_project_details:"Setting up the project\u2026",in_progress_status_fields:"Creating project columns\u2026",in_progress_default_view:"Creating an initial view\u2026",in_progress_permissions:"Migrating permissions\u2026",in_progress_items:"Migrating issues, pull requests, and drafts\u2026",in_progress_workflows:"Migrating workflows\u2026",error:"Your project could not be migrated."},yourClassicProject:"Your classic project",completedAndClosed1:"has been closed and is read-only.",completedAndClosed2:"Users visiting the classic project will be linked to this one.",completedAndStillOpen:"is still open, but future changes won't be synchronized.",migrationCompleteMessage:"Migration complete",somethingWentWrongMessage:"Something went wrong"},fe={visibleFieldsText:({visibleFields:e,allColumns:t})=>`${e.length} visible, ${t.length-e.length} hidden`,visibleFieldsLabelText:({visibleFields:e,hiddenFields:t})=>`Visible fields: ${0===e.length?"none":ps(e.map(e=>e.name))}.

Hidden fields: ${0===t.length?"none":ps(t.map(e=>e.name))}.`,queryPlaceholderText:"Search or filter this view"},ft={tasks:(e,t)=>{let a=t>1,n=`task${a?"s":""}`;return e?t===e?`${e} ${n} done`:`${e} of ${t} ${n}`:`${t} ${n}`}},fa={trackedBy:"Tracked By",addedUnsupportedItemToast:"PRs and Drafts can\u2019t be added to a tracking issue. Item was added to No Tracked by group",addAllItemsText:e=>`Add all ${e} items`,itemsNotInProjectText:e=>`${e} ${e>1?"items":"item"} not in this project`,moveMultipleTrackedByNoTrackedWarning:{title:"Are you sure?",content:"Moving this issue to No tracked by will remove it from multiple task lists. This cannot be undone.",confirmButtonContent:"Move",confirmButtonType:"danger"},Toasts:{DraftAndPullsNotSupported:{type:pj.error,message:"PRs and draft issues are not supported by tracked-by"}}},fn={migratingTitle:e=>`Migrating ${e}`},fr={allSelectedMatchingItems:e=>`All ${e.value.toLocaleString()}${e.isApproximate?"+":""} items matching query selected`,selectAllMatchingItems:e=>`Select all ${e.value.toLocaleString()}${e.isApproximate?"+":""} items matching this query`,selectedItems:e=>`${e.toLocaleString()} ${pQ(e,"item","items")} selected`,itemCount:(e,t,a)=>`${e.toLocaleString()}-${t.toLocaleString()} of ${a.value.toLocaleString()}${a.isApproximate?"+":""} ${pQ(a.value,"item","items")}`,noArchivedItems:"No archived items"};let api_error_ApiError=class api_error_ApiError extends Error{constructor(e,t={}){super(e),Object.setPrototypeOf(this,new.target.prototype),this.name=fl(t),this.status=t.status,this.code=t.code,t.sourceStack&&(this.stack?this.stack+=`
${t.sourceStack.substring(t.sourceStack.indexOf("\n")+1)}`:this.stack=t.sourceStack)}};function fl(e){let t={};e.status&&(t.status=e.status),e.code&&(t.code=e.code),e.name&&(t.name=e.name),e.contentType&&(t.contentType=e.contentType),void 0!==e.newJsonBehavior&&(t.newJsonBehavior=e.newJsonBehavior);let a="ApiError";return Object.keys(t).length>0?`${a} (${JSON.stringify(t)})`:a}let fi={JSON:"application/json",FormData:"application/x-www-form-urlencoded"};function fs(e,t,a="",n=!1){let r=Array.isArray(e);for(let l in e){let i=e[l];if(void 0===i)continue;let s=Array.isArray(i),o="object"==typeof i,d=a||"";n&&(d+="[]"),a?r||(d+=`[${l}]`):d+=l,s&&0===i.length?t.push(`${d}[]`):o?fs(i,t,d,s):t.push(`${d}=${encodeURIComponent(e[l])}`)}}function fo(e){let t=[];return fs(e,t),t.join("&")}let ErrorUsedToCatchStackTraceBeforeAsyncAction=class ErrorUsedToCatchStackTraceBeforeAsyncAction extends Error{constructor(...e){super(...e),Object.setPrototypeOf(this,new.target.prototype),this.name="ErrorUsedToCatchStackTraceBeforeAsyncAction"}};async function fd(e,{token:t,contentType:a=fi.JSON,...n}={}){let r;e=e.toString();let l=fh(e,t,ff(n,a));l.headers.set("Accept","application/json"),n.body&&l.headers.set("Content-Type",a),l.headers.set("X-Requested-With","XMLHttpRequest");let i=Error(),s=!1,o=0,d=new Headers;try{let e=await fetch(l);s=e.ok,o=e.status,d=e.headers;let t=await e.text();r=t&&JSON.parse(t)}catch(e){if(e instanceof Error)throw new api_error_ApiError(e.message,{name:e.name,status:o,sourceStack:i.stack});throw new api_error_ApiError(pX.genericErrorMessage,{status:o,sourceStack:i.stack})}if(s&&r)return{headers:d,ok:s,data:r};if(s)return{headers:d,ok:s,data:{}};if(401===o)return window.location.reload(),{headers:d,ok:s,data:{}};if(r){let e=(Array.isArray(r.errors)?r.errors[0]:r.errors)??pX.genericErrorMessage;throw new api_error_ApiError(e,{status:o,code:r.code,sourceStack:i.stack})}throw new api_error_ApiError(pX.genericErrorMessage,{status:o,sourceStack:i.stack})}async function fu(e,t,a=!1){let n;let r=Error(),l=!1,i=0,s=new Headers,o="unknown";try{let r=await (0,c4.v)(e,t);if(l=r.ok,i=r.status,s=r.headers,o=r.headers.get("content-type")||"unknown",a)-1!==o.indexOf("application/json")&&(n=await r.json());else{let e=await r.text();n=e&&JSON.parse(e)}}catch(e){if(e instanceof Error)throw new api_error_ApiError(e.message,{name:e.name,status:i,contentType:o,newJsonBehavior:a,sourceStack:r.stack});throw new api_error_ApiError(pX.genericErrorMessage,{status:i,newJsonBehavior:a,sourceStack:r.stack})}if(l&&n)return{headers:s,ok:l,data:n};if(l)return{headers:s,ok:l,data:{}};if(401===i)return window.location.reload(),{headers:s,ok:l,data:{}};if(n){let e=(Array.isArray(n.errors)?n.errors[0]:n.errors)??pX.genericErrorMessage;throw new api_error_ApiError(e,{status:i,code:n.code,newJsonBehavior:a,sourceStack:r.stack})}throw new api_error_ApiError(pX.genericErrorMessage,{status:i,newJsonBehavior:a,sourceStack:r.stack})}async function fc(e,t,a=1e3){return async function a(n){let r=new Request(e,t);r.headers.append("X-Requested-With","XMLHttpRequest");let l=new ErrorUsedToCatchStackTraceBeforeAsyncAction,i=await self.fetch(r),{status:s}=i;if(s<200||s>=300)throw new api_error_ApiError(pX.genericErrorMessage,{status:s,sourceStack:l.stack});if(200===s)return i;if(202===s)return await new Promise(e=>setTimeout(e,n)),a(n);throw new api_error_ApiError(pX.genericErrorMessage,{status:s,sourceStack:l.stack})}(a)}async function fm(e,t){let a=new Request(e,t),n=new ErrorUsedToCatchStackTraceBeforeAsyncAction,r=await fetch(a),{status:l}=r;if(r.ok)return r;throw new api_error_ApiError(pX.genericErrorMessage,{status:l,sourceStack:n.stack})}async function fp(e,t){let a=new ErrorUsedToCatchStackTraceBeforeAsyncAction,n=await (0,c4.Q)(e,t),{status:r}=n;if(n.ok)return n;throw new api_error_ApiError(pX.genericErrorMessage,{status:r,sourceStack:a.stack})}function ff({body:e,...t},a){let n={...t};return e&&a===fi.JSON?n.body=JSON.stringify(e):e&&(n.body=fo(e)),n}function fh(e,t,a={}){let n=new Request(e,{...a,mode:"same-origin"});return t&&n.headers.append("Scoped-CSRF-Token",t),n}async function fg(e,t,a){let{memex_verified_fetch_for_memex_items_endpoints:n,memex_skip_json_parsing_if_invalid_response_and_content_found:r}=c5(),l=t.map(t=>` ${e?.nameWithOwner}#${t.number}`).join(","),i={memexProjectItem:{contentType:mu.DraftIssue,content:{title:l},memexProjectColumnValues:a}},s=cQ("memex-item-create-bulk-api-data");if(n){let{data:e}=await fu(s.url,{method:"POST",body:i},r),t=await fc(e.job.url,{headers:{accept:"application/json"}});return t.ok}{let{data:e}=await fd(s.url,{method:"POST",body:i,token:s.token}),t=await fc(e.job.url,{headers:{accept:"application/json"}});return t.ok}}async function fy(e,t){let{memex_verified_fetch_for_memex_items_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5(),r=e.map(e=>` ${e.userName}/${e.repoName}#${e.number}`).join(","),l={memexProjectItem:{contentType:mu.DraftIssue,content:{title:r},memexProjectColumnValues:t}},i=cQ("memex-item-create-bulk-api-data");if(a){let{data:e}=await fu(i.url,{method:"POST",body:l},n),t=await fc(e.job.url,{headers:{accept:"application/json"}});return t.ok}{let{data:e}=await fd(i.url,{method:"POST",body:l,token:i.token}),t=await fc(e.job.url,{headers:{accept:"application/json"}});return t.ok}}let fx=({request:e,rollback:t,showErrorToast:a=!0})=>{let n=(0,cg.useRef)({status:"idle",data:void 0}),{addToast:r}=pU(),l=(0,cg.useCallback)(async(l,i)=>{try{n.current.status="loading";let t=await e(l);n.current.data=t,n.current.status="succeeded"}catch(e){if(e instanceof api_error_ApiError){n.current.status="failed",t&&t(i),a&&r({message:e.message,type:pj.error});return}throw e}},[r,e,t,a]);return(0,cg.useMemo)(()=>({perform:l,status:n}),[l,n])};var fb=a(42968);async function fv(e,t,a,n){let r=cQ("search-issues-and-pulls-api-data"),l=new URL(r.url,window.location.origin);l.searchParams.set("repositoryId",`${e}`),l.searchParams.set("q",t),null!=a&&l.searchParams.set("memexNumber",`${a}`),null!=n&&l.searchParams.set("limit",`${n}`);let{data:i}=await fd(l);return i}let fw=(0,cg.createContext)(null),fk=(0,cg.createContext)(null),fj=(0,cg.createContext)(null),fC=(0,cg.createContext)(null),fS=({children:e})=>{let[t,a]=(0,cg.useState)(""),[n]=(0,cg.useState)(()=>{let e=cG("memex-creator");return fI(e)}),[r,l]=(0,cg.useState)(()=>{let e=cG("memex-data");return e?{...e}:{id:-1,number:-1,title:n,titleHtml:n,public:!1,closedAt:null,isTemplate:!1}}),i=(0,cg.useCallback)(e=>{l(t=>({...t,...e}))},[]),s=r.number,o=!0===r.public,d=null!=r.closedAt,u=!0===r.isTemplate,c=(0,cg.useMemo)(()=>r.title||n,[n,r.title]),m=(0,cg.useMemo)(()=>r.titleHtml||c,[r.titleHtml,c]),p=r.shortDescription||"",f=r.shortDescriptionHtml||p,h=r.description||"",g=(0,cg.useMemo)(()=>({setProject:i}),[i]),y=(0,cg.useMemo)(()=>({projectNumber:s}),[s]),x=(0,cg.useMemo)(()=>({isPublicProject:o,isClosed:d,isTemplate:u}),[d,o,u]),b=(0,cg.useMemo)(()=>({title:c,titleHtml:m,description:h,shortDescription:p,shortDescriptionHtml:f,descriptionHtml:t,setDescriptionHtml:a}),[h,t,p,f,c,m]);return(0,cs.jsx)(fC.Provider,{value:g,children:(0,cs.jsx)(fk.Provider,{value:y,children:(0,cs.jsx)(fj.Provider,{value:x,children:(0,cs.jsx)(fw.Provider,{value:b,children:e})})})})};function fI(e){return e?.login?pX.untitledUserProject(e.login):pX.untitledProject}try{(f=fw).displayName||(f.displayName="ProjectDetailsContext")}catch{}try{(h=fk).displayName||(h.displayName="ProjectNumberContext")}catch{}try{(g=fj).displayName||(g.displayName="ProjectStateContext")}catch{}try{(y=fC).displayName||(y.displayName="SetProjectContext")}catch{}try{(x=fS).displayName||(x.displayName="MemexStateProvider")}catch{}let fN=()=>{let e=(0,cg.useContext)(fk);if(!e)throw Error("useMemex must be used within a ProjectNumberContext.Provider");return e},fT=(e,t)=>{let[a,n]=(0,cg.useState)(null),[r,l]=(0,cg.useState)(!1),i=(0,cg.useRef)(),s=(0,cg.useRef)(),{projectNumber:o}=fN(),d=(0,cg.useCallback)(async({repositoryId:e,query:a,memexNumber:n})=>{let r=await fv(e,a,n,t?.limit);return r.issuesAndPulls},[t?.limit]),{perform:u,status:c}=fx({request:d}),m=(0,cg.useCallback)(async(t,a,r=!1)=>{let d;l(!1);let m=a.trim(),p=r||void 0===s.current||s.current!==m;return p&&(r||e(!0),i.current&&i.current.cancel(),i.current=(0,fb.Z)(async()=>{await u({repositoryId:t,memexNumber:o,query:m}),"succeeded"===c.current.status&&(n(c.current.data),l(!0)),r||e(!1)},200),d=i.current()),s.current=m,d||(d=Promise.resolve()),d},[u,o,c,e]),p=(0,cg.useCallback)(e=>{a&&n(a.filter(t=>t.id!==e.id))},[a,n]),f=(0,cg.useCallback)(e=>{n(t=>t&&t.filter(t=>!e.has(t.number)))},[n]);return{items:a,removeItem:p,removeItems:f,refresh:m,finishedFetchingRepoItems:r,setFinishedFetchingRepoItems:l}};function f_(e){return`${e.userName}/${e.repoName}#${e.number}`}function fR(e){return`${e.userName}/${e.repoName}`}function fP(e,t){return t&&e.userName.toLowerCase()===t.login.toLowerCase()?e.repoName:fR(e)}function fD(e,t){return t&&e.userName.toLowerCase()===t.login.toLowerCase()?`${e.repoName}#${e.number}`:f_(e)}function fE(e,t){let a;if(t){let e=m3(t);a={value:e}}return{memexProjectColumnId:e,value:a}}function fL(e){switch(e.dataType){case c7.Assignees:return{memexProjectColumnId:c9.Assignees,value:e.value};case c7.Labels:return{memexProjectColumnId:c9.Labels,value:e.value};case c7.Milestone:return{memexProjectColumnId:c9.Milestone,value:e.value};case c7.TrackedBy:return{memexProjectColumnId:c9.TrackedBy,value:e.value};case c7.Number:return{memexProjectColumnId:e.memexProjectColumnId,value:e.value};case c7.Date:return fE(e.memexProjectColumnId,e.value?.value);case c7.Repository:return{memexProjectColumnId:c9.Repository,value:e.value||null};case c7.Title:return{memexProjectColumnId:c9.Title,value:e.value};case c7.Text:return{memexProjectColumnId:e.memexProjectColumnId,value:e.value?{raw:e.value,html:e.value}:void 0};case c7.SingleSelect:case c7.Iteration:return{memexProjectColumnId:e.memexProjectColumnId,value:e.value}}}function fA(e,t){let a=t?t.toISOString():"";return{memexProjectColumnId:e,value:a}}function fM(e){return"string"==typeof e?{memexProjectColumnId:c9.Title,value:{title:e}}:{memexProjectColumnId:c9.Title,value:{title:e.raw}}}function fF(e){switch(e.dataType){case c7.Assignees:return{memexProjectColumnId:c9.Assignees,value:e.value.map(e=>e.id)};case c7.Labels:return{memexProjectColumnId:c9.Labels,value:e.value.map(e=>e.id)};case c7.Milestone:return{memexProjectColumnId:c9.Milestone,value:e.value?e.value.id:""};case c7.TrackedBy:return{memexProjectColumnId:c9.TrackedBy,value:e.value.map(f_),appendOnly:e.appendOnly};case c7.Number:{let t=e.value?e.value.value:"";return{memexProjectColumnId:e.memexProjectColumnId,value:t}}case c7.Date:return fA(e.memexProjectColumnId,e.value?.value);case c7.Title:return fM(e.value.title);case c7.Text:return{memexProjectColumnId:e.memexProjectColumnId,value:e.value||""};case c7.SingleSelect:case c7.Iteration:return{memexProjectColumnId:e.memexProjectColumnId,value:e.value?.id||""};default:return null}}let fZ=(0,cg.createContext)(null);function fO({children:e,selectedRepository:t,query:a}){let[n,r]=(0,cg.useState)(!0),[l,i]=(0,cg.useState)(!1),[s,o]=(0,cg.useState)([]),[d,u]=(0,cg.useState)([]),[c,m]=(0,cg.useState)(!1),[p,f]=(0,cg.useState)(t),[h,g]=(0,cg.useState)(a??""),[y,x]=(0,cg.useState)(!1),[b,v]=(0,cg.useState)(!1),{refresh:w,items:k,removeItems:j}=fT(r,{limit:25}),C=(0,cg.useMemo)(()=>new Set(s.map(e=>e.number)),[s]),S=(0,cg.useCallback)(e=>{let t=s.some(t=>t.number===e.number);t?o(s.filter(t=>t.number!==e.number)):o(t=>[...t,e])},[s]),I=(0,cg.useMemo)(()=>s.length===k?.length,[k,s]),N=(0,cg.useCallback)(()=>{I?o([]):k&&o(k)},[I,k]),T=(0,cg.useCallback)(e=>C.has(e),[C]),_=(0,cg.useCallback)(()=>{o([])},[]),R=(0,cg.useCallback)(async e=>{v(!1),m(!1),p?(_(),await w(p.id,e,!0)):y&&null===p&&v(!0)},[_,y,w,p]);(0,cg.useEffect)(()=>{k&&v(!0)},[k]),(0,cg.useEffect)(()=>{R(h)},[R,h]),(0,cg.useEffect)(()=>{c&&R(h)},[c,R,h]),(0,cg.useEffect)(()=>{b&&y?r(!1):r(!0)},[b,y,n,r]);let P=(0,cg.useCallback)(async e=>{let t=[];for(let e of d){let a=fF(e);a&&t.push(a)}let a=new Set(e.map(e=>e.number));i(!0),(p?await fg(p,e,t):await fy(e,t))&&(j(a),o(e=>e.filter(e=>!a.has(e.number))),i(!1),25===e.length&&v(!1))},[p,d,j]),D=(0,cg.useCallback)(()=>{i(!1)},[]),E=fx({request:P,rollback:D});return(0,cs.jsx)(fZ.Provider,{value:(0,cg.useMemo)(()=>({addSelectedItemsRequest:E,clearSelectedItems:_,isSelected:T,selectItem:S,selectedItems:s,selectedRepo:p,setSelectedRepo:f,updateColumnsAction:d,setUpdateColumnsAction:u,hasFetchedRepos:y,setHasFetchedRepos:x,items:k,loading:n,addingItems:l,finishedFetchingRepoItems:b,searchQuery:h,setSearchQuery:g,selectAllItems:N,areAllItemsSelected:I,areAllItemsAdded:c,setAreAllItemsAdded:m,MAX_ITEM_NUM:25}),[E,_,T,S,s,p,f,d,u,y,x,k,n,l,b,h,g,N,I,c,m,25]),children:e})}let f$=()=>{let e=(0,cg.useContext)(fZ);if(null===e)throw Error("useBulkAddItems must be used within an BulkAddItemsContext");return e};try{(b=fZ).displayName||(b.displayName="BulkAddItemsContext")}catch{}try{(v=fO).displayName||(v.displayName="BulkAddItemsProvider")}catch{}var fV=a(51461);let fB={Open:"open",Closed:"closed"},fz={Open:"open",Closed:"closed",Merged:"merged",Draft:"draft"},fU={NotPlanned:"not_planned",Completed:"completed",Reopened:"reopened"},fK={Open:"open",Closed:"closed",Merged:"merged"},fW={Open:"open",Closed:"closed"},fH={NotPlanned:"not_planned",Completed:"completed",Reopened:"reopened"},fG={Read:"read",Write:"write",Admin:"admin",None:"no access"},fq={Admin:"project_admin",Writer:"project_writer",Reader:"project_reader",None:"none"},fQ={User:"user",Team:"team",None:"none"},fX={role:fG.Read,canChangeProjectVisibility:!1},fY=new Map([[fG.Read,fq.Reader],[fG.Write,fq.Writer],[fG.Admin,fq.Admin],[fG.None,fq.None]]),fJ=new Map([...fY.entries()].map(([e,t])=>[t,e])),f0={mode:void 0,light:void 0,dark:void 0,markdown_fixed_width_font:!1};function f1(){if(!r){let e=cG("memex-owner"),t=cG("github-runtime")??"dotcom";r={themePreferences:cG("theme-preferences")??f0,mediaUrls:cG("media-urls"),loggedInUser:cG("logged-in-user"),projectOwner:e,projectCreator:cG("memex-creator"),projectLimits:{projectItemLimit:1200,projectItemArchiveLimit:1e4,limitedChartsLimit:2,singleSelectColumnOptionsLimit:25,autoAddCreationLimit:4,...cG("memex-limits")},relayIds:cG("memex-relay-ids"),viewerPrivileges:cG("memex-viewer-privileges")??fX,feedbackLink:cG("memex-feedback")?.url??"https://github.com/github/feedback/discussions/categories/issues-feedback",isOrganization:e?.type==="organization",githubRuntime:t,isDotcomRuntime:"dotcom"===t,isEnterpriseRuntime:"enterprise"===t,showTemplateDialog:!!cG("memex-templates"),partialFailures:cG("memex-columns-data")?.reduce((e,t)=>t.partialFailures?e.concat(t.partialFailures):e,[]),copyProjectPartialUrl:cG("copy-memex-project-partial-data")?.url??""}}return r}function f2(e){return{skipTurbo:!0,...e}}let f5=()=>{let e=(0,cx.s0)();return(0,cg.useCallback)((t,a)=>e(t,{...a,state:f2(a?.state)}),[e])},f3=(0,cg.forwardRef)(function(e,t){return(0,cs.jsx)(cb.rU,{"data-turbo":"false",...e,state:f2(e.state),ref:t})}),f4=(0,cg.forwardRef)(function(e,t){return(0,cs.jsx)(cb.OL,{"data-turbo":"false",...e,state:f2(e.state),ref:t})}),f6=()=>{let[e,t]=(0,cb.lr)(),a=(0,cg.useCallback)((e,a)=>{t(e,{...a,state:f2(a?.state)})},[t]);return[e,a]};function f8(e){return(0,cs.jsx)(cx.Fg,{...e,state:f2(e.state)})}try{(w=f3).displayName||(w.displayName="Link")}catch{}try{(k=f4).displayName||(k.displayName="NavLink")}catch{}try{(j=f8).displayName||(j.displayName="Navigate")}catch{}let f7=()=>`${window.location.origin}/404`;function f9(){return(0,cg.useEffect)(()=>{window.location.href=f7()},[]),null}function he(e){return{baseRoute:function t(a){let n=`${e}${a}`,r=`${a}/*`,l=`${n}/*`;return{path:a,pathWithChildPaths:r,fullPath:n,fullPathWithChildPaths:l,generatePath:e=>(0,cv.Gn)(a,e),generateFullPath:e=>(0,cv.Gn)(n,e),matchPath:e=>(0,cv.LX)(a,e),matchFullPath:e=>(0,cv.LX)(n,e),matchPathOrChildPaths:e=>(0,cv.LX)(r,e),matchFullPathOrChildPaths:e=>(0,cv.LX)(l,e),childRoute:e=>t(`${a}${e}`)}}("")}}let{baseRoute:ht}=he("/:ownerType/:ownerIdentifier/projects/:projectNumber"),ha=ht.childRoute("/views/:viewNumber"),hn=ht.childRoute("/workflows"),hr=hn.childRoute("/:workflowClientId"),hl=ht.childRoute("/settings"),hi=hl.childRoute("/fields/:fieldId"),hs=hl.childRoute("/access"),ho=ht.childRoute("/insights"),hd=ho.childRoute("/:insightNumber"),hu=ht.childRoute("/archive"),hc={PROJECT_ROUTE:ht,PROJECT_VIEW_ROUTE:ha,PROJECT_WORKFLOWS_ROUTE:hn,PROJECT_WORKFLOW_CLIENT_ID_ROUTE:hr,PROJECT_SETTINGS_ROUTE:hl,PROJECT_SETTINGS_FIELD_ROUTE:hi,PROJECT_INSIGHTS_ROUTE:ho,PROJECT_INSIGHTS_NUMBER_ROUTE:hd,PROJECT_SETTINGS_ACCESS_ROUTE:hs,PROJECT_ARCHIVE_ROUTE:hu},hm=e=>Object.values(hc).find(t=>t.matchPath(e))??null;try{(C=f7).displayName||(C.displayName="ORIGIN_404")}catch{}try{(S=f9).displayName||(S.displayName="Origin404Redirect")}catch{}try{(I=ha).displayName||(I.displayName="PROJECT_VIEW_ROUTE")}catch{}try{(N=hn).displayName||(N.displayName="PROJECT_WORKFLOWS_ROUTE")}catch{}try{(T=hr).displayName||(T.displayName="PROJECT_WORKFLOW_CLIENT_ID_ROUTE")}catch{}try{(_=hl).displayName||(_.displayName="PROJECT_SETTINGS_ROUTE")}catch{}try{(R=hi).displayName||(R.displayName="PROJECT_SETTINGS_FIELD_ROUTE")}catch{}try{(P=hs).displayName||(P.displayName="PROJECT_SETTINGS_ACCESS_ROUTE")}catch{}try{(D=ho).displayName||(D.displayName="PROJECT_INSIGHTS_ROUTE")}catch{}try{(E=hd).displayName||(E.displayName="PROJECT_INSIGHTS_NUMBER_ROUTE")}catch{}try{(L=hu).displayName||(L.displayName="PROJECT_ARCHIVE_ROUTE")}catch{}async function hp(){let e=cQ("memex-get-archive-status-api-data"),t=new URL(e.url,window.location.origin),{data:a}=await fd(t);return a}let hf=class DebounceAsyncCancellation extends Error{constructor(){super("this invocation was cancelled"),Object.setPrototypeOf(this,new.target.prototype),this.name="DebounceAsyncCancellation"}};function hh(e,t){let a=null,n=()=>{a&&(window.clearTimeout(a),a=null)},r=(...r)=>new Promise((l,i)=>{n();let s=window.setTimeout(async()=>{if(a===s)try{let t=await e(...r);if(a===s)return l(t)}catch(e){i(e)}else i(new hf)},t);a=s});return r.cancel=n,r}let hg=class MemexItemModelBase{getState(){throw Error("Method not implemented.")}getSuggestionId(){return`${this.contentType}:${this.itemId()}`}isDraft(){return!1}hierarchyEntry(){return{ownerId:this.contentRepositoryId||0,itemId:this.content?.id||0}}memexItemId(){return this.id}itemId(){return this.content.id}ownerId(){return this.contentRepositoryId||0}getLabels(){return this.columns.Labels||[]}getUrl(){return""}getTitle(e=!1){return e?m4(this.columns.Title):m6(this.columns.Title)}getAssignees(){return this.columns.Assignees||[]}getReviewers(){return this.columns.Reviewers||[]}getRepositoryName(){return this.columns.Repository?.name||""}getItemNumber(){return 0}getMilestone(){return this.columns.Milestone}getLinkedPullRequests(){return this.columns["Linked pull requests"]||[]}getExtendedRepository(){return this.columns.Repository}getCompletion(){return this.columns.Tracks}getTrackedBy(){return this.columns["Tracked by"]}createdAt(){}login(){}getStatus(){return this.columnData[c9.Status]}getCustomField(e){return this.columnData[e]}get columns(){return this.columnData}setItemData(e){if(this.id=e.id,this.priority=e.priority,e.updatedAt&&(this.updatedAt=e.updatedAt),e.content&&(this.content={...this.content,...e.content}),this.contentType!==e.contentType&&(this.contentType=e.contentType),e.memexProjectColumnValues)for(let t of(this.columnData={},e.memexProjectColumnValues))this.setColumnValueForItemColumnType(t)}isTitleForIssue(e){return!!e&&"string"!=typeof e.title&&"raw"in e.title&&"html"in e.title}async whileSkippingLiveUpdates(e){try{this.skippingLiveUpdates=!0,await e(),this.skippingLiveUpdates=!1}catch(e){throw this.skippingLiveUpdates=!1,e}}setTitleValue(e){switch(this.contentType){case mu.DraftIssue:{let{title:t}=e;if("string"==typeof t)break;this.isTitleForIssue(e)&&(this.columnData[c9.Title]={contentType:mu.DraftIssue,value:{...e,title:t}});break}case mu.RedactedItem:{let{title:t}=e;"string"==typeof t&&(this.columnData.Title={contentType:mu.RedactedItem,value:{title:t}});break}case mu.Issue:if("isDraft"in e)return;"number"in e&&this.isTitleForIssue(e)&&(this.columnData.Title={contentType:mu.Issue,value:e});break;case mu.PullRequest:"isDraft"in e&&this.isTitleForIssue(e)&&(this.columnData[c9.Title]={contentType:mu.PullRequest,value:e})}}setColumnValueForItemColumnType(e){switch(e.memexProjectColumnId){case c9.Title:this.setTitleValue(e.value);break;case c9.Assignees:this.columnData[c9.Assignees]=e.value?.sort((e,t)=>e.login.localeCompare(t.login))??void 0;break;case c9.Labels:this.columnData[c9.Labels]=e.value?.sort((e,t)=>e.name.localeCompare(t.name))??void 0;break;case c9.LinkedPullRequests:this.columnData[c9.LinkedPullRequests]=e.value?.sort((e,t)=>e.number-t.number)??void 0;break;case c9.Milestone:this.columnData[c9.Milestone]=e.value??void 0;break;case c9.Repository:this.columnData[c9.Repository]=e.value??void 0;break;case c9.Reviewers:this.columnData[c9.Reviewers]=e.value?.sort((e,t)=>e.reviewer.name.localeCompare(t.reviewer.name))??void 0;break;case c9.Status:this.columnData[c9.Status]=e.value??void 0;break;case c9.Tracks:this.columnData[c9.Tracks]=e.value??void 0;break;case c9.TrackedBy:this.columnData[c9.TrackedBy]=e.value??void 0;break;default:this.columnData[e.memexProjectColumnId]=e.value??void 0}}constructor(e){this.columnData={},this.skippingLiveUpdates=!1,this.isHierarchy=!1,this.setItemData(e),this.archived=e.archived,this.memexProjectColumnValues=e.memexProjectColumnValues}};let DraftIssueModel=class DraftIssueModel extends hg{isDraft(){return!0}getState(){return fz.Draft}constructor(e){super(e),this.contentType=mu.DraftIssue,this.content=e.content}};let RedactedItemModel=class RedactedItemModel extends hg{getState(){return fz.Open}constructor(e){super(e),this.contentType=mu.RedactedItem,this.content=e.content}};let IssueModel=class IssueModel extends hg{getState(){return this.columnData[c9.Title]?.value.state}getUrl(){return this.content.url}getItemNumber(){return this.columnData[c9.Title]?.value.number}constructor(e){super(e),this.contentType=mu.Issue,this.content=e.content,this.contentRepositoryId=e.contentRepositoryId}};let PullRequestModel=class PullRequestModel extends hg{getState(){return this.columnData[c9.Title]?.value.state}isDraft(){return this.columnData[c9.Title]?.value.isDraft}getUrl(){return this.content.url}getItemNumber(){return this.columnData[c9.Title]?.value.number}constructor(e){super(e),this.contentType=mu.PullRequest,this.content=e.content,this.contentRepositoryId=e.contentRepositoryId}};function hy(e){switch(e.contentType){case mu.DraftIssue:return new DraftIssueModel(e);case mu.RedactedItem:return new RedactedItemModel(e);case mu.Issue:return new IssueModel(e);case mu.PullRequest:return new PullRequestModel(e)}}function hx(e,t){if(e||null!=t)return{columnValue:e,previousMemexProjectItemId:t}}function hb(e){return e.contentType===mu.PullRequest?`pull_request:${e.content.id}`:e.contentType===mu.Issue?`issue:${e.content.id}`:void 0}let hv={memexItems:[],memexColumnsByItemId:new Map};function hw(e,t=hv){return t.memexItems.length&&t.memexColumnsByItemId.size||(t.memexItems=e()??[],t.memexColumnsByItemId=hj(t.memexItems)),t}function hk(e=hv){return hw(()=>cG("memex-items-data"),e)}function hj(e){let t=new Map;return e.reduce((e,t)=>{let{contentType:a,id:n,memexProjectColumnValues:r}=t;return e.set(n,{contentType:a,columns:r})},t)}let hC=(0,cg.createContext)(null),hS=(0,cg.createContext)(null),hI=(0,cg.memo)(({children:e})=>{let[t,a]=(0,cg.useState)(()=>{let{memexItems:e}=hk();return e&&e.length?e.map(e=>hy(e)):[]}),n=(0,cg.useRef)(t),r=(0,cg.useRef)(hN(t)),l=(0,cg.useCallback)((e,t)=>{t&&(r.current=t),a(e),n.current=e},[]),i=(0,cg.useCallback)((e,t)=>{let a=n.current.findIndex(t=>t.id===e.id),i=[...n.current];-1===a&&(null!=t?i.splice(t,0,e):i.push(e),l(i),r.current.set(e.id,e))},[l]),s=(0,cg.useCallback)(e=>{let t=[],a=[...n.current];if(e.length){let a=e.reduce((e,a)=>{e[a]=!0;let n=r.current.get(a);return n&&t.push(n),e},{}),i=n.current.filter(e=>!a[e.id]);for(let t of(l(i),e))r.current.delete(t)}let i=()=>{for(let e of(l(a),t))r.current.set(e.id,e)};return i},[l]),o=(0,cg.useMemo)(()=>({addItem:i,items:t,itemsRef:n,itemsByIdRef:r,removeItems:s,setItems:l}),[i,t,s,l]),d=(0,cg.useMemo)(()=>({addItem:i,itemsRef:n,itemsByIdRef:r,removeItems:s,setItems:l}),[i,s,l]);return(0,cs.jsx)(hC.Provider,{value:o,children:(0,cs.jsx)(hS.Provider,{value:d,children:e})})});function hN(e){return e.reduce((e,t)=>(e.set(t.id,t),e),new Map)}hI.displayName="MemexItemsStateProvider";try{(A=hC).displayName||(A.displayName="MemexItemsContext")}catch{}try{(M=hS).displayName||(M.displayName="MemexItemsStableContext")}catch{}let hT=()=>{let e=(0,cg.useContext)(hC);if(!e)throw Error("useMemexItemsContext must be used within a MemexItemsContext.Provider");return e},h_=()=>{let e=hT();return{items:e.items}},hR=(0,cg.createContext)(null),hP=({children:e})=>{let{items:t}=h_(),{loggedInUser:a}=f1(),[n,r]=(0,cg.useState)(!1),[l,i]=(0,cg.useState)(!1),s=(0,cg.useMemo)(()=>hh(async()=>{if(a)try{let{isArchiveFull:e}=await hp();r(e)}catch(e){r(!1)}},500),[a]);return(0,cg.useEffect)(()=>(s(),()=>{s.cancel()}),[s,t.length]),(0,cs.jsx)(hR.Provider,{value:(0,cg.useMemo)(()=>({isArchiveFull:n,setArchiveStatus:s,shouldDisableArchiveForActiveWorkflow:l,setShouldDisableArchiveForActiveWorkflow:i}),[n,s,l]),children:e})};try{(F=hR).displayName||(F.displayName="ArchiveStatusContext")}catch{}try{(Z=hP).displayName||(Z.displayName="ArchiveStatusProvider")}catch{}let hD=()=>{let e=(0,cg.useContext)(hR);if(!e)throw Error("useArchiveStatus must be used within an ArchiveStatusProvider");return e},hE=(0,cg.createContext)(null),hL=({children:e})=>{let[t,a]=(0,cg.useState)(!1),[n,r]=(0,cg.useState)(),[l,i]=(0,cg.useState)(p3.defaultWorkflowName),s=(0,cg.useRef)(null),o=(0,cg.useCallback)(e=>{void 0===e?(r(void 0),i(p3.defaultWorkflowName)):(r({...e}),i(p3.newWorkflowName(e.name)))},[]),d=(0,cg.useMemo)(()=>({isDialogOpen:t,returnFocusRef:s,workflowTemplate:n,workflowName:l,setWorkflowName:i,applyWorkflowTemplate:o,setIsDialogOpen:a}),[o,t,l,n]);return(0,cs.jsx)(hE.Provider,{value:d,children:e})};try{(O=hE).displayName||(O.displayName="NewWorkflowDialogContext")}catch{}try{($=hL).displayName||($.displayName="NewWorkflowDialogProvider")}catch{}async function hA(e){let t=cQ("memex-workflow-create-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}async function hM(e){let t=cQ("memex-workflow-update-api-data"),{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}var hF=a(97733);let hZ={ItemAdded:"item_added",Reopened:"reopened",ReviewChangesRequested:"review_changes_requested",ReviewApproved:"review_approved",Closed:"closed",Merged:"merged",QueryMatched:"query_matched"},hO={SetField:"set_field",GetItems:"get_items",GetProjectItems:"get_project_items",ArchiveProjectItem:"archive_project_item",AddProjectItem:"add_project_item"},h$={get_project_items:0,get_items:0,add_project_item:1,archive_project_item:1,set_field:2},hV={Issue:"Issue",PullRequest:"PullRequest"},hB=(e,t)=>{let a={triggerType:t?.triggerType||hZ.QueryMatched,contentTypes:t?.contentTypes||[hV.Issue,hV.PullRequest],actions:t?.actions.map(e=>{let t={...e};return delete t.id,t})||[{actionType:hO.GetItems,arguments:{query:"is:pr,issue is:open label:bug",repositoryId:void 0}},{actionType:hO.AddProjectItem,arguments:{}}]};return{id:void 0,clientId:(0,hF.randomUUID)(),isUserWorkflow:!0,name:e,enabled:!1,...a}};let MemexWorkflowConverter=class MemexWorkflowConverter{static toClient(e,t=!1,a){return{...e,clientId:a||(0,hF.randomUUID)(),isUserWorkflow:t}}static toServer(e){let{id:t,name:a,triggerType:n,contentTypes:r,enabled:l,actions:i}=e;return{id:t,name:a,triggerType:n,contentTypes:r,enabled:l,actions:i}}};function hz(e){return"number"==typeof e.id}function hU(e){return e.actions.some(e=>e.actionType===hO.ArchiveProjectItem)}function hK(e){return e.actions.some(e=>e.actionType===hO.AddProjectItem)}function hW(e){return e.clientId}function hH(e,t){return(h$[e.actionType]??0)-(h$[t.actionType]??0)}function hG(e){let t=Array.from(e.actions).sort(hH),a=t[t.length-1]?.actionType??"";return`${e.triggerType}_${a}`}function hq(e,t,a){let n=a?hG:hW,r=a??n(t);return e.findIndex(e=>n(e)===r)}let hQ={update:"update",enable:"enable",disable:"disable",saveAndEnable:"saveAndEnable"},hX=(e,t)=>{let a=f5(),n=(0,cg.useMemo)(()=>e.find(e=>e.clientId===t)??hY(e),[t,e]),r=(0,cg.useMemo)(()=>{let t=new Set(e.map(e=>e.name.toLocaleLowerCase()));return n?.name&&t.delete(n?.name?.toLocaleLowerCase()),t},[n?.name,e]),l=(0,cg.useMemo)(()=>e.find(e=>hU(e)),[e]),i=(0,cg.useMemo)(()=>e.reduce((e,t)=>t.isUserWorkflow?e+1:e,0),[e]),s=(0,cg.useMemo)(()=>e.some(e=>e.isUserWorkflow&&!hz(e)),[e]),o=(0,cg.useCallback)(e=>{e?a(hr.generatePath({workflowClientId:encodeURIComponent(e)}),{replace:!0}):a(hn.generatePath(),{replace:!0})},[a]);return{activeWorkflow:n,workflowNames:r,autoArchiveWorkflow:l,numberOfUserAddedWorkflows:i,hasUnpersistedUserAddedWorkflow:s,navigateToWorkflow:o}};function hY(e){return e.find(e=>e.enabled)??e[0]}var hJ=a(22578);function h0({environment:e,input:{workflowNumber:t,projectId:n},optimisticUpdater:r,onCompleted:l,onError:i}){return(0,hJ.commitMutation)(e,{mutation:a(50022),variables:{workflowNumber:t,projectId:n},optimisticUpdater:r,onCompleted:l,onError:i})}var h1=a(37736);function h2(e){throw Error(`${e} has a value, but the types suggest this should not be possible. Did we account for all possible options properly in the typings?`)}function h5(e){let[t]=e.split("T");return(0,ck.Z)(t,"A date string must have been passed"),t}var h3=a(42699),h4=a(7069),h6=a(313),h8=a(60792),h7=a(78343),h9=a(17445),ge=a(49474),gt=a(67803);function ga(e){return gn(e.startDate,e.duration)}function gn(e,t){return(0,mi.Z)((0,pK.Z)(e),t-1)}function gr(e){return(0,mi.Z)(ga(e),1)}function gl(e,t){let a=(0,pK.Z)(t.startDate),n=new Date(e.getFullYear(),e.getMonth(),e.getDate());return(0,h3.Z)(n,(0,h4.Z)(a,1))&&(0,h6.Z)(n,gr(t))}function gi(e){let t=(0,h8.Z)(e,new Date)?"MMM dd":"MMM dd, yyyy";return(0,c8.Z)(e,t)}function gs(e,t){return e.toString().padStart(t,"0")}function go(e){let t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return`${t.toString()}-${gs(a,2)}-${gs(n,2)}`}function gd(e){return{startDate:(0,pK.Z)(e.startDate),endDate:gn(e.startDate,e.duration)}}function gu(e){let t=`${e.startDate}T00:00:00Z`,a=m1(t);if(!a)throw Error("invalid date configuration");let n=(0,h7.Z)((0,pK.Z)(t),(e.duration-1)*24);return{startDate:a,endDate:n}}function gc(e){if(!e||!e.startDate)return"";let{startDate:t,endDate:a}=gd(e);return`${gi(t)} - ${gi(a)}`}function gm(e){return e?gM(gE(e.duration)):""}function gp(e){return e.dataType!==c7.Iteration?[]:e.settings.configuration?gf(e.settings.configuration):[]}function gf(e){let t=[],{iterations:a,completedIterations:n}=e;return a.length&&t.push(...a),n.length&&t.push(...n),t}function gh({startDate:e,duration:t}){return(0,h6.Z)((0,mi.Z)((0,pK.Z)(e),t),new Date)}function gg(e){let t=[...e].sort(gx),a=t.findIndex(e=>!gh(e));return{completedIterations:t.slice(0,a).reverse(),iterations:t.slice(a)}}function gy(e,t){let a=(0,pK.Z)(e.startDate),n=(0,pK.Z)(t.startDate);return(0,h9.Z)(a,n)}function gx(e,t){let a=(0,pK.Z)(e.startDate),n=(0,pK.Z)(t.startDate);return(0,ge.Z)(a,n)}function gb(e){let t=gf(e);return 0===t.length?null:t.sort(gy)[0]??null}function gv(e){let t=gb(e),a=t?(0,pK.Z)(t.startDate):new Date;return(0,mi.Z)(a,t?.duration??0)}function gw(e){return Object.values(gS).includes(e)?e:null}function gk(e){return e.dataType!==c7.Iteration?null:e.settings.configuration.iterations.find(e=>gl(new Date,e))??null}function gj(e,t){if(e.dataType!==c7.Iteration)return null;if(t===gS.Current)return gk(e);let a=gp(e),{completedIterations:n,iterations:r}=gg(a);switch(t){case gS.Previous:return n.length>0?n[0]??null:null;case gS.Next:return r.length>1?r[1]??null:null;default:return null}}function gC(e,t){let a=gw(e);return a?gj(t,a):null}let gS={Current:"@current",Next:"@next",Previous:"@previous"};function gI(e,t){return t??gh(e)?"completed":gl(new Date,e)?"current":"planned"}function gN(e){let{startDate:t,endDate:a}=gd(e);return{from:t,to:a}}function gT(e){let t=(0,gt.Z)(e.to,e.from)+1;return{startDate:go(e.from),duration:t}}function g_(e,t){if(e&&t&&gR(e,t))return{startDate:go(gr(e)),duration:(0,gt.Z)((0,pK.Z)(t.startDate),gr(e))}}function gR(e,t){return(0,gt.Z)((0,pK.Z)(t.startDate),(0,pK.Z)(e.startDate))>e.duration}function gP(e,t){return{...e,startDate:0===t?e.startDate:go((0,mi.Z)((0,pK.Z)(e.startDate),t))}}let gD={weeks:"week",days:"day"};function gE(e){let t=e%7==0?"weeks":"days";return{quantity:"weeks"===t?e/7:e,units:t}}function gL({units:e,quantity:t}){return t*("weeks"===e?7:1)}function gA(e,t){return 1===e?gD[t]:t}function gM({quantity:e,units:t}){return`${e} ${gA(e,t)}`}let gF={quantity:2,units:"weeks"};function gZ(e){return e}let gO=(e,t)=>(t=t.toLocaleLowerCase(),e.every(e=>t.includes(e)));function g$(e,t){let a=RegExp(`^${t.trim().split("*").map(e=>(0,h1.Z)(e)).join(".*")}$`,"i");return a.test(e.trim())}let gV=(e,t)=>e.some(e=>g$(t,e)),gB=/>(.*)/,gz=/>=(.*)/,gU=/<(.*)/,gK=/<=(.*)/,gW=/(.*)\.\.(.*)/,gH=/\*\.\.(.*)/,gG=/(.*)\.\.\*/,gq=e=>{let t=e.match(gz);return t&&t[1]?{operator:"GREATER_THAN_OR_EQUAL",value:t[1]}:(t=e.match(gB))&&null!=t[1]?{operator:"GREATER_THAN",value:t[1]}:(t=e.match(gK))&&null!=t[1]?{operator:"LESS_THAN_OR_EQUAL",value:t[1]}:(t=e.match(gU))&&null!=t[1]?{operator:"LESS_THAN",value:t[1]}:(t=e.match(gH))&&null!=t[1]?{operator:"LESS_THAN_RANGE",end:t[1]}:(t=e.match(gG))&&null!=t[1]?{operator:"GREATER_THAN_RANGE",start:t[1]}:(t=e.match(gW))&&null!=t[1]&&null!=t[2]?{operator:"RANGE",start:t[1],end:t[2]}:null},gQ=(e,t)=>{if(!e)return null;switch(e.operator){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":return{...e,value:t(e.value)};case"GREATER_THAN_RANGE":return{...e,start:t(e.start)};case"LESS_THAN_RANGE":return{...e,end:t(e.end)};case"RANGE":return{...e,start:t(e.start),end:t(e.end)};default:h2(e)}},gX=(e,t)=>e.some(e=>{let a=gq(e);if(a?.operator==="GREATER_THAN_OR_EQUAL")return t>=mz(a.value);if(a?.operator==="GREATER_THAN")return t>mz(a.value);if(a?.operator==="LESS_THAN_OR_EQUAL")return t<=mz(a.value);if(a?.operator==="LESS_THAN")return t<mz(a.value);if(a?.operator==="LESS_THAN_RANGE")return t<=mz(a.end);if(a?.operator==="GREATER_THAN_RANGE")return t>=mz(a.start);if(a?.operator==="RANGE")return t>=mz(a.start)&&t<=mz(a.end);else return mz(e)===t});function gY(e,t){if("GREATER_THAN_OR_EQUAL"===e.operator)return e.value&&t>=e.value;if("GREATER_THAN"===e.operator)return e.value&&t>e.value;if("LESS_THAN_OR_EQUAL"===e.operator)return e.value&&t<=e.value;if("LESS_THAN"===e.operator)return e.value&&t<e.value;if("LESS_THAN_RANGE"===e.operator)return e.end&&t<=e.end;if("GREATER_THAN_RANGE"===e.operator)return e.start&&t>=e.start;if("RANGE"===e.operator){if(e.start&&e.end)return t>=e.start&&t<=e.end;if(e.start)return t>=e.start;if(e.end)return t<=e.end}return!1}let gJ=(e,t)=>{let a=mU(t);return!!a&&e.some(n=>{let r=gq(n),l=!1,i=gQ(r,e=>{let t=mU(e);return e&&!t&&(l=!0),t});if(l)return!1;if(i?.operator)return gY(i,a);{let r=mU(n);if(!r)return!1;let l=a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()&&a.getDate()===r.getDate();return gV(e,t)||l}})};function g0(e,t){let a=gC(e,t);if(a)return a;let n=gp(t).sort(gx),r=Object.values(gS).some(t=>e.includes(t));if(r){let a=mL(e),r=mZ(a,{kind:"string",start:0}),l=r?gw(r.text):null,i=l?gC(l,t):null;if(i&&r){let e=mO(a,{kinds:["keyword.operator","string"],start:r});if(!e)return null;let[t,l]=e,s=mz(gZ(l).text)*("+"===gZ(t).text?1:-1);if(!isNaN(s)){let e=n.findIndex(e=>e.id===i.id);if(e>-1)return n.at(e+s)??null}}}let l=n.find(t=>e.toLowerCase().trim()===t.title.toLowerCase().trim());return l??null}function g1(e,t){return g0(e,t)?.startDate}function g2(e,t,a,n){let r=gp(t),l=r.find(e=>e.id===n);if(!l)return a;let i=e=>{let a=g1(e,t);return a?mU(a):void 0};return e.some(e=>{let a=gQ(gq(e),i);if(a?.operator){let e=mU(l.startDate);return!!e&&gY(a,e)}{let a=g0(e,t);return a?.id===l.id}})}let g5=/(\d+)%/g,g3=(e,t)=>{let a=m9(t),n=e.filter(e=>g5.test(e)).map(e=>e.replace(g5,(e,t)=>t));return gX(n,a)},g4=(e,t)=>{let a=f_(t).toLocaleLowerCase();return e.some(e=>e.toLocaleLowerCase()===a)},g6=(e,t,a)=>!a.length||!!t.find(t=>{switch(t.dataType){case c7.Title:{let t=m4(e.Title),n=m8(e.Title),r=mq(n)?`${t} #${n}`:t;return!!r&&(gO(a,t)||gO(a,r))}case c7.Assignees:return!!e[c9.Assignees]?.find(e=>gO(a,e.login)||e.name&&gO(a,e.name));case c7.SingleSelect:{let n=e[t.id]?.id,r=t.settings.options?.find(e=>e.id===n),l=r?.name;return l&&gO(a,l)}case c7.Labels:return!!e[c9.Labels]?.find(e=>gO(a,e.name));case c7.Repository:{let t=e[c9.Repository]?.nameWithOwner;return!!t&&gO(a,t)}case c7.Milestone:{let t=e[c9.Milestone]?.title;return!!t&&gO(a,t)}case c7.Text:{let n=e[t.id];return!!n&&gO(a,n.raw)}case c7.Number:{let n=e[t.id];return!!n&&gO(a,n.value.toString())}case c7.Date:{let n=e[t.id];return!!n&&gO(a,n.value.toString())}case c7.Iteration:{let n=e[t.id]?.id,r=gp(t),l=r.find(e=>e.id===n),i=l?.title;return i&&gO(a,i)}case c7.LinkedPullRequests:return!!e[c9.LinkedPullRequests]?.find(e=>gO(a,e.number.toString()));case c7.Reviewers:return!!e.Reviewers?.find(e=>gO(a,e.reviewer.name)||e.reviewer.name&&gO(a,e.reviewer.name));case c7.Tracks:{let t=e.Tracks;return!!t&&gO(a,t&&pX.progressCount({percent:m9(t),total:t.total}))}case c7.TrackedBy:return e[c9.TrackedBy]?.some(e=>gO(a,f_(e)));default:h2(t)}}),g8=({columnData:e,field:t,value:a,matchNegated:n=!1})=>{let r;let l=e.Title;if(!l)return!1;if("type"===t)switch(l.contentType){case mu.DraftIssue:return r="draft"===a||"issue"===a,n?!r:r;case mu.Issue:return r="issue"===a,n?!r:r;case mu.PullRequest:{let{state:e,isDraft:t}=l.value;return r="draft"===a?"open"===e&&t:"pr"===a,n?!r:r}default:return!1}if("state"===t)switch(l.contentType){case mu.Issue:{let e=l.value.state.toString();return r=e===a,n?!r:r}case mu.PullRequest:{let{isDraft:e,state:t}=l.value;return r=t===a||"merged"===t&&"closed"===a||e&&"open"===t&&"draft"===a,n?!r:r}case mu.DraftIssue:if("open"===a)return!n;if("closed"===a||"merged"===a)return n;return!1;default:return!1}if("reason"===t)switch(l.contentType){case mu.Issue:{let e=l.value.state.toString(),t=l.value.stateReason??("closed"===e?fH.Completed:void 0);return r="closed"===e&&t&&new Set([fH.Completed,fH.NotPlanned]).has(t)?t===yk(a):"open"===e&&t===fH.Reopened&&t===yk(a),n?!r:r}case mu.PullRequest,mu.DraftIssue:return n}return!1},g7=({column:e,columnData:t,values:a=[],matchEmpty:n=!1,matchNegated:r=!1})=>{let l;let{loggedInUser:i}=f1();switch(e.dataType){case c7.Title:{let e=m4(t.Title),i=m8(t.Title),s=mq(i)?`${e} #${i}`:e;return l=s?gV(a,e)||gV(a,s):n,r?!l:l}case c7.Assignees:return ya(t,"Assignees",a,n,r,i);case c7.SingleSelect:{let i=t[e.id]?.id,s=e.settings.options?.find(e=>e.id===i),o=s?.name;return l=o?gV(a,o):n,r?!l:l}case c7.Labels:if(n){let e=!t.Labels||!t.Labels?.length;return r?!e:e}return l=!!t.Labels?.find(e=>gV(a,e.name)),r?!l:l;case c7.Repository:{let e=t.Repository?.nameWithOwner;return l=e?gV(a,e):n,r?!l:l}case c7.Milestone:{let e=t.Milestone?.title;return l=e?gV(a,e):n,r?!l:l}case c7.Text:{let i=t[e.id];return l=i?gV(a,i.raw):n,r?!l:l}case c7.Number:{let i=t[e.id];return l=i?gX(a,i.value):n,r?!l:l}case c7.Date:{let i=t[e.id];return l=i?gJ(a,h5(i.value)):n,r?!l:l}case c7.Iteration:{let i=t[e.id]?.id;return l=g2(a,e,n,i),r?!l:l}case c7.LinkedPullRequests:if(n){let e=!t[c9.LinkedPullRequests]||!t[c9.LinkedPullRequests]?.length;return r?!e:e}return l=!!t[c9.LinkedPullRequests]?.find(e=>gV(a,e.number.toString())),r?!l:l;case c7.Reviewers:return ya(t,"Reviewers",a,n,r,i);case c7.Tracks:{let e=t[c9.Tracks];return l=e&&e.total>0?g3(a,e):n,r?!l:l}case c7.TrackedBy:{l=!1;let e=t[c9.TrackedBy]??[];if(n){let t=0===e.length;return r?!t:t}for(let t of e)g4(a,t)&&(l=!0);return r?!l:l}default:h2(e)}},g9=({itemUpdateAtDate:e,value:t,matchNegated:a})=>{if(!e)return!1;let n=t.match(mm),r=n?n[1]:void 0;if(r){let t=mU(`@today-${r}`);return!!gY({operator:a?"GREATER_THAN_OR_EQUAL":"LESS_THAN",value:t},e)}return!1},ye={d:1,w:7,m:28},yt=({itemUpdateAtDate:e,value:t,matchNegated:a})=>{if(!e)return!1;let n=t.match(mp);if(n){let[t,r,l]=n;if(r&&l){let t=parseInt(r)*ye[l],n=mU(`@today-${t}`);return!!gY({operator:a?"GREATER_THAN_OR_EQUAL":"LESS_THAN",value:n},e)}}return!1};function ya(e,t,a,n,r,l){let i;if(n){let a=!e[t]||!e[t]?.length;return r?!a:a}let s=a.indexOf("@me");return s>-1&&l?.login&&a.splice(s,1,l.login.toLocaleLowerCase()),i="Assignees"===t?!!e[t]?.find(e=>gV(a,e.login)||e.name&&gV(a,e.name)):!!e[t]?.find(e=>gV(a,e.reviewer.name)||e.reviewer.name&&gV(a,e.reviewer.name)),r?!i:i}function yn(e){let t=/ +(?=(?:(?:[^'"]*'){2})*[^'"]*$)| +(?=(?:(?:[^"']*"){2})*[^'"]*$)/g;if(yi(e))return{searchTokens:[],fieldFilters:[],orderedTokenizedFilters:[{type:"search",value:e,spaceAfter:""}],invalidQuery:!0};let a=e.match(t)??[],n=e.split(t),r=[],l=[],i=[];for(let[e,t]of n.entries()){let n=a[e]??"";if(yf(t)){let e=yd(t),a=t.substring(e.length+1);if(e&&l.push([e,yo(a)]),"no"===e)i.push({type:"no-field",field:a,spaceAfter:n});else if("-no"===e)i.push({type:"no-field",field:a,exclude:!0,spaceAfter:n});else if("is"===e)i.push({type:"is",value:a,spaceAfter:n});else if("-is"===e)i.push({type:"is",exclude:!0,value:a,spaceAfter:n});else if("reason"===e)i.push({type:"reason",value:a,spaceAfter:n});else if("-reason"===e)i.push({type:"reason",exclude:!0,value:a,spaceAfter:n});else if("last-updated"===e)i.push({type:"last-updated",value:a,spaceAfter:n});else if("-last-updated"===e)i.push({type:"last-updated",exclude:!0,value:a,spaceAfter:n});else if("updated"===e)i.push({type:"updated",value:a,spaceAfter:n});else if("-updated"===e)i.push({type:"updated",exclude:!0,value:a,spaceAfter:n});else{let t=e.startsWith("-");i.push({type:"field",field:t?e.slice(1):e,value:a,exclude:t,spaceAfter:n})}}else{i.push({type:"search",value:t,spaceAfter:n});let e=t.trim();e.length&&r.push(e.toLowerCase())}}return{searchTokens:r,fieldFilters:l,orderedTokenizedFilters:i,invalidQuery:!1}}function yr(e){return"no"===e}function yl(e){return 0===e.indexOf("-")}function yi(e){let t=e.match(/["']/g)?.length;return!!t&&t%2!=0}function ys(e){return/<[^<]+>/g.test(e)}function yo(e){let t=[],a=0;for(let n=0;n<=e.length;n++){let r=e[n],l=e.substring(a,n),i=(l.match(/"/g)||[]).length;if(","===r&&i%2==0||n===e.length){let e=ys(l)?/^"|"$/g:/['"]+/g,r=l.replace(e,"").trim();a=n+1,r.length&&t.push(r)}}return t}function yd(e){let t=e.match(/^[^:]*/),a=t&&t[0]?t[0]:"";return a}function yu(e){let t=new Map;for(let a of e){let e=ym(a.name);t.set(e,a)}return t}function yc(e){let t=yg(e.toLocaleLowerCase().trim());return["repo","assignee","label"].includes(t)&&("repo"===t&&(t="repository"),"assignee"===t&&(t="assignees"),"label"===t&&(t="labels")),t}function ym(e){let t=yh(e.toLocaleLowerCase().trim());return["repository","assignees","labels"].includes(t)&&("repository"===t&&(t="repo"),"assignees"===t&&(t="assignee"),"labels"===t&&(t="label")),t}function yp(e){return yg(ym(e))}function yf(e){return e.indexOf(":")>-1||e.indexOf(",")>-1}function yh(e){return e.replace(/ /g,"-")}function yg(e){return e.replace(/-/g," ")}let yy=(e,t,a)=>{if(!e.length||!a.length||a.length>1)return null;let{dataType:n}=t;switch(n){case c7.SingleSelect:{let e=t.settings.options?.find(e=>gV(a,e.name));return e?{dataType:n,memexProjectColumnId:t.id,value:{id:e.id}}:null}case c7.Iteration:{let e;let{configuration:r}=t.settings;if(!r)return null;let l=a[0];if(null==l)return null;let i=gC(l,t);return(e=1===a.length&&i?i:gf(r).find(e=>gV(a,e.title))||null)?{dataType:n,memexProjectColumnId:t.id,value:{id:e.id}}:null}case c7.Text:for(let r of e){let e=r.columns,l=e[t.id];if(l&&gV(a,l.raw))return{dataType:n,memexProjectColumnId:t.id,value:l.raw}}return null;case c7.Date:{let e=a[0];if(null==e)return null;let r=m1(e);if(!r)return null;return{dataType:n,memexProjectColumnId:t.id,value:{value:r}}}case c7.Number:for(let r of e){let e=r.columns,l=e[t.id];if(l&&gV(a,`${l.value}`))return{dataType:n,memexProjectColumnId:t.id,value:l}}return null;case c7.Assignees:case c7.Labels:return{dataType:n,value:[]};case c7.Milestone:return{dataType:n,value:void 0};case c7.Repository:default:return null}},yx=(e,t)=>{let{dataType:a}=t,n=e.columns;switch(a){case c7.SingleSelect:{let n=t.id===c9.Status?e.getStatus():e.getCustomField(t.id);if(!n)return null;let r=t.settings.options?.find(e=>e.id===n.id);return r?{dataType:a,memexProjectColumnId:t.id,value:{id:r.id}}:null}case c7.Iteration:{let e=n[t.id];return e?{dataType:a,memexProjectColumnId:t.id,value:{id:e.id}}:null}case c7.Text:{let e=n[t.id];return e?{dataType:a,memexProjectColumnId:t.id,value:e.raw}:null}case c7.Date:{let e=n[t.id];if(!e)return null;let r=m1(e.value);if(!r)return null;return{dataType:a,memexProjectColumnId:t.id,value:{value:r}}}case c7.Number:{let e=n[t.id];return e?{dataType:a,memexProjectColumnId:t.id,value:e}:null}case c7.Assignees:{let e=n[c9.Assignees];return e?{dataType:a,value:e}:null}case c7.Labels:{let e=n[c9.Labels];return e?{dataType:a,value:e}:null}case c7.Milestone:{let e=n[c9.Milestone];return e?{dataType:a,value:e}:null}case c7.TrackedBy:{let e=n[c9.TrackedBy];return e?{dataType:a,value:e,appendOnly:!0}:null}case c7.Repository:default:return null}},yb=/^(@)*\w+(-\d+(d|w|m))?$/;function yv(e,t,{value:a,replace:n,filterForEmpty:r=!1,filterForNegative:l=!1}={}){let i=ym(t),s=e.trim();n&&s.endsWith('"')&&(s=s.slice(0,-1));let o=/\S+:$/,d=s.match(o),u=`${i}:`,c=mL(s),m=mF(c,{kind:["keyword.operator.range","keyword.operator.comparison"],start:s.length-1,end:["keyword.operator.separator","source.whitespace"]}),p=mF(c,{kind:"keyword.operator.separator",start:s.length-1});if(m){let e=s.substring(p?p.location.start+1:0,m.location.start);u+=e+m.text}let f=()=>{let e=s.lastIndexOf(",");if(-1===e)return!1;if(e===s.length-1)return!0;let t=s.substring(e+1);return a?.includes(t)||!1},h=t=>{let a=e.lastIndexOf(" "),n=e.substring(0,a);return n.length?`${n} ${t}`:`${n}${t}`},g=t=>{let a=e.lastIndexOf(","),n=e.substring(0,a+1);return`${n}${t}`};if(r)return f()?g(i):h(`${l?"-":""}no:${i}`);if(l){let e="";return(a&&(e=a.toString().match(yb)?a:`"${a}"`),f())?g(e):h(`-${u}${e}`)}if(a){let e=a.match(yb)?a:`"${a}"`;if(f())return g(e);u=`${u}${e}`}if(d){let t=e.replace(o,u);return t}if(n){if(a){let t=e.lastIndexOf(`${i}:`),a=e.substring(0,t);return`${a}${u}`}return h(u)}return s.length?`${s} ${u}`:u}function yw(e){let t=e.trim(),a=t.toLocaleLowerCase(),n=yn(a);return{normalisedQuery:a,...n}}function yk(e){let t=e.replace(/[-_ ]/g,"").toLocaleLowerCase();return"notplanned"===t?fH.NotPlanned:"completed"===t?fH.Completed:"reopened"===t?fH.Reopened:null}let yj=(e,t,a)=>{let n=RegExp(`\\s*${e}:(.*,)?("?${t}"?)(,\\S)?`,"ig"),r=[...a.matchAll(n)],[l,i,s,o]=r[0],d=i?`,${s}`:o?`${s},`:l,u=pb(a.replace(d,""),",");return u};function yC(e){let t="";for(let a of e){switch(a.type){case"search":t+=a.value;break;case"is":t+=`${a.exclude?"-":""}is:${a.value}`;break;case"reason":t+=`${a.exclude?"-":""}reason:${a.value}`;break;case"field":t+=`${a.exclude?"-":""}${a.field}:${a.value}`;break;case"no-field":t+=`${a.exclude?"-":""}no:${a.field}`}t+=a.spaceAfter}return t}function yS(e,t,a,n){let{orderedTokenizedFilters:r}=yn(e),l=yl(t),i=(l?t.slice(1):t).toLowerCase(),s=new Set,o=new Set,d=new Map(n?.columnOptions?.map(e=>[e.toLowerCase(),e])),{firstInclusiveFilterIndex:u,firstExclusiveFilterIndex:c,filters:m}=y_(r,i,(e,t)=>{e?yN(o,t,{columnOptionMap:d}):yN(s,t,{columnOptionMap:d})});l?o.add(yT(a)):s.add(yT(a));let p=[...s][0],f=[...o][0];if(l&&1===s.size&&1===o.size&&p===f)s.delete(gZ(p));else for(let e of s)o.has(e)&&(s.delete(e),o.delete(e));let h=0;if(s.size>0){let e=Array.from(s).join(","),t=-1===u?m.length:u;m[t]={type:"field",field:i,value:e,exclude:!1,spaceAfter:m[t]?.spaceAfter||" "}}else u>-1&&(m.splice(u,1),u<c&&h--);if(o.size>0){let e=Array.from(o).join(","),t=-1===c?m.length:c+h;m[t]={type:"field",field:i,value:e,spaceAfter:m[t]?.spaceAfter||" ",exclude:!0}}else c>-1&&m.splice(c+h,1);return m[m.length-1]&&(gZ(m[m.length-1]).spaceAfter=""),yC(m)}function yI(e){return e?.type!=="no-field"&&e?.value?e.value.split(",").map(e=>e.trim()):[]}function yN(e,t,a={}){for(let n of yI(t))e.add(a.columnOptionMap?.get(n.toLowerCase())||n);return e}function yT(e){return!e.includes(" ")||e.startsWith('"')||e.endsWith('"')||e.startsWith("'")||e.endsWith("'")?e:`"${e}"`}function y_(e,t,a){let n=-1,r=-1,l=[];for(let i=0;i<e.length;i++){let s=gZ(e[i]);if("search"!==s.type||""!==s.value){if("field"!==s.type||s?.field.toLocaleLowerCase()!==t.toLocaleLowerCase()){l.push({...s,spaceAfter:" "});continue}s.exclude?(a(!0,s),-1===r&&(r=i,l.push(s))):(a(!1,s),-1===n&&(n=i,l.push(s)))}}return{firstInclusiveFilterIndex:n,firstExclusiveFilterIndex:r,filters:l}}function yR(e){switch(e?.dataType){case c7.SingleSelect:return e.settings.options.map(e=>yT(e.name));case c7.Iteration:return e.settings.configuration.iterations.map(e=>yT(e.title));default:return}}let yP=(e,t)=>{let a=e.toLocaleLowerCase().trim();return 0===a.length?yA(p5.emptyWorkflowName):a.length>250?yA(p5.workflowNameTooLong):t.has(a)?yA(p5.duplicateWorkflowName):yA()},yD=(e,t)=>{if(!e.actions.length)return yA(p5.invalidNoAction);if(!e.contentTypes.length)return yA(p5.invalidNoContentType);if(t){let a=yP(e.name,t);if(!a.isValid)return a}for(let t of e.actions){let e=yE(t);if(!e.isValid)return e}return yA()},yE=e=>{switch(e.actionType){case hO.SetField:if(!e.arguments.fieldId)return yA(p5.invalidActionField);if(!e.arguments.fieldOptionId)return yA(p5.invalidActionFieldValue);break;case hO.GetProjectItems:if(!e.arguments.query)return yA(p5.invalidNoQuery);if(e.arguments.query)return yL(e);break;case hO.GetItems:if("string"!=typeof e.arguments.query)return yA(p5.invalidNoQuery);if(!e.arguments.repositoryId&&e.id)return yA(p5.invalidNoRepository);break;case hO.AddProjectItem:if(!e.arguments.repositoryId&&e.id)return yA(p5.invalidNoRepository)}return yA()},yL=e=>{let t=e.arguments.query&&yn(e.arguments.query);if(t){for(let a of t.orderedTokenizedFilters)if("search"!==a.type&&(e.actionType!==hO.GetProjectItems||"field"!==a.type||"last-updated"!==a.field&&"updated"!==a.field)&&"field"===a.type)return yA(p5.invalidQuery)}return yA()},yA=e=>({errorMessage:e,isValid:!e});function yM(e){let t=new Map;for(let a of e){let e=hG(a);t.has(e)||a.isUserWorkflow||t.set(e,a.clientId)}return t}function yF(e,t,a){let n=yM(e),r=t.map(e=>{let{defaultWorkflow:t}=e;return MemexWorkflowConverter.toClient(t,!1,n.get(hG(t)))}),l=new Map;for(let e of a){let t=hG(e),a=l.get(t)||0,n=a>0,i=MemexWorkflowConverter.toClient(e,n,e.id.toString()),s=hq(r,i,t);-1!==s?n?r.push(i):r.splice(s,1,i):r.push(i),l.set(t,a+1)}return r}let yZ=(0,cg.createContext)(null),yO=({children:e})=>{let{projectLimits:{autoAddCreationLimit:t}}=f1(),{isArchiveFull:a,setShouldDisableArchiveForActiveWorkflow:n}=hD(),r=cx.bS(hr.path)?.params.workflowClientId,[l]=(0,cg.useState)(()=>cG("memex-workflow-configurations-data")||[]),[i]=(0,cg.useState)(()=>cG("memex-workflows-data")||[]),[s,o]=(0,cg.useState)(()=>yF([],l,i)),[d]=(0,cg.useState)(()=>yB(l)),[u]=(0,cg.useState)(()=>yz(l)),c=s.map(e=>e.clientId).reduce((e,t)=>Object.assign(e,{[t]:!1}),{}),[m,p]=(0,cg.useState)(c),f=(0,cg.useRef)(new Map),{activeWorkflow:h,workflowNames:g,autoArchiveWorkflow:y,numberOfUserAddedWorkflows:x,hasUnpersistedUserAddedWorkflow:b,navigateToWorkflow:v}=hX(s,r),w=cG("memex-relay-ids")?.memexProject,{addToast:k}=pU(),j=(0,cg.useCallback)((e,t=!0)=>{t||(e.enabled=!1),o(t=>{let a=hq(t,e);return t.splice(a,1,e),[...t]})},[]),C=(0,cg.useCallback)((e,t)=>{b||o(a=>yF(a,e,t))},[b]),S=(0,cg.useCallback)((e,t,a)=>{let n;return!s.some(t=>t.name===e)&&"query_matched_add_project_item"===t&&(n=hB(e,a),o(e=>(n&&e.push(n),[...e])),v(n.clientId),!0)},[v,s]),I=(0,cg.useCallback)(async e=>{let t=f.current.get(e.clientId);if(!t)try{t=y$(MemexWorkflowConverter.toServer(e)),f.current.set(e.clientId,t);let a=await t,n=MemexWorkflowConverter.toClient(a.workflow,e.isUserWorkflow,a.workflow.id.toString());o(t=>{let a=hq(t,e);return t.splice(a,1,n),[...t]}),p(t=>{let a={...t};return delete a[e.clientId],{...a,[n.clientId]:!1}}),v(n.clientId)}finally{f.current.delete(e.clientId)}return t},[v]),N=(0,cg.useCallback)(async(e,t)=>{if(!w)return;let a=s.findIndex(t=>hz(t)&&t.number===e),n=yU(s,a),r=s[a];r&&h0({environment:t,input:{workflowNumber:e,projectId:w},optimisticUpdater:()=>{o(e=>(e.splice(a,1),[...e]))},onCompleted:()=>{k({message:p5.deleteWorkflowSuccess,type:"success"}),v(n?.clientId)},onError:()=>{o(e=>(e.splice(a,0,r),[...e])),k({message:p5.deleteWorkflowError,type:"error"})}})},[k,v,w,s]),T=(0,cg.useCallback)(e=>{let t=s.findIndex(t=>t.clientId===e),a=s[t],n=yU(s,t);a&&(o(e=>(e.splice(t,1),[...e])),r===a.clientId&&v(n?.clientId))},[r,v,s]),_=(0,cg.useCallback)(async e=>await yV(e),[]),R=(0,cg.useCallback)(async(e,t)=>{let a={...e,...t};if(!hz(e))return I(a);{let n=await _({workflowNumber:e.number,...t});return j(a),v(e.id.toString()),n}},[I,v,j,_]),P=(0,cg.useCallback)(async(e,t)=>R(e,{enabled:t}),[R]),D=(0,cg.useCallback)(async(e,t)=>{let a=t.reduce((e,t)=>e.map(e=>e.actionType===t.actionType?t:e),e.actions),n={...e,actions:a};if(yD(n,g).isValid)return R(n,{name:n.name,contentTypes:n.contentTypes,enabled:n.enabled,actions:a});j(n,!1)},[j,R,g]),E=(0,cg.useCallback)(e=>d[e],[d]),L=(0,cg.useCallback)(e=>u[e],[u]),A=(0,cg.useCallback)((e,t)=>s.filter(a=>hz(a)&&a.actions.find(a=>a.arguments.fieldId===e&&a.arguments.fieldOptionId===t)),[s]),M=(0,cg.useCallback)((e,t)=>{let a=new Set(t);return s.filter(t=>hz(t)&&t.actions.find(t=>t.arguments.fieldId===e&&t.arguments.fieldOptionId&&!a.has(t.arguments.fieldOptionId)))},[s]),F=(0,cg.useCallback)(e=>{for(let t in m)m[t]=t===e&&!m[t];p({...m})},[m]),Z=(0,cg.useCallback)(()=>{p({...c})},[c]),O=(0,cg.useCallback)(e=>m[e],[m]),$=(0,cg.useCallback)(async({workflow:e,enable:t})=>{await P(e,t)},[P]),V=fx({request:$});(0,cg.useEffect)(()=>{a&&y?.enabled&&V.perform({workflow:y,enable:!1})},[y,V,a]),(0,cg.useEffect)(()=>{h&&n(hU(h)&&a)},[h,a,n]);let B=(0,cg.useMemo)(()=>x>=t-1,[x,t]),z=(0,cg.useMemo)(()=>({activeWorkflow:h,workflows:s,workflowNames:g,handleEnabledChangeRequest:V,updateWorkflowAndAction:D,getValidContentTypesForTriggerType:E,setAllWorkflows:C,workflowWithTriggerTypeIsEnableable:L,workflowsUsingColumnOption:A,workflowsUsingMissingColumnOption:M,newWorkflow:S,setWorkflowMenuState:F,resetWorkflowMenuStates:Z,isWorkflowMenuOpen:O,customWorkflowLimitReached:B,deleteWorkflow:N,deleteNonPersistedWorkflow:T}),[h,s,g,V,D,E,C,L,A,M,S,F,Z,O,B,N,T]);return(0,cs.jsx)(yZ.Provider,{value:z,children:(0,cs.jsx)(hL,{children:e})})};async function y$(e){let{id:t,...a}=e;return hA({workflow:a})}async function yV(e){return hM(e)}function yB(e){return e.reduce((e,t)=>(e[t.triggerType]=t.constraints.contentTypes,e),{})}function yz(e){return e.reduce((e,t)=>(e[t.triggerType]=t.enableable,e),{})}function yU(e,t){return t>0?e[t-1]:e[1]}try{(V=yZ).displayName||(V.displayName="WorkflowsContext")}catch{}try{(B=yO).displayName||(B.displayName="WorkflowsStateProvider")}catch{}function yK(){let e=(0,cg.useContext)(yZ);if(!e)throw Error("useWorkflows must be used within a WorkflowsStateProvider");return e}function yW(){let e=(0,cg.useContext)(hE);if(!e)throw Error("useNewWorkflowCreation must be used within a NewWorkflowCreationProvider");return e}var yH=a(73290),yG=a(74121),yq=a(99782);let yQ=e=>(0,cs.jsx)(cW.Z,{sx:{...e.sx||{},display:"flex",flex:"1 1 auto",width:"100%",height:"100%",position:"relative",backgroundSize:"1px 37px",backgroundPositionY:"15px",backgroundRepeat:"repeat-x, repeat"},...e,children:(0,cs.jsx)(cW.Z,{sx:{m:"auto",textAlign:"center"},children:e.children})});try{(z=yQ).displayName||(z.displayName="Blankslate")}catch{}var yX=a(73935);let yY=Symbol("UNSET");function yJ(e){let t=(0,cg.useRef)(yY);return t.current===yY&&(t.current=e()),t}let y0=(0,cg.createContext)({observer:null,elMapRef:{current:new Map},avgRef:{current:{count:0,avg:0}}}),y1=(0,cg.memo)(function(e){let[t,a]=(0,cg.useState)(null),n=yJ(()=>new Map),r=(0,cg.useRef)({count:0,avg:e.sizeEstimate}),l=pZ(e),i=(0,cg.useCallback)(e=>{(0,yX.unstable_batchedUpdates)(()=>{for(let t of e){let e=t.target,a=n.current,r=a.get(e);if(r){if(l.current.disableHide&&!t.isIntersecting)continue;r.setIsVisible(t.isIntersecting)}}})},[l,n]);(0,cg.useLayoutEffect)(()=>{if(e.rootRef&&!e.rootRef.current)return;let t=new IntersectionObserver(i,{root:e.rootRef?.current??null,rootMargin:e.rootMargin??`${window.innerHeight/2}px ${window.innerWidth/2}px`});return a(t),()=>{t?.disconnect()}},[i,e.rootMargin,e.rootRef]);let s=(0,cg.useMemo)(()=>({observer:t,elMapRef:n,avgRef:r}),[t,n]);return(0,cs.jsx)(y0.Provider,{value:s,children:e.children})});function y2({ref:e,defaultHeight:t}){let[a,n]=(0,cg.useState)(!1),{observer:r,elMapRef:l,avgRef:i}=(0,cg.useContext)(y0),s=(0,cg.useRef)(t??i.current?.avg),o=(0,cg.useRef)(!1);return(0,cg.useLayoutEffect)(()=>{let t=e.current;if(!t)return;let a=t.getBoundingClientRect();a.top<window.pageYOffset+window.innerHeight&&a.left<window.pageXOffset+window.innerWidth&&a.top+a.height>window.pageYOffset&&a.left+a.width>window.pageXOffset&&n(!0)},[e]),(0,cg.useLayoutEffect)(()=>{let t=e.current;if(!t||!r)return;let a=l.current;return a.set(t,{setIsVisible:n}),r.observe(t),()=>{a.delete(t),r.unobserve(t)}},[l,r,e]),(0,cg.useEffect)(()=>{if(a){if(!e.current||!i.current)return;let a=e.current.getBoundingClientRect().height;t||o.current||(i.current={count:i.current.count+1,avg:(i.current.count*i.current.avg+a)/(i.current.count+1)}),o.current=!0,s.current=a}},[i,a,e,t]),{isVisible:a,size:s.current}}try{(U=Parent).displayName||(U.displayName="Parent")}catch{}try{(K=Child).displayName||(K.displayName="Child")}catch{}try{(W=y1).displayName||(W.displayName="ObserverProvider")}catch{}(0,md.addHook)("afterSanitizeAttributes",function(e){("target"in e||e instanceof HTMLAnchorElement)&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),!e.hasAttribute("target")&&(e.hasAttribute("xlink:href")||e.hasAttribute("href"))&&e.setAttribute("xlink:show","new")});let y5={FORBID_TAGS:["style"],ALLOW_DATA_ATTR:!1},y3={...y5,ALLOWED_TAGS:["a","#text","img","g-emoji","code"],ADD_ATTR:["alias","fallback-src"],FORBID_ATTR:["style"],KEEP_CONTENT:!0},y4={...y5,ADD_TAGS:["auto-complete","g-emoji","tracking-block","tracking-block-omnibar","details-menu","math-renderer","task-lists","tool-tip","turbo-frame"],ADD_ATTR:["alias","fallback-src","data-hovercard-type","data-hovercard-url","data-octo-click","data-octo-dimensions","data-identity","data-host","data-src","data-content","data-type","data-json","data-plain","data-id","data-issue","data-draft-issue","data-item-uuid","data-item-id","data-item-title","data-item-state","data-item-position","data-menu-type","data-repository-id","data-repository-name","data-display-number","data-tasklist-block-markdown-at-rest-enabled","data-tracking-block-item-title","data-tracking-block-convert-button","data-tracking-block-remove-button","data-tracking-block-draft-title","data-form-tracking-block-update","sortable","data-view-component","data-catalyst","data-action","data-target","data-targets","data-canonical-src","data-static-url"],ADD_URI_SAFE_ATTR:["data-action","data-item-title"]};function y6(e){return(0,md.sanitize)(e,y3).toString()}function y8(e){return(0,md.sanitize)(e,y4).toString()}let y7=(0,cg.forwardRef)(({children:e,...t},a)=>(0,cs.jsx)(mn.Z,{ref:a,...t,dangerouslySetInnerHTML:{__html:y6(e)}}));y7.displayName="SanitizedHtml";let y9=(0,cg.memo)(y7),xe={open:{"aria-label":"Open issue",icon:me.hEv,color:"open.fg"},closed:{"aria-label":"Closed as completed issue",icon:me.GFI,color:"done.fg"}},xt={not_planned:{"aria-label":"Closed as not planned issue",icon:me.C4D,color:"fg.muted"},completed:xe.closed,reopened:xe.open},xa={open:{"aria-label":"Open pull request",icon:me.UWO,color:"open.fg"},closed:{"aria-label":"Closed pull request",icon:me.BRS,color:"closed.fg"},merged:{"aria-label":"Merged pull request",icon:me.Rvi,color:"done.fg"},draft:{"aria-label":"Draft pull request",icon:me.T5I,color:"fg.muted"}},xn=({type:e,state:t,stateReason:a,isDraft:n})=>{if(e===mu.PullRequest){let e=t===fK.Open&&n?"draft":t;return xa[e]}return t===fW.Closed&&a?xt[a]:xe[t]},xr=({type:e,state:t,stateReason:a,isDraft:n,sx:r,...l})=>{let{icon:i,color:s,...o}=xn({type:e,state:t,stateReason:a,isDraft:n});return(0,cs.jsx)(mt.Z,{icon:i,...o,...l,sx:{color:s,...r}})},xl=({title:e,...t})=>{switch(e.contentType){case mu.Issue:{let a=e.value.stateReason;return(0,cs.jsx)(xr,{type:e.contentType,state:e.value.state,stateReason:a,isDraft:!1,...t})}case mu.PullRequest:{let a=e.value.isDraft;return(0,cs.jsx)(xr,{type:e.contentType,state:e.value.state,isDraft:a,...t})}default:h2(e)}};try{(H=xr).displayName||(H.displayName="ItemState")}catch{}try{(G=xl).displayName||(G.displayName="ItemStateForTitle")}catch{}let xi={borderBottom:"1px solid",borderColor:"border.default","&:last-child":{borderBottom:"none"},display:"flex",alignItems:"center"},xs=cw.ZP.a`
  color: ${(0,ch.U2)("colors.fg.default")};
  overflow: hidden;
  text-align: left;
  white-space: nowrap;
  text-decoration: none;

  &:hover {
    color: ${(0,ch.U2)("colors.accent.fg")};
  }
`,xo=(0,cg.memo)(function({item:e,keyName:t,url:a}){let n=(0,cg.useRef)(null),{isVisible:r}=y2({ref:n});return(0,cs.jsx)(cW.Z,{ref:n,as:"li",sx:xi,children:r?(0,cs.jsx)(xd,{keyName:t,item:e,url:a}):null},t)}),xd=(0,cg.memo)(function({item:e,url:t}){let{selectItem:a,isSelected:n}=f$(),r=(0,cg.useCallback)(()=>{a(e)},[a,e]),l=`item-title-${e.number}`;return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(cW.Z,{as:"label",sx:{pl:1},...(0,cK.f)("repo-item"),children:(0,cs.jsx)(yq.Z,{sx:{alignSelf:"start"},"aria-labelledby":l,checked:n(e.number),onChange:r})}),(0,cs.jsx)(cW.Z,{sx:{pl:2},children:(0,cs.jsx)(xr,{type:e.type,state:e.state,stateReason:e?.stateReason,isDraft:!!e.isDraft})}),(0,cs.jsxs)(cW.Z,{sx:{p:2,display:"flex",flex:"1",justifyContent:"flex-start",width:"100%",minWidth:"0"},children:[(0,cs.jsx)(cW.Z,{as:"span",id:l,sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:(0,cs.jsx)(xs,{target:"_blank",rel:"noreferrer",href:t,tabIndex:-1,children:(0,cs.jsx)(y9,{children:e.title})})}),(0,cs.jsx)(mn.Z,{sx:{ml:2,color:"fg.muted"},children:`#${e.number}`})]})]})});try{(q=xo).displayName||(q.displayName="SuggestedItem")}catch{}try{(Q=xd).displayName||(Q.displayName="SuggestedItemInner")}catch{}let xu={listStyleType:"none",display:"flex",flexDirection:"column",contentVisibility:"auto"},xc=(0,cg.memo)(function({hasSearchInput:e}){return(0,cs.jsxs)(yQ,{...(0,cK.f)("side-panel-no-suggested-items"),sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1,m:6},children:[(0,cs.jsx)(mt.Z,{icon:me.H0r,size:30,sx:{color:"fg.muted"}}),(0,cs.jsx)(mn.Z,{as:"h2",children:"No items to add"}),(0,cs.jsx)(mn.Z,{as:"p",sx:{color:"fg.muted"},children:e?pX.noItemsInSearchResult:pX.repoIsEmpty})]})}),xm=(0,cg.memo)(function({isOrganization:e,owner:t}){return(0,cs.jsxs)(yQ,{...(0,cK.f)("side-panel-no-suggested-repos"),sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1,m:6},children:[(0,cs.jsx)(mt.Z,{icon:me.H0r,size:30,sx:{color:"fg.muted"}}),(0,cs.jsx)(mn.Z,{as:"h2",children:"No repositories found"}),(0,cs.jsxs)(mn.Z,{as:"p",sx:{color:"fg.muted"},children:["Create a"," ",(0,cs.jsx)(yH.Z,{href:e?`/orgs/${t}/repositories`:`/${t}?tab=repositories`,children:"repository"})," to get started."]})]})}),xp=(0,cg.memo)(function(){return(0,cs.jsx)(yQ,{sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1,m:6},children:(0,cs.jsx)(yG.Z,{})})}),xf=()=>{let{selectedRepo:e,items:t,loading:a,finishedFetchingRepoItems:n,selectAllItems:r,areAllItemsSelected:l,searchQuery:i}=f$(),{projectOwner:s,isOrganization:o}=f1(),d=s?.name?.toLowerCase();return(0,cs.jsx)(cW.Z,{sx:xu,...(0,cK.f)("side-panel-suggested-items"),children:a?(0,cs.jsx)(xp,{}):t?.length===0&&n&&e?(0,cs.jsx)(xc,{hasSearchInput:!!i}):e?(0,cs.jsxs)(cW.Z,{children:[(0,cs.jsxs)(cW.Z,{...(0,cK.f)("side-panel-suggested-items-header"),sx:{display:"flex",borderBottom:"1px solid",borderColor:"border.default",paddingBottom:2,paddingTop:3},children:[(0,cs.jsx)(cW.Z,{as:"label",sx:{pl:1,pr:"10px"},...(0,cK.f)("selection-all-items"),children:(0,cs.jsx)(yq.Z,{sx:{alignSelf:"start"},"aria-label":l?"Deselect all items":"Select all items",checked:l,onChange:r})}),(0,cs.jsxs)(mn.Z,{children:[t?.length," most recent ",t?.length===1?"item":"items"]})]}),(0,cs.jsx)(cW.Z,{as:"ul",children:t?.map(t=>{let a=e.nameWithOwner;return(0,cs.jsx)(xo,{item:t,keyName:`${e.nameWithOwner}-${t.number}`,url:t.type===mu.PullRequest?`/${a}/pull/${t.number}`:`/${a}/issues/${t.number}`},`${e.nameWithOwner}-${t.number}`)})}),(0,cs.jsxs)(mn.Z,{...(0,cK.f)("side-panel-suggested-items-footer"),sx:{color:"fg.muted",display:"block",textAlign:"center",paddingTop:4,paddingBottom:4},children:["showing ",t?.length," most recent ",t?.length===1?"item":"items"," that"," ",t?.length===1?"has":"have"," not been added to this project",t&&t?.length>1&&". Use search to narrow down this list"]})]}):(0,cs.jsx)(xm,{owner:d,isOrganization:o})})};try{(X=xc).displayName||(X.displayName="NoSuggestedItems")}catch{}try{(Y=xm).displayName||(Y.displayName="NoSuggestedRepos")}catch{}try{(J=xp).displayName||(J.displayName="Loader")}catch{}try{(ee=xf).displayName||(ee.displayName="ItemSuggestionsList")}catch{}var xh=a(78912),xg=a(37990),xy=a(97714);let xx=(e,t)=>({title:p5.manualRunConfirmationTitle(e),content:(0,cs.jsx)(y9,{children:p5.manualRunConfirmationMessage(e,t)}),confirmButtonContent:p5.manualRunConfirmationButton(e),confirmButtonType:"primary"}),xb=()=>{let e=(0,xg.N)(),t=(0,cg.useCallback)(async({confirmationSource:t,onConfirm:a,count:n,onDismiss:r})=>{await e(xx(t,n))?await a():r?.()},[e]);return t},xv=/is:issues?,prs?|is:prs?,issues?/gi,xw=/is:issue/gi,xk=/is:pr/gi,xj=/\s*assignee:(.*,)?("?(@me)"?)(,\S)*/gi,xC=RegExp("\\s*assignee:(?<assignees>[^\\s+]*)\\s*","i"),xS=/[@|\s]/g,xI=/is:(\S+)/gi,xN=/issues?/,xT=/prs?/,x_="issue",xR=[hV.Issue,hV.PullRequest],xP=e=>{let{loggedInUser:t}=f1();if(t?.login){let a=[...e.matchAll(xj)];if(a.length){let[n,r,l,i]=a[0],s=r?l:i?l:n;e=e.replace(s,t.login)}}let a=e.match(xC);if(a&&a.groups?.assignees){let t=a.groups.assignees,n=[...new Set(t.toLowerCase().replace(xS,"").split(","))].join(",");return e.replace(t,n)}return e},xD=e=>xZ(xP(e)).trim(),xE=e=>{let t=xZ(e);return t.match(xw)?[hV.Issue]:t.match(xk)?[hV.PullRequest]:xR},xL=(e,t)=>{if(xA(t)&&!e.match(xv))return`is:issue,pr ${e}`;if(1===t.length){if(t[0]===hV.Issue&&!e.match(xN))return`is:issue ${e}`;if(t[0]===hV.PullRequest&&!e.match(xT))return`is:pr ${e}`}return e},xA=e=>!(!e||e?.length<xR.length)&&xR.every(t=>e.includes(t)),xM=e=>e.match(xN)?x_:e.match(xT)?"pr":e,xF=e=>{let t=new Set(e.split(",").map(e=>xM(e))),a="";return t.has(x_)&&(t.delete(x_),a="is:issue"),t.has("pr")&&(t.delete("pr"),a=0===a.length?"is:pr":""),t.size>0?`${a} is:${Array.from(t.values()).join(",")}`.trim():a},xZ=e=>{let t=e,a=[...t.matchAll(xI)];for(let[e,n]of a)n&&(t=t.replace(e,xF(n)));return t},xO=()=>c5();let BaseColumnModel=class BaseColumnModel{constructor(e){this.id=e.id,this.name=e.name,this.dataType=e.dataType,this.userDefined=e.userDefined,this.databaseId=e.databaseId,this.defaultColumn=e.defaultColumn,this.settings={width:200,...e.settings}}};let DateColumnModel=class DateColumnModel extends BaseColumnModel{};let IterationColumnModel=class IterationColumnModel extends BaseColumnModel{constructor(e){super({...e,settings:{...e.settings,configuration:e.settings?.configuration??x$()}})}};function x$(){return{startDay:new Date().getDay()||7,duration:14,iterations:[],completedIterations:[]}}let NumberColumnModel=class NumberColumnModel extends BaseColumnModel{};let BaseSingleSelectColumnModel=class BaseSingleSelectColumnModel extends BaseColumnModel{constructor(e){super({...e,settings:{...e.settings,options:e.settings?.options??[]}})}};let SingleSelectColumnModel=class SingleSelectColumnModel extends BaseSingleSelectColumnModel{};let TextColumnModel=class TextColumnModel extends BaseColumnModel{};let AssigneesColumnModel=class AssigneesColumnModel extends BaseColumnModel{};let LabelsColumnModel=class LabelsColumnModel extends BaseColumnModel{};let LinkedPullRequestsColumnModel=class LinkedPullRequestsColumnModel extends BaseColumnModel{};let MilestoneColumnModel=class MilestoneColumnModel extends BaseColumnModel{};let RepositoryColumnModel=class RepositoryColumnModel extends BaseColumnModel{};let ReviewersColumnModel=class ReviewersColumnModel extends BaseColumnModel{};let StatusColumnModel=class StatusColumnModel extends BaseSingleSelectColumnModel{};let TitleColumnModel=class TitleColumnModel extends BaseColumnModel{constructor(e){super({...e,settings:{...e.settings,width:e.settings?.width??650}})}};let TrackedByColumnModel=class TrackedByColumnModel extends BaseColumnModel{};let TracksColumnModel=class TracksColumnModel extends BaseColumnModel{};function xV(e){switch(e.dataType){case c7.Assignees:return new AssigneesColumnModel(e);case c7.Labels:return new LabelsColumnModel(e);case c7.LinkedPullRequests:return new LinkedPullRequestsColumnModel(e);case c7.Milestone:return new MilestoneColumnModel(e);case c7.Repository:return new RepositoryColumnModel(e);case c7.Reviewers:return new ReviewersColumnModel(e);case c7.Title:return new TitleColumnModel(e);case c7.Tracks:return new TracksColumnModel(e);case c7.TrackedBy:return new TrackedByColumnModel(e);case c7.Text:return new TextColumnModel(e);case c7.SingleSelect:if(e.id===c9.Status)return new StatusColumnModel(e);return new SingleSelectColumnModel(e);case c7.Number:return new NumberColumnModel(e);case c7.Date:return new DateColumnModel(e);case c7.Iteration:return new IterationColumnModel(e);default:h2(e.dataType)}}let xB=(0,cg.createContext)(null),xz=(0,cg.createContext)(null),xU=({children:e})=>{let{memex_tracked_by_items:t}=xO(),a=yJ(()=>cG("reserved-column-names")||[]),[n,r]=(0,cg.useState)(()=>{let e=cG("memex-columns-data")||[];return t||(e=e.filter(e=>e.id!==c9.TrackedBy)),xK(e)}),l=(0,cg.useRef)(n),i=yJ(()=>xW()),s=(0,cg.useCallback)(e=>{r(e),l.current=e},[]),o=(0,cg.useCallback)(e=>{i.current.add(e)},[i]),d=(0,cg.useMemo)(()=>({reservedColumnNames:a.current,setAllColumns:s,allColumns:n,allColumnsRef:l,addLoadedFieldId:o,loadedFieldIdsRef:i}),[a,i,s,n,o]),u=(0,cg.useMemo)(()=>({setAllColumns:s,allColumnsRef:l,addLoadedFieldId:o,loadedFieldIdsRef:i}),[i,o,s]);return(0,cs.jsx)(xB.Provider,{value:d,children:(0,cs.jsx)(xz.Provider,{value:u,children:e})})};function xK(e){return e.map(e=>xV(e))}function xW(){let{memexItems:e}=hk(),t=new Set;if(e?.length){let a=e.sort((e,t)=>t.memexProjectColumnValues.length-e.memexProjectColumnValues.length)[0];if(a)for(let e of a.memexProjectColumnValues)t.add(e.memexProjectColumnId)}return t}try{(et=xB).displayName||(et.displayName="ColumnsContext")}catch{}try{(ea=xz).displayName||(ea.displayName="ColumnsStableContext")}catch{}try{(en=xU).displayName||(en.displayName="ColumnsStateProvider")}catch{}let xH=()=>{let e=(0,cg.useContext)(xz);if(!e)throw Error("useColumnsStableContext must be used within a ColumnsStableContext.Provider");return e},xG=()=>{let{allColumnsRef:e}=xH(),t=(0,cg.useCallback)(t=>e.current.find(e=>e.databaseId===t),[e]);return{findColumnByDatabaseId:t}},xq=e=>{let{findColumnByDatabaseId:t}=xG(),{fieldOptionId:a,fieldId:n}=e.arguments,r=n?t(n):void 0,l=r&&"options"in r.settings?r.settings.options?.find(e=>e.id===a):void 0;return{column:r,selectedOption:l}},xQ=()=>{let{viewerPrivileges:e,loggedInUser:t}=f1();return{isLoggedIn:void 0!==t,isReadonly:e.role===fG.Read,hasWritePermissions:e.role!==fG.Read,hasAdminPermissions:e.role===fG.Admin,canChangeProjectVisibility:e.canChangeProjectVisibility}},xX=()=>{let{hasWritePermissions:e}=xQ();return{hasWorkflowWritePermission:e}},xY=(e,t)=>{let a=e.actions[0];(0,ck.Z)(a,"defaultAction must exist");let{selectedOption:n}=xq(a),{hasWorkflowWritePermission:r}=xX(),{shouldDisableArchiveForActiveWorkflow:l}=hD(),i=(0,cg.useMemo)(()=>{let i=a.actionType===hO.SetField,s=n?.nameHtml,o=i&&!s,d=0===t.length&&hU(e);return o||!r||l||d},[a.actionType,n?.nameHtml,t.length,e,r,l]);return i},xJ=(e,t,a)=>{let{workflowNames:n}=yK(),[r,l]=(0,cg.useState)(e),[i,s]=(0,cg.useState)(e.name),[o,d]=(0,cg.useState)(yD(e,n).isValid),[u,c]=(0,cg.useState)(a),m=(0,cg.useMemo)(()=>{let t=e.actions.find(e=>"string"==typeof e.arguments.query)?.arguments.query;return"string"==typeof t?xL(t,e.contentTypes):""},[e.actions,e.contentTypes]),p=(0,cg.useMemo)(()=>e.actions.find(e=>e.arguments.repositoryId)?.arguments.repositoryId,[e]),[f,h]=(0,cg.useState)(r.contentTypes),[g,y]=(0,cg.useState)(m),[x,b]=(0,cg.useState)(p),v=(0,cg.useRef)(),{updateWorkflowAndAction:w}=yK(),k=xY(r,g),j=xb(),C=(0,cg.useCallback)(e=>{let t=r.actions.findIndex(t=>t.id===e.id),a=[...r.actions];a[t]=e,l({...r,actions:[...a]})},[r]),S=(0,cg.useCallback)(()=>{e.triggerType===hZ.QueryMatched&&(y(m),b(p))},[m,p,e.triggerType]),I=(0,cg.useCallback)(()=>{l({...e}),h(e.contentTypes),s(e.name)},[e]),N=(0,cg.useCallback)(()=>{c(!0)},[]),T=(0,cg.useCallback)(()=>{c(!1)},[]),_=(0,cg.useCallback)(()=>r.actions.map(e=>{switch(e.actionType){case hO.GetItems:return{...e,arguments:{...e.arguments,query:xD(g),repositoryId:x}};case hO.AddProjectItem:return{...e,arguments:{...e.arguments,repositoryId:x}};case hO.GetProjectItems:return{...e,arguments:{...e.arguments,query:g}};default:return e}}),[g,x,r.actions]),R=(0,cg.useCallback)(async e=>{let t=e?_():r.actions;await w({...r,name:i.trim(),contentTypes:[...f],enabled:e},[...t])},[f,_,w,r,i]),P=fx({request:R}),D=(0,cg.useCallback)(async(e=!0)=>{let a=!1;hU(r)&&!r.enabled&&t>0?await j({count:t,confirmationSource:hQ.enable,onConfirm:async()=>await P.perform(e),onDismiss:()=>{a=!0}}):await P.perform(e),"succeeded"!==P.status.current.status||a||c(!1)},[t,P,j,r]);return(0,cg.useEffect)(()=>{u||(I(),S())},[S,I,u]),(0,cg.useEffect)(()=>{let e=_();d(yD({...r,actions:e}).isValid)},[_,r]),{localContentTypes:f,setLocalContentTypes:h,localQuery:g,setLocalQuery:y,localRepositoryId:x,setLocalRepositoryId:b,workflowName:i,setWorkflowName:s,isEditing:u,setIsEditing:c,edit:N,discard:T,save:D,saveWorkflowChanges:v,shouldDisableWorkflowToggle:k,workflow:r,setWorkflow:l,replaceAction:C,initialQuery:m,initialRepositoryId:p,isWorkflowValid:o,setIsWorkflowValid:d}},x0=(0,cg.createContext)(null),x1=({children:e,initialWorkflow:t,startInEditMode:a})=>{let[n,r]=(0,cg.useState)(0),{localContentTypes:l,setLocalContentTypes:i,localQuery:s,setLocalQuery:o,localRepositoryId:d,setLocalRepositoryId:u,workflowName:c,setWorkflowName:m,isEditing:p,setIsEditing:f,edit:h,discard:g,save:y,saveWorkflowChanges:x,shouldDisableWorkflowToggle:b,workflow:v,setWorkflow:w,replaceAction:k,initialQuery:j,initialRepositoryId:C,isWorkflowValid:S,setIsWorkflowValid:I}=xJ(t,n,a),N=xb();return(0,cs.jsx)(x0.Provider,{value:(0,cg.useMemo)(()=>({filterCount:n,setFilterCount:r,localContentTypes:l,shouldDisableWorkflowToggle:b,setLocalContentTypes:i,openWorkflowManualRunConfirmationDialog:N,localQuery:s,setLocalQuery:o,saveWorkflowChanges:x,isEditing:p,setIsEditing:f,edit:h,discard:g,save:y,workflow:v,setWorkflow:w,replaceAction:k,localRepositoryId:d,setLocalRepositoryId:u,workflowName:c,setWorkflowName:m,initialQuery:j,initialRepositoryId:C,isWorkflowValid:S,setIsWorkflowValid:I}),[n,l,i,N,s,o,b,x,p,f,h,g,y,v,w,k,d,u,c,m,j,C,S,I]),children:e})};try{(er=x0).displayName||(er.displayName="AutomationGraphContext")}catch{}try{(el=x1).displayName||(el.displayName="AutomationGraphStateProvider")}catch{}let x2=()=>{let e=(0,cg.useContext)(x0);if(!e)throw Error("useAutomationGraph must be used within an AutomationGraphStateProvider");return e},x5=({icon:e=me.zMQ,heading:t,content:a,children:n,headingAs:r="h2",...l})=>(0,cs.jsxs)(yQ,{...l,children:[(0,cs.jsx)(mt.Z,{icon:e,size:30,sx:{color:"fg.muted"}}),(0,cs.jsx)(mn.Z,{as:r,sx:{mt:3},children:t}),(0,cs.jsx)(mn.Z,{as:"p",sx:{color:"fg.muted"},children:a}),n]});try{(ei=x5).displayName||(ei.displayName="BlankslateErrorMessage")}catch{}let ErrorBoundary=class ErrorBoundary extends cg.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){setTimeout(()=>{throw e})}render(){return this.state.error?this.props.fallback:this.props.children}constructor(e){super(e),this.state={error:null}}};var x3=a(9967);let x4=void 0,x6=(0,x3.r)("github/memex",x4),x8=({children:e})=>(0,cs.jsx)(hJ.RelayEnvironmentProvider,{environment:x6,children:e});try{(es=x8).displayName||(es.displayName="RelayProvider")}catch{}let x7=({endpointPosition:e,workflow:t})=>{let a="top"===e?"to bottom":"to top";return(0,cs.jsx)(cW.Z,{sx:{width:"14px",height:"14px",borderRadius:"50%",marginTop:"top"===e?"-8px":"0px",marginBottom:"bottom"===e?"-8px":"0px",position:"relative",zIndex:1,backgroundImage:e=>`linear-gradient(${a}, ${e.colors.canvas.default} 50%, ${e.colors.border.default} 50%, ${e.colors.border.default})`,"&::before":{content:'""',position:"absolute",top:"1px",left:"1px",width:"12px",height:"12px",backgroundColor:"canvas.default",borderRadius:"50%"},"&::after":{content:'""',position:"absolute",top:"4px",left:"4px",width:"6px",height:"6px",backgroundColor:t.enabled?"accent.emphasis":"border.default",borderRadius:"50%",transition:"background-color 0.3s ease-out"}}})},x9=()=>{let{workflow:e}=x2();return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(x7,{workflow:e,endpointPosition:"top"}),(0,cs.jsx)(cW.Z,{sx:{height:"30px",width:"0",borderColor:e.enabled?"accent.muted":"border.muted",borderLeftWidth:"2px",borderStyle:"solid",borderRight:"none",transition:"border-color 0.3s ease-out"}}),(0,cs.jsx)(x7,{workflow:e,endpointPosition:"bottom"})]})};try{(eo=x7).displayName||(eo.displayName="ConnectorEndpoint")}catch{}try{(ed=x9).displayName||(ed.displayName="Connector")}catch{}var be=a(75308);let bt=({icon:e,iconBg:t,iconColor:a,headerDescription:n,children:r,...l})=>(0,cs.jsx)(cW.Z,{sx:{border:"1px solid #EBEDEF",borderRadius:2,backgroundColor:"canvas.default",width:"fit-content",minWidth:"100%",transition:"border-color 0.3s ease-out",boxShadow:"0px 3px 6px rgba(149, 157, 165, 0.15)"},...l["data-testid"]?l:(0,cK.f)("automation-block"),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,cs.jsxs)(cW.Z,{sx:{p:3,display:"flex",alignItems:"center",borderBottom:r?"1px solid":"none",borderBottomColor:"border.subtle"},children:[e&&(0,cs.jsx)(cW.Z,{sx:{bg:t,width:20,height:20,borderRadius:"4px",p:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,cs.jsx)(mt.Z,{icon:e,size:14,sx:{color:a}})}),n&&(0,cs.jsx)(be.Z,{as:"h4",sx:{fontSize:1,color:"fg.default",ml:2},children:n})]}),r&&(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexWrap:"wrap",flex:"auto",alignItems:"center",m:3},children:r})]})});try{(eu=bt).displayName||(eu.displayName="AutomationBlock")}catch{}let ba=()=>(0,cs.jsx)(bt,{icon:me.pOD,iconBg:"success.subtle",iconColor:"success.fg",headerDescription:p5.addItemBlockLabel,...(0,cK.f)("automation-add-item-block")});try{(ec=ba).displayName||(ec.displayName="AddItemBlock")}catch{}let bn=()=>(0,cs.jsx)(bt,{icon:me.rKT,iconBg:"attention.subtle",iconColor:"attention.fg",headerDescription:p5.archiveItemLabel,...(0,cK.f)("automation-archive-block")});try{(em=bn).displayName||(em.displayName="ArchiveBlock")}catch{}var br=a(27311);let bl=cw.F4`
  0% {
    transform: translateX(-100%);
  }
  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }
  100% {
    transform: translateX(100%);
  }
`,bi=(0,cw.ZP)(cW.Z)`
  position: relative;
  overflow: hidden;
  mask-image: radial-gradient(white, black);
  &::after {
    animation: ${bl} 1.6s linear 0.5s infinite;
    background: linear-gradient(90deg, transparent, ${(0,ch.U2)("colors.neutral.subtle")}, transparent);
    content: '';
    position: absolute;
    transform: translateX(-100%); /* Avoid flash during server-side hydration */
    bottom: 0;
    left: 0;
    right: 0;
    top: 0;
  }
  background-color: ${(0,ch.U2)("colors.neutral.subtle")};
  border-radius: ${({theme:e,variant:t})=>{switch(t){case"rounded":return(0,ch.U2)("radii.1")(e);case"pill":return"100px";case"elliptical":return"50%";default:return"0"}}};
  display: block;
  ${({variant:e})=>"elliptical"===e&&{borderRadius:"50%"}}
  width: ${({width:e})=>{switch(e){case"random":return`${Math.floor(40*Math.random()+40)}%`;case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}}};
  height: ${({height:e})=>{switch(e){case"xl":return"32px";case"lg":return"24px";case"md":return"20px";case"sm":return"16px";default:return e}}};
  ${ma.Z}
`;try{(ep=bi).displayName||(ep.displayName="LoadingSkeletonComponent")}catch{}async function bs({repositoryId:e,query:t,memexNumber:a}){let n=cQ("count-issues-and-pulls-api-data"),r=new URL(n.url,window.location.origin);r.searchParams.set("repositoryId",`${e}`),r.searchParams.set("q",t),r.searchParams.set("memexNumber",`${a}`);let{data:l}=await fd(r);return l}let bo=()=>{let[e,t]=(0,cg.useState)(),[a,n]=(0,cg.useState)(0),[r,l]=(0,cg.useState)(""),i=(0,cg.useRef)(),{localQuery:s,setLocalRepositoryId:o,setLocalQuery:d,setLocalContentTypes:u}=x2(),{projectNumber:c}=fN(),{projectOwner:m}=f1(),p=(0,cg.useMemo)(()=>`-project:${m?.login}/${c}`,[c,m]),f=(0,cg.useCallback)(e=>bs(e),[]),h=fx({request:f}),g=(0,cg.useCallback)(async(e,t)=>{if(e){await h.perform({repositoryId:e.id,query:t,memexNumber:c});let{data:a,status:r}=h.status.current;"succeeded"===r&&a&&n(a.count)}},[h,c]),y=(0,cg.useCallback)((e,t)=>{let a=xD(t);g(e,a),l(`https://github.com/${e.nameWithOwner}/issues?q=${encodeURIComponent(`${p} ${a}`)}`)},[g,p]),x=(0,cg.useCallback)(t=>{d(t),i.current&&i.current.cancel(),i.current=(0,fb.Z)(()=>{e&&(y(e,t),u(xE(t)))},200),i.current()},[d,e,y,u]),b=(0,cg.useCallback)(e=>{y(e,s),t(e),o(e.id)},[s,o,y]);return{count:a,searchResultUrl:r,onSearchQueryChange:x,onRepositoryChange:b,repository:e}};var bd=a(16545),bu=a(19418);async function bc(e){let t=cQ("search-repositories-api-data"),a=new URL(t.url,window.location.origin);a.searchParams.set("q",e);let{data:n}=await fd(a);return n}async function bm(e,t){let a=cQ("suggested-repositories-api-data"),n=new URL(a.url,window.location.origin);null!=e&&n.searchParams.append("memexNumber",`${e}`),null!=t&&n.searchParams.append("repositoryId",`${t}`);let{data:r}=await fd(n);return r}let bp=(0,cg.createContext)(null),bf=({children:e})=>{let t=(0,cg.useRef)([]),{projectNumber:a}=fN(),n=(0,cg.useRef)(null),r=(0,cg.useRef)(null),l=(0,cg.useCallback)(e=>{if(e&&!t.current.find(t=>t.id===e))return!0;let a=Date.now(),r=n.current,l=null==r||a-r>3e4;return l&&(n.current=a),l},[]),i=(0,cg.useCallback)(async e=>{if(!l(e)){if(r.current){let e=await r.current;return e.repositories}if(t.current.length>0)return t.current}r.current=bm(a,e);let n=await r.current;return t.current=n.repositories,r.current=null,n.repositories},[l,a]),s=(0,cg.useCallback)(()=>{n.current=null},[]),o=(0,cg.useMemo)(()=>({suggestRepositories:i,repositoriesRef:t,clearCachedSuggestions:s}),[i,s]);return(0,cs.jsx)(bp.Provider,{value:o,children:e})};try{(ef=bp).displayName||(ef.displayName="RepositoriesContext")}catch{}try{(eh=bf).displayName||(eh.displayName="RepositoriesStateProvider")}catch{}let bh=()=>{let e=(0,cg.useContext)(bp);if(!e)throw Error("useRepositories must be used within a RepositoriesStateProvider");let{suggestRepositories:t,repositoriesRef:a,clearCachedSuggestions:n}=e;return{clearCachedSuggestions:n,suggestRepositories:t,repositoriesRef:a}},bg=({repository:e,...t})=>e.isArchived?(0,cs.jsx)(mt.Z,{icon:me.rKT,"aria-label":"Archived repository",...t}):e.isForked?(0,cs.jsx)(mt.Z,{icon:me.jcu,"aria-label":"Forked repository",...t}):e.isPublic?(0,cs.jsx)(mt.Z,{icon:me.H0r,"aria-label":"Public repository",...t}):(0,cs.jsx)(mt.Z,{icon:me.mBM,"aria-label":"Private repository",...t});try{(eg=bg).displayName||(eg.displayName="RepositoryIcon")}catch{}let by=({targetRepositoryId:e,isEditing:t,onRepositorySelected:a,onNoSuggestedRepositories:n,sx:r})=>{let l=(0,cg.useRef)(null),i=(0,cg.useRef)(null),[s,o]=(0,cg.useState)(""),[d,u]=(0,cg.useState)(!1),[c,m]=(0,cg.useState)(!1),[p,f]=(0,cg.useState)(void 0),[h,g]=(0,cg.useState)([]),[y,x]=(0,cg.useState)([]),b=(0,cg.useRef)(),{suggestRepositories:v}=bh(),w=(0,cg.useRef)(y),k=(0,cg.useRef)(0),j=(0,cg.useRef)(!1);(0,bd.P)({restoreFocusOnCleanUp:!0,initialFocusRef:l,containerRef:i});let C=(0,cg.useCallback)(()=>{u(!1)},[]),S=(0,cg.useCallback)(async()=>{if(w.current.length||j.current)return;j.current=!0,m(!0);let t=await v(e);k.current+=1,t&&(w.current=t),t&&x(t),j.current=!1,m(!1)},[v,e]),I=(0,cg.useCallback)(e=>(""!==s?h:y).find(t=>t.id===e),[s,h,y]),N=(0,cg.useCallback)(()=>{let t=y.find(t=>t.id===e),n=t||y[0];n&&(f({id:n.id,text:n.name,leadingVisual:()=>bg({repository:n})}),a(n))},[y,e,a]);(0,cg.useEffect)(()=>{p||N()},[N,p]),(0,cg.useEffect)(()=>{p?.id!==e&&N()},[N,p?.id,e]),(0,cg.useEffect)(()=>{!j.current&&(0===k.current?S():e&&!y.find(t=>t.id===e)&&k.current<2?(w.current=[],S()):0===w.current.length&&n&&n())},[S,n,y,e]);let T=e=>{o(e),R(e)},_=(0,cg.useCallback)(async e=>{if(""!==e){m(!0);let{repositories:t}=await bc(e);g(t),m(!1)}else g(y??[])},[y]),R=(0,cg.useCallback)(e=>{b.current&&b.current.cancel(),b.current=(0,fb.Z)(()=>_(e),200),b.current()},[_]),P=e=>{if(e?.id){let t=I(e.id);t&&(f({id:t.id,text:t.name,leadingVisual:()=>bg({repository:t})}),a(t))}},D=(""!==s?h:y).map(e=>{let{projectOwner:t}=f1(),a=e.nameWithOwner.split("/")[0],n=a?.toLowerCase()!==t?.login.toLowerCase()?e.nameWithOwner:e.name;return{...e,text:n,leadingVisual:()=>bg({repository:e}),selectionVariant:"single",descriptionVariant:"block",selected:void 0,onAction:(t,a)=>{a.preventDefault(),P(e),C()}}});return(0,cs.jsx)(cs.Fragment,{children:y.length>0?(0,cs.jsx)(bu.b,{placeholderText:pX.repoPickerFilterPlaceholder,open:d,renderAnchor:({children:e,...a})=>(0,cs.jsx)(xh.z,{sx:r,disabled:!p||!t,leadingIcon:p?.leadingVisual,trailingIcon:me.AS7,...a,...(0,cK.f)("repo-suggestions-button"),children:e||"Select Repo"}),onOpenChange:()=>u(!0),loading:c,selected:p,filterValue:s,items:D,showItemDividers:!0,onFilterChange:T,onSelectedChange:P,overlayProps:{width:"small",onMouseDown:e=>e.stopPropagation(),height:"auto",onClickOutside:C,...(0,cK.f)("repo-picker-repo-list")}}):(0,cs.jsx)(bi,{variant:"rounded",width:"138px",height:"32px"})})};function bx(e){return e.dataType===c7.Date||e.dataType===c7.Number||e.dataType===c7.Iteration}by.displayName="RepositoryPicker";let bb={open:"open",closed:"closed",merged:"merged",draft:"draft",issue:"issue",pr:"pr"},bv={not_planned:"not planned",completed:"completed",reopened:"reopened"},bw={seven_days:"7days",fourteen_days:"14days",twenty_one_days:"21days"},bk={seven_days:"<@today-7d",two_weeks:"<@today-2w",one_month:"<@today-1m"},bj={is:bb,reason:bv,"last-updated":bw,updated:bk},bC=new Set(["reason"]),bS=e=>bC.has(e.toLowerCase()),bI=[{keyword:"is",isFilterable:!0,description:"Filter by item state or type"},{keyword:"no",isFilterable:!1,description:""},{keyword:"reason",isFilterable:!0,description:"Filter by item's state reason"},{keyword:"last-updated",isFilterable:!0,description:"Filter by item last updated"},{keyword:"updated",isFilterable:!0,description:"Filter by item's updated date"}];function bN(){let e=(0,cg.useCallback)(e=>bI.map(e=>e.keyword).includes(e),[]);return{FilterKeywords:bI,isKeywordQualifier:e}}let bT={None:"none",ColumnOnly:"column-only",ColumnAndValues:"column-and-values"},b_=e=>"last-updated"===e||"updated"===e;function bR({query:e,columns:t,commands:a=[],options:n={suggestColumns:!0}}){let{searchTokens:r}=(0,cg.useMemo)(()=>yn(e),[e]),l=(0,cg.useCallback)(e=>{let t="";if(r.length){let e=r[r.length-1];void 0!==e&&(t=e)}return yl(t)&&(t=t.substr(1)),!!(0===t.length||ym(e).startsWith(t.toLowerCase())||yp(e).startsWith(t.toLowerCase()))},[r]),i=(0,cg.useMemo)(()=>a.filter(t=>!e||!!t.name.toLowerCase().startsWith(e.toLowerCase())),[a,e]),s=(0,cg.useMemo)(()=>{let e=n.suggestColumns?t.filter(e=>l(e.name)):[];return void 0!==n.showColumnSuggestionIf&&(e=e.filter(e=>{let t=n.showColumnSuggestionIf?.(e.name);return t===bT.ColumnOnly||t===bT.ColumnAndValues})),e},[t,l,n]),{FilterKeywords:o}=bN(),d=(0,cg.useMemo)(()=>{let e=o.map(e=>e.keyword);return n.suggestColumns?e:e.filter(e=>"no"!==e)},[o,n.suggestColumns]),u=(0,cg.useMemo)(()=>d.filter(e=>l(e)),[l,d]);return{displayableColumns:s,displayableCommands:i,displayableKeywords:u}}let bP=()=>{let e=(0,cg.useContext)(xB);if(!e)throw Error("useColumnsContext must be used within a ColumnsContext.Provider");return e},bD=()=>bP();function bE(){let{allColumns:e}=bD(),t=(0,cg.useMemo)(()=>yu(e),[e]),a=(0,cg.useCallback)(e=>t.get(ym(e)),[t]);return{findFilterableFieldByName:a}}var bL=a(26012);let bA=["GRAY","BLUE","GREEN","YELLOW","ORANGE","RED","PINK","PURPLE"],bM={BLUE:"accent",GREEN:"success",YELLOW:"attention",ORANGE:"severe",RED:"danger",PINK:"sponsors",PURPLE:"done"},bF=e=>"light_colorblind"===e||"light_tritanopia"===e?"light":"dark_colorblind"===e||"dark_tritanopia"===e?"dark":e,bZ=(e="GRAY")=>{let{theme:t,resolvedColorScheme:a="light"}=(0,cc.Fg)(),n=bF(a),r=t?.colorSchemes?.[n]?.colors;if("GRAY"===e)return{bg:r?.canvas?.subtle,fg:r?.fg?.muted,border:r?.border?.default,accent:r?.fg?.subtle};{let t=r?.[bM[e]];return{bg:t?.subtle,fg:t?.fg,border:t?.muted,accent:t?.emphasis}}},bO=e=>bA.includes(e),b$=({color:e,sx:t})=>{let{accent:a}=bZ(e);return"GRAY"!==e?(0,cs.jsx)(cW.Z,{sx:{bg:a,width:16,height:16,borderRadius:8,flexShrink:0,...t}}):null};try{(ey=b$).displayName||(ey.displayName="ColorDecorator")}catch{}let bV={UserDefined:0,SystemNo:1,SystemExclude:2,Me:3,PreviousIteration:4,NextIteration:5,CurrentIteration:6,TodayToken:6};function bB(e,t){let a=(0,cg.useCallback)((a,n,r,l)=>{let i=a.databaseId,s=bH(e,a,t);n||(l||s.set(`exclude-${i}`,{value:`exclude-${i}`,priority:bV.SystemNo}),s.set(`empty-${i}`,{value:`empty-${i}`,priority:bV.SystemExclude}));let o=Array.from(s.keys());o.sort((e,t)=>(s.get(t)?.priority??bV.UserDefined)-(s.get(e)?.priority??bV.UserDefined));let d=o.filter(e=>{if("string"!=typeof e)return!1;if("date"===a.dataType){if(e.toLowerCase().includes(r))return!0;let t=s.get(e),a=t&&(t.priority??bV.UserDefined)===bV.UserDefined;if(a)return t.value.toLowerCase().includes(r)}return!n.includes(e)&&e.toLowerCase().includes(r)});return 1===d.length&&d[0]?.toLowerCase()===r&&d.pop(),{filteredKeys:d,uniqueColumnValues:s}},[e,t]);return{getSuggestionsForColumn:a}}function bz(e){return new Map([...e.entries()].sort((e,t)=>{let a=e[1].priority??0,n=t[1].priority??0,r=n-a;if(0!==r)return r;let l=e[0],i=t[0];return l.localeCompare(i)}))}function bU(e,t,a){for(let n of t){let t=n.columns;if(!t[e.id])continue;let r=t[e.id];r&&a(r)}}let bK=({color:e,nameHtml:t})=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden",gap:2},children:[(0,cs.jsx)(b$,{color:e,sx:{height:14,width:14}}),(0,cs.jsx)(y9,{children:t})]}),bW=({color:e,nameHtml:t})=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden",gap:2},children:[(0,cs.jsx)(cW.Z,{sx:{bg:`#${e}`,borderColor:`#${e}`,width:14,minWidth:14,height:14,borderRadius:10,borderWidth:"1px",borderStyle:"solid"}}),(0,cs.jsx)(y9,{children:t})]});function bH(e,t,a){let{loggedInUser:n}=f1(),r=new Map;if(!t)return r;switch(t.dataType){case c7.SingleSelect:for(let e of t.settings.options??[])r.set(e.name,{value:e.nameHtml,renderItem:()=>(0,cs.jsx)(bK,{color:e.color,nameHtml:e.nameHtml})});return r;case c7.Number:{let a=new Set;for(let n of(bU(t,e,e=>{a.add(e.value)}),[...a].sort((e,t)=>e-t)))r.set(`${n}`,{value:`${n}`});return r}case c7.Iteration:{r.set(gS.Current,{value:gS.Current,priority:bV.CurrentIteration}),r.set(gS.Next,{value:gS.Next,priority:bV.NextIteration}),r.set(gS.Previous,{value:gS.Previous,priority:bV.PreviousIteration});let a=new Set;for(let n of(bU(t,e,e=>{a.add(e.id)}),gp(t))){let e=a.has(n.id);e&&r.set(n.title,{value:n.titleHtml})}break}case c7.TrackedBy:bU(t,e,e=>{for(let t of e){let e=f_(t);r.set(e,{value:e,renderItem:()=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,cs.jsx)(xr,{state:t.state,type:"Issue",isDraft:!1}),(0,cs.jsx)(mn.Z,{sx:{mr:2,ml:2},children:t.title}),(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted",fontSize:12},children:e})]})})}});break;case c7.Assignees:bU(t,e,e=>{bG(r,n,e)});break;case c7.Labels:if(a?.labels)for(let e of a.labels)r.set(e.name,{value:e.nameHTML,renderItem:()=>(0,cs.jsx)(bW,{nameHtml:e.nameHTML,color:e.color})});else bU(t,e,e=>{for(let t of e)r.set(t.name,{value:t.nameHtml,renderItem:()=>(0,cs.jsx)(bW,{nameHtml:t.nameHtml,color:t.color})})});break;case c7.LinkedPullRequests:bU(t,e,e=>{for(let t of e)r.set(t.number.toString(),{value:t.number.toString(),renderItem:()=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,cs.jsx)(xr,{isDraft:t.isDraft,state:t.state,type:mu.PullRequest}),(0,cs.jsx)(mn.Z,{sx:{ml:2},children:`#${t.number}`})]})})});break;case c7.Repository:bU(t,e,e=>{r.set(e.nameWithOwner,{value:e.nameWithOwner,renderItem:()=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,cs.jsx)(bg,{repository:e}),(0,cs.jsx)(mn.Z,{sx:{ml:2},children:e.nameWithOwner})]})})});break;case c7.Reviewers:bU(t,e,e=>{bG(r,n,e)});break;case c7.Milestone:if(a?.milestones)for(let e of a.milestones)r.set(e.title,{value:e.title});else bU(t,e,e=>{r.set(e.title,{value:e.title})});break;case c7.Title:bU(t,e,e=>{let t=m4(e);r.set(t,{value:t})});break;case c7.Text:bU(t,e,e=>{r.set(e.raw,{value:e.html})});break;case c7.Date:r.set(mc,{value:mc,priority:bV.TodayToken}),bU(t,e,e=>{let t=m0(e);if(t){let e=m3(t.value),a=m5(t.value);e&&a&&r.set(e,{value:a})}})}return bz(r)}function bG(e,t,a){for(let n of(t?.login&&e.set("@me",{value:"@me",priority:bV.Me}),a)){let t="reviewer"in n?n.reviewer.name:n.login,a="reviewer"in n?n.reviewer.avatarUrl:n.avatarUrl;e.set(t,{value:t,renderItem:()=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,cs.jsx)(bL.Z,{loading:"lazy",sx:{minWidth:"20px",mr:2},alt:t,src:a}),(0,cs.jsx)(mn.Z,{children:t})]})})}}try{(ex=bK).displayName||(ex.displayName="SingleSelectSuggestion")}catch{}try{(eb=bW).displayName||(eb.displayName="LabelSuggestion")}catch{}var bq=a(31171);let bQ=(e="")=>{let t=(0,cg.useId)();return e.trim()?`${e}:${t}`:t};function bX(e){let{originRef:t,contentRef:a,contentWidth:n,contentHeight:r}=e,l=e.alignment??{xAlign:void 0,yAlign:void 0,xOriginEdgeAlign:void 0,yOriginEdgeAlign:void 0,yTopOffset:12},i=n&&r,s=i||a.current,o=i,d=0,u=0;if(t.current&&s){let e=t.current.getBoundingClientRect(),s=parseInt(window.getComputedStyle(t?.current).getPropertyValue("margin-left")),c=i?{width:0,height:0}:gZ(a.current).getBoundingClientRect(),m={width:n??c.width,height:r??c.height};switch(o=m.width&&m.height,l.yAlign=bY(l.yOriginEdgeAlign||l.yAlign,m,e),l.xAlign=bJ(l.xOriginEdgeAlign||l.xAlign,m,e),l.xAlign){case"left":switch(l.xOriginEdgeAlign){case void 0:case"left":u=e.left;break;case"right":u=e.left+e.width-s}break;case"center":u=e.left+e.width/2;break;case"right":u=e.left-(m.width-e.width)}switch(l.yAlign){case"top":d=e.top-m.height+(l.yTopOffset??12);break;case"middle":d=e.top-m.height/2+(l.yTopOffset??12);break;case"bottom":d=e.top+e.height+4}}return{top:Math.round(d),left:Math.round(u),yAlign:l.yAlign,xAlign:l.xAlign,hasContentDimensions:o}}function bY(e,t,a){let n=a.top,r=window.innerHeight-a.bottom,l={top:n>t.height,middle:n>t.height,bottom:r>t.height};return void 0!==e&&l[e]?e:l.bottom?"bottom":"top"}function bJ(e,t,a){let n=window.innerWidth-a.left,r=n<t.width,l={left:!r,center:!r,right:r};return void 0!==e&&l[e]?e:l.left?"left":"right"}let b0=({inputRef:e,selectedIndex:t,getListItemId:a})=>{(0,cg.useEffect)(()=>{let n=e.current;if(n){let e=a(t);-1!==t&&e?n.setAttribute("aria-activedescendant",e):n.removeAttribute("aria-activedescendant")}return()=>{n?.removeAttribute("aria-activedescendant")}},[e,t,a])};function b1(e,t,a){return b5(e,t,a)}function b2(){return b5(null,[],{stopPropagation:!0,preventDefault:!1})}function b5(e,t,a){let n=a?.preventDefault??!0,r=a?.stopPropagation??!0;return(0,cg.useCallback)(t=>{(!e||e&&Boolean(e(t)))&&(n&&t.preventDefault(),r&&t.stopPropagation())},[n,r,...t])}let b3=({children:e,id:t,onMount:a})=>{let n=pZ(a),r=yJ(()=>document.createElement("div"));return t&&r.current.setAttribute("id",t),(0,cg.useEffect)(()=>{let e=r.current,t=document.getElementById("portal-root");return t?.appendChild(e),n.current&&n.current(),function(){t?.removeChild(e)}},[r,n]),(0,yX.createPortal)((0,cs.jsx)(cm.Z,{display:"contents",children:e}),r.current)};try{(ev=b3).displayName||(ev.displayName="Portal")}catch{}let b4=(0,cw.ZP)("li")`
  position: relative;
  background-color: ${(0,ch.U2)("colors.canvas.overlay")};
  line-height: ${(0,ch.U2)("lineHeights.default")};
  padding: 6px 8px;
  margin: 0px 8px;
  font-size: ${(0,ch.U2)("fontSizes.1")};
  border-radius: ${(0,ch.U2)("radii.2")};
  color: ${(0,ch.U2)("colors.fg.default")};
  cursor: pointer;
  height: 32px;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;

  &.is-selected {
    background-color: ${(0,ch.U2)("colors.actionListItem.default.activeBg")};

    &::after {
      position: absolute;
      top: calc(50% - 12px);
      left: -8px;
      width: 4px;
      height: 24px;
      content: '';
      background-color: rgb(9, 105, 218);
      border-radius: 6px;
    }
  }

  &:not(.is-selected):hover {
    background-color: ${(0,ch.U2)("colors.actionListItem.default.activeBg")};

    &::after {
      position: absolute;
      top: calc(50% - 12px);
      left: -8px;
      width: 4px;
      height: 24px;
      content: '';
      background-color: rgb(9, 105, 218);
      border-radius: 6px;
    }
  }
`,b6=e=>{let t={ref:e.selectedItemRef,className:e.selected?"is-selected":"",onClick:t=>{e.onSelect(),t.stopPropagation()},id:e.id,role:"option","aria-selected":e.selected,...(0,cK.f)(e.testId)};return e.renderItem?(0,cs.jsx)(b4,{...t,children:e.renderItem()}):e.asHTML?(0,cs.jsx)(b4,{...t,children:(0,cs.jsx)(y9,{children:e.value})}):(0,cs.jsx)(b4,{...t,children:e.value})};b6.displayName="SuggestionsListItem";try{(ew=b4).displayName||(ew.displayName="StyledSuggestionsListItem")}catch{}let b8={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute"},b7=(0,cg.forwardRef)(function({as:e="span",children:t,...a},n){return(0,cs.jsx)(e,{...a,style:b8,ref:n,children:t})});try{(ek=b7).displayName||(ek.displayName="VisuallyHidden")}catch{}let b9=e=>{let[t,a]=(0,cg.useState)(0),{items:n,controllingElementRef:r}=e,l=(0,cg.useCallback)(e=>n[e]?.testId,[n]);b0({inputRef:r,selectedIndex:t,getListItemId:l}),(0,cg.useEffect)(()=>{a(0)},[n.length]);let i=(0,cg.useCallback)(()=>{a(e=>null==e||e+1===n.length?0:e+1)},[n.length]),s=(0,cg.useCallback)(()=>{a(e=>null==e||0===e?n.length-1:e-1)},[n.length]);(0,cg.useLayoutEffect)(()=>{d.current?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[t]);let o=b1(e=>{switch(e.key){case"ArrowDown":return i(),!0;case"ArrowUp":return s(),!0;case"Enter":if(n.length)return n[t]?.onSelect(),!0;return!1;default:return!1}},[n,i,s,t]);(0,cg.useEffect)(()=>(addEventListener("keydown",o),()=>{removeEventListener("keydown",o)}),[o]);let d=(0,cg.useRef)(null),u=bQ("__omnibarPortalRoot__");return n.length>0?(0,cs.jsx)(b3,{id:u,children:(0,cs.jsx)(ve,{items:n,controllingElementRef:e.controllingElementRef,listRef:e.listRef,selectedItemIndex:t,selectedItemRef:d,xAlign:e.xAlign,xOriginEdgeAlign:e.xOriginEdgeAlign,testId:e.testId,style:e.style})}):null};function ve({items:e,controllingElementRef:t,listRef:a,selectedItemIndex:n,selectedItemRef:r,xAlign:l,xOriginEdgeAlign:i,testId:s,style:o}){let d=(0,cg.useRef)(null);return(0,bq.z)(a,d),vt({controllingElementRef:t,items:e,listRef:d,xAlign:l,xOriginEdgeAlign:i}),(0,cs.jsxs)("div",{role:"dialog","aria-label":"Filter sugestions",children:[(0,cs.jsx)(va,{id:s,"aria-label":"results",role:"listbox",ref:d,...(0,cK.f)(s),style:o,children:e.map((e,t)=>(0,cs.jsx)(b6,{id:e.testId,value:e.value,testId:e.testId,asHTML:e.asHTML,onSelect:e.onSelect,renderItem:e.renderItem,selected:n===t,selectedItemRef:n===t?r:null},t))}),(0,cs.jsx)(b7,{id:`${s}-feedback`,"aria-live":"polite","aria-atomic":"true",...(0,cK.f)(`${s}-feedback`),children:pX.resultCount(e.length)})]})}function vt({controllingElementRef:e,items:t,listRef:a,xAlign:n="left",xOriginEdgeAlign:r="right"}){(0,cg.useEffect)(()=>{let{current:t}=a;if(!e.current||!t)return;let l=bX({originRef:e,contentRef:a,alignment:{xAlign:n,xOriginEdgeAlign:r}});t.style.top=`${l.top}px`,t.style.left=`${l.left}px`,t.style.transition="left 0.1s ease"},[e,t,a,n,r])}let va=(0,cw.ZP)("ul")`
  position: absolute;
  width: 300px;
  max-height: 220px;
  z-index: 200;
  overflow-y: auto;
  overflow-x: hidden;
  margin: 0px 0px 0px 22px;
  padding: 8px 0 8px 4px;
  list-style: none;

  background-color: ${(0,ch.U2)("colors.canvas.overlay")};
  border-radius: 12px;
  box-shadow: ${(0,ch.U2)("shadows.shadow.large")};
  ${e=>({...e.style})}
`;b9.displayName="SuggestionsList";try{(ej=va).displayName||(ej.displayName="StyledSuggestionsList")}catch{}let vn="side-panel",vr="row-dragger-menu",vl="draft_convert",vi="draft_open",vs="memex_project_field_group_by",vo="aggregation_settings_menu",vd="field_sort_asc",vu="field_sort_desc",vc="table header menu",vm="horizontal_group_menu",vp="field_hide",vf="command palette",vh="search bar",vg="layout_switch",vy="view options menu",vx="item_rename",vb={SUCCESS:"success",FAILURE:"failure"},vv="tab navigation",vw="settings_field",vk="settings sidebar nav",vj="settings_field_save",vC="settings",vS="table header menu",vI="item_value_edit",vN="item_value_add",vT="table row action menu",v_="table row keyboard shortcut",vR="board card action menu",vP="board card keyboard shortcut",vD="board column action menu",vE="roadmap row action menu",vL="description_add",vA="description_update",vM="side-panel",vF="top_menu",vZ="readme_add",vO="readme_add",v$="settings",vV="insights_chart_create",vB="insights_chart_update",vz="side_panel_navigate_to_item",vU="bulk_add_side_panel_open",vK={Table:"table_layout",Board:"board_layout",List:"list_layout",Roadmap:"roadmap_layout"},vW=()=>({hideItemsCount:!1,sum:[]}),vH=["id","number","createdAt","updatedAt","priority"],vG="none",vq={Month:"month",Quarter:"quarter",Year:"year"},vQ={Table:"table",Board:"board",List:"list",Roadmap:"roadmap"},vX={[vK.Board]:vQ.Board,[vK.Table]:vQ.Table,[vK.List]:vQ.List,[vK.Roadmap]:vQ.Roadmap},vY={[vQ.Board]:vK.Board,[vQ.Table]:vK.Table,[vQ.List]:vK.List,[vQ.Roadmap]:vK.Roadmap};let EnumValueError=class EnumValueError extends Error{constructor(e,t,a){super(pX.invalidFieldValues({name:e,value:`${t}`,fields:ps(Object.keys(a))})),Object.setPrototypeOf(this,new.target.prototype),this.name="EnumValueError"}};function vJ(e){let t=vX[e];if(!t)throw new EnumValueError("ViewTypeParam",e,vK);return t}function v0(e){let t=vY[e];if(!t)throw new EnumValueError("ViewType",e,vQ);return t}async function v1(e){let t=cQ("stats-post-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}let v2=(0,cg.createContext)(null),v5=()=>{let e=(0,cg.useContext)(v2);if(!e)throw Error("useViews must be used within a ViewProvider");return e},v3=()=>{let e=(0,cg.useContext)(v2);return e?.currentView?.number},v4=()=>{let e=v3(),{loggedInUser:t}=f1(),a=(0,cg.useCallback)(a=>{t?.id&&v1({payload:{memexProjectViewNumber:e,...a}})},[e,t]);return{postStats:a}};function v6(){let{allColumns:e}=bD(),t=(0,cg.useMemo)(()=>yu(e),[e]),{isKeywordQualifier:a}=bN(),n=(0,cg.useCallback)((e,n,r)=>v8(e,n,t,a,r),[t,a]);return{itemMatchesFilterQuery:n}}function v8(e,t,a,n,r){if(e instanceof RedactedItemModel)return!1;let l=e.updatedAt?mU(h5(e.updatedAt)):void 0,i=e.columns,s=!!t.fieldFilters.length,o=s&&t.fieldFilters.some(e=>e[1].length>0),d=r||[...a.values()];if(s&&o){let e=!0;for(let r of t.fieldFilters){let t=r[0],s=r[1],o=yl(t);o&&(t=t.substring(1));let d=a.get(ym(t));if(!n(t)&&!d)return!1;let u=bS(t),c=!1;if(yr(t)&&s.length)for(let t of s){let n=a.get(ym(t));if(n&&(e=g7({columnData:i,column:n,matchEmpty:!0,matchNegated:o})))break}else if(n(t)){if(!s.length)return!0;for(let a of s){if("last-updated"===t){e=g9({itemUpdateAtDate:l,value:a,matchNegated:o});break}if("updated"===t){e=yt({itemUpdateAtDate:l,value:a,matchNegated:o});break}switch(a){case bj.is.open:case bj.is.closed:case bj.is.merged:e=g8({columnData:i,field:"state",value:a,matchNegated:o});break;case bj.is.issue:case bj.is.pr:e=g8({columnData:i,field:"type",value:a,matchNegated:o});break;case bj.is.draft:e=g8({columnData:i,field:"state",value:a,matchNegated:o})||g8({columnData:i,field:"type",value:a,matchNegated:o});break;case bj.reason.not_planned:case bj.reason.completed:case bj.reason.reopened:e=g8({columnData:i,field:"reason",value:a,matchNegated:o});break;default:if(!u)return!1;c=!0}if(o&&!e||!o&&e)break}}if(d&&!u||u&&c){if(!d)return!1;if(!s.length)continue;e=g7({columnData:i,column:d,values:s,matchNegated:o})}if(!e)break}return!!e&&(t.searchTokens.length&&(e=g6(i,d,t.searchTokens)),e)}return s?!t.searchTokens.length||g6(i,d,t.searchTokens):(!(t.normalisedQuery.length>0)||0!==t.searchTokens.length)&&g6(i,d,t.searchTokens)}function v7(){let e=(0,cx.TH)();for(let t of[ha,ht]){let a=t.matchPath(e.pathname);if(a)return{projectViewRoutesMatch:a,isProjectViewRoute:!0}}return{projectViewRoutesMatch:null,isProjectViewRoute:!1}}let v9={SetSortedBy:"SetSortedBy",SetHorizontalGroupedBy:"SetHorizontalGroupedBy",ClearHorizontalGroupedBy:"ClearHorizontalGroupedBy",SetVerticalGroupedBy:"SetVerticalGroupedBy",ClearSortedBy:"ClearSortedBy",SetViewType:"SetViewType",SetFilter:"SetFilter",ShowField:"ShowField",HideField:"HideField",ToggleField:"ToggleField",MoveField:"MoveField",GoToViewNumber:"GoToViewNumber",ResetViewState:"ResetViewState",AddField:"AddField",RemoveField:"RemoveField",SetState:"SetState",SaveViewName:"SaveViewName",AddView:"AddView",DeleteView:"DeleteView",UpdateView:"UpdateView",SetViews:"SetViews",SetLocalViewState:"SetLocalViewState",SetViewServerStates:"SetViewServerStates",ReorderView:"ReorderView",ToggleItemsCount:"ToggleItemsCount",AddFieldAggregation:"AddFieldAggregation",RemoveFieldAggregation:"RemoveFieldAggregation",SetRoadmapDateFields:"SetRoadmapDateFields",SetRoadmapZoomLevel:"SetRoadmapZoomLevel",SetColumnWidths:"SetColumnWidths",ToggleRoadmapMarkerFields:"ToggleRoadmapMarkerFields"},we=(0,cg.createContext)(null);function wt(){let e=(0,cg.useContext)(we);if(!e)throw Error("useViewType must be used inside a ViewTypeProvider");return e}let wa=(0,cg.createContext)(null),wn=()=>{let e=(0,cg.useContext)(wa);if(!e)throw Error("useSearch must be used inside a SearchProvider");return e},wr=(0,cg.memo)(function({children:e}){let{currentView:t,viewStateDispatch:a}=v5(),{memex_filter_bar_always_visible:n}=xO(),r=(0,cg.useCallback)((e,t)=>{a({type:v9.SetFilter,viewNumber:e,filter:t})},[a]),l=t?.localViewState.filter??"",i=(0,cg.useMemo)(()=>t?.localViewStateDeserialized.visibleFields??[],[t?.localViewStateDeserialized.visibleFields]),{viewType:s}=wt(),{allColumns:o}=bD(),{itemMatchesFilterQuery:d}=v6(),u=(0,cg.useRef)(null),c=(0,cg.useRef)(null),{postStats:m}=v4(),p=(0,cg.useRef)(),f=(0,cg.useMemo)(()=>yw(l),[l]),[h,g]=(0,cg.useState)(()=>f.normalisedQuery.trim().length>0),y=n||s===vQ.Board||h,x=(0,cg.useRef)(t?.number);(0,cg.useLayoutEffect)(()=>{x.current!==t?.number&&g(l.trim().length>0)},[l,t?.number]),(0,cg.useEffect)(()=>{x.current=t?.number});let b=(0,cg.useCallback)((e,a={})=>{t&&r(t.number,yv(l,e,a))},[t,l,r]),v=(0,cg.useCallback)((e,t)=>f.fieldFilters.some(([a,n])=>a===e.toLowerCase()&&n.includes(t.toLowerCase())),[f.fieldFilters]),w=(0,cg.useCallback)((e,a)=>{if(!t?.number)return;let n=ym(e),r=a.toString();b(n,{value:r})},[b,t]),k=(0,cg.useCallback)((e,a)=>{if(!t?.number)return;let n=ym(e),i=a.toString();r(t.number,yj(n,i,l))},[t,l,r]),j=(0,cg.useCallback)((e,a)=>{if(!t?.number)return;let n=ym(e),r=a.toString(),l=v(n,r)?k:w;l(n,r)},[t,v,w,k]),C=(0,cg.useCallback)((e,a)=>{if(!t?.number)return;let n=e.toLowerCase(),i=a.toString(),s=o.filter(wl).find(e=>e.name.toLowerCase()===("-"===n[0]?n.slice(1):n)),d=yR(s);r(t.number,yS(l,n,i,{columnOptions:d}))},[t,l,r,o]),S=(0,cg.useCallback)(e=>!!t&&d(e,f,i),[i,t,f,d]),{FilterKeywords:I}=bN(),N=(0,cg.useCallback)(e=>e.length?f.normalisedQuery?(p.current&&p.current.cancel(),p.current=(0,fb.Z)(()=>{m({name:"search",context:f.normalisedQuery})},500),p.current(),e.reduce((e,t)=>(t.isGrouped?(t.subRows=N(t.subRows),e.push({...t})):S(t.original)&&e.push(t),e),[])):e:[],[f.normalisedQuery,m,S]),T=(0,cg.useCallback)(()=>{g(!0),u.current?.focus()},[g]),_=(0,cg.useCallback)(()=>{g(!1)},[g]),R=(0,cg.useCallback)(()=>{g(e=>!e)},[g]),P=(0,cg.useCallback)(e=>{r(e,""),m({name:"search_cancel"})},[m,r]),D=(0,cg.useCallback)(()=>{let e=l.trimEnd();if(t&&e.length>0){let a=e.endsWith(":")||e.endsWith(",");r(t.number,a?e:`${e} `),T()}else T()},[t,l,r,T]),{isProjectViewRoute:E}=v7();cU(()=>E?["f","Filter by...",o.filter(wl).map((e,t)=>[t.toString(36),`Filter by ${e.name}`,"filter",()=>{b(e.name),T()}]).concat(I.filter(e=>e.isFilterable).map((e,t)=>[(100+t).toString(),e.description,"filter",()=>{b(e.keyword),T()}]))]:null,[o,b,E,f,T,I]);let L=(0,cg.useMemo)(()=>({searchInputRef:u,searchToggleButtonRef:c,query:l,...f,addSpaceToQuery:D,setQuery:r,clearSearchQuery:P,appendFilter:b,addFilter:w,removeFilter:k,toggleFilter:j,insertFilter:C,isSearchDirty:t?.isFilterDirty??!1,matchesSearchQuery:S,globalFilter:N,isSearchVisible:y,showSearch:T,hideSearch:_,toggleSearch:R}),[l,f,D,r,P,b,w,k,j,C,t?.isFilterDirty,S,N,y,T,_,R]);return(0,cs.jsx)(wa.Provider,{value:L,children:e})});function wl(e){return e.dataType!==c7.Title}try{(eC=wa).displayName||(eC.displayName="SearchContext")}catch{}try{(eS=wr).displayName||(eS.displayName="SearchProvider")}catch{}let wi=[{name:"Filter by",icon:me.k1n}],ws=new Set(["title"]),wo=e=>!ws.has(e.name.toLowerCase());function wd(e){return`${yp(e)}:`}let wu=(0,cg.createContext)(null),wc=()=>{let e=(0,cg.useContext)(wu);if(!e)throw Error("useFilterSuggestionsItemsContext can only be used inside a FilterSuggestionsItemsContext");return e},wm=(0,cg.memo)((0,cg.forwardRef)(function({filterInputRef:e,query:t,areFilterSuggestionsVisible:a,setAreFilterSuggestionsVisible:n,setQuery:r,suggestColumns:l=!0,showColumnSuggestionIf:i,testId:s},o){let{items:d,repoSuggestions:u}=wc(),{allColumns:c}=bD(),[m,p]=(0,cg.useState)(null),{fieldFilters:f}=wn(),{findColumnByDatabaseId:h}=xG(),{findFilterableFieldByName:g}=bE(),{activeWorkflow:y}=yK(),x=y&&!hK(y),{isKeywordQualifier:b}=bN(),v=(0,cg.useMemo)(()=>c.filter(wo),[c]),{displayableColumns:w,displayableCommands:k,displayableKeywords:j}=bR({query:t,columns:v,commands:wi,options:{suggestColumns:l,showColumnSuggestionIf:i}}),{getSuggestionsForColumn:C}=bB(d,u),[S,I]=(0,cg.useState)("none"),[N,T]=(0,cg.useState)(""),[_,R]=(0,cg.useState)(null),P=(0,cg.useCallback)((a,n,l=!1)=>{if(!(a&&a.name)&&!n)return;let i=a?.name??n;r(yv(t,gZ(i),{replace:!0,filterForNegative:l})),R({keyword:n,filterForNegative:l,columnDatabaseId:a&&a.databaseId,value:""}),e.current?.focus()},[t,e,r]),D=(0,cg.useCallback)((a,{filterForEmpty:l=!1,filterForNegative:i=!1}={})=>{if(_){if(_.columnDatabaseId){let e=h(_.columnDatabaseId);if(!e)return;r(yv(t,e.name,{value:a,replace:!0,filterForEmpty:l,filterForNegative:i}))}else if(_.keyword){if(!x&&b_(_.keyword))return;let[e,n]="updated"===_.keyword?[`${t}<`,a.replace("<","")]:[t,a];r(yv(e,_.keyword,{value:n,replace:!0,filterForEmpty:l,filterForNegative:i}))}R(null),n(!1)}e.current?.focus()},[_,e,n,h,r,t,x]),E=(0,cg.useMemo)(()=>{let e="",t=f.find(e=>"is"===e[0])?.[1]?.[0];return t&&(e=t),e},[f]),L=(0,cg.useCallback)((e,a,n)=>{let r=yl(e);r&&(e=e.substr(1));let l=g(e),i=b(e);if(l&&wo(l)){I("values");let i=mL(t),s=mF(i,{kind:["keyword.operator.comparison","keyword.operator.range"],start:n,end:"variable"}),o=s&&bx(l)?t.substring(s.location.end+1,n):t.substring(a+1,n);R({keyword:bS(l.name)?e:null,columnDatabaseId:l.databaseId,value:o,filterForNegative:r});return}if(i){I("values"),R({keyword:e,columnDatabaseId:null,value:t.substring(a+1,n),filterForNegative:r});return}I("none")},[t,b,g]),A=(0,cg.useCallback)((e,t)=>{if("number"!=typeof t||t!==e.length){I("none"),R(null);return}if(!m){let e=wi[0];(0,ck.Z)(e,"Default filter command must exist"),p(e),I("filterQualifier")}if((0===t||e[t-1])&&e[t]){I("none");return}if(e){let a=e.split('"').length,n=e.substring(0,t),r=n.lastIndexOf(":"),l=n.lastIndexOf(","),i=Math.max(r,l),s=px(/\s(?=(?:"[^"]*"|[^"])*$)/g,n.slice(1));if(T(n.substr(r+1,t)),a%2==0){let a=e.lastIndexOf(':"'),n=e.substring(0,a).lastIndexOf(" "),r=e.substring(n,a).trim();L(r,i+1,t)}else{if(s>=i){if('"'===e[t-1]||" "===e[t-1]){I("none");return}I("filterQualifier"),R({keyword:null,filterForNegative:yl(gZ(e[s+1])),columnDatabaseId:null,value:""});return}{let a=e.substring(s,r).trim();L(a,i,t)}}}else{if(m){I("filterQualifier");return}I("commands");return}},[m,L]);(0,cg.useEffect)(()=>{let a=requestAnimationFrame(()=>{if(!t.length)return;let a=null;e.current&&(a=e.current.selectionStart),A(t,a)});return()=>{cancelAnimationFrame(a)}},[A,t,e,a]);let M=(0,cg.useMemo)(()=>new Set(v.map(e=>e.name.toLowerCase())),[v]),F=(0,cg.useMemo)(()=>j.filter(e=>!bS(e)||bS(e)&&!M.has(e)).filter(e=>!b_(e)||x).map(e=>({key:e,value:wd(e),asHTML:!1,onSelect:()=>P(null,e,!!_?.filterForNegative),testId:`search-suggestions-item-${e}`})),[j,M,x,P,_?.filterForNegative]),Z=(0,cg.useCallback)(t=>{e.current&&(e.current.value="",e.current?.focus()),p(t)},[e,p]);if(!t.length||!a)return null;switch(S){case"commands":return(0,cs.jsx)(b9,{testId:s,listRef:o,controllingElementRef:e,items:k.map(e=>({key:e.name,value:e.name,asHTML:!1,onSelect:()=>Z(e),testId:`search-suggestions-item-${e.name}`}))});case"filterQualifier":return(0,cs.jsx)(b9,{testId:s,listRef:o,controllingElementRef:e,items:w.map(e=>({key:e.name,value:wd(e.name),asHTML:!1,onSelect:()=>P(e,bS(e.name)?e.name.toLowerCase():null,!!_?.filterForNegative),testId:`search-suggestions-item-${e.name}`})).concat(F)});case"values":{if(!_)return null;let t=_.value.toLowerCase(),a=[];if(_.columnDatabaseId&&l){let e=_.filterForNegative,n=gZ(h(_.columnDatabaseId));if(void 0!==i&&i(n.name)!==bT.ColumnAndValues)return null;let{filteredKeys:r,uniqueColumnValues:l}=C(n,N,t,_.filterForNegative),s=yp(n.name);a.push(...r.flatMap(t=>{if(t===`empty-${_.columnDatabaseId}`){let a=`${pX.noSuggestion} ${s}`;return{key:t,value:a,asHTML:!0,onSelect:()=>D(t,{filterForEmpty:!0,filterForNegative:e}),testId:`search-suggestions-item-${a}`}}if(t===`exclude-${_.columnDatabaseId}`){let e=`${pX.excludeSuggestion} ${s}`;return{key:t,value:e,asHTML:!0,onSelect:()=>P(n,null,!0),testId:`search-suggestions-item-${e}`}}let a=l.get(t),r=a?a.value:"",i=!!a&&!!a.priority&&a.priority>bV.UserDefined,o=i?()=>(0,cs.jsx)(mn.Z,{sx:{color:"accent.fg"},children:r}):a?.renderItem;return{key:t,value:r,renderItem:o,asHTML:!0,onSelect:()=>D(t,{filterForNegative:e}),testId:`search-suggestions-item-${t}`}}))}if(_.keyword){if("no"===_.keyword){let t=_.value?w.filter(e=>e.name.toLowerCase().indexOf(_.value)>=0):w,a=_.filterForNegative,n=t.map(e=>yp(e.name)).filter(e=>!N.includes(e));return(0,cs.jsx)(b9,{testId:s,listRef:o,controllingElementRef:e,items:n.map(e=>({key:e,value:e,asHTML:!0,onSelect:()=>D(e,{filterForNegative:a}),testId:`search-suggestions-item-${e}`}))})}if(b_(_.keyword)&&!x||!Object.keys(bj).includes(_.keyword))return null;let t=_.keyword,n=Object.values(bj[t]),r=(_.value?n.filter(e=>e.indexOf(_.value)>=0):n).filter(e=>!N.includes(e));if("reason"===t)switch(E){case bb.open:r=r.filter(e=>e===bv.reopened);break;case bb.closed:r=r.filter(e=>e!==bv.reopened)}let l=_.filterForNegative;a.push(...r.map(e=>({key:e,value:e,asHTML:!0,onSelect:()=>D(e,{filterForNegative:l}),testId:`search-suggestions-item-${e}`})))}if(a.length>0)return(0,cs.jsx)(b9,{testId:s,listRef:o,controllingElementRef:e,items:a});return null}default:return null}}));try{(eI=wu).displayName||(eI.displayName="FilterSuggestionsItemsContext")}catch{}try{(eN=wm).displayName||(eN.displayName="FilterSuggestions")}catch{}try{(eT=wm).displayName||(eT.displayName="FilterSuggestions")}catch{}let wp=(0,mr.eE)()?"Meta":"Ctrl",wf={ARCHIVE:"e",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CTRL_J:"Ctrl+j",CTRL_K:"Ctrl+k",CTRL_SPACE:"Ctrl+ ",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",HOME:"Home",META_A:`${wp}+a`,META_C:`${wp}+c`,META_V:`${wp}+v`,META_S:`${wp}+s`,META_ARROW_DOWN:`${wp}+ArrowDown`,META_ARROW_LEFT:`${wp}+ArrowLeft`,META_ARROW_RIGHT:`${wp}+ArrowRight`,META_ARROW_UP:`${wp}+ArrowUp`,META_END:`${wp}+End`,META_SHIFT_F:`${wp}+Shift+f`,META_F:`${wp}+f`,META_HOME:`${wp}+Home`,META_K:`${wp}+k`,META_ENTER:`${wp}+Enter`,SHIFT_ARROW_DOWN:"Shift+ArrowDown",SHIFT_ARROW_UP:"Shift+ArrowUp",SHIFT_SPACE:"Shift+ ",SHIFT_TAB:"Shift+Tab",SPACE:" ",TAB:"Tab"},wh=[wf.ARCHIVE,wf.SHIFT_SPACE],wg=()=>"no_character_key"===cG("memex_keyboard_shortcuts_preference"),wy=e=>{let t="";return(e.ctrlKey&&(t+="Ctrl+"),e.metaKey&&(t+="Meta+"),e.shiftKey&&(t+="Shift+"),t+=e.key,wg()&&wh.includes(t))?"":t},wx=(e=!1)=>e?wf.META_SHIFT_F:wf.META_F,wb=e=>(window.addEventListener("focus",e),window.addEventListener("blur",e),window.addEventListener("click",e),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",e),window.removeEventListener("click",e)}),wv=e=>(0,cg.useSyncExternalStore)(wb,()=>e.length>0&&e.some(e=>e.current?.contains(document.activeElement)));var ww=a(50919);function wk({isFilterVisible:e,onClick:t,onKeyDown:a}){return t?(0,cs.jsx)(ww.h,{variant:"invisible",onClick:t,onKeyDown:a,icon:me.b0D,sx:{display:"inline-flex",borderRadius:"6px",m:0,opacity:e?"1":"0",p:"2px",position:"relative",color:"fg.muted"},"aria-label":"Clear filters",...(0,cK.f)("clear-filter-query")}):null}try{(e_=wk).displayName||(e_.displayName="ClearFilterButton")}catch{}function wj({children:e,isFilterVisible:t,height:a,handleContainerClick:n,containerRef:r,containerSx:l}){return(0,cs.jsx)(cW.Z,{role:"region","aria-label":"View filters",...(0,cK.f)("base-filter-input"),onClick:n,ref:r,sx:{boxShadow:e=>`0 1px 0 ${e.colors.border.default}, ${e.shadows.shadow.medium}`,display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",maxHeight:`${t?a:0}`,maxWidth:"100%",pl:4,pr:[3,4,5],position:"relative",zIndex:`${t?"2":"unset"}`,":hover":{cursor:"text"},"&.is-focused":{boxShadow:e=>`0 0 0 2px ${e.colors.accent.fg}`},"&:focus-within":{boxShadow:e=>`0 0 0 2px ${e.colors.accent.fg}`},...l},children:e})}try{(eR=wj).displayName||(eR.displayName="FilterContainer")}catch{}var wC=a(54901);function wS({isFilterVisible:e,filterCount:t,hideCounterLabel:a}){return a||"number"!=typeof t?null:(0,cs.jsxs)("span",{"aria-live":"polite","aria-atomic":!0,children:[(0,cs.jsx)(wC.Z,{sx:{opacity:e?"1":"0"},...(0,cK.f)("filter-results-count"),children:t}),(0,cs.jsxs)(b7,{children:[" ",1===t?"matching item":"matching items"]})]})}try{(eP=wS).displayName||(eP.displayName="FilterCounterLabel")}catch{}let wI=({onClick:e,filterIsVisible:t,icon:a,shortcut:n})=>{let{memex_filter_bar_always_visible:r}=xO(),{viewType:l}=wt(),{isSearchVisible:i}=wn(),s=(0,cg.useRef)(null);return l!==vQ.Board||i?!e||r?(0,cs.jsx)(wN,{filterIsVisible:t,children:(0,cs.jsx)(cW.Z,{sx:{width:"16px"},children:(0,cs.jsx)(mt.Z,{icon:a,sx:{color:"fg.muted"}})})}):(0,cs.jsx)(wN,{filterIsVisible:t,children:(0,cs.jsx)(wT,{ref:s,onClick:e,...(0,cK.f)("filter-visible-icon-button"),tabIndex:t?0:-1,"aria-label":"Hide filter input",sx:{color:"fg.muted"},icon:a,variant:"invisible",...n&&{"aria-keyshortcuts":n}})}):(0,cs.jsx)(cW.Z,{sx:{width:"16px"}})};function wN({filterIsVisible:e,children:t}){return(0,cs.jsx)(cW.Z,{sx:{opacity:e?"1":"0",position:"relative",maxHeight:e?"unset":"0px"},children:t})}let wT=(0,cw.ZP)(ww.h)`
  z-index: 2;
  margin: 0;
  padding: 0;

  &:hover {
    color: ${(0,ch.U2)("colors.accent.fg")};
  }

  .is-focused & {
    color: ${(0,ch.U2)("colors.accent.fg")};
  }
  ${ma.Z}
`;try{(eD=wI).displayName||(eD.displayName="FilterIconButton")}catch{}try{(eE=wN).displayName||(eE.displayName="FilterButtonContainer")}catch{}try{(eL=wT).displayName||(eL.displayName="Button")}catch{}var w_=a(38490);function wR({isFilterVisible:e,onResetChanges:t,onSaveChanges:a,height:n,saveButtonText:r}){return t||a?(0,cs.jsxs)(cW.Z,{sx:{alignItems:"center",height:n,pl:3,display:"flex",opacity:e?"1":"0"},...(0,cK.f)("filter-state-actions"),children:[t&&(0,cs.jsx)(xh.z,{variant:"invisible",onClick:t,sx:{color:"fg.muted",pr:0,pl:0,pt:"4px",pb:"4px",fontSize:1},...(0,cK.f)("filter-actions-reset-button"),children:(0,cs.jsx)(w_.Z,{"aria-label":"Discard changes",direction:"s",sx:{p:"6px"},children:(0,cs.jsx)(mt.Z,{icon:me.HA9,size:"small"})})}),a&&(0,cs.jsx)(xh.z,{variant:"outline",size:"small",sx:{height:"28px",ml:2},onClick:a,...(0,cK.f)("filter-actions-save-button"),children:r??pX.saveChanges})]}):null}try{(eA=wR).displayName||(eA.displayName="FilterInputActions")}catch{}function wP({children:e}){return(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",pr:7,maxWidth:"100%",flexShrink:1,display:"flex",minWidth:"20px"},children:e})}try{(eM=wP).displayName||(eM.displayName="FilterInputContainer")}catch{}function wD(e){return t=>{let a=(0,ch.U2)(e)({theme:t});return a}}var wE=a(22390);let wL=cw.ZP.div`
  position: absolute;
  top: 0;
  left: 0;
  visibility: hidden;
  height: 0;
  overflow: scroll;
  white-space: pre;
`,wA=(e,t)=>{for(let a of t)a&&(a.style.font=e.font,a.style.fontSize=e.fontSize,a.style.fontFamily=e.fontFamily,a.style.fontWeight=e.fontWeight,a.style.fontStyle=e.fontStyle,a.style.letterSpacing=e.letterSpacing,a.style.textTransform=e.textTransform)};function wM(...e){for(let t of e)if(null!=t)return t.toString();return""}let wF=(0,cg.forwardRef)(function({minWidth:e=1,as:t=wE.Z,containerSx:a,...n},r){let l=(0,cg.useRef)(null),i=(0,cg.useRef)(null),s=(0,cg.useRef)(null);(0,cg.useImperativeHandle)(r,()=>l.current);let o=(0,cg.useCallback)(()=>{requestAnimationFrame(()=>{let{current:t}=i,{current:a}=s;if(!t)return;let n=l.current&&window.getComputedStyle(l.current);n&&wA(n,[t,a]);let r=t.scrollWidth,o=a?.scrollWidth??0,d=Math.max(r+2,l.current?.value===""?o+2:0,e);l.current&&(l.current.style.width=`${d}px`)})},[e]);(0,cg.useEffect)(()=>{o()});let d={...n,onChange:e=>{o(),n.onChange?.(e)},onBlur:e=>{o(),n.onBlur?.(e)},ref:l};return(0,cs.jsxs)(cW.Z,{sx:a,children:[(0,cs.jsx)(wL,{ref:i,"aria-hidden":"true",children:wM(n.defaultValue,n.value)}),n.placeholder?(0,cs.jsx)(wL,{ref:s,"aria-hidden":"true",children:n.placeholder}):null,(0,cs.jsx)(t,{...d})]})});try{(eF=wF).displayName||(eF.displayName="AutosizeTextInput")}catch{}try{(eZ=wF).displayName||(eZ.displayName="AutosizeTextInput")}catch{}let wZ=cw.iv`
  color: ${(0,ch.U2)("colors.fg.default")};
  font-family: inherit;
  padding: 0;
  border: 0;
  box-shadow: none;
  &::-webkit-datetime-edit {
    display: flex;
    align-items: center;
  }
  &:focus-within {
    border: 0;
    box-shadow: none;
    outline: none;
  }
  background-color: transparent;

  display: block;
  width: 100%;

  ::placeholder {
    color: ${(0,ch.U2)("colors.fg.muted")};
  }

  &.is-disabled {
    cursor: not-allowed;
  }

  ${ma.Z}
`,wO=(0,cw.ZP)("input")`
  ${wZ}
  ${ma.Z}
`;try{(eO=wO).displayName||(eO.displayName="BorderlessTextInput")}catch{}function w$(e){e.stopPropagation(),e.preventDefault()}let wV="search-suggestions-box",wB="filter-bar-input";function wz({isFilterVisible:e,areFilterSuggestionsVisible:t,value:a,inputRef:n,onChange:r,onKeyDown:l,onFocus:i,onBlur:s}){return(0,cs.jsx)(wF,{role:"combobox",id:wB,"aria-haspopup":"listbox","aria-expanded":t,"aria-autocomplete":"list","aria-controls":wV,as:wO,"aria-label":pX.filterByKeyboardOrByField,name:"Filter",value:a,onChange:r,onClick:w$,onKeyDown:l,onFocus:i,onBlur:s,placeholder:pX.filterByKeyboardOrByField,autoComplete:"off",autoCorrect:"false",autoCapitalize:"false",spellCheck:"false",...(0,cK.f)("filter-bar-input"),ref:n,tabIndex:e?0:-1,containerSx:{maxWidth:"100%",opacity:e?"1":"0"},sx:{position:"relative",display:"flex",resize:"none",outline:"none",border:"0px",width:"100%",padding:"0px",background:"transparent",overflow:"hidden",overflowX:"auto",color:"transparent",minWidth:"20px",caretColor:wD("colors.fg.default"),fontSize:1,flex:1,height:"100%",opacity:e?1:0,maxHeight:e?"unset":"0px","&::-webkit-autofill, &::-webkit-contacts-auto-fill-button, &::-webkit-credentials-auto-fill-button":{visibility:"hidden",display:"none !important",pointerEvents:"none",position:"absolute",right:0}}})}try{(e$=wz).displayName||(e$.displayName="RawFilterInput")}catch{}var wU=a(95883),wK=a(47633);let wW={x:0,y:0};function wH(e){let t=(0,cg.useCallback)(()=>e(wW),[e]);return(0,cg.useSyncExternalStore)(wG,t)}function wG(e){function t(t){let a={x:t.x,y:t.y};(0,wK.Z)(a,wW)||(wW={x:t.x,y:t.y}),e()}return document.addEventListener("pointermove",t),()=>document.removeEventListener("pointermove",t)}let wq=e=>e.invalid?{"&::before":{position:"absolute",bottom:0,width:"100%",height:"0.25em",content:'""',background:t=>`linear-gradient(135deg, transparent, transparent 45%, ${t.colors[e.variant??"danger"].emphasis}, transparent 55%, transparent 100%),linear-gradient(45deg, transparent, transparent 45%, ${t.colors[e.variant??"danger"].emphasis}, transparent 55%, transparent 100%)`,backgroundRepeat:"repeat-x,repeat-x",backgroundSize:"0.5em 0.5em"}}:{},wQ=({length:e})=>0===e?null:(0,cs.jsx)(cs.Fragment,{children:Array.from({length:e}).map((e,t)=>(0,cs.jsx)(cg.Fragment,{children:"\xa0"},t))}),wX=(0,cg.memo)(function({query:e,suggestColumns:t=!0,showColumnSuggestionIf:a,isFilterVisible:n}){let r=(0,cg.useRef)(null),{orderedTokenizedFilters:l,invalidQuery:i}=(0,cg.useMemo)(()=>yn(e),[e]),s=wH((0,cg.useCallback)(e=>!!r.current&&pk(r.current,e),[])),o=e.split(" ").findIndex(e=>" "!==e);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(cW.Z,{sx:{position:"absolute",userSelect:"none",whiteSpace:"nowrap",wordBreak:"break-word",fontSize:1,flex:1,width:"100%",padding:"0px",opacity:n?1:0,top:"50%",transform:"translateY(-50%)"},ref:r,...(0,cK.f)("tokenized-query"),"aria-errormessage":i?"tokenized-query-invalid-query-errormessage":void 0,children:[(0,cs.jsx)(wQ,{length:o}),l.map((e,n)=>(0,cs.jsxs)(cg.Fragment,{children:[(0,cs.jsx)(w5,{...e,id:`tokenized-query-token-${n}`,invalid:i,suggestColumns:t,showColumnSuggestionIf:a}),(0,cs.jsx)(wQ,{length:e.spaceAfter.length})]},n))]}),i?(0,cs.jsx)(wU.u,{contentRef:r,direction:"se",open:s,"aria-label":i?pJ.invalidFilterQuotes:void 0,id:"tokenized-query-invalid-query-errormessage","aria-live":"polite",anchorSide:"inside-bottom",anchorOffset:-2}):null]})});function wY(e){return{message:e}}function wJ(e){let t=e,a=e.match(/(["])(.*?[^\\])\1/);if(a){let e=a[2];(0,ck.Z)(e,"Value must be returned from match"),t=e}return t}let w0=/^(?:[+\-><]?[=]?|(\*\.\.))\d+(\.\d+)?(?:\.\.\*|\.\.)?(?:\d+(\.\d+)?)?$/;function w1(e,t,a=!1,n){if(!e)return;let r=yo(t);switch(e.dataType){case c7.SingleSelect:{let{options:t}=e.settings,a=new Set;for(let e of r)t.some(t=>gV([e],t.name))||a.add(e);if(a.size>0)return wY(pJ.noOptionsMatch([...a].join(","),e.name));return}case c7.Number:{let e=new Set;for(let t of r)w0.test(t)||e.add(t);if(e.size>0)return wY(pJ.invalidNumberValue([...e].join(",")));return}case c7.Date:{let e=new Set;for(let t of r){let a=gq(t);if(a)switch(a.operator){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":null===mU(a.value)&&e.add(a.value);break;case"RANGE":{let n=!a.start||null!==mU(a.start),r=!a.end||null!==mU(a.end);n||r?n?r||e.add(a.end):e.add(a.start):e.add(t);break}case"LESS_THAN_RANGE":a.end&&null===mU(a.end)&&e.add(a.end);break;case"GREATER_THAN_RANGE":a.start&&null===mU(a.start)&&e.add(a.start);break;default:h2(a)}else null===mU(t)&&e.add(t)}if(e.size>0)return wY(pJ.invalidDateValue([...e].join(",")));return}case c7.Iteration:{let t=new Set;for(let a of r){if(gw(a))continue;let n=gq(a);if(n)switch(n.operator){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":null===g0(n.value,e)&&t.add(n.value);break;case"RANGE":{let r=!n.start||null!==g0(n.start,e),l=!n.end||null!==g0(n.end,e);r||l?r?l||t.add(n.end):t.add(n.start):t.add(a);break}case"LESS_THAN_RANGE":n.end&&null===g0(n.end,e)&&t.add(n.end);break;case"GREATER_THAN_RANGE":n.start&&null===g0(n.start,e)&&t.add(n.start);break;default:h2(n)}else null===g0(a,e)&&t.add(a)}if(t.size>0)return wY(pJ.noIterationMatch([...t].join(","),e.name));return}case c7.Labels:{if(!a)return;let t=n?.labels?w8(n.labels):void 0,l=new Set;for(let e of r)t?.has(e)||l.add(e);if(l.size>0)return wY(pJ.noOptionsMatch([...l].join(","),e.name));return}case c7.Milestone:{if(!a)return;let t=n?.milestones?w7(n.milestones):void 0,l=new Set;for(let e of r)t?.has(e)||l.add(e);if(l.size>0)return wY(pJ.noOptionsMatch([...l].join(","),e.name));return}case c7.Text:case c7.Title:case c7.Repository:case c7.Reviewers:case c7.LinkedPullRequests:case c7.Assignees:case c7.Tracks:case c7.TrackedBy:return;default:h2(e)}}function w2(e,t){let a=yo(e),n=new Set(Object.values(t)),r=new Set(a.filter(e=>!n.has(wJ(e).toLowerCase())));if(0!==r.size)return{message:pJ.invalidQualifier([...r],t)}}let w5=(0,cg.memo)(function({invalid:e,id:t,suggestColumns:a,showColumnSuggestionIf:n,...r}){let{findFilterableFieldByName:l}=bE(),{repoSuggestions:i}=wc(),s=void 0!==n;switch(r.type){case"search":return(0,cs.jsx)(w6,{id:t,value:r.value,invalid:e});case"field":{let o=l(r.field),d=s&&o?n(o.name):void 0;o=s?d===bT.ColumnOnly||d===bT.ColumnAndValues?o:void 0:o;let u=a&&!!o,c=s&&d===bT.ColumnAndValues,m=w1(o,r.value,c,i);return(0,cs.jsx)(w4,{id:t,leftSide:r.field,rightSide:r.value,invalid:e||!u,valueErrors:m,keyErrors:u?void 0:{message:pJ.unknownFieldFilter(r.field)},exclude:r.exclude})}case"is":case"reason":{let a=w2(r.value,bj[r.type]);return(0,cs.jsx)(w4,{id:t,leftSide:r.type,invalid:e,exclude:r.exclude,rightSide:r.value,valueErrors:a})}case"last-updated":{let a=(s&&n("last-updated")===bT.None)??!1,l=r.value.match(mm),i=l?void 0:{message:pJ.lastUpdatedValueErrorMessage};return(0,cs.jsx)(w4,{id:t,leftSide:r.type,invalid:e||a,exclude:r.exclude,rightSide:r.value,valueErrors:a?void 0:i,keyErrors:e||a?{message:pJ.unknownFieldFilter(r.type)}:void 0})}case"updated":{let a=(s&&n("updated")===bT.None)??!1,l=r.value.match(mp),i=l?void 0:{message:pJ.updatedValueErrorMessage};return(0,cs.jsx)(w4,{id:t,leftSide:r.type,invalid:e||a,exclude:r.exclude,rightSide:r.value,valueErrors:a?void 0:i,keyErrors:e||a?{message:pJ.unknownFieldFilter(r.type)}:void 0})}case"no-field":{let a=w3(r.field,l);return(0,cs.jsx)(w4,{id:t,leftSide:"no",rightSide:r.field,exclude:r.exclude,invalid:e,valueErrors:a?{message:pJ.unknownFieldFilter(r.field)}:void 0})}default:h2(r)}});function w3(e,t){let a=yo(e),n=new Set;for(let e of a){let a=t(e);a||n.add(e)}if(0!==n.size)return{message:pJ.unknownFieldFilter([...n].join(","))}}let w4=(0,cg.memo)(function({id:e,leftSide:t,rightSide:a,invalid:n,exclude:r=!1,valueErrors:l,keyErrors:i}){let s=(0,cg.useRef)(null),o=(0,cg.useRef)(null),d=wH((0,cg.useCallback)(e=>!!s.current&&pk(s.current,e),[])),u=wH((0,cg.useCallback)(e=>!!o.current&&pk(o.current,e),[]));return(0,cs.jsxs)(cW.Z,{id:e,ref:s,sx:{position:"relative",display:"inline-block",...wq({invalid:Boolean(n||i)})},children:[(0,cs.jsxs)(mn.Z,{sx:{display:"inline-block",whiteSpace:"pre",color:"fg.muted"},"aria-errormessage":i?`${e}-key-errormessage`:void 0,children:[`${r?"-":""}${t}:`,i?(0,cs.jsx)(wU.u,{direction:"se",open:d,"aria-label":i.message,contentRef:s,id:`${e}-key-errormessage`,"aria-live":"polite",anchorSide:"inside-bottom",anchorOffset:-2}):null]}),(0,cs.jsxs)(mn.Z,{ref:o,sx:{position:"relative",display:"inline-block",color:"accent.fg",whiteSpace:"pre",...wq({invalid:Boolean(l),variant:"attention"})},"aria-errormessage":l?`${e}-value-errormessage`:void 0,children:[a,l?(0,cs.jsx)(wU.u,{contentRef:o,direction:"se",open:u,"aria-label":l.message,id:`${e}-value-errormessage`,"aria-live":"polite",anchorSide:"inside-bottom",anchorOffset:-2}):null]})]})}),w6=(0,cg.memo)(function({value:e,invalid:t,id:a}){return(0,cs.jsx)(mn.Z,{id:a,sx:{color:"fg.default",position:"relative",display:"inline-block",whiteSpace:"pre",...wq({invalid:t,variant:"danger"})},children:e})});function w8(e){let t=new Set;for(let a of e)t.add(a.name);return t}function w7(e){let t=new Set;for(let a of e)t.add(a.title);return t}try{(eV=wQ).displayName||(eV.displayName="Spaces")}catch{}try{(eB=wX).displayName||(eB.displayName="TokenizedQuery")}catch{}try{(ez=w0).displayName||(ez.displayName="NUMBER_VALIDATION")}catch{}try{(eU=QUALIFIERS).displayName||(eU.displayName="QUALIFIERS")}catch{}try{(eK=w5).displayName||(eK.displayName="Token")}catch{}try{(eW=w4).displayName||(eW.displayName="PairFilterToken")}catch{}try{(eH=w6).displayName||(eH.displayName="SingleFilterToken")}catch{}function w9({isFilterVisible:e,sx:t,children:a}){return(0,cs.jsx)(cW.Z,{sx:{position:"relative",display:"flex",alignItems:"center",zIndex:e?2:0,opacity:e?1:0,transition:"opacity 0.1s ease-out",maxWidth:"calc(100% - 30px)",marginRight:"8px",marginLeft:"22px",marginBottom:"-1px",maxHeight:e?"unset":"0px",overflowX:"auto",height:"100%",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},...t},children:a})}try{(eG=w9).displayName||(eG.displayName="TokenizedQueryContainer")}catch{}function ke({height:e,onContainerClick:t,containerRef:a,visible:n=!0,onFilterIconButtonClick:r,value:l,onChange:i,onInputKeyDown:s,onFocus:o,onBlur:d,inputRef:u,filterCount:c,onClearButtonClick:m,onClearButtonKeyDown:p,onResetChanges:f,onSaveChanges:h,containerSx:g,inputContainerSx:y,setValueFromSuggestion:x,shortcut:b,saveButtonText:v,suggestColumns:w=!0,showColumnSuggestionIf:k,hideSuggestions:j=!1,filterIconButtonIcon:C=me.k1n,hideSaveButton:S=!1,hideCounterLabel:I=!1}){let N=(0,cg.useRef)(null);(0,cg.useImperativeHandle)(u,()=>N.current);let T=(0,cg.useRef)(null);(0,cg.useImperativeHandle)(a,()=>T.current);let _=(0,cg.useRef)(null),R=wv([_,N,T]),P=Boolean(l&&(m||p)),D=pZ(t),E=(0,cg.useCallback)(e=>{D.current?.(e),N.current?.focus()},[D]),[L,A]=(0,cg.useState)(R);(0,cg.useLayoutEffect)(()=>{A(R&&l.trim().length>0)},[R,l]);let M=pZ(s),F=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.ESCAPE:if(L){A(!1);return}M.current?.(e);return;case wf.ARROW_DOWN:if(L)return;M.current?.(e);return;case wf.TAB:if(l.length>0)return;L&&A(!1),M.current?.(e);return}},[L,M,A,l.length]),Z=(0,cg.useCallback)(e=>{e.stopPropagation(),f?.(e),N.current?.focus()},[f]),O=(0,cg.useCallback)(e=>{e.stopPropagation(),h?.(e),N.current?.focus()},[h]),$=(0,cg.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),m?.(e),N.current?.focus()},[m]);return(0,cs.jsxs)(wj,{containerRef:T,handleContainerClick:E,height:e,containerSx:g,isFilterVisible:n,children:[(0,cs.jsxs)(wP,{children:[(0,cs.jsx)(wI,{filterIsVisible:n,icon:C,onClick:r,shortcut:b}),(0,cs.jsxs)(w9,{isFilterVisible:n,sx:y,children:[(0,cs.jsx)(wX,{isFilterVisible:n,query:l,suggestColumns:w,showColumnSuggestionIf:k}),(0,cs.jsx)(wz,{areFilterSuggestionsVisible:L,onKeyDown:F,inputRef:N,onChange:i,value:l,isFilterVisible:n,onBlur:d,onFocus:o})]}),(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(wS,{isFilterVisible:n,hideCounterLabel:I,filterCount:c}),(0,cs.jsx)(wk,{isFilterVisible:n,onClick:P?$:void 0,onKeyDown:p})]})]}),(0,cs.jsx)(wR,{height:e,isFilterVisible:n,onResetChanges:f?Z:void 0,onSaveChanges:h&&!S?O:void 0,saveButtonText:v}),!j&&n?(0,cs.jsx)(wm,{testId:wV,ref:_,filterInputRef:N,query:l,setQuery:x,suggestColumns:w,showColumnSuggestionIf:k,areFilterSuggestionsVisible:L,setAreFilterSuggestionsVisible:A}):null]})}try{(eq=ke).displayName||(eq.displayName="TokenizedFilterInput")}catch{}let kt=({query:e,onClickHandler:t,filterCount:a,icon:n})=>(0,cs.jsx)(cW.Z,{...(0,cK.f)("disabled-filter-input"),onClick:t,sx:{border:e=>`1px solid ${e.colors.border.default}`,borderRadius:2,display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",maxWidth:"100%",pl:2,pr:[3,4,5],position:"relative",color:e=>`${e.colors.primer.fg.disabled}`,backgroundColor:e=>`${e.colors.input.disabledBg}`,minHeight:"32px",cursor:"text"},children:(0,cs.jsxs)(cW.Z,{sx:{alignItems:"center",maxWidth:"100%",display:"flex"},children:[n,(0,cs.jsx)(mn.Z,{sx:{pl:2,pr:2,whiteSpace:"nowrap"},children:e}),void 0!==a&&(0,cs.jsx)(wC.Z,{...(0,cK.f)("disabled-filter-results-count"),children:a})]})});try{(eQ=kt).displayName||(eQ.displayName="DisabledFilterInput")}catch{}let ka=({query:e,initialQuery:t,onQueryChange:a})=>{let[n,r]=(0,cg.useState)(t),l=(0,cg.useMemo)(()=>e.trim()!==n,[e,n]),{isEditing:i}=x2(),{hasWorkflowWritePermission:s}=xX(),o=!s||!i,d=(0,cg.useCallback)(e=>{a?.(e)},[a]),u=(0,cg.useCallback)(()=>{d("")},[d]),c=(0,cg.useCallback)(()=>{d(n)},[n,d]),m=(0,cg.useCallback)(e=>{d(e.currentTarget.value)},[d]),p=(0,cg.useCallback)(e=>{d(e)},[d]);return(0,cg.useEffect)(()=>{r(t)},[t]),{queryCheckpoint:n,editingDisabled:o,isDirty:l,clearQuery:u,handleQueryChange:m,setValueFromSuggestion:p,setQueryCheckpoint:r,resetChanges:c}},kn=new Map([["Labels",bT.ColumnAndValues],["Milestone",bT.ColumnAndValues],["Assignees",bT.ColumnOnly],["last-updated",bT.None],["updated",bT.None]]),kr=e=>{if(kn.has(e))return kn.get(e)},kl=a(59392),ki=a(93570),ks=a(13303),ko=a(88213),kd=({onQueryChange:e,query:t,initialQuery:n="",milestoneSuggestionsQueryRef:r,labelSuggestionsQueryRef:l})=>{let{workflow:i}=x2(),{setValueFromSuggestion:s,isDirty:o,editingDisabled:d,clearQuery:u,handleQueryChange:c,resetChanges:m}=ka({query:t,initialQuery:n,workflow:i,onQueryChange:e}),p=(0,hJ.usePreloadedQuery)(ks,l),f=(0,hJ.usePreloadedQuery)(ko,r),{data:h,loadNext:g,isLoadingNext:y,hasNext:x}=(0,hJ.usePaginationFragment)(a(10846),p.repository?p.repository:null),{data:b,loadNext:v,isLoadingNext:w,hasNext:k}=(0,hJ.usePaginationFragment)(a(18972),f.repository?f.repository:null),j=h?.labels?.totalCount||0,C=(h?.labels?.edges||[]).flatMap(e=>e?.node?[(0,hJ.readInlineData)(kl,e.node)]:[]),S=b?.milestones?.totalCount||0,I=(b?.milestones?.edges||[]).flatMap(e=>e?.node?[(0,hJ.readInlineData)(ki,e.node)]:[]);(0,cg.useEffect)(()=>{x&&!y&&C.length<j&&g(100)},[g,C,j,x,y]),(0,cg.useEffect)(()=>{k&&!w&&I.length<S&&v(100)},[v,I,S,k,w]);let N=(0,cg.useMemo)(()=>{let e=[];return e.concat(C)},[C]),T=(0,cg.useMemo)(()=>{let e=[];return e.concat(I)},[I]),_=(0,cg.useMemo)(()=>({items:[],repoSuggestions:{labels:N,milestones:T}}),[N,T]);return d?(0,cs.jsx)(kt,{query:t,icon:(0,cs.jsx)(me.W1M,{})}):(0,cs.jsxs)(wu.Provider,{value:_,children:[(0,cs.jsx)(ke,{containerSx:{boxShadow:"none",border:e=>`solid 1px ${e.colors.border.default}`,borderRadius:"6px",pr:"4px",pl:"8px",alignItems:"center"},inputContainerSx:{height:"32px",ml:2},height:"32px",visible:!0,value:t,onChange:c,onClearButtonClick:u,setValueFromSuggestion:s,onResetChanges:o?m:void 0,filterIconButtonIcon:me.W1M,suggestColumns:!0,showColumnSuggestionIf:kr,hideSaveButton:!0,hideCounterLabel:!0}),(0,cs.jsx)(ku,{query:t,isDirty:o,isAutoAdd:!0})]})};try{(eX=kn).displayName||(eX.displayName="AllowedSuggestedColumnsMap")}catch{}try{(eY=kd).displayName||(eY.displayName="SearchInput")}catch{}let ku=e=>0===e.query.length&&e.isDirty?(0,cs.jsxs)(mn.Z,{...(0,cK.f)("empty-query-message"),as:"p",sx:{fontSize:0,fontWeight:"bold",color:e.isAutoAdd?"attention.fg":"danger.fg",mt:2,mb:0,width:"100%",display:"flex",alignItems:"center"},children:[(0,cs.jsx)(cW.Z,{as:"span",sx:{display:"flex",mr:1},"aria-hidden":"true",children:(0,cs.jsx)(me.zMQ,{size:12})}),(0,cs.jsx)(mn.Z,{as:"span",children:e.isAutoAdd?p5.emptyFilterAutoAdd:p5.emptyFilterDefault})]}):null,kc=({onNoSuggestedRepositories:e})=>{let{isEditing:t,localRepositoryId:a,localQuery:n,initialQuery:r}=x2(),{count:l,searchResultUrl:i,onRepositoryChange:s,onSearchQueryChange:o,repository:d}=bo(),u=d?.nameWithOwner.split("/")[0],[c,m,p]=(0,hJ.useQueryLoader)(ks),[f,h,g]=(0,hJ.useQueryLoader)(ko);return(0,cg.useEffect)(()=>(d&&u&&(m({owner:u,repo:d.name},{fetchPolicy:"store-or-network"}),h({owner:u,repo:d.name},{fetchPolicy:"store-or-network"})),()=>{p(),g()}),[d,p,g,m,h,u]),(0,cs.jsx)(bt,{icon:me.H0r,iconBg:"severe.subtle",iconColor:"attention.fg",headerDescription:p5.getItemsBlockLabel,...(0,cK.f)("get-items-block"),children:(0,cs.jsxs)(br.Z,{sx:{flex:1,alignItems:"stretch"},children:[(0,cs.jsx)(br.Z.Label,{children:"Filters"}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flex:"auto"},children:[(0,cs.jsx)(by,{targetRepositoryId:a,sx:{alignSelf:"start"},onRepositorySelected:s,onNoSuggestedRepositories:e,isEditing:t},"repoSuggestions"),(0,cs.jsx)(cW.Z,{sx:{ml:2,flex:"1 1 100%"},children:c&&f?(0,cs.jsx)(kd,{labelSuggestionsQueryRef:c,milestoneSuggestionsQueryRef:f,onQueryChange:o,initialQuery:r,query:n}):(0,cs.jsx)(bi,{variant:"rounded",height:"32px",width:"100%"})})]}),t&&i&&(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted",paddingTop:3},children:[(0,cs.jsxs)(yH.Z,{sx:{alignSelf:"start"},target:"_blank",rel:"noreferrer",href:i,...(0,cK.f)("search-result-link"),children:[" ","See ",l," existing items that match this query ",(0,cs.jsx)(me.Pfi,{})]}),(0,cs.jsxs)(cW.Z,{sx:{paddingTop:3},children:[p5.autoAddManualTip," ",(0,cs.jsx)(yH.Z,{sx:{alignSelf:"start"},target:"_blank",rel:"noreferrer",href:"https://docs.github.com/en/issues/planning-and-tracking-with-projects/managing-items-in-your-project/adding-items-to-your-project#adding-multiple-issues-or-pull-requests-from-a-repository",...(0,cK.f)("add-multiple-link"),children:(0,cs.jsx)(me.Pfi,{})})]})]})]})})};try{(eJ=ku).displayName||(eJ.displayName="EmptyQueryMessage")}catch{}try{(e0=kc).displayName||(e0.displayName="GetItemsBlock")}catch{}let km=()=>{let{itemMatchesFilterQuery:e}=v6(),{items:t}=h_(),{setFilterCount:a,localQuery:n,setLocalQuery:r,setLocalContentTypes:l}=x2(),i=(0,cg.useRef)(),s=(0,cg.useCallback)(a=>{let n=t=>e(t,yw(a));return t.filter(n).length},[e,t]),o=(0,cg.useCallback)(e=>{r(e),i.current&&i.current.cancel(),i.current=(0,fb.Z)(()=>{l(xE(e))},200),i.current()},[r,l]);return(0,cg.useEffect)(()=>{a(s(n))},[s,n,a]),{onSearchQueryChange:o}},kp=({field:e,unit:t,value:a})=>(0,cs.jsxs)(mn.Z,{as:"p",sx:{fontSize:0,color:"fg.muted",display:"flex",alignItems:"center",mt:2,mb:0,width:"100%"},children:[(0,cs.jsx)(cW.Z,{as:"span",sx:{display:"flex",mr:1},"aria-hidden":"true",children:(0,cs.jsx)(me.u0k,{size:14})}),(0,cs.jsxs)(mn.Z,{as:"span",children:["Using the ",e," operator means that your workflow will run every ",a," ",t]})]});try{(e1=kp).displayName||(e1.displayName="TimeBoundFilterWarning")}catch{}let kf={"last-updated":{field:"last-updated",unit:"hours",value:12},updated:{field:"updated",unit:"hours",value:12}},kh=()=>{let{workflow:e,initialQuery:t,localQuery:a,filterCount:n}=x2(),{hasWorkflowWritePermission:r}=xX(),{items:l}=h_(),{onSearchQueryChange:i}=km(),{setValueFromSuggestion:s,isDirty:o,editingDisabled:d,clearQuery:u,handleQueryChange:c,resetChanges:m}=ka({query:a,initialQuery:t,workflow:e,onQueryChange:i}),p=(0,cg.useRef)(null),f=(0,cg.useRef)(null),h=(0,cg.useMemo)(()=>hU(e),[e]),g=(0,cg.useMemo)(()=>{let e={},t=yn(a);for(let a of t.orderedTokenizedFilters){let t=kf[a.type];t&&!e[a.type]&&(e[a.type]=t)}return Object.values(e)},[a]),y=(0,cg.useMemo)(()=>({items:l}),[l]);return(0,cs.jsxs)(bt,{icon:me.k1n,iconBg:"accent.subtle",iconColor:"accent.fg",headerDescription:p5.autoArchiveItemsLabel,children:[(0,cs.jsxs)(br.Z,{sx:{flex:1,alignItems:"stretch"},children:[(0,cs.jsx)(br.Z.Label,{children:"Filters"}),d?(0,cs.jsx)(kt,{query:a,filterCount:r?n:void 0,icon:(0,cs.jsx)(me.k1n,{})}):(0,cs.jsx)(wu.Provider,{value:y,children:(0,cs.jsx)(ke,{containerSx:{boxShadow:"none",border:e=>`solid 1px ${e.colors.border.default}`,borderRadius:"6px",pr:"4px",pl:"8px",alignItems:"center"},inputContainerSx:{marginLeft:"8px",height:"32px"},height:"32px",containerRef:p,visible:!0,value:a,onChange:c,inputRef:f,onClearButtonClick:u,setValueFromSuggestion:s,filterCount:n,onResetChanges:o?m:void 0,saveButtonText:pX.saveFilter,suggestColumns:!1})})]}),g.length>0&&(0,cs.jsx)(cW.Z,{sx:{width:"100%"},...(0,cK.f)("time-bound-notification"),children:h&&g.map(({field:e,value:t,unit:a})=>(0,cs.jsx)(kp,{field:e,value:t,unit:a},e))}),(0,cs.jsx)(ku,{query:a,isDirty:o})]})};try{(e2=kh).displayName||(e2.displayName="GetProjectItemsBlock")}catch{}let kg=({selectedOption:e,options:t,isEditing:a,onStatusSelected:n,testId:r,sx:l})=>{let i=(0,cg.useMemo)(()=>t.map(e=>({text:e.name,id:e.name})),[t]),[s,o]=(0,cg.useState)(""),[d,u]=(0,cg.useState)(!1),c=(0,cg.useCallback)(()=>{u(!1)},[]),m=e=>{n(t.find(t=>t.name===e?.text))},p=i.filter(e=>e.text?.toLowerCase().startsWith(s.toLowerCase())),f=i.find(t=>t.text===e?.name);return(0,cs.jsx)(bu.b,{placeholderText:p5.setValueLabel,open:d,onOpenChange:u,selected:f,onFilterChange:o,items:p,onSelectedChange:m,renderAnchor:({children:t,...n})=>(0,cs.jsx)(xh.z,{sx:l,disabled:!a,trailingIcon:me.AS7,...n,...(0,cK.f)(`${r}-anchor`),children:e?(0,cs.jsx)(y9,{children:`Status:${e?.nameHtml}`}):p5.invalidNoValue}),overlayProps:{width:"small",onMouseDown:e=>e.stopPropagation(),height:"auto",onClickOutside:c,...(0,cK.f)(`${r}-panel`)}})};try{(e5=kg).displayName||(e5.displayName="StatusPicker")}catch{}let ky=()=>{let{isEditing:e,workflow:t,replaceAction:a}=x2(),n=t.actions[0];(0,ck.Z)(n,"Action must be defined");let{column:r,selectedOption:l}=xq(n),i=r&&"options"in r.settings?r.settings.options:[],s=e=>{let t={...n,arguments:{...n.arguments,fieldOptionId:e?.id}};a(t)};return(0,cs.jsx)(bt,{icon:me.vdY,iconBg:"attention.subtle",iconColor:"attention.fg",headerDescription:p5.setValueLabel,children:(0,cs.jsx)(kg,{onStatusSelected:s,options:i,selectedOption:l?{...l}:void 0,isEditing:e,testId:"workflow-set-field"},"statusPicker")})};try{(e3=ky).displayName||(e3.displayName="SetBlock")}catch{}function kx(e){switch(e){case hV.PullRequest:return pX.pullRequest;case hV.Issue:return pX.issue;default:h2(e)}}let kb=({selectedContentTypes:e,contentTypes:t,isEditing:a,onContentTypesSelected:n,testId:r,sx:l})=>{let i=(0,cg.useMemo)(()=>t.map(e=>({text:kx(e),id:e})),[t]),[s,o]=(0,cg.useState)(""),[d,u]=(0,cg.useState)(!1),c=(0,cg.useCallback)(()=>{u(!1)},[]),m=e=>{let t=e.map(e=>e.id),a=t.filter(e=>void 0!==e&&e in hV);n(a)},p=i.filter(e=>e.text.toLowerCase().startsWith(s.toLowerCase())),f=i.filter(t=>e.includes(t.id));return(0,cs.jsx)(bu.b,{placeholderText:p5.selectContentType,open:d,onOpenChange:u,selected:f,onFilterChange:o,items:p,onSelectedChange:m,renderAnchor:({children:e,...t})=>(0,cs.jsx)(xh.z,{sx:l,disabled:!f||!a,trailingIcon:me.AS7,...t,...(0,cK.f)(`${r}-anchor`),children:f.length>0?e:p5.invalidNoContentType}),overlayProps:{width:"small",onMouseDown:e=>e.stopPropagation(),height:"auto",onClickOutside:c,...(0,cK.f)(`${r}-panel`)}})};try{(e4=kb).displayName||(e4.displayName="ContentTypePicker")}catch{}let kv=({description:e,icon:t,iconColor:a,iconBg:n})=>{let{isEditing:r,workflow:l,localContentTypes:i,setLocalContentTypes:s}=x2(),{getValidContentTypesForTriggerType:o}=yK(),d=o(l.triggerType);return(0,cs.jsx)(bt,{icon:t,iconBg:n,iconColor:a,headerDescription:e,children:d.length>1&&(0,cs.jsx)(kb,{contentTypes:d,onContentTypesSelected:s,selectedContentTypes:i,isEditing:r,testId:"workflows-when-content-types"},"contentTypePicker")})};try{(e6=kv).displayName||(e6.displayName="WhenBlock")}catch{}function kw(e){switch(e){case hZ.ItemAdded:return{description:p5.itemAddedToProjectLabel,icon:me.pOD,iconColor:"success.fg",iconBg:"success.subtle"};case hZ.Reopened:return{description:p5.itemReopenedLabel,icon:me.eJg,iconColor:"success.fg",iconBg:"success.subtle"};case hZ.Closed:return{description:p5.itemClosedLabel,icon:me.C4D,iconColor:"fg.muted",iconBg:"canvas.inset"};case hZ.ReviewChangesRequested:return{description:p5.codeChangesRequestedLabel,icon:me.apn,iconColor:"danger.fg",iconBg:"danger.subtle"};case hZ.ReviewApproved:return{description:p5.codeReviewApprovedLabel,icon:me.kD1,iconColor:"open.fg",iconBg:"success.subtle"};case hZ.Merged:return{description:p5.pullRequestMergedLabel,icon:me.Rvi,iconColor:"done.fg",iconBg:"done.subtle"};default:throw Error(`${e} is not a valid MemexWorkflowTriggerType for a WhenBlock`)}}let kk=({action:e,onNoSuggestedRepositories:t})=>{let{workflow:a}=x2();switch(e.actionType){case hO.SetField:{let e=kw(a.triggerType);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kv,{...e}),(0,cs.jsx)(x9,{}),(0,cs.jsx)(ky,{})]})}case hO.GetProjectItems:return(0,cs.jsx)(kh,{});case hO.GetItems:return(0,cs.jsx)(x8,{children:(0,cs.jsx)(kc,{onNoSuggestedRepositories:t})});case hO.ArchiveProjectItem:return(0,cs.jsx)(bn,{});case hO.AddProjectItem:return(0,cs.jsx)(ba,{});default:return null}};try{(e8=kk).displayName||(e8.displayName="ActionBlock")}catch{}let kj=({onNoSuggestedRepositories:e})=>{let{workflow:t}=x2(),a=(0,cg.useMemo)(()=>t.actions.sort(hH),[t.actions]);return(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:"80%",px:3},children:a.map((t,n)=>(0,cs.jsxs)(cg.Fragment,{children:[(0,cs.jsx)(kk,{action:t,sortedActions:a,onNoSuggestedRepositories:e}),n<a.length-1&&(0,cs.jsx)(x9,{})]},t.id??t.actionType))})};try{(e7=kj).displayName||(e7.displayName="AutomationGraph")}catch{}let kC=(e,t,{leading:a=!1,maxWait:n,trailing:r=!0,onChangeBehavior:l="flush"}={})=>{let i=pZ(e),s=(0,cg.useMemo)(()=>{let e=void 0===n?{leading:a,trailing:r}:{leading:a,trailing:r,maxWait:n};return(0,fb.Z)((...e)=>i.current(...e),t,e)},[i,t,a,n,r]);return(0,cg.useEffect)(()=>()=>{s?.[l]()},[s,l]),s},kS=()=>{let{workflowNames:e}=yK(),{workflowName:t,isEditing:a,setWorkflowName:n,setIsWorkflowValid:r,workflow:l}=x2(),[i,s]=(0,cg.useState)(),o=(0,cg.useCallback)(t=>{let a=yP(t,e);a.isValid?i&&(r(!0),s(void 0)):(r(!1),s(a.errorMessage))},[e,r,i]),d=kC(o,200),u=(0,cg.useCallback)(e=>{let t=e.target.value;n(t),d(t)},[d,n]);return(0,cg.useEffect)(()=>{a?o(l.name):a||(r(!0),s(void 0))},[a]),(0,cs.jsx)(cs.Fragment,{children:a?(0,cs.jsxs)(cW.Z,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,cs.jsx)(wE.Z,{name:"workflowName","aria-label":"Workflow name",value:t,onChange:u,validationStatus:i?"error":void 0,sx:{fontWeight:"bold"},...(0,cK.f)("workflow-name-editor-input")}),i&&(0,cs.jsx)(mn.Z,{as:"p",sx:{color:"danger.fg"},...(0,cK.f)("workflow-name-editor-error"),children:i})]}):(0,cs.jsx)(be.Z,{as:"h4",sx:{fontSize:3,color:"fg.default",wordBreak:"break-word"},id:"workflow-name",...(0,cK.f)("workflow-name-editor-read-only"),children:t})})};try{(e9=kS).displayName||(e9.displayName="WorkflowNameEditor")}catch{}let kI=()=>(0,cs.jsxs)(cW.Z,{sx:{mb:5,color:"fg.subtle",fontSize:"12px",display:"flex",alignItems:"center"},...(0,cK.f)("read-only-label"),children:[(0,cs.jsx)(mt.Z,{icon:me.mBM,size:12,sx:{color:"fg.muted",mr:1}}),(0,cs.jsx)(mn.Z,{children:p5.readOnlyLabel})]}),kN=()=>{let{discard:e}=x2();return(0,cs.jsx)(xh.z,{onClick:e,...(0,cK.f)("workflow-discard-button"),sx:{ml:2},children:p5.discardWorkflow})},kT=({clientId:e})=>{let{deleteNonPersistedWorkflow:t}=yK(),a=(0,xg.N)(),n=(0,cg.useCallback)(async()=>{let n=await a({title:p5.deleteWorkflowConfirmationTitle,content:p5.deleteWorkflowConfirmationContent,confirmButtonContent:p5.deleteWorkflowConfirmationButton,confirmButtonType:"danger"});n&&t(e)},[a,t,e]);return(0,cs.jsx)(xh.z,{onClick:()=>n(),...(0,cK.f)("workflow-delete-button"),sx:{ml:2},children:p5.deleteWorkflow})},k_=({children:e})=>{let{isEditing:t,edit:a,workflow:n,save:r,isWorkflowValid:l}=x2(),{shouldDisableWorkflowToggle:i}=x2(),s=(0,cg.useCallback)(async()=>{r(!n.enabled)},[r,n]),o=hz(n);return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minWidth:"80%"},children:[(0,cs.jsxs)(cW.Z,{sx:{py:[1,2,3],px:[2,3,4],display:"flex",justifyContent:"space-between",alignItems:"baseline",width:"100%",borderBottom:"1px solid",borderBottomColor:"border.subtle"},children:[(0,cs.jsx)(kS,{}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},...(0,cK.f)("workflow-enable-toggle"),children:[!t&&(0,cs.jsxs)(cs.Fragment,{children:[o&&(0,cs.jsx)(xy.Z,{checked:n.enabled,onClick:s,disabled:i,"aria-labelledby":"workflow-name"}),(0,cs.jsx)(xh.z,{sx:{ml:2},leadingIcon:me.vdY,onClick:a,...(0,cK.f)("workflow-edit-button"),children:p5.editWorkflow})]}),t&&(0,cs.jsxs)(cs.Fragment,{children:[!o&&n.isUserWorkflow?(0,cs.jsx)(kT,{clientId:n.clientId}):(0,cs.jsx)(kN,{}),(0,cs.jsx)(xh.z,{sx:{ml:2},variant:"primary",disabled:!l,onClick:()=>{r()},...(0,cK.f)("workflow-save-button"),children:p5.saveWorkflow})]})]})]}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",backgroundColor:"canvas.inset",py:5,borderRadius:2},children:[!t&&(0,cs.jsx)(kI,{}),e]})]})},kR=({workflow:e,onNoSuggestedRepositories:t,startInEditMode:a})=>(0,cs.jsx)(x1,{startInEditMode:a,initialWorkflow:e,children:(0,cs.jsx)(ErrorBoundary,{fallback:(0,cs.jsx)(x5,{heading:"Oops!",content:"Something went wrong loading this workflow configuration."}),children:(0,cs.jsx)(k_,{children:(0,cs.jsx)(kj,{onNoSuggestedRepositories:t})})})});try{(te=kI).displayName||(te.displayName="ReadOnlyLabel")}catch{}try{(tt=kN).displayName||(tt.displayName="DiscardButton")}catch{}try{(ta=kT).displayName||(ta.displayName="DeleteButton")}catch{}try{(tn=k_).displayName||(tn.displayName="AutomationGraphViewContent")}catch{}try{(tr=kR).displayName||(tr.displayName="AutomationGraphView")}catch{}var kP=a(14783);let kD=(0,cg.forwardRef)(function({isActive:e,className:t,...a},n){return(0,cs.jsx)(f4,{...a,ref:n,className:({isActive:a})=>a||e?`${t} selected`.trim():t??""})});try{(tl=kD).displayName||(tl.displayName="NavLinkWithActiveClassName")}catch{}try{(ti=kD).displayName||(ti.displayName="NavLinkWithActiveClassName")}catch{}function kE({to:e,children:t,isActive:a,...n}){let r=(0,cx.WU)(e),l=(0,cx.bS)({path:r.pathname,end:!0});return(0,cs.jsx)(kP.$.Item,{"aria-current":(!!a||!!l)&&"page",as:kD,...n,to:e,children:t})}try{(ts=kE).displayName||(ts.displayName="NavLinkActionListItem")}catch{}var kL=a(50901),kA=a(10936);let kM=({workflowToDuplicate:e})=>{let{setIsDialogOpen:t,applyWorkflowTemplate:a}=yW(),{customWorkflowLimitReached:n,setWorkflowMenuState:r}=yK(),l=(0,cg.useCallback)(l=>{n||(a(e),t(!0),r(e.clientId),l.stopPropagation())},[n,a,e,t,r]);return n?(0,cs.jsx)(w_.Z,{"aria-label":p3.userAddedWorkflowLimitReached,direction:"s",wrap:!0,children:(0,cs.jsxs)(kL.S.Item,{as:"button","aria-label":"Duplicate workflow",onClick:e=>e.stopPropagation(),...(0,cK.f)(`duplicate-option-disabled-${e.clientId}`),disabled:!0,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.NAN,{className:"duplicate-workflow-button"})}),(0,cs.jsx)(mn.Z,{className:"duplicate-workflow-button",children:p3.duplicateWorkflowLabel})]},`duplicate-option-${e.clientId}`)}):(0,cs.jsxs)(kL.S.Item,{as:"button",onClick:l,"aria-label":"Duplicate workflow",...(0,cK.f)(`duplicate-option-${e.clientId}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.NAN,{className:"duplicate-workflow-button"})}),(0,cs.jsx)(mn.Z,{className:"duplicate-workflow-button",children:p3.duplicateWorkflowLabel})]},`duplicate-option-${e.clientId}`)};try{(to=kM).displayName||(to.displayName="DuplicateWorkflowButton")}catch{}let kF=({workflow:e,isOpen:t})=>{let{returnFocusRef:a}=yW(),{deleteWorkflow:n,setWorkflowMenuState:r}=yK(),l=(0,hJ.useRelayEnvironment)(),i=(0,xg.N)(),s=(0,cg.useCallback)(async e=>{let t=await i({title:p5.deleteWorkflowConfirmationTitle,content:p5.deleteWorkflowConfirmationContent,confirmButtonContent:p5.deleteWorkflowConfirmationButton,confirmButtonType:"danger"});t&&n(e.number,l)},[i,n,l]),[o,d]=(0,cg.useState)(t),u=(0,cg.useCallback)(()=>{r(e.clientId)},[r,e.clientId]),c=(0,cg.useCallback)(t=>{t.target instanceof Element&&t.target?.closest("a")?.href?.includes("/workflows/")||r(e.clientId)},[r,e.clientId]),m=(0,cg.useMemo)(()=>{let t=[];return hz(e)&&(e.isUserWorkflow&&t.push((0,cs.jsxs)(kL.S.Item,{variant:"danger",onSelect:()=>s(e),...(0,cK.f)(`workflow-nav-item-menu-delete-${e.clientId}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),p5.deleteWorkflowCallToAction]},`${e.clientId}-delete-option`)),t.push((0,cs.jsx)(kM,{workflowToDuplicate:e},`${e.clientId}-duplicate-option`))),t},[s,e]);return(0,cs.jsx)(cs.Fragment,{children:m.length>0?(0,cs.jsxs)(kA.P,{open:o,onOpenChange:d,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{ref:a,icon:me.Ui8,variant:"invisible","aria-label":"Open workflow options",sx:{color:"fg.default",py:0},...(0,cK.f)(`workflow-nav-item-menu-${e.clientId}`)})}),(0,cs.jsx)(kA.P.Overlay,{sx:{overflow:"visible"},onClickOutside:c,onEscape:u,children:(0,cs.jsx)(kL.S,{...(0,cK.f)(`workflow-nav-item-menu-list-${e.clientId}`),children:m},`workflow-nav-item-menu-list-${e.clientId}`)})]}):null})};try{(td=kF).displayName||(td.displayName="WorkflowMenu")}catch{}let kZ=(0,cg.memo)(({activeWorkflow:e})=>{let{workflows:t,workflowWithTriggerTypeIsEnableable:a,setWorkflowMenuState:n,resetWorkflowMenuStates:r,isWorkflowMenuOpen:l}=yK(),{isArchiveFull:i}=hD(),s=(0,cg.useCallback)((e,t)=>{["button","svg","path"].includes(e.target.tagName.toLowerCase())?(e.preventDefault(),n(t)):r()},[r,n]);return(0,cs.jsx)(kP.$,{...(0,cK.f)("settings-side-nav"),sx:{minWidth:"280px",maxWidth:"25%",borderRight:"1px solid",borderColor:"border.subtle",overflowY:"scroll",pb:4},children:(0,cs.jsx)(kP.$.Group,{title:"Default workflows",children:t.map(t=>{let n=a(t.triggerType),r=t.clientId===e.clientId,o=t.isUserWorkflow&&!hz(t);return(0,cs.jsx)(kE,{to:{pathname:hr.generatePath({workflowClientId:t.clientId})},onClick:e=>s(e,t.clientId),tabIndex:n?0:-1,isActive:r,sx:{pointerEvents:n?"auto":"none",opacity:n?void 0:.5,minHeight:"44px",display:"flex",alignItems:"center"},...(0,cK.f)(`workflow-nav-item-${hG(t)}`),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between"},children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",wordBreak:"break-word"},children:[(0,cs.jsx)(kO,{workflow:t,isActive:r,isArchiveFull:i,isNonPersistedUserWorkflow:o}),(0,cs.jsx)(k$,{name:t.name,isNonPersistedUserWorkflow:o})]}),(0,cs.jsx)(cW.Z,{sx:{flexShrink:"0",display:"flex",alignItems:"center"},children:hK(t)&&(0,cs.jsx)(x8,{children:(0,cs.jsx)(kF,{workflow:t,isOpen:l(t.clientId)})})})]})},t.clientId)})})})});kZ.displayName="AutomationSideNav";let kO=({workflow:e,isActive:t,isArchiveFull:a,isNonPersistedUserWorkflow:n})=>n?(0,cs.jsx)(mt.Z,{icon:me.ydi,size:20,sx:{mr:1,color:"attention.emphasis"}}):a&&hU(e)?(0,cs.jsx)(mt.Z,{icon:me.ydi,size:20,sx:{mr:1,color:"danger.fg"}}):e.enabled?(0,cs.jsx)(mt.Z,{icon:me.ydi,size:20,sx:{mr:1,color:"success.emphasis"}}):yD(e).isValid?(0,cs.jsx)(mt.Z,{icon:me.ZNd,size:20,sx:{mr:1,color:t?"fg.default":"fg.muted"}}):(0,cs.jsx)(mt.Z,{icon:me.wNq,size:14,sx:{ml:"3px",mr:"7px",color:"danger.fg"}}),k$=({name:e,isNonPersistedUserWorkflow:t})=>t?(0,cs.jsx)(mn.Z,{sx:{fontStyle:"italic"},children:e}):(0,cs.jsx)(mn.Z,{children:e});try{(tu=kO).displayName||(tu.displayName="ProjectWorkflowIcon")}catch{}try{(tc=k$).displayName||(tc.displayName="WorkflowName")}catch{}var kV=a(12470);let kB=({onWorkflowNameValidation:e,onWorkflowNameChange:t,debounceDelay:a,workflowNames:n})=>{let[r,l]=(0,cg.useState)(),i=(0,cg.useCallback)(t=>{let a=yP(t,n);a.isValid?r&&(e?.(!0),l(void 0)):(e?.(!1),l(a.errorMessage))},[r,e,n]),s=kC(i,a??200),o=(0,cg.useCallback)(e=>{let a=e.target.value;t?.(a),s(a)},[s,t]);return{validate:i,onChangeHandler:o,error:r}},kz=({setStartInEditMode:e})=>{let{isDialogOpen:t,setIsDialogOpen:a,returnFocusRef:n,workflowName:r,setWorkflowName:l,workflowTemplate:i,applyWorkflowTemplate:s}=yW(),{workflowNames:o,activeWorkflow:d,newWorkflow:u}=yK(),{error:c,onChangeHandler:m,validate:p}=kB({onWorkflowNameChange:l,workflowNames:d?new Set(o).add(d.name.toLocaleLowerCase()):o}),f=(0,cg.useRef)(null),h=(0,cg.useCallback)(()=>{u(r,"query_matched_add_project_item",i),a(!1),e(!0)},[u,e,a,r,i]),g=(0,cg.useCallback)(()=>{a(!1),s()},[s,a]);return(0,cg.useEffect)(()=>{t&&p(r)},[t]),(0,cs.jsxs)(kV.Z,{isOpen:t,returnFocusRef:n,initialFocusRef:f,onDismiss:g,"aria-labelledby":"new-workflow-header",children:[(0,cs.jsx)(kV.Z.Header,{sx:{background:"none",border:"none"},id:"new-workflow-header",children:(0,cs.jsx)(be.Z,{as:"h3",sx:{fontSize:3},children:p3.duplicateWorkflowLabel})}),(0,cs.jsx)(cW.Z,{sx:{px:3},children:(0,cs.jsxs)(br.Z,{sx:{my:2},children:[(0,cs.jsx)(br.Z.Label,{children:p3.workflowNameInputLabel}),(0,cs.jsx)(wE.Z,{ref:f,sx:{width:"100%",minHeight:"34px"},value:r,onChange:m,validationStatus:c?"error":void 0,...(0,cK.f)("new-workflow-dialog-input")}),c&&(0,cs.jsx)(mn.Z,{as:"p",sx:{color:"danger.fg"},...(0,cK.f)("new-workflow-dialog-error"),children:c})]})}),(0,cs.jsx)(cW.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:4,py:3,px:3,borderTop:"1px solid",borderColor:"border.default"},children:(0,cs.jsx)(xh.z,{disabled:!!c,variant:"primary",onClick:h,...(0,cK.f)("new-workflow-dialog-create-button"),children:p3.duplicateButton})})]})};try{(tm=kz).displayName||(tm.displayName="CreateNewWorkflowDialog")}catch{}let kU=()=>{let[e,t]=(0,cg.useState)(!1),{activeWorkflow:a}=yK(),{shouldDisableArchiveForActiveWorkflow:n,setArchiveStatus:r}=hD(),[l,i]=(0,cg.useState)(!1);(0,cg.useEffect)(()=>(r(),()=>{r.cancel()}),[r]),(0,cg.useEffect)(()=>{t(!1),i(!1)},[a]);let s=(0,cg.useCallback)(()=>{t(!0)},[t]),{projectOwner:o,isOrganization:d}=f1(),u=o?.name?.toLowerCase();return(0,cs.jsx)(cW.Z,{as:"main",sx:{pl:[3,4,5],display:"flex",flex:"auto",height:"100%"},children:a?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kZ,{activeWorkflow:a}),(0,cs.jsxs)(cW.Z,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[n?(0,cs.jsx)(kK,{}):null,e?(0,cs.jsx)(xm,{isOrganization:d,owner:u}):(0,cs.jsx)(kR,{startInEditMode:l,workflow:a,onNoSuggestedRepositories:s},a.id)]}),(0,cs.jsx)(kz,{setStartInEditMode:i})]}):(0,cs.jsx)("div",{children:"No workflows"})})},kK=()=>{let{projectNumber:e}=fN(),t=e?hu.generatePath():"";return(0,cs.jsx)(fV.Z,{variant:"danger",sx:{mb:3},...(0,cK.f)("archive-full-warning"),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,cs.jsx)(mt.Z,{icon:me.wNq,size:14,sx:{color:"danger.fg"}}),(0,cs.jsxs)(mn.Z,{sx:{ml:"8px"},children:["This workflow is disabled because the Archive is full. Remove items from"," ",(0,cs.jsx)(f3,{to:t,children:"the Archive"})," to enable this workflow."]})]})})};try{(tp=kU).displayName||(tp.displayName="AutomationView")}catch{}try{(tf=kK).displayName||(tf.displayName="FullArchiveWarning")}catch{}function kW(){return(0,cs.jsx)(fO,{children:(0,cs.jsx)(cH,{...(0,cK.f)("automation-page"),children:(0,cs.jsx)(kU,{})})})}try{(th=kW).displayName||(th.displayName="AutomationPage")}catch{}let kH=()=>{window.location.reload()},kG=()=>(0,cs.jsx)(x5,{as:"main",headingAs:"h1",heading:"This project failed to load",content:"Sorry about that. Please try refreshing and contact us if the problem persists.",...(0,cK.f)("project-error-fallback"),children:(0,cs.jsx)(xh.z,{variant:"primary",onClick:kH,sx:{mt:2,mx:"auto"},children:"Reload"})});try{(tg=kG).displayName||(tg.displayName="ProjectErrorFallback")}catch{}function kq(e,{timeoutMs:t=225}={}){let[a,n]=(0,cg.useState)(e),r=pZ(t);return(0,cg.useEffect)(()=>{let t=!0,a=setTimeout(()=>{t&&n(e)},r.current);return()=>{t=!1,clearTimeout(a)}},[e,r]),a}var kQ=a(813),kX=a.n(kQ);let kY=(0,cg.createContext)({visible:!1,findValue:""}),kJ=(0,cg.memo)(function({children:e,visible:t,findValue:a}){let n=(0,cg.useMemo)(()=>({visible:t,findValue:a}),[a,t]);return(0,cs.jsx)(kY.Provider,{value:n,children:e})});function k0(e,{disabled:t=!1}={}){let{visible:a,findValue:n}=(0,cg.useContext)(kY);(0,cg.useEffect)(()=>{if(!a||!e?.current||t||!n)return;let r=new(kX())(e.current);return r.mark(n,{element:"mark",className:"find-in-project-highlight",separateWordSearch:!1,acrossElements:!0,ignoreJoiners:!0,caseSensitive:!1,ignorePunctuation:[".",",",";",":","!","?","-","\u2014","\u2013",'"',"'","\u201C","\u201D","\u2018","\u2019"]}),function(){r.unmark()}})}try{(ty=kY).displayName||(ty.displayName="MarkedTextContext")}catch{}try{(tx=kJ).displayName||(tx.displayName="MarkedTextProvider")}catch{}let k1=(0,cg.createContext)(null),k2=()=>void 0;function k5({children:e}){let{memex_find_in_project:t}=xO(),a=(0,cg.useRef)(null),[n,r]=(0,cg.useState)(!1),[l,i]=(0,cg.useState)(""),s=(0,cg.useRef)(k2),o=(0,cg.useCallback)(e=>{if(t){if(n){a.current?.focus();return}r(!0),s.current=e??k2}},[t,n]),d=(0,cg.useCallback)(()=>{t&&(r(!1),s.current())},[t]);(0,cg.useEffect)(()=>{n?a.current?.focus():s.current=k2},[n]);let u=kq(l.trim());return(0,cs.jsx)(k1.Provider,{value:(0,cg.useMemo)(()=>({showInput:o,hideInput:d,findValue:l,visible:n,setFindValue:i,inputRef:a}),[l,d,o,n]),children:(0,cs.jsx)(kJ,{visible:n,findValue:u,children:e})})}let k3=()=>{let e=(0,cg.useContext)(k1);if(!e)throw Error("useFindInProject must be used within a FindInProjectContext");return e};try{(tb=k1).displayName||(tb.displayName="FindInProjectContext")}catch{}try{(tv=k5).displayName||(tv.displayName="FindInProjectProvider")}catch{}var k4=a(9058),k6=a(71977),k8=a(66280);let k7={createMore:"Create more",createFullscreen:"Open issue creation in fullscreen",create:"Create",cancel:"Cancel"},k9={createIssueError:"Unable to create issue."},je={issueCreateDialogTitle:"Create new issue",issueCreateTitleLabel:"Issue title",issueCreateTitlePlaceholder:"Add a title",issueCreateBodyLabel:"Issue description",issueCreatedPrefix:"Issue created ",issueNumber:e=>`#${e}`},jt={localStorageKeys:{issueCreateMore:"hyperlist.create-issue-create-more",issueTitle:"hyperlist.create-issue-title",issueBody:"hyperlist.create-issue-body",issueRepo:"hyperlist.create-issue-repo",issueLabels:"hyperlist.create-issue-labels",issueAssignees:"hyperlist.create-issue-assignees",issueMilestone:"hyperlist.create-issue-milestone",issueProjects:"hyperlist.create-issue-projects"}};var ja=a(44311),jn=a(54383);async function jr(e){let t=cQ("memex-get-asset-upload-policy-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token,contentType:fi.FormData});return a}async function jl(e,{file:t}){let a=new FormData;for(let[t,n]of(e.same_origin&&a.append("authenticity_token",e.upload_authenticity_token),Object.entries(e.form)))a.append(t,n);a.append("file",t);let n=await fm(e.upload_url,{method:"POST",headers:e.header,body:a}),r="href"in e.asset?e.asset:await n.json();return await ji(e),r}async function ji(e){if(!("asset_upload_url"in e))return;let t=new FormData;t.append("authenticity_token",e.asset_upload_authenticity_token),await fm(e.asset_upload_url,{method:"PUT",body:t,credentials:"same-origin",headers:{Accept:"application/json"}})}async function js({text:e,context:t}){let a=cQ("memex-preview-markdown-api-data"),n={text:e};t&&(n.repository=t.repositoryId,n.subject_type=t.subjectType,"issueId"in t&&(n.issue=t.issueId),"pullRequestId"in t&&(n.pull_request=t.pullRequestId),"discussionId"in t&&(n.discussion=t.discussionId));let r=await fp(a.url,{method:"POST",body:fo(n),headers:{Accept:"text/html","Content-Type":fi.FormData}});return r.text()}let jo=e=>{let[t,a]=(0,cg.useState)(""),[n,r]=(0,cg.useState)(!1),l=(0,cg.useCallback)(async t=>{r(!0),a("");let n=await js({text:t,context:e});return r(!1),a(n),n},[e]);return{html:t,isLoading:n,loadPreview:l}};async function jd({subjectId:e,subjectType:t,subjectRepo:a}){let n=cQ("memex-global-suggester-api-data"),r=new URL(`${n.url}/${t}/${e}`,window.location.origin);r.searchParams.append("mention_suggester","1"),r.searchParams.append("repository_id",`${a}`);let{data:l}=await fd(r);return l}async function ju({subjectId:e,subjectType:t,subjectRepo:a}){let n=cQ("memex-global-suggester-api-data"),r=new URL(`${n.url}/${t}/${e}`,window.location.origin);r.searchParams.set("issue_suggester","1"),r.searchParams.set("repository_id",`${a}`);let{data:l}=await fd(r);return l}let jc={"+1":"\u{1F44D}","-1":"\u{1F44E}",100:"\u{1F4AF}",1234:"\u{1F522}","1st_place_medal":"\u{1F947}","2nd_place_medal":"\u{1F948}","3rd_place_medal":"\u{1F949}","8ball":"\u{1F3B1}",a:"\u{1F170}",ab:"\u{1F18E}",abacus:"\u{1F9EE}",abc:"\u{1F524}",abcd:"\u{1F521}",accept:"\u{1F251}",adhesive_bandage:"\u{1FA79}",adult:"\u{1F9D1}",aerial_tramway:"\u{1F6A1}",afghanistan:"\u{1F1E6}\u200D\u{1F1EB}",airplane:"\u2708",aland_islands:"\u{1F1E6}\u200D\u{1F1FD}",alarm_clock:"\u23F0",albania:"\u{1F1E6}\u200D\u{1F1F1}",alembic:"\u2697",algeria:"\u{1F1E9}\u200D\u{1F1FF}",alien:"\u{1F47D}",ambulance:"\u{1F691}",american_samoa:"\u{1F1E6}\u200D\u{1F1F8}",amphora:"\u{1F3FA}",anchor:"\u2693",andorra:"\u{1F1E6}\u200D\u{1F1E9}",angel:"\u{1F47C}",anger:"\u{1F4A2}",angola:"\u{1F1E6}\u200D\u{1F1F4}",angry:"\u{1F620}",anguilla:"\u{1F1E6}\u200D\u{1F1EE}",anguished:"\u{1F627}",ant:"\u{1F41C}",antarctica:"\u{1F1E6}\u200D\u{1F1F6}",antigua_barbuda:"\u{1F1E6}\u200D\u{1F1EC}",apple:"\u{1F34E}",aquarius:"\u2652",argentina:"\u{1F1E6}\u200D\u{1F1F7}",aries:"\u2648",armenia:"\u{1F1E6}\u200D\u{1F1F2}",arrow_backward:"\u25C0",arrow_double_down:"\u23EC",arrow_double_up:"\u23EB",arrow_down:"\u2B07",arrow_down_small:"\u{1F53D}",arrow_forward:"\u25B6",arrow_heading_down:"\u2935",arrow_heading_up:"\u2934",arrow_left:"\u2B05",arrow_lower_left:"\u2199",arrow_lower_right:"\u2198",arrow_right:"\u27A1",arrow_right_hook:"\u21AA",arrow_up:"\u2B06",arrow_up_down:"\u2195",arrow_up_small:"\u{1F53C}",arrow_upper_left:"\u2196",arrow_upper_right:"\u2197",arrows_clockwise:"\u{1F503}",arrows_counterclockwise:"\u{1F504}",art:"\u{1F3A8}",articulated_lorry:"\u{1F69B}",artificial_satellite:"\u{1F6F0}",artist:"\u{1F9D1}\u200D\u{1F3A8}",aruba:"\u{1F1E6}\u200D\u{1F1FC}",ascension_island:"\u{1F1E6}\u200D\u{1F1E8}",asterisk:"*\u200D\u20E3",astonished:"\u{1F632}",astronaut:"\u{1F9D1}\u200D\u{1F680}",athletic_shoe:"\u{1F45F}",atm:"\u{1F3E7}",atom_symbol:"\u269B",australia:"\u{1F1E6}\u200D\u{1F1FA}",austria:"\u{1F1E6}\u200D\u{1F1F9}",auto_rickshaw:"\u{1F6FA}",avocado:"\u{1F951}",axe:"\u{1FA93}",azerbaijan:"\u{1F1E6}\u200D\u{1F1FF}",b:"\u{1F171}",baby:"\u{1F476}",baby_bottle:"\u{1F37C}",baby_chick:"\u{1F424}",baby_symbol:"\u{1F6BC}",back:"\u{1F519}",bacon:"\u{1F953}",badger:"\u{1F9A1}",badminton:"\u{1F3F8}",bagel:"\u{1F96F}",baggage_claim:"\u{1F6C4}",baguette_bread:"\u{1F956}",bahamas:"\u{1F1E7}\u200D\u{1F1F8}",bahrain:"\u{1F1E7}\u200D\u{1F1ED}",balance_scale:"\u2696",bald_man:"\u{1F468}\u200D\u{1F9B2}",bald_woman:"\u{1F469}\u200D\u{1F9B2}",ballet_shoes:"\u{1FA70}",balloon:"\u{1F388}",ballot_box:"\u{1F5F3}",ballot_box_with_check:"\u2611",bamboo:"\u{1F38D}",banana:"\u{1F34C}",bangbang:"\u203C",bangladesh:"\u{1F1E7}\u200D\u{1F1E9}",banjo:"\u{1FA95}",bank:"\u{1F3E6}",bar_chart:"\u{1F4CA}",barbados:"\u{1F1E7}\u200D\u{1F1E7}",barber:"\u{1F488}",baseball:"\u26BE",basket:"\u{1F9FA}",basketball:"\u{1F3C0}",basketball_man:"\u26F9\u200D\u2642",basketball_woman:"\u26F9\u200D\u2640",bat:"\u{1F987}",bath:"\u{1F6C0}",bathtub:"\u{1F6C1}",battery:"\u{1F50B}",beach_umbrella:"\u{1F3D6}",bear:"\u{1F43B}",bearded_person:"\u{1F9D4}",bed:"\u{1F6CF}",bee:"\u{1F41D}",beer:"\u{1F37A}",beers:"\u{1F37B}",beetle:"\u{1F41E}",beginner:"\u{1F530}",belarus:"\u{1F1E7}\u200D\u{1F1FE}",belgium:"\u{1F1E7}\u200D\u{1F1EA}",belize:"\u{1F1E7}\u200D\u{1F1FF}",bell:"\u{1F514}",bellhop_bell:"\u{1F6CE}",benin:"\u{1F1E7}\u200D\u{1F1EF}",bento:"\u{1F371}",bermuda:"\u{1F1E7}\u200D\u{1F1F2}",beverage_box:"\u{1F9C3}",bhutan:"\u{1F1E7}\u200D\u{1F1F9}",bicyclist:"\u{1F6B4}",bike:"\u{1F6B2}",biking_man:"\u{1F6B4}\u200D\u2642",biking_woman:"\u{1F6B4}\u200D\u2640",bikini:"\u{1F459}",billed_cap:"\u{1F9E2}",biohazard:"\u2623",bird:"\u{1F426}",birthday:"\u{1F382}",black_circle:"\u26AB",black_flag:"\u{1F3F4}",black_heart:"\u{1F5A4}",black_joker:"\u{1F0CF}",black_large_square:"\u2B1B",black_medium_small_square:"\u25FE",black_medium_square:"\u25FC",black_nib:"\u2712",black_small_square:"\u25AA",black_square_button:"\u{1F532}",blond_haired_man:"\u{1F471}\u200D\u2642",blond_haired_person:"\u{1F471}",blond_haired_woman:"\u{1F471}\u200D\u2640",blonde_woman:"\u{1F471}\u200D\u2640",blossom:"\u{1F33C}",blowfish:"\u{1F421}",blue_book:"\u{1F4D8}",blue_car:"\u{1F699}",blue_heart:"\u{1F499}",blue_square:"\u{1F7E6}",blush:"\u{1F60A}",boar:"\u{1F417}",boat:"\u26F5",bolivia:"\u{1F1E7}\u200D\u{1F1F4}",bomb:"\u{1F4A3}",bone:"\u{1F9B4}",book:"\u{1F4D6}",bookmark:"\u{1F516}",bookmark_tabs:"\u{1F4D1}",books:"\u{1F4DA}",boom:"\u{1F4A5}",boot:"\u{1F462}",bosnia_herzegovina:"\u{1F1E7}\u200D\u{1F1E6}",botswana:"\u{1F1E7}\u200D\u{1F1FC}",bouncing_ball_man:"\u26F9\u200D\u2642",bouncing_ball_person:"\u26F9",bouncing_ball_woman:"\u26F9\u200D\u2640",bouquet:"\u{1F490}",bouvet_island:"\u{1F1E7}\u200D\u{1F1FB}",bow:"\u{1F647}",bow_and_arrow:"\u{1F3F9}",bowing_man:"\u{1F647}\u200D\u2642",bowing_woman:"\u{1F647}\u200D\u2640",bowl_with_spoon:"\u{1F963}",bowling:"\u{1F3B3}",boxing_glove:"\u{1F94A}",boy:"\u{1F466}",brain:"\u{1F9E0}",brazil:"\u{1F1E7}\u200D\u{1F1F7}",bread:"\u{1F35E}",breast_feeding:"\u{1F931}",bricks:"\u{1F9F1}",bride_with_veil:"\u{1F470}",bridge_at_night:"\u{1F309}",briefcase:"\u{1F4BC}",british_indian_ocean_territory:"\u{1F1EE}\u200D\u{1F1F4}",british_virgin_islands:"\u{1F1FB}\u200D\u{1F1EC}",broccoli:"\u{1F966}",broken_heart:"\u{1F494}",broom:"\u{1F9F9}",brown_circle:"\u{1F7E4}",brown_heart:"\u{1F90E}",brown_square:"\u{1F7EB}",brunei:"\u{1F1E7}\u200D\u{1F1F3}",bug:"\u{1F41B}",building_construction:"\u{1F3D7}",bulb:"\u{1F4A1}",bulgaria:"\u{1F1E7}\u200D\u{1F1EC}",bullettrain_front:"\u{1F685}",bullettrain_side:"\u{1F684}",burkina_faso:"\u{1F1E7}\u200D\u{1F1EB}",burrito:"\u{1F32F}",burundi:"\u{1F1E7}\u200D\u{1F1EE}",bus:"\u{1F68C}",business_suit_levitating:"\u{1F574}",busstop:"\u{1F68F}",bust_in_silhouette:"\u{1F464}",busts_in_silhouette:"\u{1F465}",butter:"\u{1F9C8}",butterfly:"\u{1F98B}",cactus:"\u{1F335}",cake:"\u{1F370}",calendar:"\u{1F4C6}",call_me_hand:"\u{1F919}",calling:"\u{1F4F2}",cambodia:"\u{1F1F0}\u200D\u{1F1ED}",camel:"\u{1F42B}",camera:"\u{1F4F7}",camera_flash:"\u{1F4F8}",cameroon:"\u{1F1E8}\u200D\u{1F1F2}",camping:"\u{1F3D5}",canada:"\u{1F1E8}\u200D\u{1F1E6}",canary_islands:"\u{1F1EE}\u200D\u{1F1E8}",cancer:"\u264B",candle:"\u{1F56F}",candy:"\u{1F36C}",canned_food:"\u{1F96B}",canoe:"\u{1F6F6}",cape_verde:"\u{1F1E8}\u200D\u{1F1FB}",capital_abcd:"\u{1F520}",capricorn:"\u2651",car:"\u{1F697}",card_file_box:"\u{1F5C3}",card_index:"\u{1F4C7}",card_index_dividers:"\u{1F5C2}",caribbean_netherlands:"\u{1F1E7}\u200D\u{1F1F6}",carousel_horse:"\u{1F3A0}",carrot:"\u{1F955}",cartwheeling:"\u{1F938}",cat:"\u{1F431}",cat2:"\u{1F408}",cayman_islands:"\u{1F1F0}\u200D\u{1F1FE}",cd:"\u{1F4BF}",central_african_republic:"\u{1F1E8}\u200D\u{1F1EB}",ceuta_melilla:"\u{1F1EA}\u200D\u{1F1E6}",chad:"\u{1F1F9}\u200D\u{1F1E9}",chains:"\u26D3",chair:"\u{1FA91}",champagne:"\u{1F37E}",chart:"\u{1F4B9}",chart_with_downwards_trend:"\u{1F4C9}",chart_with_upwards_trend:"\u{1F4C8}",checkered_flag:"\u{1F3C1}",cheese:"\u{1F9C0}",cherries:"\u{1F352}",cherry_blossom:"\u{1F338}",chess_pawn:"\u265F",chestnut:"\u{1F330}",chicken:"\u{1F414}",child:"\u{1F9D2}",children_crossing:"\u{1F6B8}",chile:"\u{1F1E8}\u200D\u{1F1F1}",chipmunk:"\u{1F43F}",chocolate_bar:"\u{1F36B}",chopsticks:"\u{1F962}",christmas_island:"\u{1F1E8}\u200D\u{1F1FD}",christmas_tree:"\u{1F384}",church:"\u26EA",cinema:"\u{1F3A6}",circus_tent:"\u{1F3AA}",city_sunrise:"\u{1F307}",city_sunset:"\u{1F306}",cityscape:"\u{1F3D9}",cl:"\u{1F191}",clamp:"\u{1F5DC}",clap:"\u{1F44F}",clapper:"\u{1F3AC}",classical_building:"\u{1F3DB}",climbing:"\u{1F9D7}",climbing_man:"\u{1F9D7}\u200D\u2642",climbing_woman:"\u{1F9D7}\u200D\u2640",clinking_glasses:"\u{1F942}",clipboard:"\u{1F4CB}",clipperton_island:"\u{1F1E8}\u200D\u{1F1F5}",clock1:"\u{1F550}",clock10:"\u{1F559}",clock1030:"\u{1F565}",clock11:"\u{1F55A}",clock1130:"\u{1F566}",clock12:"\u{1F55B}",clock1230:"\u{1F567}",clock130:"\u{1F55C}",clock2:"\u{1F551}",clock230:"\u{1F55D}",clock3:"\u{1F552}",clock330:"\u{1F55E}",clock4:"\u{1F553}",clock430:"\u{1F55F}",clock5:"\u{1F554}",clock530:"\u{1F560}",clock6:"\u{1F555}",clock630:"\u{1F561}",clock7:"\u{1F556}",clock730:"\u{1F562}",clock8:"\u{1F557}",clock830:"\u{1F563}",clock9:"\u{1F558}",clock930:"\u{1F564}",closed_book:"\u{1F4D5}",closed_lock_with_key:"\u{1F510}",closed_umbrella:"\u{1F302}",cloud:"\u2601",cloud_with_lightning:"\u{1F329}",cloud_with_lightning_and_rain:"\u26C8",cloud_with_rain:"\u{1F327}",cloud_with_snow:"\u{1F328}",clown_face:"\u{1F921}",clubs:"\u2663",cn:"\u{1F1E8}\u200D\u{1F1F3}",coat:"\u{1F9E5}",cocktail:"\u{1F378}",coconut:"\u{1F965}",cocos_islands:"\u{1F1E8}\u200D\u{1F1E8}",coffee:"\u2615",coffin:"\u26B0",cold_face:"\u{1F976}",cold_sweat:"\u{1F630}",collision:"\u{1F4A5}",colombia:"\u{1F1E8}\u200D\u{1F1F4}",comet:"\u2604",comoros:"\u{1F1F0}\u200D\u{1F1F2}",compass:"\u{1F9ED}",computer:"\u{1F4BB}",computer_mouse:"\u{1F5B1}",confetti_ball:"\u{1F38A}",confounded:"\u{1F616}",confused:"\u{1F615}",congo_brazzaville:"\u{1F1E8}\u200D\u{1F1EC}",congo_kinshasa:"\u{1F1E8}\u200D\u{1F1E9}",congratulations:"\u3297",construction:"\u{1F6A7}",construction_worker:"\u{1F477}",construction_worker_man:"\u{1F477}\u200D\u2642",construction_worker_woman:"\u{1F477}\u200D\u2640",control_knobs:"\u{1F39B}",convenience_store:"\u{1F3EA}",cook:"\u{1F9D1}\u200D\u{1F373}",cook_islands:"\u{1F1E8}\u200D\u{1F1F0}",cookie:"\u{1F36A}",cool:"\u{1F192}",cop:"\u{1F46E}",copyright:"\xa9",corn:"\u{1F33D}",costa_rica:"\u{1F1E8}\u200D\u{1F1F7}",cote_divoire:"\u{1F1E8}\u200D\u{1F1EE}",couch_and_lamp:"\u{1F6CB}",couple:"\u{1F46B}",couple_with_heart:"\u{1F491}",couple_with_heart_man_man:"\u{1F468}\u200D\u2764\u200D\u{1F468}",couple_with_heart_woman_man:"\u{1F469}\u200D\u2764\u200D\u{1F468}",couple_with_heart_woman_woman:"\u{1F469}\u200D\u2764\u200D\u{1F469}",couplekiss:"\u{1F48F}",couplekiss_man_man:"\u{1F468}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F468}",couplekiss_man_woman:"\u{1F469}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F468}",couplekiss_woman_woman:"\u{1F469}\u200D\u2764\u200D\u{1F48B}\u200D\u{1F469}",cow:"\u{1F42E}",cow2:"\u{1F404}",cowboy_hat_face:"\u{1F920}",crab:"\u{1F980}",crayon:"\u{1F58D}",credit_card:"\u{1F4B3}",crescent_moon:"\u{1F319}",cricket:"\u{1F997}",cricket_game:"\u{1F3CF}",croatia:"\u{1F1ED}\u200D\u{1F1F7}",crocodile:"\u{1F40A}",croissant:"\u{1F950}",crossed_fingers:"\u{1F91E}",crossed_flags:"\u{1F38C}",crossed_swords:"\u2694",crown:"\u{1F451}",cry:"\u{1F622}",crying_cat_face:"\u{1F63F}",crystal_ball:"\u{1F52E}",cuba:"\u{1F1E8}\u200D\u{1F1FA}",cucumber:"\u{1F952}",cup_with_straw:"\u{1F964}",cupcake:"\u{1F9C1}",cupid:"\u{1F498}",curacao:"\u{1F1E8}\u200D\u{1F1FC}",curling_stone:"\u{1F94C}",curly_haired_man:"\u{1F468}\u200D\u{1F9B1}",curly_haired_woman:"\u{1F469}\u200D\u{1F9B1}",curly_loop:"\u27B0",currency_exchange:"\u{1F4B1}",curry:"\u{1F35B}",cursing_face:"\u{1F92C}",custard:"\u{1F36E}",customs:"\u{1F6C3}",cut_of_meat:"\u{1F969}",cyclone:"\u{1F300}",cyprus:"\u{1F1E8}\u200D\u{1F1FE}",czech_republic:"\u{1F1E8}\u200D\u{1F1FF}",dagger:"\u{1F5E1}",dancer:"\u{1F483}",dancers:"\u{1F46F}",dancing_men:"\u{1F46F}\u200D\u2642",dancing_women:"\u{1F46F}\u200D\u2640",dango:"\u{1F361}",dark_sunglasses:"\u{1F576}",dart:"\u{1F3AF}",dash:"\u{1F4A8}",date:"\u{1F4C5}",de:"\u{1F1E9}\u200D\u{1F1EA}",deaf_man:"\u{1F9CF}\u200D\u2642",deaf_person:"\u{1F9CF}",deaf_woman:"\u{1F9CF}\u200D\u2640",deciduous_tree:"\u{1F333}",deer:"\u{1F98C}",denmark:"\u{1F1E9}\u200D\u{1F1F0}",department_store:"\u{1F3EC}",derelict_house:"\u{1F3DA}",desert:"\u{1F3DC}",desert_island:"\u{1F3DD}",desktop_computer:"\u{1F5A5}",detective:"\u{1F575}",diamond_shape_with_a_dot_inside:"\u{1F4A0}",diamonds:"\u2666",diego_garcia:"\u{1F1E9}\u200D\u{1F1EC}",disappointed:"\u{1F61E}",disappointed_relieved:"\u{1F625}",diving_mask:"\u{1F93F}",diya_lamp:"\u{1FA94}",dizzy:"\u{1F4AB}",dizzy_face:"\u{1F635}",djibouti:"\u{1F1E9}\u200D\u{1F1EF}",dna:"\u{1F9EC}",do_not_litter:"\u{1F6AF}",dog:"\u{1F436}",dog2:"\u{1F415}",dollar:"\u{1F4B5}",dolls:"\u{1F38E}",dolphin:"\u{1F42C}",dominica:"\u{1F1E9}\u200D\u{1F1F2}",dominican_republic:"\u{1F1E9}\u200D\u{1F1F4}",door:"\u{1F6AA}",doughnut:"\u{1F369}",dove:"\u{1F54A}",dragon:"\u{1F409}",dragon_face:"\u{1F432}",dress:"\u{1F457}",dromedary_camel:"\u{1F42A}",drooling_face:"\u{1F924}",drop_of_blood:"\u{1FA78}",droplet:"\u{1F4A7}",drum:"\u{1F941}",duck:"\u{1F986}",dumpling:"\u{1F95F}",dvd:"\u{1F4C0}","e-mail":"\u{1F4E7}",eagle:"\u{1F985}",ear:"\u{1F442}",ear_of_rice:"\u{1F33E}",ear_with_hearing_aid:"\u{1F9BB}",earth_africa:"\u{1F30D}",earth_americas:"\u{1F30E}",earth_asia:"\u{1F30F}",ecuador:"\u{1F1EA}\u200D\u{1F1E8}",egg:"\u{1F95A}",eggplant:"\u{1F346}",egypt:"\u{1F1EA}\u200D\u{1F1EC}",eight:"8\u200D\u20E3",eight_pointed_black_star:"\u2734",eight_spoked_asterisk:"\u2733",eject_button:"\u23CF",el_salvador:"\u{1F1F8}\u200D\u{1F1FB}",electric_plug:"\u{1F50C}",elephant:"\u{1F418}",elf:"\u{1F9DD}",elf_man:"\u{1F9DD}\u200D\u2642",elf_woman:"\u{1F9DD}\u200D\u2640",email:"\u2709",end:"\u{1F51A}",england:"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0065}\u200D\u{E006E}\u200D\u{E0067}\u200D\u{E007F}",envelope:"\u2709",envelope_with_arrow:"\u{1F4E9}",equatorial_guinea:"\u{1F1EC}\u200D\u{1F1F6}",eritrea:"\u{1F1EA}\u200D\u{1F1F7}",es:"\u{1F1EA}\u200D\u{1F1F8}",estonia:"\u{1F1EA}\u200D\u{1F1EA}",ethiopia:"\u{1F1EA}\u200D\u{1F1F9}",eu:"\u{1F1EA}\u200D\u{1F1FA}",euro:"\u{1F4B6}",european_castle:"\u{1F3F0}",european_post_office:"\u{1F3E4}",european_union:"\u{1F1EA}\u200D\u{1F1FA}",evergreen_tree:"\u{1F332}",exclamation:"\u2757",exploding_head:"\u{1F92F}",expressionless:"\u{1F611}",eye:"\u{1F441}",eye_speech_bubble:"\u{1F441}\u200D\u{1F5E8}",eyeglasses:"\u{1F453}",eyes:"\u{1F440}",face_with_head_bandage:"\u{1F915}",face_with_thermometer:"\u{1F912}",facepalm:"\u{1F926}",facepunch:"\u{1F44A}",factory:"\u{1F3ED}",factory_worker:"\u{1F9D1}\u200D\u{1F3ED}",fairy:"\u{1F9DA}",fairy_man:"\u{1F9DA}\u200D\u2642",fairy_woman:"\u{1F9DA}\u200D\u2640",falafel:"\u{1F9C6}",falkland_islands:"\u{1F1EB}\u200D\u{1F1F0}",fallen_leaf:"\u{1F342}",family:"\u{1F46A}",family_man_boy:"\u{1F468}\u200D\u{1F466}",family_man_boy_boy:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",family_man_girl:"\u{1F468}\u200D\u{1F467}",family_man_girl_boy:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",family_man_girl_girl:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",family_man_man_boy:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",family_man_man_boy_boy:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",family_man_man_girl:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",family_man_man_girl_boy:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",family_man_man_girl_girl:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",family_man_woman_boy:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",family_man_woman_boy_boy:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",family_man_woman_girl:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",family_man_woman_girl_boy:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",family_man_woman_girl_girl:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",family_woman_boy:"\u{1F469}\u200D\u{1F466}",family_woman_boy_boy:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",family_woman_girl:"\u{1F469}\u200D\u{1F467}",family_woman_girl_boy:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",family_woman_girl_girl:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",family_woman_woman_boy:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",family_woman_woman_boy_boy:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",family_woman_woman_girl:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",family_woman_woman_girl_boy:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",family_woman_woman_girl_girl:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",farmer:"\u{1F9D1}\u200D\u{1F33E}",faroe_islands:"\u{1F1EB}\u200D\u{1F1F4}",fast_forward:"\u23E9",fax:"\u{1F4E0}",fearful:"\u{1F628}",feet:"\u{1F43E}",female_detective:"\u{1F575}\u200D\u2640",female_sign:"\u2640",ferris_wheel:"\u{1F3A1}",ferry:"\u26F4",field_hockey:"\u{1F3D1}",fiji:"\u{1F1EB}\u200D\u{1F1EF}",file_cabinet:"\u{1F5C4}",file_folder:"\u{1F4C1}",film_projector:"\u{1F4FD}",film_strip:"\u{1F39E}",finland:"\u{1F1EB}\u200D\u{1F1EE}",fire:"\u{1F525}",fire_engine:"\u{1F692}",fire_extinguisher:"\u{1F9EF}",firecracker:"\u{1F9E8}",firefighter:"\u{1F9D1}\u200D\u{1F692}",fireworks:"\u{1F386}",first_quarter_moon:"\u{1F313}",first_quarter_moon_with_face:"\u{1F31B}",fish:"\u{1F41F}",fish_cake:"\u{1F365}",fishing_pole_and_fish:"\u{1F3A3}",fist:"\u270A",fist_left:"\u{1F91B}",fist_oncoming:"\u{1F44A}",fist_raised:"\u270A",fist_right:"\u{1F91C}",five:"5\u200D\u20E3",flags:"\u{1F38F}",flamingo:"\u{1F9A9}",flashlight:"\u{1F526}",flat_shoe:"\u{1F97F}",fleur_de_lis:"\u269C",flight_arrival:"\u{1F6EC}",flight_departure:"\u{1F6EB}",flipper:"\u{1F42C}",floppy_disk:"\u{1F4BE}",flower_playing_cards:"\u{1F3B4}",flushed:"\u{1F633}",flying_disc:"\u{1F94F}",flying_saucer:"\u{1F6F8}",fog:"\u{1F32B}",foggy:"\u{1F301}",foot:"\u{1F9B6}",football:"\u{1F3C8}",footprints:"\u{1F463}",fork_and_knife:"\u{1F374}",fortune_cookie:"\u{1F960}",fountain:"\u26F2",fountain_pen:"\u{1F58B}",four:"4\u200D\u20E3",four_leaf_clover:"\u{1F340}",fox_face:"\u{1F98A}",fr:"\u{1F1EB}\u200D\u{1F1F7}",framed_picture:"\u{1F5BC}",free:"\u{1F193}",french_guiana:"\u{1F1EC}\u200D\u{1F1EB}",french_polynesia:"\u{1F1F5}\u200D\u{1F1EB}",french_southern_territories:"\u{1F1F9}\u200D\u{1F1EB}",fried_egg:"\u{1F373}",fried_shrimp:"\u{1F364}",fries:"\u{1F35F}",frog:"\u{1F438}",frowning:"\u{1F626}",frowning_face:"\u2639",frowning_man:"\u{1F64D}\u200D\u2642",frowning_person:"\u{1F64D}",frowning_woman:"\u{1F64D}\u200D\u2640",fu:"\u{1F595}",fuelpump:"\u26FD",full_moon:"\u{1F315}",full_moon_with_face:"\u{1F31D}",funeral_urn:"\u26B1",gabon:"\u{1F1EC}\u200D\u{1F1E6}",gambia:"\u{1F1EC}\u200D\u{1F1F2}",game_die:"\u{1F3B2}",garlic:"\u{1F9C4}",gb:"\u{1F1EC}\u200D\u{1F1E7}",gear:"\u2699",gem:"\u{1F48E}",gemini:"\u264A",genie:"\u{1F9DE}",genie_man:"\u{1F9DE}\u200D\u2642",genie_woman:"\u{1F9DE}\u200D\u2640",georgia:"\u{1F1EC}\u200D\u{1F1EA}",ghana:"\u{1F1EC}\u200D\u{1F1ED}",ghost:"\u{1F47B}",gibraltar:"\u{1F1EC}\u200D\u{1F1EE}",gift:"\u{1F381}",gift_heart:"\u{1F49D}",giraffe:"\u{1F992}",girl:"\u{1F467}",globe_with_meridians:"\u{1F310}",gloves:"\u{1F9E4}",goal_net:"\u{1F945}",goat:"\u{1F410}",goggles:"\u{1F97D}",golf:"\u26F3",golfing:"\u{1F3CC}",golfing_man:"\u{1F3CC}\u200D\u2642",golfing_woman:"\u{1F3CC}\u200D\u2640",gorilla:"\u{1F98D}",grapes:"\u{1F347}",greece:"\u{1F1EC}\u200D\u{1F1F7}",green_apple:"\u{1F34F}",green_book:"\u{1F4D7}",green_circle:"\u{1F7E2}",green_heart:"\u{1F49A}",green_salad:"\u{1F957}",green_square:"\u{1F7E9}",greenland:"\u{1F1EC}\u200D\u{1F1F1}",grenada:"\u{1F1EC}\u200D\u{1F1E9}",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\u{1F62C}",grin:"\u{1F601}",grinning:"\u{1F600}",guadeloupe:"\u{1F1EC}\u200D\u{1F1F5}",guam:"\u{1F1EC}\u200D\u{1F1FA}",guard:"\u{1F482}",guardsman:"\u{1F482}\u200D\u2642",guardswoman:"\u{1F482}\u200D\u2640",guatemala:"\u{1F1EC}\u200D\u{1F1F9}",guernsey:"\u{1F1EC}\u200D\u{1F1EC}",guide_dog:"\u{1F9AE}",guinea:"\u{1F1EC}\u200D\u{1F1F3}",guinea_bissau:"\u{1F1EC}\u200D\u{1F1FC}",guitar:"\u{1F3B8}",gun:"\u{1F52B}",guyana:"\u{1F1EC}\u200D\u{1F1FE}",haircut:"\u{1F487}",haircut_man:"\u{1F487}\u200D\u2642",haircut_woman:"\u{1F487}\u200D\u2640",haiti:"\u{1F1ED}\u200D\u{1F1F9}",hamburger:"\u{1F354}",hammer:"\u{1F528}",hammer_and_pick:"\u2692",hammer_and_wrench:"\u{1F6E0}",hamster:"\u{1F439}",hand:"\u270B",hand_over_mouth:"\u{1F92D}",handbag:"\u{1F45C}",handball_person:"\u{1F93E}",handshake:"\u{1F91D}",hankey:"\u{1F4A9}",hash:"#\u200D\u20E3",hatched_chick:"\u{1F425}",hatching_chick:"\u{1F423}",headphones:"\u{1F3A7}",health_worker:"\u{1F9D1}\u200D\u2695",hear_no_evil:"\u{1F649}",heard_mcdonald_islands:"\u{1F1ED}\u200D\u{1F1F2}",heart:"\u2764",heart_decoration:"\u{1F49F}",heart_eyes:"\u{1F60D}",heart_eyes_cat:"\u{1F63B}",heartbeat:"\u{1F493}",heartpulse:"\u{1F497}",hearts:"\u2665",heavy_check_mark:"\u2714",heavy_division_sign:"\u2797",heavy_dollar_sign:"\u{1F4B2}",heavy_exclamation_mark:"\u2757",heavy_heart_exclamation:"\u2763",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716",heavy_plus_sign:"\u2795",hedgehog:"\u{1F994}",helicopter:"\u{1F681}",herb:"\u{1F33F}",hibiscus:"\u{1F33A}",high_brightness:"\u{1F506}",high_heel:"\u{1F460}",hiking_boot:"\u{1F97E}",hindu_temple:"\u{1F6D5}",hippopotamus:"\u{1F99B}",hocho:"\u{1F52A}",hole:"\u{1F573}",honduras:"\u{1F1ED}\u200D\u{1F1F3}",honey_pot:"\u{1F36F}",honeybee:"\u{1F41D}",hong_kong:"\u{1F1ED}\u200D\u{1F1F0}",horse:"\u{1F434}",horse_racing:"\u{1F3C7}",hospital:"\u{1F3E5}",hot_face:"\u{1F975}",hot_pepper:"\u{1F336}",hotdog:"\u{1F32D}",hotel:"\u{1F3E8}",hotsprings:"\u2668",hourglass:"\u231B",hourglass_flowing_sand:"\u23F3",house:"\u{1F3E0}",house_with_garden:"\u{1F3E1}",houses:"\u{1F3D8}",hugs:"\u{1F917}",hungary:"\u{1F1ED}\u200D\u{1F1FA}",hushed:"\u{1F62F}",ice_cream:"\u{1F368}",ice_cube:"\u{1F9CA}",ice_hockey:"\u{1F3D2}",ice_skate:"\u26F8",icecream:"\u{1F366}",iceland:"\u{1F1EE}\u200D\u{1F1F8}",id:"\u{1F194}",ideograph_advantage:"\u{1F250}",imp:"\u{1F47F}",inbox_tray:"\u{1F4E5}",incoming_envelope:"\u{1F4E8}",india:"\u{1F1EE}\u200D\u{1F1F3}",indonesia:"\u{1F1EE}\u200D\u{1F1E9}",infinity:"\u267E",information_desk_person:"\u{1F481}",information_source:"\u2139",innocent:"\u{1F607}",interrobang:"\u2049",iphone:"\u{1F4F1}",iran:"\u{1F1EE}\u200D\u{1F1F7}",iraq:"\u{1F1EE}\u200D\u{1F1F6}",ireland:"\u{1F1EE}\u200D\u{1F1EA}",isle_of_man:"\u{1F1EE}\u200D\u{1F1F2}",israel:"\u{1F1EE}\u200D\u{1F1F1}",it:"\u{1F1EE}\u200D\u{1F1F9}",izakaya_lantern:"\u{1F3EE}",jack_o_lantern:"\u{1F383}",jamaica:"\u{1F1EF}\u200D\u{1F1F2}",japan:"\u{1F5FE}",japanese_castle:"\u{1F3EF}",japanese_goblin:"\u{1F47A}",japanese_ogre:"\u{1F479}",jeans:"\u{1F456}",jersey:"\u{1F1EF}\u200D\u{1F1EA}",jigsaw:"\u{1F9E9}",jordan:"\u{1F1EF}\u200D\u{1F1F4}",joy:"\u{1F602}",joy_cat:"\u{1F639}",joystick:"\u{1F579}",jp:"\u{1F1EF}\u200D\u{1F1F5}",judge:"\u{1F9D1}\u200D\u2696",juggling_person:"\u{1F939}",kaaba:"\u{1F54B}",kangaroo:"\u{1F998}",kazakhstan:"\u{1F1F0}\u200D\u{1F1FF}",kenya:"\u{1F1F0}\u200D\u{1F1EA}",key:"\u{1F511}",keyboard:"\u2328",keycap_ten:"\u{1F51F}",kick_scooter:"\u{1F6F4}",kimono:"\u{1F458}",kiribati:"\u{1F1F0}\u200D\u{1F1EE}",kiss:"\u{1F48B}",kissing:"\u{1F617}",kissing_cat:"\u{1F63D}",kissing_closed_eyes:"\u{1F61A}",kissing_heart:"\u{1F618}",kissing_smiling_eyes:"\u{1F619}",kite:"\u{1FA81}",kiwi_fruit:"\u{1F95D}",kneeling_man:"\u{1F9CE}\u200D\u2642",kneeling_person:"\u{1F9CE}",kneeling_woman:"\u{1F9CE}\u200D\u2640",knife:"\u{1F52A}",koala:"\u{1F428}",koko:"\u{1F201}",kosovo:"\u{1F1FD}\u200D\u{1F1F0}",kr:"\u{1F1F0}\u200D\u{1F1F7}",kuwait:"\u{1F1F0}\u200D\u{1F1FC}",kyrgyzstan:"\u{1F1F0}\u200D\u{1F1EC}",lab_coat:"\u{1F97C}",label:"\u{1F3F7}",lacrosse:"\u{1F94D}",lantern:"\u{1F3EE}",laos:"\u{1F1F1}\u200D\u{1F1E6}",large_blue_circle:"\u{1F535}",large_blue_diamond:"\u{1F537}",large_orange_diamond:"\u{1F536}",last_quarter_moon:"\u{1F317}",last_quarter_moon_with_face:"\u{1F31C}",latin_cross:"\u271D",latvia:"\u{1F1F1}\u200D\u{1F1FB}",laughing:"\u{1F606}",leafy_green:"\u{1F96C}",leaves:"\u{1F343}",lebanon:"\u{1F1F1}\u200D\u{1F1E7}",ledger:"\u{1F4D2}",left_luggage:"\u{1F6C5}",left_right_arrow:"\u2194",left_speech_bubble:"\u{1F5E8}",leftwards_arrow_with_hook:"\u21A9",leg:"\u{1F9B5}",lemon:"\u{1F34B}",leo:"\u264C",leopard:"\u{1F406}",lesotho:"\u{1F1F1}\u200D\u{1F1F8}",level_slider:"\u{1F39A}",liberia:"\u{1F1F1}\u200D\u{1F1F7}",libra:"\u264E",libya:"\u{1F1F1}\u200D\u{1F1FE}",liechtenstein:"\u{1F1F1}\u200D\u{1F1EE}",light_rail:"\u{1F688}",link:"\u{1F517}",lion:"\u{1F981}",lips:"\u{1F444}",lipstick:"\u{1F484}",lithuania:"\u{1F1F1}\u200D\u{1F1F9}",lizard:"\u{1F98E}",llama:"\u{1F999}",lobster:"\u{1F99E}",lock:"\u{1F512}",lock_with_ink_pen:"\u{1F50F}",lollipop:"\u{1F36D}",loop:"\u27BF",lotion_bottle:"\u{1F9F4}",lotus_position:"\u{1F9D8}",lotus_position_man:"\u{1F9D8}\u200D\u2642",lotus_position_woman:"\u{1F9D8}\u200D\u2640",loud_sound:"\u{1F50A}",loudspeaker:"\u{1F4E2}",love_hotel:"\u{1F3E9}",love_letter:"\u{1F48C}",love_you_gesture:"\u{1F91F}",low_brightness:"\u{1F505}",luggage:"\u{1F9F3}",luxembourg:"\u{1F1F1}\u200D\u{1F1FA}",lying_face:"\u{1F925}",m:"\u24C2",macau:"\u{1F1F2}\u200D\u{1F1F4}",macedonia:"\u{1F1F2}\u200D\u{1F1F0}",madagascar:"\u{1F1F2}\u200D\u{1F1EC}",mag:"\u{1F50D}",mag_right:"\u{1F50E}",mage:"\u{1F9D9}",mage_man:"\u{1F9D9}\u200D\u2642",mage_woman:"\u{1F9D9}\u200D\u2640",magnet:"\u{1F9F2}",mahjong:"\u{1F004}",mailbox:"\u{1F4EB}",mailbox_closed:"\u{1F4EA}",mailbox_with_mail:"\u{1F4EC}",mailbox_with_no_mail:"\u{1F4ED}",malawi:"\u{1F1F2}\u200D\u{1F1FC}",malaysia:"\u{1F1F2}\u200D\u{1F1FE}",maldives:"\u{1F1F2}\u200D\u{1F1FB}",male_detective:"\u{1F575}\u200D\u2642",male_sign:"\u2642",mali:"\u{1F1F2}\u200D\u{1F1F1}",malta:"\u{1F1F2}\u200D\u{1F1F9}",man:"\u{1F468}",man_artist:"\u{1F468}\u200D\u{1F3A8}",man_astronaut:"\u{1F468}\u200D\u{1F680}",man_cartwheeling:"\u{1F938}\u200D\u2642",man_cook:"\u{1F468}\u200D\u{1F373}",man_dancing:"\u{1F57A}",man_facepalming:"\u{1F926}\u200D\u2642",man_factory_worker:"\u{1F468}\u200D\u{1F3ED}",man_farmer:"\u{1F468}\u200D\u{1F33E}",man_firefighter:"\u{1F468}\u200D\u{1F692}",man_health_worker:"\u{1F468}\u200D\u2695",man_in_manual_wheelchair:"\u{1F468}\u200D\u{1F9BD}",man_in_motorized_wheelchair:"\u{1F468}\u200D\u{1F9BC}",man_in_tuxedo:"\u{1F935}",man_judge:"\u{1F468}\u200D\u2696",man_juggling:"\u{1F939}\u200D\u2642",man_mechanic:"\u{1F468}\u200D\u{1F527}",man_office_worker:"\u{1F468}\u200D\u{1F4BC}",man_pilot:"\u{1F468}\u200D\u2708",man_playing_handball:"\u{1F93E}\u200D\u2642",man_playing_water_polo:"\u{1F93D}\u200D\u2642",man_scientist:"\u{1F468}\u200D\u{1F52C}",man_shrugging:"\u{1F937}\u200D\u2642",man_singer:"\u{1F468}\u200D\u{1F3A4}",man_student:"\u{1F468}\u200D\u{1F393}",man_teacher:"\u{1F468}\u200D\u{1F3EB}",man_technologist:"\u{1F468}\u200D\u{1F4BB}",man_with_gua_pi_mao:"\u{1F472}",man_with_probing_cane:"\u{1F468}\u200D\u{1F9AF}",man_with_turban:"\u{1F473}\u200D\u2642",mandarin:"\u{1F34A}",mango:"\u{1F96D}",mans_shoe:"\u{1F45E}",mantelpiece_clock:"\u{1F570}",manual_wheelchair:"\u{1F9BD}",maple_leaf:"\u{1F341}",marshall_islands:"\u{1F1F2}\u200D\u{1F1ED}",martial_arts_uniform:"\u{1F94B}",martinique:"\u{1F1F2}\u200D\u{1F1F6}",mask:"\u{1F637}",massage:"\u{1F486}",massage_man:"\u{1F486}\u200D\u2642",massage_woman:"\u{1F486}\u200D\u2640",mate:"\u{1F9C9}",mauritania:"\u{1F1F2}\u200D\u{1F1F7}",mauritius:"\u{1F1F2}\u200D\u{1F1FA}",mayotte:"\u{1F1FE}\u200D\u{1F1F9}",meat_on_bone:"\u{1F356}",mechanic:"\u{1F9D1}\u200D\u{1F527}",mechanical_arm:"\u{1F9BE}",mechanical_leg:"\u{1F9BF}",medal_military:"\u{1F396}",medal_sports:"\u{1F3C5}",medical_symbol:"\u2695",mega:"\u{1F4E3}",melon:"\u{1F348}",memo:"\u{1F4DD}",men_wrestling:"\u{1F93C}\u200D\u2642",menorah:"\u{1F54E}",mens:"\u{1F6B9}",mermaid:"\u{1F9DC}\u200D\u2640",merman:"\u{1F9DC}\u200D\u2642",merperson:"\u{1F9DC}",metal:"\u{1F918}",metro:"\u{1F687}",mexico:"\u{1F1F2}\u200D\u{1F1FD}",microbe:"\u{1F9A0}",micronesia:"\u{1F1EB}\u200D\u{1F1F2}",microphone:"\u{1F3A4}",microscope:"\u{1F52C}",middle_finger:"\u{1F595}",milk_glass:"\u{1F95B}",milky_way:"\u{1F30C}",minibus:"\u{1F690}",minidisc:"\u{1F4BD}",mobile_phone_off:"\u{1F4F4}",moldova:"\u{1F1F2}\u200D\u{1F1E9}",monaco:"\u{1F1F2}\u200D\u{1F1E8}",money_mouth_face:"\u{1F911}",money_with_wings:"\u{1F4B8}",moneybag:"\u{1F4B0}",mongolia:"\u{1F1F2}\u200D\u{1F1F3}",monkey:"\u{1F412}",monkey_face:"\u{1F435}",monocle_face:"\u{1F9D0}",monorail:"\u{1F69D}",montenegro:"\u{1F1F2}\u200D\u{1F1EA}",montserrat:"\u{1F1F2}\u200D\u{1F1F8}",moon:"\u{1F314}",moon_cake:"\u{1F96E}",morocco:"\u{1F1F2}\u200D\u{1F1E6}",mortar_board:"\u{1F393}",mosque:"\u{1F54C}",mosquito:"\u{1F99F}",motor_boat:"\u{1F6E5}",motor_scooter:"\u{1F6F5}",motorcycle:"\u{1F3CD}",motorized_wheelchair:"\u{1F9BC}",motorway:"\u{1F6E3}",mount_fuji:"\u{1F5FB}",mountain:"\u26F0",mountain_bicyclist:"\u{1F6B5}",mountain_biking_man:"\u{1F6B5}\u200D\u2642",mountain_biking_woman:"\u{1F6B5}\u200D\u2640",mountain_cableway:"\u{1F6A0}",mountain_railway:"\u{1F69E}",mountain_snow:"\u{1F3D4}",mouse:"\u{1F42D}",mouse2:"\u{1F401}",movie_camera:"\u{1F3A5}",moyai:"\u{1F5FF}",mozambique:"\u{1F1F2}\u200D\u{1F1FF}",mrs_claus:"\u{1F936}",muscle:"\u{1F4AA}",mushroom:"\u{1F344}",musical_keyboard:"\u{1F3B9}",musical_note:"\u{1F3B5}",musical_score:"\u{1F3BC}",mute:"\u{1F507}",myanmar:"\u{1F1F2}\u200D\u{1F1F2}",nail_care:"\u{1F485}",name_badge:"\u{1F4DB}",namibia:"\u{1F1F3}\u200D\u{1F1E6}",national_park:"\u{1F3DE}",nauru:"\u{1F1F3}\u200D\u{1F1F7}",nauseated_face:"\u{1F922}",nazar_amulet:"\u{1F9FF}",necktie:"\u{1F454}",negative_squared_cross_mark:"\u274E",nepal:"\u{1F1F3}\u200D\u{1F1F5}",nerd_face:"\u{1F913}",netherlands:"\u{1F1F3}\u200D\u{1F1F1}",neutral_face:"\u{1F610}",new:"\u{1F195}",new_caledonia:"\u{1F1F3}\u200D\u{1F1E8}",new_moon:"\u{1F311}",new_moon_with_face:"\u{1F31A}",new_zealand:"\u{1F1F3}\u200D\u{1F1FF}",newspaper:"\u{1F4F0}",newspaper_roll:"\u{1F5DE}",next_track_button:"\u23ED",ng:"\u{1F196}",ng_man:"\u{1F645}\u200D\u2642",ng_woman:"\u{1F645}\u200D\u2640",nicaragua:"\u{1F1F3}\u200D\u{1F1EE}",niger:"\u{1F1F3}\u200D\u{1F1EA}",nigeria:"\u{1F1F3}\u200D\u{1F1EC}",night_with_stars:"\u{1F303}",nine:"9\u200D\u20E3",niue:"\u{1F1F3}\u200D\u{1F1FA}",no_bell:"\u{1F515}",no_bicycles:"\u{1F6B3}",no_entry:"\u26D4",no_entry_sign:"\u{1F6AB}",no_good:"\u{1F645}",no_good_man:"\u{1F645}\u200D\u2642",no_good_woman:"\u{1F645}\u200D\u2640",no_mobile_phones:"\u{1F4F5}",no_mouth:"\u{1F636}",no_pedestrians:"\u{1F6B7}",no_smoking:"\u{1F6AD}","non-potable_water":"\u{1F6B1}",norfolk_island:"\u{1F1F3}\u200D\u{1F1EB}",north_korea:"\u{1F1F0}\u200D\u{1F1F5}",northern_mariana_islands:"\u{1F1F2}\u200D\u{1F1F5}",norway:"\u{1F1F3}\u200D\u{1F1F4}",nose:"\u{1F443}",notebook:"\u{1F4D3}",notebook_with_decorative_cover:"\u{1F4D4}",notes:"\u{1F3B6}",nut_and_bolt:"\u{1F529}",o:"\u2B55",o2:"\u{1F17E}",ocean:"\u{1F30A}",octopus:"\u{1F419}",oden:"\u{1F362}",office:"\u{1F3E2}",office_worker:"\u{1F9D1}\u200D\u{1F4BC}",oil_drum:"\u{1F6E2}",ok:"\u{1F197}",ok_hand:"\u{1F44C}",ok_man:"\u{1F646}\u200D\u2642",ok_person:"\u{1F646}",ok_woman:"\u{1F646}\u200D\u2640",old_key:"\u{1F5DD}",older_adult:"\u{1F9D3}",older_man:"\u{1F474}",older_woman:"\u{1F475}",om:"\u{1F549}",oman:"\u{1F1F4}\u200D\u{1F1F2}",on:"\u{1F51B}",oncoming_automobile:"\u{1F698}",oncoming_bus:"\u{1F68D}",oncoming_police_car:"\u{1F694}",oncoming_taxi:"\u{1F696}",one:"1\u200D\u20E3",one_piece_swimsuit:"\u{1FA71}",onion:"\u{1F9C5}",open_book:"\u{1F4D6}",open_file_folder:"\u{1F4C2}",open_hands:"\u{1F450}",open_mouth:"\u{1F62E}",open_umbrella:"\u2602",ophiuchus:"\u26CE",orange:"\u{1F34A}",orange_book:"\u{1F4D9}",orange_circle:"\u{1F7E0}",orange_heart:"\u{1F9E1}",orange_square:"\u{1F7E7}",orangutan:"\u{1F9A7}",orthodox_cross:"\u2626",otter:"\u{1F9A6}",outbox_tray:"\u{1F4E4}",owl:"\u{1F989}",ox:"\u{1F402}",oyster:"\u{1F9AA}",package:"\u{1F4E6}",page_facing_up:"\u{1F4C4}",page_with_curl:"\u{1F4C3}",pager:"\u{1F4DF}",paintbrush:"\u{1F58C}",pakistan:"\u{1F1F5}\u200D\u{1F1F0}",palau:"\u{1F1F5}\u200D\u{1F1FC}",palestinian_territories:"\u{1F1F5}\u200D\u{1F1F8}",palm_tree:"\u{1F334}",palms_up_together:"\u{1F932}",panama:"\u{1F1F5}\u200D\u{1F1E6}",pancakes:"\u{1F95E}",panda_face:"\u{1F43C}",paperclip:"\u{1F4CE}",paperclips:"\u{1F587}",papua_new_guinea:"\u{1F1F5}\u200D\u{1F1EC}",parachute:"\u{1FA82}",paraguay:"\u{1F1F5}\u200D\u{1F1FE}",parasol_on_ground:"\u26F1",parking:"\u{1F17F}",parrot:"\u{1F99C}",part_alternation_mark:"\u303D",partly_sunny:"\u26C5",partying_face:"\u{1F973}",passenger_ship:"\u{1F6F3}",passport_control:"\u{1F6C2}",pause_button:"\u23F8",paw_prints:"\u{1F43E}",peace_symbol:"\u262E",peach:"\u{1F351}",peacock:"\u{1F99A}",peanuts:"\u{1F95C}",pear:"\u{1F350}",pen:"\u{1F58A}",pencil:"\u{1F4DD}",pencil2:"\u270F",penguin:"\u{1F427}",pensive:"\u{1F614}",people_holding_hands:"\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}",performing_arts:"\u{1F3AD}",persevere:"\u{1F623}",person_bald:"\u{1F9D1}\u200D\u{1F9B2}",person_curly_hair:"\u{1F9D1}\u200D\u{1F9B1}",person_fencing:"\u{1F93A}",person_in_manual_wheelchair:"\u{1F9D1}\u200D\u{1F9BD}",person_in_motorized_wheelchair:"\u{1F9D1}\u200D\u{1F9BC}",person_red_hair:"\u{1F9D1}\u200D\u{1F9B0}",person_white_hair:"\u{1F9D1}\u200D\u{1F9B3}",person_with_probing_cane:"\u{1F9D1}\u200D\u{1F9AF}",person_with_turban:"\u{1F473}",peru:"\u{1F1F5}\u200D\u{1F1EA}",petri_dish:"\u{1F9EB}",philippines:"\u{1F1F5}\u200D\u{1F1ED}",phone:"\u260E",pick:"\u26CF",pie:"\u{1F967}",pig:"\u{1F437}",pig2:"\u{1F416}",pig_nose:"\u{1F43D}",pill:"\u{1F48A}",pilot:"\u{1F9D1}\u200D\u2708",pinching_hand:"\u{1F90F}",pineapple:"\u{1F34D}",ping_pong:"\u{1F3D3}",pirate_flag:"\u{1F3F4}\u200D\u2620",pisces:"\u2653",pitcairn_islands:"\u{1F1F5}\u200D\u{1F1F3}",pizza:"\u{1F355}",place_of_worship:"\u{1F6D0}",plate_with_cutlery:"\u{1F37D}",play_or_pause_button:"\u23EF",pleading_face:"\u{1F97A}",point_down:"\u{1F447}",point_left:"\u{1F448}",point_right:"\u{1F449}",point_up:"\u261D",point_up_2:"\u{1F446}",poland:"\u{1F1F5}\u200D\u{1F1F1}",police_car:"\u{1F693}",police_officer:"\u{1F46E}",policeman:"\u{1F46E}\u200D\u2642",policewoman:"\u{1F46E}\u200D\u2640",poodle:"\u{1F429}",poop:"\u{1F4A9}",popcorn:"\u{1F37F}",portugal:"\u{1F1F5}\u200D\u{1F1F9}",post_office:"\u{1F3E3}",postal_horn:"\u{1F4EF}",postbox:"\u{1F4EE}",potable_water:"\u{1F6B0}",potato:"\u{1F954}",pouch:"\u{1F45D}",poultry_leg:"\u{1F357}",pound:"\u{1F4B7}",pout:"\u{1F621}",pouting_cat:"\u{1F63E}",pouting_face:"\u{1F64E}",pouting_man:"\u{1F64E}\u200D\u2642",pouting_woman:"\u{1F64E}\u200D\u2640",pray:"\u{1F64F}",prayer_beads:"\u{1F4FF}",pregnant_woman:"\u{1F930}",pretzel:"\u{1F968}",previous_track_button:"\u23EE",prince:"\u{1F934}",princess:"\u{1F478}",printer:"\u{1F5A8}",probing_cane:"\u{1F9AF}",puerto_rico:"\u{1F1F5}\u200D\u{1F1F7}",punch:"\u{1F44A}",purple_circle:"\u{1F7E3}",purple_heart:"\u{1F49C}",purple_square:"\u{1F7EA}",purse:"\u{1F45B}",pushpin:"\u{1F4CC}",put_litter_in_its_place:"\u{1F6AE}",qatar:"\u{1F1F6}\u200D\u{1F1E6}",question:"\u2753",rabbit:"\u{1F430}",rabbit2:"\u{1F407}",raccoon:"\u{1F99D}",racehorse:"\u{1F40E}",racing_car:"\u{1F3CE}",radio:"\u{1F4FB}",radio_button:"\u{1F518}",radioactive:"\u2622",rage:"\u{1F621}",railway_car:"\u{1F683}",railway_track:"\u{1F6E4}",rainbow:"\u{1F308}",rainbow_flag:"\u{1F3F3}\u200D\u{1F308}",raised_back_of_hand:"\u{1F91A}",raised_eyebrow:"\u{1F928}",raised_hand:"\u270B",raised_hand_with_fingers_splayed:"\u{1F590}",raised_hands:"\u{1F64C}",raising_hand:"\u{1F64B}",raising_hand_man:"\u{1F64B}\u200D\u2642",raising_hand_woman:"\u{1F64B}\u200D\u2640",ram:"\u{1F40F}",ramen:"\u{1F35C}",rat:"\u{1F400}",razor:"\u{1FA92}",receipt:"\u{1F9FE}",record_button:"\u23FA",recycle:"\u267B",red_car:"\u{1F697}",red_circle:"\u{1F534}",red_envelope:"\u{1F9E7}",red_haired_man:"\u{1F468}\u200D\u{1F9B0}",red_haired_woman:"\u{1F469}\u200D\u{1F9B0}",red_square:"\u{1F7E5}",registered:"\xae",relaxed:"\u263A",relieved:"\u{1F60C}",reminder_ribbon:"\u{1F397}",repeat:"\u{1F501}",repeat_one:"\u{1F502}",rescue_worker_helmet:"\u26D1",restroom:"\u{1F6BB}",reunion:"\u{1F1F7}\u200D\u{1F1EA}",revolving_hearts:"\u{1F49E}",rewind:"\u23EA",rhinoceros:"\u{1F98F}",ribbon:"\u{1F380}",rice:"\u{1F35A}",rice_ball:"\u{1F359}",rice_cracker:"\u{1F358}",rice_scene:"\u{1F391}",right_anger_bubble:"\u{1F5EF}",ring:"\u{1F48D}",ringed_planet:"\u{1FA90}",robot:"\u{1F916}",rocket:"\u{1F680}",rofl:"\u{1F923}",roll_eyes:"\u{1F644}",roll_of_paper:"\u{1F9FB}",roller_coaster:"\u{1F3A2}",romania:"\u{1F1F7}\u200D\u{1F1F4}",rooster:"\u{1F413}",rose:"\u{1F339}",rosette:"\u{1F3F5}",rotating_light:"\u{1F6A8}",round_pushpin:"\u{1F4CD}",rowboat:"\u{1F6A3}",rowing_man:"\u{1F6A3}\u200D\u2642",rowing_woman:"\u{1F6A3}\u200D\u2640",ru:"\u{1F1F7}\u200D\u{1F1FA}",rugby_football:"\u{1F3C9}",runner:"\u{1F3C3}",running:"\u{1F3C3}",running_man:"\u{1F3C3}\u200D\u2642",running_shirt_with_sash:"\u{1F3BD}",running_woman:"\u{1F3C3}\u200D\u2640",rwanda:"\u{1F1F7}\u200D\u{1F1FC}",sa:"\u{1F202}",safety_pin:"\u{1F9F7}",safety_vest:"\u{1F9BA}",sagittarius:"\u2650",sailboat:"\u26F5",sake:"\u{1F376}",salt:"\u{1F9C2}",samoa:"\u{1F1FC}\u200D\u{1F1F8}",san_marino:"\u{1F1F8}\u200D\u{1F1F2}",sandal:"\u{1F461}",sandwich:"\u{1F96A}",santa:"\u{1F385}",sao_tome_principe:"\u{1F1F8}\u200D\u{1F1F9}",sari:"\u{1F97B}",sassy_man:"\u{1F481}\u200D\u2642",sassy_woman:"\u{1F481}\u200D\u2640",satellite:"\u{1F4E1}",satisfied:"\u{1F606}",saudi_arabia:"\u{1F1F8}\u200D\u{1F1E6}",sauna_man:"\u{1F9D6}\u200D\u2642",sauna_person:"\u{1F9D6}",sauna_woman:"\u{1F9D6}\u200D\u2640",sauropod:"\u{1F995}",saxophone:"\u{1F3B7}",scarf:"\u{1F9E3}",school:"\u{1F3EB}",school_satchel:"\u{1F392}",scientist:"\u{1F9D1}\u200D\u{1F52C}",scissors:"\u2702",scorpion:"\u{1F982}",scorpius:"\u264F",scotland:"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0073}\u200D\u{E0063}\u200D\u{E0074}\u200D\u{E007F}",scream:"\u{1F631}",scream_cat:"\u{1F640}",scroll:"\u{1F4DC}",seat:"\u{1F4BA}",secret:"\u3299",see_no_evil:"\u{1F648}",seedling:"\u{1F331}",selfie:"\u{1F933}",senegal:"\u{1F1F8}\u200D\u{1F1F3}",serbia:"\u{1F1F7}\u200D\u{1F1F8}",service_dog:"\u{1F415}\u200D\u{1F9BA}",seven:"7\u200D\u20E3",seychelles:"\u{1F1F8}\u200D\u{1F1E8}",shallow_pan_of_food:"\u{1F958}",shamrock:"\u2618",shark:"\u{1F988}",shaved_ice:"\u{1F367}",sheep:"\u{1F411}",shell:"\u{1F41A}",shield:"\u{1F6E1}",shinto_shrine:"\u26E9",ship:"\u{1F6A2}",shirt:"\u{1F455}",shit:"\u{1F4A9}",shoe:"\u{1F45E}",shopping:"\u{1F6CD}",shopping_cart:"\u{1F6D2}",shorts:"\u{1FA73}",shower:"\u{1F6BF}",shrimp:"\u{1F990}",shrug:"\u{1F937}",shushing_face:"\u{1F92B}",sierra_leone:"\u{1F1F8}\u200D\u{1F1F1}",signal_strength:"\u{1F4F6}",singapore:"\u{1F1F8}\u200D\u{1F1EC}",singer:"\u{1F9D1}\u200D\u{1F3A4}",sint_maarten:"\u{1F1F8}\u200D\u{1F1FD}",six:"6\u200D\u20E3",six_pointed_star:"\u{1F52F}",skateboard:"\u{1F6F9}",ski:"\u{1F3BF}",skier:"\u26F7",skull:"\u{1F480}",skull_and_crossbones:"\u2620",skunk:"\u{1F9A8}",sled:"\u{1F6F7}",sleeping:"\u{1F634}",sleeping_bed:"\u{1F6CC}",sleepy:"\u{1F62A}",slightly_frowning_face:"\u{1F641}",slightly_smiling_face:"\u{1F642}",slot_machine:"\u{1F3B0}",sloth:"\u{1F9A5}",slovakia:"\u{1F1F8}\u200D\u{1F1F0}",slovenia:"\u{1F1F8}\u200D\u{1F1EE}",small_airplane:"\u{1F6E9}",small_blue_diamond:"\u{1F539}",small_orange_diamond:"\u{1F538}",small_red_triangle:"\u{1F53A}",small_red_triangle_down:"\u{1F53B}",smile:"\u{1F604}",smile_cat:"\u{1F638}",smiley:"\u{1F603}",smiley_cat:"\u{1F63A}",smiling_face_with_three_hearts:"\u{1F970}",smiling_imp:"\u{1F608}",smirk:"\u{1F60F}",smirk_cat:"\u{1F63C}",smoking:"\u{1F6AC}",snail:"\u{1F40C}",snake:"\u{1F40D}",sneezing_face:"\u{1F927}",snowboarder:"\u{1F3C2}",snowflake:"\u2744",snowman:"\u26C4",snowman_with_snow:"\u2603",soap:"\u{1F9FC}",sob:"\u{1F62D}",soccer:"\u26BD",socks:"\u{1F9E6}",softball:"\u{1F94E}",solomon_islands:"\u{1F1F8}\u200D\u{1F1E7}",somalia:"\u{1F1F8}\u200D\u{1F1F4}",soon:"\u{1F51C}",sos:"\u{1F198}",sound:"\u{1F509}",south_africa:"\u{1F1FF}\u200D\u{1F1E6}",south_georgia_south_sandwich_islands:"\u{1F1EC}\u200D\u{1F1F8}",south_sudan:"\u{1F1F8}\u200D\u{1F1F8}",space_invader:"\u{1F47E}",spades:"\u2660",spaghetti:"\u{1F35D}",sparkle:"\u2747",sparkler:"\u{1F387}",sparkles:"\u2728",sparkling_heart:"\u{1F496}",speak_no_evil:"\u{1F64A}",speaker:"\u{1F508}",speaking_head:"\u{1F5E3}",speech_balloon:"\u{1F4AC}",speedboat:"\u{1F6A4}",spider:"\u{1F577}",spider_web:"\u{1F578}",spiral_calendar:"\u{1F5D3}",spiral_notepad:"\u{1F5D2}",sponge:"\u{1F9FD}",spoon:"\u{1F944}",squid:"\u{1F991}",sri_lanka:"\u{1F1F1}\u200D\u{1F1F0}",st_barthelemy:"\u{1F1E7}\u200D\u{1F1F1}",st_helena:"\u{1F1F8}\u200D\u{1F1ED}",st_kitts_nevis:"\u{1F1F0}\u200D\u{1F1F3}",st_lucia:"\u{1F1F1}\u200D\u{1F1E8}",st_martin:"\u{1F1F2}\u200D\u{1F1EB}",st_pierre_miquelon:"\u{1F1F5}\u200D\u{1F1F2}",st_vincent_grenadines:"\u{1F1FB}\u200D\u{1F1E8}",stadium:"\u{1F3DF}",standing_man:"\u{1F9CD}\u200D\u2642",standing_person:"\u{1F9CD}",standing_woman:"\u{1F9CD}\u200D\u2640",star:"\u2B50",star2:"\u{1F31F}",star_and_crescent:"\u262A",star_of_david:"\u2721",star_struck:"\u{1F929}",stars:"\u{1F320}",station:"\u{1F689}",statue_of_liberty:"\u{1F5FD}",steam_locomotive:"\u{1F682}",stethoscope:"\u{1FA7A}",stew:"\u{1F372}",stop_button:"\u23F9",stop_sign:"\u{1F6D1}",stopwatch:"\u23F1",straight_ruler:"\u{1F4CF}",strawberry:"\u{1F353}",stuck_out_tongue:"\u{1F61B}",stuck_out_tongue_closed_eyes:"\u{1F61D}",stuck_out_tongue_winking_eye:"\u{1F61C}",student:"\u{1F9D1}\u200D\u{1F393}",studio_microphone:"\u{1F399}",stuffed_flatbread:"\u{1F959}",sudan:"\u{1F1F8}\u200D\u{1F1E9}",sun_behind_large_cloud:"\u{1F325}",sun_behind_rain_cloud:"\u{1F326}",sun_behind_small_cloud:"\u{1F324}",sun_with_face:"\u{1F31E}",sunflower:"\u{1F33B}",sunglasses:"\u{1F60E}",sunny:"\u2600",sunrise:"\u{1F305}",sunrise_over_mountains:"\u{1F304}",superhero:"\u{1F9B8}",superhero_man:"\u{1F9B8}\u200D\u2642",superhero_woman:"\u{1F9B8}\u200D\u2640",supervillain:"\u{1F9B9}",supervillain_man:"\u{1F9B9}\u200D\u2642",supervillain_woman:"\u{1F9B9}\u200D\u2640",surfer:"\u{1F3C4}",surfing_man:"\u{1F3C4}\u200D\u2642",surfing_woman:"\u{1F3C4}\u200D\u2640",suriname:"\u{1F1F8}\u200D\u{1F1F7}",sushi:"\u{1F363}",suspension_railway:"\u{1F69F}",svalbard_jan_mayen:"\u{1F1F8}\u200D\u{1F1EF}",swan:"\u{1F9A2}",swaziland:"\u{1F1F8}\u200D\u{1F1FF}",sweat:"\u{1F613}",sweat_drops:"\u{1F4A6}",sweat_smile:"\u{1F605}",sweden:"\u{1F1F8}\u200D\u{1F1EA}",sweet_potato:"\u{1F360}",swim_brief:"\u{1FA72}",swimmer:"\u{1F3CA}",swimming_man:"\u{1F3CA}\u200D\u2642",swimming_woman:"\u{1F3CA}\u200D\u2640",switzerland:"\u{1F1E8}\u200D\u{1F1ED}",symbols:"\u{1F523}",synagogue:"\u{1F54D}",syria:"\u{1F1F8}\u200D\u{1F1FE}",syringe:"\u{1F489}","t-rex":"\u{1F996}",taco:"\u{1F32E}",tada:"\u{1F389}",taiwan:"\u{1F1F9}\u200D\u{1F1FC}",tajikistan:"\u{1F1F9}\u200D\u{1F1EF}",takeout_box:"\u{1F961}",tanabata_tree:"\u{1F38B}",tangerine:"\u{1F34A}",tanzania:"\u{1F1F9}\u200D\u{1F1FF}",taurus:"\u2649",taxi:"\u{1F695}",tea:"\u{1F375}",teacher:"\u{1F9D1}\u200D\u{1F3EB}",technologist:"\u{1F9D1}\u200D\u{1F4BB}",teddy_bear:"\u{1F9F8}",telephone:"\u260E",telephone_receiver:"\u{1F4DE}",telescope:"\u{1F52D}",tennis:"\u{1F3BE}",tent:"\u26FA",test_tube:"\u{1F9EA}",thailand:"\u{1F1F9}\u200D\u{1F1ED}",thermometer:"\u{1F321}",thinking:"\u{1F914}",thought_balloon:"\u{1F4AD}",thread:"\u{1F9F5}",three:"3\u200D\u20E3",thumbsdown:"\u{1F44E}",thumbsup:"\u{1F44D}",ticket:"\u{1F3AB}",tickets:"\u{1F39F}",tiger:"\u{1F42F}",tiger2:"\u{1F405}",timer_clock:"\u23F2",timor_leste:"\u{1F1F9}\u200D\u{1F1F1}",tipping_hand_man:"\u{1F481}\u200D\u2642",tipping_hand_person:"\u{1F481}",tipping_hand_woman:"\u{1F481}\u200D\u2640",tired_face:"\u{1F62B}",tm:"\u2122",togo:"\u{1F1F9}\u200D\u{1F1EC}",toilet:"\u{1F6BD}",tokelau:"\u{1F1F9}\u200D\u{1F1F0}",tokyo_tower:"\u{1F5FC}",tomato:"\u{1F345}",tonga:"\u{1F1F9}\u200D\u{1F1F4}",tongue:"\u{1F445}",toolbox:"\u{1F9F0}",tooth:"\u{1F9B7}",top:"\u{1F51D}",tophat:"\u{1F3A9}",tornado:"\u{1F32A}",tr:"\u{1F1F9}\u200D\u{1F1F7}",trackball:"\u{1F5B2}",tractor:"\u{1F69C}",traffic_light:"\u{1F6A5}",train:"\u{1F68B}",train2:"\u{1F686}",tram:"\u{1F68A}",triangular_flag_on_post:"\u{1F6A9}",triangular_ruler:"\u{1F4D0}",trident:"\u{1F531}",trinidad_tobago:"\u{1F1F9}\u200D\u{1F1F9}",tristan_da_cunha:"\u{1F1F9}\u200D\u{1F1E6}",triumph:"\u{1F624}",trolleybus:"\u{1F68E}",trophy:"\u{1F3C6}",tropical_drink:"\u{1F379}",tropical_fish:"\u{1F420}",truck:"\u{1F69A}",trumpet:"\u{1F3BA}",tshirt:"\u{1F455}",tulip:"\u{1F337}",tumbler_glass:"\u{1F943}",tunisia:"\u{1F1F9}\u200D\u{1F1F3}",turkey:"\u{1F983}",turkmenistan:"\u{1F1F9}\u200D\u{1F1F2}",turks_caicos_islands:"\u{1F1F9}\u200D\u{1F1E8}",turtle:"\u{1F422}",tuvalu:"\u{1F1F9}\u200D\u{1F1FB}",tv:"\u{1F4FA}",twisted_rightwards_arrows:"\u{1F500}",two:"2\u200D\u20E3",two_hearts:"\u{1F495}",two_men_holding_hands:"\u{1F46C}",two_women_holding_hands:"\u{1F46D}",u5272:"\u{1F239}",u5408:"\u{1F234}",u55b6:"\u{1F23A}",u6307:"\u{1F22F}",u6708:"\u{1F237}",u6709:"\u{1F236}",u6e80:"\u{1F235}",u7121:"\u{1F21A}",u7533:"\u{1F238}",u7981:"\u{1F232}",u7a7a:"\u{1F233}",uganda:"\u{1F1FA}\u200D\u{1F1EC}",uk:"\u{1F1EC}\u200D\u{1F1E7}",ukraine:"\u{1F1FA}\u200D\u{1F1E6}",umbrella:"\u2614",unamused:"\u{1F612}",underage:"\u{1F51E}",unicorn:"\u{1F984}",united_arab_emirates:"\u{1F1E6}\u200D\u{1F1EA}",united_nations:"\u{1F1FA}\u200D\u{1F1F3}",unlock:"\u{1F513}",up:"\u{1F199}",upside_down_face:"\u{1F643}",uruguay:"\u{1F1FA}\u200D\u{1F1FE}",us:"\u{1F1FA}\u200D\u{1F1F8}",us_outlying_islands:"\u{1F1FA}\u200D\u{1F1F2}",us_virgin_islands:"\u{1F1FB}\u200D\u{1F1EE}",uzbekistan:"\u{1F1FA}\u200D\u{1F1FF}",v:"\u270C",vampire:"\u{1F9DB}",vampire_man:"\u{1F9DB}\u200D\u2642",vampire_woman:"\u{1F9DB}\u200D\u2640",vanuatu:"\u{1F1FB}\u200D\u{1F1FA}",vatican_city:"\u{1F1FB}\u200D\u{1F1E6}",venezuela:"\u{1F1FB}\u200D\u{1F1EA}",vertical_traffic_light:"\u{1F6A6}",vhs:"\u{1F4FC}",vibration_mode:"\u{1F4F3}",video_camera:"\u{1F4F9}",video_game:"\u{1F3AE}",vietnam:"\u{1F1FB}\u200D\u{1F1F3}",violin:"\u{1F3BB}",virgo:"\u264D",volcano:"\u{1F30B}",volleyball:"\u{1F3D0}",vomiting_face:"\u{1F92E}",vs:"\u{1F19A}",vulcan_salute:"\u{1F596}",waffle:"\u{1F9C7}",wales:"\u{1F3F4}\u200D\u{E0067}\u200D\u{E0062}\u200D\u{E0077}\u200D\u{E006C}\u200D\u{E0073}\u200D\u{E007F}",walking:"\u{1F6B6}",walking_man:"\u{1F6B6}\u200D\u2642",walking_woman:"\u{1F6B6}\u200D\u2640",wallis_futuna:"\u{1F1FC}\u200D\u{1F1EB}",waning_crescent_moon:"\u{1F318}",waning_gibbous_moon:"\u{1F316}",warning:"\u26A0",wastebasket:"\u{1F5D1}",watch:"\u231A",water_buffalo:"\u{1F403}",water_polo:"\u{1F93D}",watermelon:"\u{1F349}",wave:"\u{1F44B}",wavy_dash:"\u3030",waxing_crescent_moon:"\u{1F312}",waxing_gibbous_moon:"\u{1F314}",wc:"\u{1F6BE}",weary:"\u{1F629}",wedding:"\u{1F492}",weight_lifting:"\u{1F3CB}",weight_lifting_man:"\u{1F3CB}\u200D\u2642",weight_lifting_woman:"\u{1F3CB}\u200D\u2640",western_sahara:"\u{1F1EA}\u200D\u{1F1ED}",whale:"\u{1F433}",whale2:"\u{1F40B}",wheel_of_dharma:"\u2638",wheelchair:"\u267F",white_check_mark:"\u2705",white_circle:"\u26AA",white_flag:"\u{1F3F3}",white_flower:"\u{1F4AE}",white_haired_man:"\u{1F468}\u200D\u{1F9B3}",white_haired_woman:"\u{1F469}\u200D\u{1F9B3}",white_heart:"\u{1F90D}",white_large_square:"\u2B1C",white_medium_small_square:"\u25FD",white_medium_square:"\u25FB",white_small_square:"\u25AB",white_square_button:"\u{1F533}",wilted_flower:"\u{1F940}",wind_chime:"\u{1F390}",wind_face:"\u{1F32C}",wine_glass:"\u{1F377}",wink:"\u{1F609}",wolf:"\u{1F43A}",woman:"\u{1F469}",woman_artist:"\u{1F469}\u200D\u{1F3A8}",woman_astronaut:"\u{1F469}\u200D\u{1F680}",woman_cartwheeling:"\u{1F938}\u200D\u2640",woman_cook:"\u{1F469}\u200D\u{1F373}",woman_dancing:"\u{1F483}",woman_facepalming:"\u{1F926}\u200D\u2640",woman_factory_worker:"\u{1F469}\u200D\u{1F3ED}",woman_farmer:"\u{1F469}\u200D\u{1F33E}",woman_firefighter:"\u{1F469}\u200D\u{1F692}",woman_health_worker:"\u{1F469}\u200D\u2695",woman_in_manual_wheelchair:"\u{1F469}\u200D\u{1F9BD}",woman_in_motorized_wheelchair:"\u{1F469}\u200D\u{1F9BC}",woman_judge:"\u{1F469}\u200D\u2696",woman_juggling:"\u{1F939}\u200D\u2640",woman_mechanic:"\u{1F469}\u200D\u{1F527}",woman_office_worker:"\u{1F469}\u200D\u{1F4BC}",woman_pilot:"\u{1F469}\u200D\u2708",woman_playing_handball:"\u{1F93E}\u200D\u2640",woman_playing_water_polo:"\u{1F93D}\u200D\u2640",woman_scientist:"\u{1F469}\u200D\u{1F52C}",woman_shrugging:"\u{1F937}\u200D\u2640",woman_singer:"\u{1F469}\u200D\u{1F3A4}",woman_student:"\u{1F469}\u200D\u{1F393}",woman_teacher:"\u{1F469}\u200D\u{1F3EB}",woman_technologist:"\u{1F469}\u200D\u{1F4BB}",woman_with_headscarf:"\u{1F9D5}",woman_with_probing_cane:"\u{1F469}\u200D\u{1F9AF}",woman_with_turban:"\u{1F473}\u200D\u2640",womans_clothes:"\u{1F45A}",womans_hat:"\u{1F452}",women_wrestling:"\u{1F93C}\u200D\u2640",womens:"\u{1F6BA}",woozy_face:"\u{1F974}",world_map:"\u{1F5FA}",worried:"\u{1F61F}",wrench:"\u{1F527}",wrestling:"\u{1F93C}",writing_hand:"\u270D",x:"\u274C",yarn:"\u{1F9F6}",yawning_face:"\u{1F971}",yellow_circle:"\u{1F7E1}",yellow_heart:"\u{1F49B}",yellow_square:"\u{1F7E8}",yemen:"\u{1F1FE}\u200D\u{1F1EA}",yen:"\u{1F4B4}",yin_yang:"\u262F",yo_yo:"\u{1FA80}",yum:"\u{1F60B}",zambia:"\u{1F1FF}\u200D\u{1F1F2}",zany_face:"\u{1F92A}",zap:"\u26A1",zebra:"\u{1F993}",zero:"0\u200D\u20E3",zimbabwe:"\u{1F1FF}\u200D\u{1F1FC}",zipper_mouth_face:"\u{1F910}",zombie:"\u{1F9DF}",zombie_man:"\u{1F9DF}\u200D\u2642",zombie_woman:"\u{1F9DF}\u200D\u2640",zzz:"\u{1F4A4}"},jm=Object.keys(jc).map(e=>`:${(0,h1.Z)(e)}:`),jp=RegExp(jm.join("|"),"g"),jf=e=>jp.test(e)?e.replace(jp,e=>{let t=e.substring(1,e.length-1);return jc[t]??e}):e,jh=Object.entries(jc).map(([e,t])=>({name:e,character:t})),jg=e=>{let t=document.createElement("div");return t.innerHTML=y6(e),t.textContent??""},jy=e=>{let t;return()=>t??(t=e().catch(e=>{if(e instanceof api_error_ApiError)return[];throw e}))},jx=e=>{let t=e?.repositoryId,a=void 0!==e&&"issueId"in e?e.issueId:void 0;return(0,cg.useMemo)(()=>void 0===t||void 0===a?void 0:{subjectRepo:t,subjectId:a,subjectType:"issue"},[a,t])},jb=e=>{let t=jx(e),a=(0,cg.useMemo)(()=>jy(async()=>{if(!t)return[];let e=await jd(t);return e.map(e=>({identifier:"team"===e.type?e.name:e.login,description:"team"===e.type?e.description:e.name}))}),[t]),n=(0,cg.useMemo)(()=>jy(async()=>{if(!t)return[];let e=await ju(t);return e.suggestions?.map(t=>({titleHtml:t.title,titleText:jg(t.title),id:t.number.toString(),iconHtml:e.icons[t.type]}))}),[t]);return{emojiSuggestions:jh,mentionSuggestions:a,referenceSuggestions:n}};async function jv(){let{url:e}=cQ("memex-saved-replies-api-data"),{data:t}=await fd(e);return t}let jw=(0,cg.createContext)(null),jk=(0,cg.memo)(function({children:e}){let[t,a]=(0,cg.useState)([]),n=(0,cg.useRef)(!1),r=(0,cg.useCallback)(()=>{n.current||(n.current=!0,jv().then(e=>a(e.map(jj))).catch(()=>n.current=!1))},[]),l=(0,cg.useMemo)(()=>[t,r],[t,r]);return(0,cs.jsx)(jw.Provider,{value:l,children:e})}),jj=e=>({content:e.body,name:e.title}),jC=()=>{let e=(0,cg.useContext)(jw);if(!e)throw Error("Cannot use useSavedReplies outside of SavedRepliesContextProvider.");let[t,a]=e;return(0,cg.useEffect)(()=>{a()},[a]),t};try{(tw=jk).displayName||(tw.displayName="SavedRepliesCacheProvider")}catch{}let jS={ISSUE:"issue",PROJECT_DRAFT_ISSUE:"project_draft_issue"},jI={HEART:"heart",TADA:"tada",SMILE:"smile",ROCKET:"rocket",EYES:"eyes",THUMBS_UP:"+1",THUMBS_DOWN:"-1",THINKING_FACE:"thinking_face"},jN={COLLABORATOR:"COLLABORATOR",CONTRIBUTOR:"CONTRIBUTOR",FIRST_TIMER:"FIRST_TIMER",FIRST_TIME_CONTRIBUTOR:"FIRST_TIME_CONTRIBUTOR",MANNEQUIN:"MANNEQUIN",MEMBER:"MEMBER",NONE:"NONE",OWNER:"OWNER"},jT=(e,t)=>e===mu.Issue||e===jS.ISSUE?t?"issue_comment":"issue_body":e===mu.PullRequest?"pull_request":void 0,j_=(e,t)=>{let a=new URL(e,window.location.origin);return a.searchParams.append("surface",t),a.toString()},jR=(0,cg.memo)(function({children:e,url:t,surface:a}){let n=(0,cg.useRef)(null),[{top:r,left:l},i]=(0,cg.useState)({top:0,left:0});return(0,cg.useEffect)(()=>{let e=n.current;if(!e)return;let t=e?.querySelector("textarea"),a={top:0,left:0};for(;t!==e;){if(null===t)return;a.top+=t.offsetTop,a.left+=t.offsetLeft,t=t.offsetParent instanceof HTMLElement?t.offsetParent:null}i(a)},[]),(0,cs.jsx)(cW.Z,{ref:n,sx:{position:"relative","& .js-slash-command-menu":{mt:`${r}px`,ml:`${l}px`}},className:"js-slash-command-surface",children:(0,cs.jsx)("slash-command-expander",{keys:"/","data-slash-command-url":j_(t,a),children:e})})});try{(tk=jR).displayName||(tk.displayName="SlashCommandsProvider")}catch{}let jP=[".svg",".gif",".jpg",".jpeg",".png",".mov",".mp4",".webm"],jD=[...jP,".pdf",".docx",".pptx",".xlsx",".odt",".fodt",".ods",".fods",".odp",".fodp",".odg",".fodg",".odf",".csv",".xls",".zip",".gz",".tgz",".txt",".log",".md"],jE={"& fieldset":{minInlineSize:"auto"}},jL=(0,cg.createContext)(null),jA=(0,cg.forwardRef)(({context:e,slashCommandsConfig:t,children:a,...n},r)=>{let{loggedInUser:l}=f1(),{loadPreview:i}=jo(e),s=jb(e),o=(0,cg.useRef)(null);(0,bq.z)(r,o);let d=(0,cg.useCallback)(async t=>{let a=await jr({repository_id:e?.repositoryId,name:t.name,size:t.size,content_type:t.type}),n=await jl(a,{file:t});return{file:new File([t],t.name,{type:n.content_type}),url:n.href}},[e?.repositoryId]),u=(0,cg.useCallback)(()=>{o.current?.focus();try{document.execCommand("insertText",!1,"/")}catch{}},[o]),c=(0,cg.useMemo)(()=>[...e?.repositoryId?jD:jP],[e?.repositoryId]),m=jC(),p=(0,cs.jsxs)(jn.Z,{...n,...s,ref:o,pasteUrlsAsPlainText:l?.paste_url_link_as_plain_text,onRenderPreview:i,acceptedFileTypes:c,onUploadFile:d,monospace:f1().themePreferences.markdown_fixed_width_font,savedReplies:m,children:[(0,cs.jsx)(jn.Z.Toolbar,{children:(0,cs.jsx)(jF,{})}),a]});return(0,cs.jsx)(cW.Z,{sx:jE,...(0,cK.f)("markdown-editor"),children:t?(0,cs.jsx)(jL.Provider,{value:u,children:(0,cs.jsx)(jR,{...t,children:p})}):p})});jA.displayName="MarkdownEditor";let jM=()=>{let e=(0,cg.useContext)(jL);return e?(0,cs.jsx)(jB,{icon:me.xs5,"aria-label":"Slash commands",onClick:e}):null},jF=()=>(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(jn.Z.DefaultToolbarButtons,{}),(0,cs.jsx)(jM,{})]}),{Label:jZ,Actions:jO,ActionButton:j$,Toolbar:jV,ToolbarButton:jB}=jn.Z,jz=Object.assign(jA,{Label:jZ,Actions:jO,ActionButton:j$,Toolbar:jV,ToolbarButton:jB,DefaultToolbarButtons:jF});try{(tj=jL).displayName||(tj.displayName="SlashCommandButtonContext")}catch{}try{(tC=jM).displayName||(tC.displayName="SlashCommandsButton")}catch{}try{(tS=jF).displayName||(tS.displayName="DefaultToolbarButtons")}catch{}var jU=a(47434);function jK(e){let t=y8(e.dangerousRenderedHTML.__html);return(0,cs.jsx)(jU.Z,{...e,dangerousRenderedHTML:{__html:t}})}try{(tI=jK).displayName||(tI.displayName="SanitizedMarkdownViewer")}catch{}let jW={comment:"Comment",editIssue:"Edit issue",closeIssue:"Close issue",closeIssueWithComment:"Close with comment",closeIssueCompleted:"Close as completed",closeIssueNotPlanned:"Close as not planned",reOpenIssue:"Reopen",updateComment:"Update Comment",loading:"Loading ...",loadMore:"Load more",tryAgain:"Try again"},jH={couldNotComment:"Could not comment on issue",couldNotEditComment:"Could not edit issue comment",couldNotUpdateAssignees:"Could not update assignees",couldNotSearchAssignees:"Could not search assignees",couldNotUpdateLabels:"Could not update labels",couldNotUpdateMilestone:"Could not update milestone",couldNotSearchRepositories:"Could not search repositories",couldNotCloseIssue:"Could not close issue",couldNotReOpenIssue:"Could not reopen issue",couldNotUpdateProjects:"Could not update projects",noMatches:"No matches",noResults:"No results"},jG={sidebarAssigneePicker:"a",sidebarLabelPicker:"l",sidebarMilestonePicker:"m",sidebarProjectPicker:"p",closeEdit:"Escape",commitEdit:"Enter",startIssueEdit:"e",navigateToPrevIssue:"j",navigateToNextIssue:"k",navigateBackToRepo:"Escape",navigateToSelectedIssue:"Enter",up:"ArrowUp",down:"ArrowDown",focusSearch:"/",openIssueCreateDialog:"c",focusCommentComposer:"r"},jq={noAssignees:"Assignee",noLabels:"Labels",noProjects:"Projects",noMilestones:"Milestone",repositoryOwner:"Repository owner",assignees:"Assignees",labels:"Labels",projects:"Projects",milestone:"Milestone",noDescriptionProvided:"No description provided.",repoArchived:"This repository has been archived.",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",canNotCommentOnIssue:"You do not have permissions to comment on this issue.",selectAssignees:"Select assignees",selectMilestones:"Select milestone",selectRepository:"Select repository",filterUsers:"Filter users",filterLabels:"Filter labels",filterMilestones:"Filter milestones",filterProjects:"Filter projects",markdowEditorLeaveComment:"Leave a comment",noProjectStatus:"No status",unsavedChangesTitle:"You have unsaved changes",unsavedChangesContent:"Are you sure you want to discard them?",viewTitlePlaceholder:"Title",viewDescriptionPlaceholder:"Add a description",organization:"Organization",private:"Private",public:"Public",issueNumber:e=>`#${e}`,reOpenIssue:"Reopen Issue",closeAsCompleted:"Close as completed",closeAsNotPlanned:"Close as not planned",updateIssueRoleDescription:"update issue state options menu",actionListCompletedDescription:"Done, closed, fixed, resolved",actionListNotPlannedDescription:"Won't fix, can't repro, duplicate, stale",moreOptions:"More options",timeline:{added:"added",removed:"removed",removedTheirAssignment:"removed their assignment",unassigned:"unassigned",locked:"locked",limitedToCollaborators:"and limited conversation to collaborators",unlockedConversation:"unlocked this conversation",pinned:"pinned this issue",unpinned:"unpinned this issue",closedThis:"closed this",as:"as",in:"in",reopenedThis:"reopened this",selfAssignedThis:"self-assigned this",assigned:"assigned",temporarily:"temporarily",blocked:"blocked",deletedACommentFrom:"deleted a comment from",addedToMilestone:"added this to the",removedFromMilestone:"removed this from the",milestone:"milestone",milestoneDeleted:"This milestone has been deleted",renamedTitle:"changed the title",mentionedThisIn:"mentioned this in",linkedAClosingPR:"linked a pull request that will close this issue",addedACommitThatReferences:"added a commit that references this issue",transferredThis:"transferred this issue from",issueFromNote:"created this issue from a note in",removedLinkedPR:"removed a link to a pull request",markedAsDuplicate:"marked this as a duplicate of",unmarkedAsDuplicate:"marked this as not a duplicate of",convertedToDiscussion:"converted this issue into a discussion"}},jQ={commentAuthorAssociation:"comment-author-association",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",issueViewerContainer:"issue-viewer-container",issueViewerHeaderContainer:"issue-viewer-header-container",issueViewerIssueContainer:"issue-viewer-issue-container",issueViewerCommentsContainer:"issue-viewer-comments-container",sidebarProjectsLoading:"sidebar-projects-loading",sidebarLoading:"sidebar-loading",sidebar:"sidebar",issueTitleInput:"issue-title-input",issueBody:"issue-body",bodyLoading:"body-loading",markdownBody:"markdown-body",markdownEditor:(e="")=>`markdown-editor-${e}`,readonlyMarkdownEditor:(e="")=>`readonly-markdown-editor-${e}`,issueHeader:"issue-header",issueTitle:"issue-title",editIssueButton:"edit-issue-button",issueTimeline:"issue-timeline"},jX={maxBodyLength:65536,maxIssueTitleLength:256,maxViewTitleLength:1024},jY={...jX,titleCanNotBeEmpty:"Title can not be empty",issueTitleExceedsMaxLength:`Title can not be longer than ${jX.maxIssueTitleLength} characters`,viewTitleExceedsMaxLength:`Title can not be longer than ${jX.maxViewTitleLength} characters`,issueBodyExceedsMaxLength:`Body can not be longer than ${jX.maxBodyLength} characters`,commentBodyEmpty:"Comment can not be empty"},jJ={labelsPageSize:100,labelsMaxPreloadCount:1e3,milestonesPageSize:100,milestonesMaxPreloadCount:1e3,bodyLoadingSkeletonCount:6,projectFieldsLoadingSkeletonCount:10,organizationsMaxPreloadCount:1e3,organizationsPageSize:100,timelinePageSize:25,timelineMaxPreloadCount:100,rowLoadingSkeletonCount:5,ghostUserLogin:"ghost",issueStateReasonStrings:{COMPLETED:"completed",NOT_PLANNED:"not planned",REOPENED:"reopened","%future added value":"%future added value"},lockedReasonStrings:{OFF_TOPIC:"off topic",RESOLVED:"resolved",SPAM:"spam",TOO_HEATED:"too heated","%future added value":"%future added value"},issueStateReason:{COMPLETED:"COMPLETED",NOT_PLANNED:"NOT_PLANNED",REOPENED:"REOPENED"},stateChangeQuery:{COMPLETED:'is:issue is:closed archived:false reason:"completed"',NOT_PLANNED:'is:issue is:closed archived:false reason:"not planned"',REOPENED:"reopened","%future added value":"%future added value"},labelQuery:(e,t,a)=>`repo:${e}/${t} is:open label:"${a}"`};var j0=a(43153),j1=a(65722);function j2({environment:e,input:{issueId:t,assignees:n,participants:r},onError:l,onCompleted:i}){let s=[...new Map([...n,...r].map(e=>[e.login,e])).values()];return(0,hJ.commitMutation)(e,{mutation:a(76674),variables:{input:{id:t,assigneeIds:n.map(e=>e.id)}},optimisticResponse:{updateIssue:{issue:{id:t,assignees:{edges:n.map(e=>({node:{id:e.id,login:e.login,name:e.name,avatarUrl:e.avatarUrl}}))},participants:{edges:s.map(e=>({node:{id:e.id,login:e.login,name:e.name,avatarUrl:e.avatarUrl}}))}}}},onError:e=>l&&l(e),onCompleted:e=>i&&i(e)})}function j5({environment:e,input:{issueId:t,body:n},onCompleted:r,onError:l}){if(n)return(0,hJ.commitMutation)(e,{mutation:a(84946),variables:{input:{id:t,body:n}},onCompleted:()=>r&&r(),onError:e=>l&&l(e)})}function j3({environment:e,input:{id:t,body:n},onCompleted:r,onError:l}){if(n)return(0,hJ.commitMutation)(e,{mutation:a(79812),variables:{input:{id:t,body:n}},onCompleted:()=>r&&r(),onError:e=>l&&l(e)})}function j4({environment:e,input:{issueId:t,labels:n},onError:r,onCompleted:l}){return(0,hJ.commitMutation)(e,{mutation:a(27983),variables:{input:{id:t,labelIds:n.map(e=>e.id)}},optimisticResponse:{updateIssue:{issue:{id:t,labels:{pageInfo:{hasNextPage:!1,endCursor:null},edges:n.map(e=>({cursor:e.id,node:{__typename:"Label",id:e.id,name:e.name,nameHTML:e.nameHTML,description:e.description,color:e.color}}))}}}},onError:e=>r&&r(e),onCompleted:e=>l&&l(e)})}function j6({environment:e,input:{issueId:t,milestone:n},onError:r,onCompleted:l}){return(0,hJ.commitMutation)(e,{mutation:a(98789),variables:{input:{id:t,milestoneId:n?n.id:null}},optimisticResponse:{updateIssue:{issue:{id:t,milestone:n?{id:n.id,title:n.title,closed:n.closed}:null}}},onError:e=>r&&r(e),onCompleted:e=>l&&l(e)})}function j8({environment:e,input:{issueId:t,title:n,body:r},onError:l,onCompleted:i}){let s={id:t};return null!==n&&(s.title=n),null!==r&&(s.body=r),(0,hJ.commitMutation)(e,{mutation:a(33290),variables:{input:s},onError:e=>l&&l(e),onCompleted:e=>i&&i(e)})}function j7({environment:e,connectionId:t,project:n,issueId:r,onError:l}){let{id:i,title:s}=n;if(i)return(0,hJ.commitMutation)(e,{mutation:a(77574),variables:{input:{contentId:r,projectId:i},connections:t?[t]:[]},optimisticResponse:{addProjectV2ItemById:{projectEdge:{node:{id:i,project:{id:i,title:s,viewerCanUpdate:!1}}}}},onError:l})}function j9({environment:e,input:{issueId:t,newStateReason:n},onError:r,onCompleted:l}){return(0,hJ.commitMutation)(e,{mutation:a(50218),variables:{id:t,newStateReason:n},optimisticResponse:{closeIssue:{issue:{id:t,state:"CLOSED",stateReason:n}}},onError:e=>r&&r(e),onCompleted:e=>l&&l(e)})}function Ce({environment:e,input:{issueId:t},onError:n,onCompleted:r}){return(0,hJ.commitMutation)(e,{mutation:a(89181),variables:{id:t},optimisticResponse:{reopenIssue:{issue:{id:t,state:"OPEN"}}},onError:e=>n&&n(e),onCompleted:e=>r&&r(e)})}let Ct=(0,cg.createContext)(null),Ca=(0,cg.createContext)(null),Cn=({children:e})=>{let[t,a]=(0,cg.useState)(""),[n,r]=(0,cg.useState)(""),[l,i]=(0,cg.useState)(""),[s,o]=(0,cg.useState)(""),[d,u]=(0,cg.useState)(""),[c,m]=(0,cg.useState)(!1),[p,f]=(0,cg.useState)({}),[h,g]=(0,cg.useState)({}),[y,x]=(0,cg.useState)(""),[b,v]=(0,cg.useState)(j1.Z),{addToast:w}=pU(),k=(0,hJ.useRelayEnvironment)(),[j,C]=(0,cg.useState)(""),S=(0,cg.useCallback)(()=>{o(n),u(l),m(!0)},[l,n]),I=(0,cg.useCallback)(e=>{e&&(r(s),i(d)),m(!1)},[d,s]),N=(0,cg.useCallback)(()=>{m(!1),j8({environment:k,input:{issueId:t,title:n,body:l},onError:()=>w({type:"error",message:"Could not update issue"}),onCompleted:()=>b&&b()})},[k,t,n,l,w,b]),T=(0,cg.useCallback)(e=>{p[e]||f(t=>({...t,[e]:!0}))},[p]),_=(0,cg.useCallback)(e=>{p[e]&&f(t=>({...t,[e]:!1}))},[p]),R=(0,cg.useCallback)(()=>{f({})},[]),P=(0,cg.useMemo)(()=>Object.values(p).some(e=>e),[p]),D=(0,cg.useCallback)((e,t)=>{g(a=>({...a,[e]:t}))},[]),E=(0,cg.useMemo)(()=>Object.values(h).some(e=>e),[h]),L=(0,cg.useMemo)(()=>n!==s||l!==d,[l,d,s,n]),A=(0,cg.useMemo)(()=>({title:n,body:l,startIssueEdit:S,commitIssueEdit:N}),[n,l,S,N]),M=(0,cg.useMemo)(()=>({isIssueEditActive:c,isAnyCommentEditActive:P,commentEditStates:p,setCommentEditStates:f,startCommentEdit:T,cancelCommentEdit:_,cancelAllCommentEdits:R,setInputElementState:D,isAnyInputElementActive:E,cancelIssueEdit:I,isIssueEditDirty:L,issueId:t,setIssueId:a,setTitle:r,setBody:i,issueCommentsConnectionId:y,setIssueCommentsConnectionId:x,issueCommentHighlightId:j,setIssueCommentHighlightId:C,forceLoadMoreTimeline:b,setForceLoadMoreTimeline:v}),[c,P,p,T,_,R,D,E,I,L,t,y,j,b]);return(0,cs.jsx)(Ct.Provider,{value:M,children:(0,cs.jsx)(Ca.Provider,{value:A,children:e})})},Cr=()=>{let e=(0,cg.useContext)(Ca);if(!e)throw Error("useIssueOriginalPostContext must be used within a IssueOriginalPostContextProvider.");return e},Cl=()=>{let e=(0,cg.useContext)(Ct);if(!e)throw Error("useIssueContext must be used within a IssueViewerContextProvider.");return e};try{(tN=Ct).displayName||(tN.displayName="IssueViewerContext")}catch{}try{(tT=Ca).displayName||(tT.displayName="IssueOriginalPostContext")}catch{}try{(t_=Cn).displayName||(t_.displayName="IssueViewerContextProvider")}catch{}let Ci=(0,cg.createContext)({itemPickerOpenStates:{},updateOpenState:()=>void 0,anyItemPickerOpen:()=>!1});function Cs({children:e}){let[t,a]=(0,cg.useState)({}),n=(0,cg.useCallback)((e,t)=>{a(a=>({...a,[e]:t}))},[]),r=(0,cg.useCallback)(()=>Object.values(t).some(e=>e),[t]),l=(0,cg.useMemo)(()=>({itemPickerOpenStates:t,updateOpenState:n,anyItemPickerOpen:r}),[r,t,n]);return(0,cs.jsx)(Ci.Provider,{value:l,children:e})}function Co(){return(0,cg.useContext)(Ci)}try{(tR=Ci).displayName||(tR.displayName="ItemPickersContext")}catch{}try{(tP=Cs).displayName||(tP.displayName="ItemPickersContextProvider")}catch{}var Cd=a(67912);function Cu(e,t){let a=Cc(e);if(!a.isValid)return a;let n=Cm(t);return n.isValid?{isValid:!0}:n}function Cc(e){return 0===e.trim().length?{isValid:!1,errorMessage:jY.titleCanNotBeEmpty}:e.length>jY.maxIssueTitleLength?{isValid:!1,errorMessage:jY.issueTitleExceedsMaxLength}:{isValid:!0}}function Cm(e){return e.length>jY.maxBodyLength?{isValid:!1,errorMessage:jY.issueBodyExceedsMaxLength}:{isValid:!0}}function Cp({subjectId:e,repositoryDatabaseId:t,subjectDatabaseId:a,title:n,body:r,onChange:l,onCancel:i,onCommit:s,optionConfig:o}){let d=Cu(n,r);return(0,cs.jsx)(CI,{subjectType:"issue",subjectRepositoryId:t,subjectDatabaseId:a,body:r,onChange:l,onSave:()=>s(e),onCancel:()=>i(!0),validationResult:d,dataTestId:jQ.markdownEditor("body"),optionConfig:o})}try{(tD=Cp).displayName||(tD.displayName="BodyEditor")}catch{}let Cf={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F602}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function Ch({content:e,reactors:{totalCount:t},viewerHasReacted:a}){return(0,cs.jsx)(xh.z,{size:"small",sx:{"&:hover:not([disabled])":{backgroundColor:"accent.muted"},backgroundColor:a?"accent.subtle":"transparent",borderColor:a?"accent.emphasis":"border.default",borderRadius:20,px:2,boxShadow:"none"},"aria-label":e,role:"switch","aria-checked":a,leadingIcon:()=>(0,cs.jsx)(cs.Fragment,{children:Cf[e]}),children:t})}try{(tE=Ch).displayName||(tE.displayName="Reaction")}catch{}function Cg({reactionGroups:e}){let t=e.filter(({reactors:{totalCount:e}})=>e>0);return t.length>0?(0,cs.jsx)(cW.Z,{sx:{display:"flex",gap:1},children:t.map(({content:e,reactors:t,viewerHasReacted:a})=>(0,cs.jsx)(Ch,{content:e,reactors:t,viewerHasReacted:a},e))}):null}try{(tL=Cg).displayName||(tL.displayName="ReactionViewer")}catch{}let Cy={Issue:"issue",Comment:"comment"},Cx=({id:e,context:t,html:a,markdown:n,viewerCanUpdate:r,onLinkClick:l,dataTestId:i=jQ.markdownBody})=>{let s=(0,hJ.useRelayEnvironment)(),{addToast:o}=pU(),[d,u]=(0,cg.useState)(!1),c=(0,cg.useRef)(null),m=(0,cg.useCallback)((e,t,a)=>{u(!1),a?(t(),o({type:"error",message:a})):e()},[o]),p=(0,cg.useCallback)(a=>{let n=new Promise((n,r)=>{if(t===Cy.Comment)u(!0),j3({environment:s,input:{id:e,body:a},onCompleted:()=>m(n,r),onError:()=>m(n,r,"Could not update issue comment")});else if(t===Cy.Issue)u(!0),j5({environment:s,input:{issueId:e,body:a},onCompleted:()=>m(n,r),onError:()=>m(n,r,"Could not update issue body")});else throw Error(`Unknown context: ${t}`)});return n},[t,s,m,e]),f=pZ(p),h=kC(e=>f.current(e),500),g=a&&a.length>0?(0,cs.jsx)(jK,{disabled:!r||d,dangerousRenderedHTML:{__html:a},markdownValue:n,onChange:h,onLinkClick:l}):(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted",m:0,fontStyle:"italic",fontSize:1},children:jq.noDescriptionProvided});return(0,cs.jsx)(cW.Z,{...(0,cK.f)(i),ref:c,"data-turbolinks":"false",children:g})};try{(tA=Cx).displayName||(tA.displayName="MarkdownViewer")}catch{}function Cb({id:e,html:t,markdown:a,viewerCanUpdate:n,reactionGroups:r,onLinkClick:l}){return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",gap:4},children:[(0,cs.jsx)(Cx,{context:Cy.Issue,id:e,html:t,markdown:a,viewerCanUpdate:n,onLinkClick:l}),(0,cs.jsx)(Cg,{reactionGroups:r})]})}try{(tM=Cb).displayName||(tM.displayName="BodyViewer")}catch{}let Cv=a(16318);function Cw({issuesQueryRef:e,onLinkClick:t,optionConfig:n}){let r=(0,Cd.usePreloadedQuery)(Cv,e),l=(0,Cd.useFragment)(a(50784),r.repository&&r.repository.issue?r.repository.issue:null),i=l.id,s=gZ(l.databaseId),o=gZ(l.repository.databaseId),{isIssueEditActive:d,cancelIssueEdit:u,setBody:c,setIssueId:m}=Cl(),{title:p,body:f,commitIssueEdit:h}=Cr();(0,cg.useEffect)(()=>c(l.body),[l.body,l.bodyHTML,c]),(0,cg.useEffect)(()=>m(i),[i,m]),(0,cg.useEffect)(()=>u(!1),[i]);let g=e=>{c(e)};return(0,cs.jsx)(cW.Z,{sx:{flexGrow:1,overflowX:"auto",overflowY:"hidden",order:[1,1,1,1,0]},...(0,cK.f)(jQ.issueBody),"data-hpc":!0,children:d?(0,cs.jsx)(Cp,{subjectId:i,subjectDatabaseId:s,repositoryDatabaseId:o,title:p,body:f,onChange:g,onCancel:u,onCommit:h,optionConfig:n}):(0,cs.jsx)(Cb,{id:i,html:l.bodyHTML,markdown:l.body,viewerCanUpdate:l.viewerCanUpdate,reactionGroups:(l.reactionGroups||[]).map(e=>e),onLinkClick:t})})}try{(tF=Cw).displayName||(tF.displayName="Body")}catch{}function Ck({issuesQueryRef:e,onAction:t,hasComment:n}){let r=(0,hJ.usePreloadedQuery)(Cv,e),{addToast:l}=pU(),i=(0,hJ.useFragment)(a(79387),r.repository&&r.repository.issue?r.repository.issue:null),s=i.viewerCanClose,o=i.viewerCanReopen,d=(0,hJ.useRelayEnvironment)(),{forceLoadMoreTimeline:u}=Cl(),c=(0,cg.useCallback)(e=>{if(i&&i.id)return j9({environment:d,input:{issueId:i?.id,newStateReason:e},onError:()=>l({type:"error",message:jH.couldNotCloseIssue}),onCompleted:()=>u&&u()})},[i,d,l,u]),m=(0,cg.useCallback)(()=>{i&&i.id&&Ce({environment:d,input:{issueId:i?.id},onError:()=>l({type:"error",message:jH.couldNotReOpenIssue}),onCompleted:()=>u&&u()})},[i,d,l,u]),[p,f]=(0,cg.useState)(CS(i.state));(0,cg.useEffect)(()=>f(CS(i.state)),[i.state,i.stateReason,i.id]);let[h,g]=(0,cg.useState)(!1);return s||o?(0,cs.jsx)(cs.Fragment,{children:(0,cs.jsxs)(j0.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,cs.jsx)(Cj,{issueState:i.state,buttonState:p,onClose:c,onReopen:m,onAction:t,hasComment:n}),(0,cs.jsxs)(kA.P,{open:h,onOpenChange:g,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{size:"small",icon:me.AS7,"aria-label":jq.moreOptions})}),(0,cs.jsx)(kA.P.Overlay,{width:"medium",children:(0,cs.jsx)(CC,{buttonState:p,setButtonState:f,canClose:void 0!==c,canReopen:void 0!==m,viewerCanClose:s,viewerCanReopen:o,issueState:i.state,issueStateReason:i.stateReason})})]})]})}):null}let Cj=({issueState:e,buttonState:t,onClose:a,onReopen:n,onAction:r,hasComment:l=!1})=>{if("CLOSED"===e){if("OPEN"===t)return(0,cs.jsx)(xh.z,{size:"small",onClick:()=>{r?.(),n?.()},leadingIcon:me.eJg,sx:{color:"open.fg"},disabled:!n,children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:jq.reOpenIssue})});if("NOT_PLANNED"===t)return(0,cs.jsx)(xh.z,{size:"small",onClick:()=>{r?.(),a?.("NOT_PLANNED")},leadingIcon:me.C4D,sx:{color:"fg.muted"},disabled:!a,children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:jW.closeIssueNotPlanned})});if("CLOSED"===t)return(0,cs.jsx)(xh.z,{size:"small",onClick:()=>{r?.(),a?.("COMPLETED")},leadingIcon:me.GFI,sx:{color:"done.fg"},disabled:!a,children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:jW.closeIssueCompleted})})}if("OPEN"===e){if("NOT_PLANNED"===t)return(0,cs.jsx)(xh.z,{size:"small",onClick:()=>{r?.(),a?.("NOT_PLANNED")},leadingIcon:me.C4D,sx:{color:"fg.muted"},disabled:!a,children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:l?jW.closeIssueWithComment:jW.closeIssue})});if("CLOSED"===t)return(0,cs.jsx)(xh.z,{size:"small",onClick:()=>{r?.(),a?.("COMPLETED")},leadingIcon:me.GFI,sx:{color:"done.fg"},disabled:!a,children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:l?jW.closeIssueWithComment:jW.closeIssue})})}return null},CC=({buttonState:e,setButtonState:t,issueState:a,issueStateReason:n,canClose:r,canReopen:l,viewerCanClose:i,viewerCanReopen:s})=>(0,cs.jsxs)(kL.S,{selectionVariant:"single",role:"listbox","aria-roledescription":jq.updateIssueRoleDescription,sx:{display:"flex",flexDirection:"column"},children:["CLOSED"===a&&s&&(0,cs.jsxs)(kL.S.Item,{onSelect:()=>t("OPEN"),selected:"OPEN"===e,disabled:!l,children:[(0,cs.jsx)(kL.S.LeadingVisual,{sx:{color:"open.fg"},children:(0,cs.jsx)(me.eJg,{})}),jq.reOpenIssue]},"reopen-issue-option"),("OPEN"===a||"NOT_PLANNED"===n)&&i&&(0,cs.jsxs)(kL.S.Item,{onSelect:()=>t("CLOSED"),selected:"CLOSED"===e,disabled:!r,children:[(0,cs.jsx)(kL.S.LeadingVisual,{sx:{color:"done.fg"},children:(0,cs.jsx)(me.GFI,{})}),jq.closeAsCompleted,(0,cs.jsx)(kL.S.Description,{variant:"block",children:jq.actionListCompletedDescription})]},"close-issue-option"),("OPEN"===a||"CLOSED"===a&&"NOT_PLANNED"!==n)&&i&&(0,cs.jsxs)(kL.S.Item,{onSelect:()=>t("NOT_PLANNED"),selected:"NOT_PLANNED"===e,disabled:!r,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.C4D,{})}),jq.closeAsNotPlanned,(0,cs.jsx)(kL.S.Description,{variant:"block",children:jq.actionListNotPlannedDescription})]},"skip-issue-option")]}),CS=e=>"CLOSED"===e?"OPEN":"CLOSED";try{(tZ=Ck).displayName||(tZ.displayName="Actions")}catch{}try{(tO=Cj).displayName||(tO.displayName="UpdateStateButton")}catch{}try{(t$=CC).displayName||(t$.displayName="UpdateStateButtonOptions")}catch{}let CI=(0,cg.forwardRef)((e,t)=>(0,cs.jsx)(cW.Z,{sx:{mb:0},...e.dataTestId&&(0,cK.f)(e.dataTestId),children:(0,cs.jsx)(CN,{ref:t,...e})}));CI.displayName="MarkdownEditor";let CN=(0,cg.forwardRef)(({subjectRepositoryId:e,subjectDatabaseId:t,viewMode:a,onChangeViewMode:n,subjectType:r,body:l,onChange:i,onSave:s,onCancel:o,validationResult:d,saveButtonText:u="Save",trailingIcon:c=!0,issuesQueryRef:m,optionConfig:p},f)=>{let h=(0,cg.useCallback)(()=>{d&&d.isValid&&s&&s()},[s,d]),g="issue"===r?{repositoryId:e,issueId:t}:{repositoryId:e,pullRequestId:t},[y,x]=(0,cg.useState)(a??"edit");(0,cg.useEffect)(()=>{x("edit")},[e,t]),(0,cg.useEffect)(()=>{a&&x(a)},[a]);let b=(0,cg.useCallback)(e=>{x(e),n&&n(e)},[n]);return(0,cs.jsxs)(jz,{value:l,placeholder:jq.markdowEditorLeaveComment,onChange:i,onPrimaryAction:s,ref:f,pasteUrlsAsPlainText:p?.pasteUrlsAsPlainText||!1,context:g,viewMode:y,onChangeViewMode:b,children:[(0,cs.jsx)(jz.Label,{visuallyHidden:!0,children:"Markdown Editor"}),(0,cs.jsxs)(jz.Actions,{children:[m&&(0,cs.jsx)(Ck,{issuesQueryRef:m,onAction:h,hasComment:l.length>0}),o&&(0,cs.jsx)(jz.ActionButton,{variant:"default",onClick:o,value:"Cancel",children:"Cancel"}),s&&d&&CT(s,d,u,c)]})]})});function CT(e,t,a,n){return t.isValid?C_(e,!1,a,n):(0,cs.jsx)(w_.Z,{text:t.errorMessage,direction:"w",...(0,cK.f)("save-button-tooltip"),children:C_(e,!0,a,n)})}function C_(e,t,a,n){return(0,cs.jsx)(jz.ActionButton,{variant:"primary",onClick:e,disabled:t,trailingIcon:n&&t?me.enX:null,children:a})}function CR({reason:e,icon:t}){return(0,cs.jsx)(cW.Z,{className:"blankslate",sx:{border:"1px solid",borderColor:"neutral.muted",borderRadius:2,backgroundColor:"canvas.default",boxShadow:"shadow.small"},children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"fg.muted"},children:[t&&t({size:24}),(0,cs.jsx)(mn.Z,{sx:{mt:2},children:e})]})})}CN.displayName="MarkdownEditorWrapper";try{(tV=CR).displayName||(tV.displayName="ReadonlyMarkdownEditor")}catch{}let CP=()=>(0,cs.jsx)(cW.Z,{sx:{display:"flex",justifyContent:"space-between"},...(0,cK.f)(jQ.sidebarLoading),children:(0,cs.jsx)(bi,{variant:"pill",height:"lg",width:"400px"})});try{(tB=CP).displayName||(tB.displayName="MetadataLoading")}catch{}var CD=a(55101);function CE(e){return e.split("/").map(encodeURIComponent).join("/")}let CL=({owner:e})=>`/users/${CE(e)}/hovercard`;function CA(e){return e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement}let CM=(e,t,a,n)=>{let r=(0,cg.useRef)(t);(0,cg.useLayoutEffect)(()=>{r.current=t});let l=(0,cg.useCallback)(t=>{!(CF()&&!a?.triggerWhenPortalIsActive||a?.ctrlKey&&!t.ctrlKey&&!t.metaKey||!a?.ctrlKey&&(t.ctrlKey||t.metaKey)||!a?.triggerWhenInputElementHasFocus&&CA(t))&&e.some(e=>/^\d$/.test(e)?t.code===`Digit${e}`:"/"===e?"Slash"===t.code:t.key===e)&&r.current(t)},[e,a?.ctrlKey,a?.triggerWhenInputElementHasFocus,a?.triggerWhenPortalIsActive]);(0,cg.useEffect)(()=>{let e=n?.current||document;return e.addEventListener("keydown",l),()=>e.removeEventListener("keydown",l)},[l,n])};function CF(){let e=[...document.querySelectorAll('#__primerPortalRoot__, [id$="-portal-root"]')],t=e.some(e=>{let t=e.childNodes[0]?.childNodes[0];return t instanceof Element&&t.clientHeight>0});return t}let CZ={leadingVisual:me.KHo,text:jH.noMatches,disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"},CO={leadingVisual:me.KHo,text:jH.noResults,disabled:!0,selected:void 0,key:"no-results",id:"no-results"};function C$({items:e,initialSelectedItems:t,id:a,openHotkey:n,placeholderText:r,selectionVariant:l,loading:i,groups:s,filterItems:o,renderAnchor:d,getItemKey:u,convertToItemProps:c,onSelectionChange:m,onClose:p,shortcutScopeRef:f}){let[h,g]=(0,cg.useState)(!1),[y,x]=(0,cg.useState)([]),[b,v]=(0,cg.useState)(""),{updateOpenState:w,anyItemPickerOpen:k}=Co(),j=(0,cg.useCallback)(e=>{k()||h||(e.preventDefault(),e.stopPropagation(),g(!0))},[h,k]);CM(n?[n]:[],j,{triggerWhenInputElementHasFocus:!1},f),(0,cg.useEffect)(()=>{w(a,h)},[a,h,w]);let C=(0,cg.useMemo)(()=>new Map,[a,t]),S=(0,cg.useCallback)((e,t)=>{let a=u(e),n=C.get(a);return n||((n=c(e)).selected=t,n.onAction=()=>{let e=C.get(a);if(e&&(e.selected=!e.selected,"single"===l))for(let[,t]of C)t!==e&&(t.selected=!1)},C.set(a,n)),n},[c,u,C,l]),I=(0,cg.useMemo)(()=>{let a=e.map(e=>S(e,t.some(t=>u(t)===u(e))));return 0===a.length?b?[CZ]:[CO]:a},[e,b,S,t,u]);(0,cg.useEffect)(()=>{x(I.filter(e=>e.selected))},[I]);let N=(0,cg.useMemo)(()=>"single"===l?gZ(y[0]):y,[y,l]),T=(0,cg.useCallback)(e=>{if(void 0===e){x([]);return}let t=Array.isArray(e)?e:[e],a=t.map(e=>I.find(t=>e.id===t.id)).filter(e=>void 0!==e);x(a)},[I]),_=(0,cg.useCallback)(e=>{if(g(e),!e){v(""),p&&p();let e=[...C.values()].filter(e=>e.selected).map(e=>e.source),a=e.length!==t.length||e.some(e=>!t.some(t=>u(t)===u(e)));(a||"single"===l)&&m(e)}},[p,C,t,l,u,m]);(0,cg.useEffect)(()=>{o(b)},[b,o]);let R=I.length>0;1===I.length&&(gZ(I[0]).id===CZ.id||gZ(I[0]).id===CO.id)&&(R=!1);let P=s&&R?{groupMetadata:s}:{},D=1===I.length?"auto":"small";return(0,cs.jsx)(bu.b,{renderAnchor:d,placeholderText:r,open:h,onOpenChange:_,loading:i,items:I,selected:N,onSelectedChange:T,filterValue:b,onFilterChange:v,showItemDividers:!0,overlayProps:{width:"small",height:D},...P})}try{(tz=C$).displayName||(tz.displayName="ItemPicker")}catch{}function CV(e,t){return t.slice().sort((t,a)=>{let n=e.some(e=>e.login===t.login),r=e.some(e=>e.login===a.login);return n&&!r?-1:r&&!n?1:t.login.localeCompare(a.login)})}let CB=a(27792),Cz=a(35095),CU=({assignees:e,anchorProps:t,MAX_DISPLAYED_ASSIGNEES:a=5})=>(0,cs.jsx)(CD.Z,{as:t?"button":void 0,"arial-label":jq.selectAssignees,text:e?.length?e.slice(0,a).map(e=>e.login).join(", ").concat(e.length>a?`, +${e.length-a}`:""):`${jq.noAssignees} (${jG.sidebarAssigneePicker})`,size:"large",sx:e?.length?{pl:1}:{borderStyle:"dashed",backgroundColor:"canvas.default",fontWeight:"normal"},leadingVisual:()=>e?.length?(0,cs.jsx)(cW.Z,{sx:{display:"flex","> *:not(:last-child)":{mr:"-3px"}},children:e.slice(0,a).map(e=>(0,cs.jsx)(bL.Z,{"data-hovercard-url":CL({owner:e.login}),src:e.avatarUrl,size:16,alt:`@${e.login}`,sx:{boxShadow:e=>`0 0 0 2px ${e.colors.canvas.subtle}`}},e.id))}):(0,cs.jsx)(me.t0Z,{}),...t}),CK={groupId:"assignees"},CW={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}};function CH({id:e,readonly:t,assignees:a,participants:n,repository:r,currentUser:l,onSelectionChange:i,shortcutScopeRef:s}){let o=(0,hJ.useRelayEnvironment)(),d=(0,cg.useCallback)(e=>new Promise((t,a)=>{(0,hJ.fetchQuery)(o,Cz,{owner:r.owner.login,name:r.name,query:e,first:10}).subscribe({next:e=>{if(null!==e){let a=e.repository?.assignableUsers?.nodes;a?t(a):t([])}},error:e=>{a(e)}})}),[o,r.owner.login,r.name]);return(0,cs.jsx)(Cq,{id:e,readonly:t,assignees:a,participants:n,currentUser:l,onSelectionChange:i,searchAssignees:d,shortcutScopeRef:s})}function CG({id:e,itemIdentifier:t,readonly:a,assignees:n,participants:r,currentUser:l,shortcutScopeRef:i}){let s=(0,hJ.useRelayEnvironment)(),{addToast:o}=pU(),{forceLoadMoreTimeline:d}=Cl(),{owner:u,repo:c,number:m}=t,p=(0,cg.useCallback)(t=>{j2({environment:s,input:{issueId:e,assignees:t,participants:r},onError:()=>o({type:"error",message:jH.couldNotUpdateAssignees}),onCompleted:()=>d&&d()})},[s,e,r,o,d]),f=(0,cg.useCallback)(e=>new Promise((t,a)=>{(0,hJ.fetchQuery)(s,CB,{owner:u,name:c,first:10,number:m,query:e}).subscribe({next:e=>{if(null!==e){let a=e.repository?.issueOrPullRequest?.suggestedAssignees?.nodes;a?t(a):t([])}},error:e=>{a(e)}})}),[s,m,u,c]);return(0,cs.jsx)(Cq,{id:e,readonly:a,assignees:n,participants:r,currentUser:l,onSelectionChange:p,searchAssignees:f,shortcutScopeRef:i})}function Cq({id:e,readonly:t,assignees:a,participants:n,searchAssignees:r,onSelectionChange:l,currentUser:i,shortcutScopeRef:s}){let[o,d]=(0,cg.useState)(!1),[u,c]=(0,cg.useState)(""),[m,p]=(0,cg.useState)(void 0),{addToast:f}=pU(),h=(0,cg.useCallback)(e=>e.login,[]),g=(0,cg.useMemo)(()=>{let e=[];if(e=m?CV(a,m):CV(a,a.concat(n.filter(e=>!a.find(t=>t.login===e.login)))),i){let t=e.findIndex(e=>e.login===i.login);if(-1!==t)e.splice(t,1);else if(m)return e;e.unshift(i)}return e},[a,n,m,i]),y=(0,cg.useCallback)(e=>0===a.length?CW.groupId:a.find(t=>t.id===e.id)?CK.groupId:CW.groupId,[a]),x=(0,cg.useCallback)(e=>({id:e.id,text:e.login,description:e.name??"",source:e,groupId:y(e),leadingVisual:()=>(0,cs.jsx)(bL.Z,{alt:e.login,src:e.avatarUrl})}),[y]),b=(0,cg.useCallback)(()=>{p(void 0)},[]),v=(0,cg.useCallback)(async e=>{if(""===e){p(void 0);return}d(!0);try{let t=await r(e);p(t)}catch{f({type:"error",message:jH.couldNotSearchAssignees})}finally{d(!1)}},[f,r]),w=kC(e=>v(e),200),k=(0,cg.useCallback)(e=>{let t=e.trim();u!==t&&w(t),c(e)},[w,u]),j=(0,cg.useCallback)(e=>(0,cs.jsx)(CU,{assignees:a,anchorProps:t?void 0:e}),[a,t]),C=(0,cg.useMemo)(()=>{let e=[],t=g.filter(e=>a.find(t=>t.id===e.id)),n=g.filter(e=>!a.find(t=>t.id===e.id));return t.length>0&&e.push(CK),n.length>0&&e.push(CW),e},[a,g]);return(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1},children:(0,cs.jsx)(C$,{id:e,items:g,initialSelectedItems:a,openHotkey:jG.sidebarAssigneePicker,filterItems:k,getItemKey:h,convertToItemProps:x,placeholderText:jq.filterUsers,selectionVariant:"multiple",loading:o,onSelectionChange:l,onClose:b,renderAnchor:j,groups:C,shortcutScopeRef:s})})}try{(tU=CU).displayName||(tU.displayName="CompressedAssigneeAnchor")}catch{}try{(tK=CH).displayName||(tK.displayName="AssigneeRepositoryPicker")}catch{}try{(tW=CG).displayName||(tW.displayName="AssigneeIssuePicker")}catch{}try{(tH=Cq).displayName||(tH.displayName="AssigneePickerBase")}catch{}var CQ=a(63309);let CX=({MAX_DISPLAYED_LABELS:e=5,labelColors:t})=>(0,cs.jsx)(cW.Z,{sx:{display:"flex","> *:not(:last-child)":{mr:"-1px"}},children:t.slice(0,e).map((e,t)=>(0,cs.jsx)(cW.Z,{sx:{width:8,height:8,borderRadius:100,boxShadow:e=>`0 0 0 2px ${e.colors.canvas.subtle}`,backgroundColor:`#${e}`}},`${t}-${e}`))});try{(tG=CX).displayName||(tG.displayName="LabelDots")}catch{}let CY=({size:e="large",labelNamesWithColor:t,anchorProps:a,MAX_DISPLAYED_LABELS:n=5})=>(0,cs.jsxs)(CQ.Z,{as:a?"button":void 0,sx:{overflow:"hidden",pointerEvents:a?"auto":"none",span:{textOverflow:"ellipsis",overflow:"hidden"},backgroundColor:"neutral.subtle"},size:e,...a,children:[t.length>0&&(0,cs.jsx)(CX,{MAX_DISPLAYED_LABELS:n,labelColors:t.map(e=>e.color)}),(0,cs.jsx)(y9,{sx:{ml:1,fontSize:12,fontWeight:"bold",color:"fg.muted"},children:t.slice(0,n).map(e=>e.nameHTML).join(", ").concat(t.length>n?`, +${t.length-n}`:"")})]});try{(tq=CY).displayName||(tq.displayName="CompressedLabelsToken")}catch{}let CJ=a(70416),C0=a(24917),C1=({size:e="large",labels:t,anchorProps:a,MAX_DISPLAYED_LABELS:n=5})=>t?.length===0?(0,cs.jsx)(CD.Z,{as:a?"button":void 0,text:`${jq.noLabels} (${jG.sidebarLabelPicker})`,sx:{borderStyle:"dashed",backgroundColor:"canvas.default",fontWeight:"normal"},size:e,leadingVisual:()=>(0,cs.jsx)(me.lO_,{}),...a}):(0,cs.jsx)(CY,{size:e,labelNamesWithColor:t.map(e=>({nameHTML:e.nameHTML,color:e.color})),anchorProps:a,MAX_DISPLAYED_LABELS:n}),C2={groupId:"labels"},C5={groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}};function C3({id:e,labelQueryRef:t,readonly:a,labels:n,shortcutScopeRef:r}){let l=(0,hJ.useRelayEnvironment)(),{addToast:i}=pU(),{forceLoadMoreTimeline:s}=Cl(),o=(0,cg.useCallback)(t=>{j4({environment:l,input:{issueId:e,labels:t},onError:()=>i({type:"error",message:jH.couldNotUpdateLabels}),onCompleted:()=>s&&s()})},[i,l,s,e]);return(0,cs.jsx)(C4,{id:e,labelQueryRef:t,readonly:a,labels:n,onSelectionChange:o,shortcutScopeRef:r})}function C4({id:e,labelQueryRef:t,readonly:n,labels:r,onSelectionChange:l,shortcutScopeRef:i}){let[s,o]=(0,cg.useState)(""),d=(0,hJ.usePreloadedQuery)(CJ,t),{data:u,loadNext:c,isLoadingNext:m,hasNext:p}=(0,hJ.usePaginationFragment)(a(92609),d.repository?d.repository:null),f=u?.labels?.totalCount||0,h=(u?.labels?.edges||[]).flatMap(e=>e?.node?[(0,hJ.readInlineData)(C0,e.node)]:[]);(0,cg.useEffect)(()=>{p&&!m&&h.length<jJ.labelsMaxPreloadCount&&c(jJ.labelsPageSize)},[c,h,f,p,m]);let g=(0,cg.useMemo)(()=>{let e=h.slice().sort((e,t)=>e.name.localeCompare(t.name)),t=r.slice().sort((e,t)=>e.name.localeCompare(t.name)),a=t.concat(e.filter(e=>!r.find(t=>t.id===e.id)));return s?a.filter(e=>e.name.toLowerCase().indexOf(s.toLowerCase())>=0):a},[h,s,r]),y=(0,cg.useCallback)(e=>{o(e)},[]),x=(0,cg.useCallback)(e=>e.id,[]),b=(0,cg.useCallback)(e=>({id:e.id,children:(0,cs.jsx)(y9,{children:e.nameHTML}),source:e,groupId:r.find(t=>t.id===e.id)?C2.groupId:C5.groupId,leadingVisual:()=>(0,cs.jsx)(cW.Z,{sx:{bg:`#${e.color}`,borderColor:`#${e.color}`,width:14,height:14,borderRadius:10,borderWidth:"1px",borderStyle:"solid"}})}),[r]),v=(0,cg.useCallback)(e=>(0,cs.jsx)(C1,{labels:r,anchorProps:n?void 0:e}),[r,n]),w=(0,cg.useMemo)(()=>{let e=[];return r.length>0&&e.push(C2),g.length>0&&g.length-r.length>0&&e.push(C5),e},[r,g]);return(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1},children:(0,cs.jsx)(C$,{id:e,items:g,initialSelectedItems:r,openHotkey:jG.sidebarLabelPicker,filterItems:y,getItemKey:x,convertToItemProps:b,placeholderText:`Filter labels ${h.length>=jJ.labelsMaxPreloadCount?`(${jJ.labelsMaxPreloadCount} labels loaded)`:""}`,selectionVariant:"multiple",onSelectionChange:l,renderAnchor:v,groups:w,shortcutScopeRef:i})})}try{(tQ=C1).displayName||(tQ.displayName="CompressedLabelAnchor")}catch{}try{(tX=C3).displayName||(tX.displayName="LabelPicker")}catch{}try{(tY=C4).displayName||(tY.displayName="LabelPickerBase")}catch{}let C6={groupId:"open",header:{title:"Open",variant:"filled"}},C8={groupId:"closed",header:{title:"Closed",variant:"filled"}},C7=a(55921),C9=a(27633);function Se({id:e,milestoneQueryRef:t,readonly:a,activeMilestone:n,shortcutScopeRef:r}){let{addToast:l}=pU(),i=(0,hJ.useRelayEnvironment)(),{forceLoadMoreTimeline:s}=Cl(),o=(0,cg.useCallback)(t=>{j6({environment:i,input:{issueId:e,milestone:t[0]??null},onError:()=>l({type:"error",message:jH.couldNotUpdateMilestone}),onCompleted:()=>s&&s()})},[i,e,l,s]);return(0,cs.jsx)(St,{id:e,milestoneQueryRef:t,readonly:a,activeMilestone:n,onSelectionChange:o,shortcutScopeRef:r})}function St({id:e,milestoneQueryRef:t,readonly:n,activeMilestone:r,onSelectionChange:l,shortcutScopeRef:i}){let[s,o]=(0,cg.useState)(""),d=(0,hJ.usePreloadedQuery)(C7,t),{data:u,loadNext:c,isLoadingNext:m,hasNext:p}=(0,hJ.usePaginationFragment)(a(72939),d.repository?d.repository:null),f=u?.milestones?.totalCount||0,h=(0,cg.useMemo)(()=>u?.milestones?.edges?.flatMap(e=>e?.node?[(0,hJ.readInlineData)(C9,e.node)]:[])||[],[u]);(0,cg.useEffect)(()=>{p&&!m&&h.length<jJ.milestonesMaxPreloadCount&&c(jJ.milestonesPageSize)},[c,h,f,p,m]);let g=(0,cg.useMemo)(()=>{let e=h.slice().sort((e,t)=>e.title.localeCompare(t.title));return s?e.filter(e=>e.title.toLowerCase().indexOf(s.toLowerCase())>=0):e},[h,s]),y=(0,cg.useCallback)(e=>{o(e)},[]),x=(0,cg.useCallback)(e=>e.id,[]),b=(0,cg.useCallback)(e=>({id:e.id,text:e.title,source:e,groupId:e.closed?C8.groupId:C6.groupId,leadingVisual:()=>(0,cs.jsx)(me.K37,{size:16})}),[]),v=(0,cg.useMemo)(()=>{let e=[];return g.some(e=>!e.closed)&&e.push(C6),g.some(e=>e.closed)&&e.push(C8),e},[g]),w=(0,cg.useCallback)(e=>r||!r&&n?(0,cs.jsx)(CD.Z,{as:n?void 0:"button","arial-label":jq.selectMilestones,text:r?.title||`${jq.noMilestones} (${jG.sidebarMilestonePicker})`,size:"large",leadingVisual:me.K37,sx:r?void 0:{borderStyle:"dashed",backgroundColor:"canvas.default",fontWeight:"normal"},...n?{}:e}):(0,cs.jsx)(CD.Z,{as:e?"button":void 0,text:`${jq.noMilestones} (${jG.sidebarMilestonePicker})`,sx:{borderStyle:"dashed",backgroundColor:"canvas.default",fontWeight:"normal"},size:"large",leadingVisual:()=>(0,cs.jsx)(me.K37,{}),...e}),[r,n]);return(0,cs.jsx)(C$,{id:e,items:g,initialSelectedItems:r?[r]:[],openHotkey:jG.sidebarMilestonePicker,filterItems:y,getItemKey:x,convertToItemProps:b,placeholderText:`Filter milestones ${h.length>=jJ.milestonesMaxPreloadCount?`(${jJ.milestonesMaxPreloadCount} milestones loaded)`:""}`,selectionVariant:"single",onSelectionChange:l,groups:v,renderAnchor:w,shortcutScopeRef:i})}try{(tJ=Se).displayName||(tJ.displayName="MilestonePicker")}catch{}try{(t0=St).displayName||(t0.displayName="MilestonePickerBase")}catch{}let Sa={groupId:"recent",header:{title:"Recent",variant:"filled"}},Sn={groupId:"repository",header:{title:"Repository",variant:"filled"}},Sr={groupId:"organization",header:{title:"Organization",variant:"filled"}},Sl=a(35551);function Si(e){return e?`${e.title} (${e.status??jq.noProjectStatus})`:`${jq.noProjects} (${jG.sidebarProjectPicker})`}let Ss=e=>e&&e?.node?.closed===!1,So=({id:e,readOnly:t,projects:a,projectQueryRef:n,onSave:r,shortcutScopeRef:l})=>{let i=(0,hJ.usePreloadedQuery)(Sl,n),s=(0,cg.useMemo)(()=>i?.repository?.owner?.recentProjects?.edges?.filter(Ss).map(e=>({...e?.node,groupId:"recent"}))||[],[i]),o=(0,cg.useMemo)(()=>i?.repository?.projectsV2?.nodes?.filter(e=>e&&e?.closed===!1).map(e=>({...e,groupId:"repository"}))||[],[i]),d=(0,cg.useMemo)(()=>i?.repository?.owner?.projectsV2?.edges?.filter(Ss)?.map(e=>({...e?.node,groupId:"organization"}))||[],[i]),[u,c]=(0,cg.useState)([]),m=(0,cg.useCallback)(e=>{let{title:t,id:a,groupId:n}=e,r={text:t,id:a,groupId:n,selected:u.includes(a)};return r},[u]),p=(0,cg.useMemo)(()=>[...s,...o,...d],[s,o,d]),f=(0,cg.useMemo)(()=>p.map(m),[p,m]),h=(0,cg.useMemo)(()=>f.filter(e=>e.id&&u.includes(e.id.toString())),[u,f]),[g,y]=(0,cg.useState)(""),x=(0,cg.useMemo)(()=>{if(f.length<1)return[CO];if(""===g)return f;let e=f.filter(e=>e.text?.toLowerCase().includes(g.toLowerCase()));return e.length<1?[CZ]:e},[f,g]),b=(0,cg.useMemo)(()=>x.includes(CZ)||x.includes(CO)?[]:[s.length>0?Sa:null,o.length>0?Sn:null,d.length>0?Sr:null].filter(e=>null!==e),[s,o,d,x]),v=(0,cg.useCallback)(e=>{let t=h.filter(t=>!e.includes(t)).map(e=>e.id),a=u,n=e.filter(e=>void 0!==e.id).map(e=>e.id);a=[...a,...n],t.length>0&&(a=a.filter(e=>!t.includes(e)));let r=new Set(a.map(e=>e.toString()));c([...r])},[c,h,u]),{updateOpenState:w,anyItemPickerOpen:k}=Co(),[j,C]=(0,cg.useState)(!1),S=(0,cg.useCallback)(t=>{if(C(t),w(e,t),!t){y("");let e=u.map(e=>p.find(t=>t.id===e)).filter(e=>void 0!==e);r(e)}},[C,p,r,u,w,e]),I=(0,cg.useCallback)(e=>{k()||j||(e.preventDefault(),S(!0))},[k,j,S]);CM([jG.sidebarProjectPicker],I,{triggerWhenInputElementHasFocus:!1},l);let N=(0,cg.useCallback)(e=>(0,cs.jsx)(CD.Z,{as:"button",text:Si(a.length>0?a[0]:void 0),size:"large",leadingVisual:me.$eq,sx:{borderStyle:"dashed",backgroundColor:"canvas.default",fontWeight:"normal"},...e},"empty-token"),[a]);return t?null:(0,cs.jsx)(bu.b,{renderAnchor:N,placeholderText:jq.filterProjects,items:x,selected:h,open:j,onOpenChange:S,onSelectedChange:v,filterValue:g,onFilterChange:y,showItemDividers:!0,overlayProps:{width:"small",height:1===x.length?"auto":"small"},groupMetadata:b&&x.length>0?b:void 0})};function Sd({readOnly:e,projects:t}){let a=(0,cg.useMemo)(()=>{if(t.length>0)return t.map(t=>(0,cs.jsx)(CD.Z,{as:t.viewerCanUpdate&&!1===e?"button":void 0,text:Si(t),size:"large",leadingVisual:me.$eq},t.id))},[t,e]);return(0,cs.jsx)(cs.Fragment,{children:a})}try{(t1=So).displayName||(t1.displayName="ProjectPicker")}catch{}try{(t2=Sd).displayName||(t2.displayName="ProjectViewer")}catch{}function Su(e,t){let a=e.indexOf("/");if(-1===a||0===a)return t?`org:${t} ${e} in:name archived:false`:`${e} in:name archived:false`;let n=e.slice(0,a),r=e.slice(a+1);return 0===r.length?`org:${n} in:name archived:false`:`org:${n} ${r} in:name archived:false`}let Sc=a(32223),Sm=a(65619),Sp=a(62499),Sf=a(33360);function Sh({initialRepository:e,onSelect:t,scope:a,topReposQueryRef:n}){let{addToast:r}=pU(),[l,i]=(0,cg.useState)(""),[s,o]=(0,cg.useState)(void 0),[d,u]=(0,cg.useState)(!1),c=(0,cg.useRef)(!1),m=(0,hJ.usePreloadedQuery)(Sm,n),[p,f]=(0,cg.useState)([]),h=(0,hJ.useRelayEnvironment)(),g=(0,cg.useCallback)((e,t)=>{c.current||(u(!0),(0,hJ.fetchQuery)(h,Sp,{searchQuery:Su(e,a)}).subscribe({next:e=>{if(null!==e){let a=(e.search.nodes||[]).flatMap(e=>e?[(0,hJ.readInlineData)(Sf,e)]:[]),n=a.sort((e,a)=>t.includes(e.owner.login)&&!t.includes(a.owner.login)?-1:!t.includes(e.owner.login)&&t.includes(a.owner.login)?1:e.owner.login.localeCompare(a.owner.login));c.current||(o(n),u(!1))}},error:()=>{u(!1),r({type:"error",message:jH.couldNotSearchRepositories})}}))},[r,h,a]),y=kC(e=>g(e,p),200);(0,cg.useEffect)(()=>{if(0===l.length){c.current=!0,o(void 0),u(!1);return}c.current=!1,y(l)},[y,l]);let x=(0,cg.useCallback)(e=>e.id,[]),b=(0,cg.useCallback)(({"aria-labelledby":t,...a})=>(0,cs.jsx)(xh.z,{leadingIcon:me.H0r,trailingIcon:me.AS7,"aria-labelledby":` ${t}`,...a,children:e?(0,cs.jsxs)(mn.Z,{children:[e.owner.login,"/",e.name]}):jq.selectRepository}),[e]),v=(0,cg.useCallback)(e=>({id:e.id,children:(0,cs.jsxs)(mn.Z,{children:[e.owner.login,"/",e.name]}),source:e,leadingVisual:()=>e.isPrivate?(0,cs.jsx)(me.mBM,{size:12}):(0,cs.jsx)(me.H0r,{size:12})}),[]),{viewer:w}=m,k=(0,cg.useMemo)(()=>{let e=(w.topRepositories.edges||[]).flatMap(e=>e?.node?[(0,hJ.readInlineData)(Sf,e.node)]:[]);return a?e.filter(e=>e.owner.login===a).slice(0,10):e.slice(0,10)},[a,w.topRepositories.edges]);(0,cg.useEffect)(()=>{f([...new Set(k.map(e=>e.owner.login))])},[k]);let j=(0,cg.useMemo)(()=>s||k.filter(e=>!e.isArchived),[k,s]);!e&&j.length>0&&t(gZ(j[0]));let C=(0,cg.useCallback)(e=>{i(e)},[]);return(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1},children:(0,cs.jsx)(C$,{id:"repository-picker",items:j,initialSelectedItems:e?[e]:[],filterItems:C,getItemKey:x,convertToItemProps:v,placeholderText:jq.selectRepository,selectionVariant:"single",onSelectionChange:([e])=>t(gZ(e)),loading:d,renderAnchor:b})})}try{(t5=Sh).displayName||(t5.displayName="RepositoryPicker")}catch{}function Sg({environment:e,input:{title:t,body:n,repositoryId:r,labelIds:l,milestoneId:i,assigneeIds:s},onError:o,onCompleted:d}){return(0,hJ.commitMutation)(e,{mutation:a(66641),variables:{input:{title:t,body:n,repositoryId:r,labelIds:l,milestoneId:i,assigneeIds:s}},onError:e=>o&&o(e),onCompleted:e=>d&&d(e)})}let Sy=({currentRepoQueryRef:e,...t})=>{let a=(0,hJ.usePreloadedQuery)(Sc,e),n=(0,ja.readInlineData)(Sf,a.repository);return(0,cs.jsx)(Sx,{preSelectedRepository:n||void 0,...t})},Sx=({currentUser:e,pasteUrlsAsPlainText:t,topReposQueryRef:a,preSelectedTitle:n,preSelectedRepository:r,onCreate:l,onCancel:i,scope:s})=>{let o=(0,cg.useRef)(null),d=(0,cg.useRef)(null),{issueCreateMore:u,issueTitle:c,issueBody:m,issueRepo:p,issueLabels:f,issueAssignees:h,issueMilestone:g,issueProjects:y}=jt.localStorageKeys,[x,b]=(0,cg.useState)("edit"),[v,w]=(0,k4._)(u,!1),[k,j]=(0,k4._)(c,""),[C,S]=(0,cg.useState)(void 0),[I,N]=(0,k4._)(m,""),T=(0,cg.useRef)(!1),[_,R]=(0,cg.useState)(void 0),[P,D]=(0,cg.useState)(!1),[E,L]=(0,k4._)(p,void 0),[A,M]=(0,k4._)(f,[]),[F,Z]=(0,k4._)(h,[]),[O,$]=(0,k4._)(y,[]),[V,B]=(0,k4._)(g,null),{addToast:z}=pU(),U=(0,hJ.useRelayEnvironment)();O||$([]);let K={pasteUrlsAsPlainText:t};(0,cg.useEffect)(()=>{!T.current&&r&&(L(r),T.current=!0)},[r,L]);let W=(0,cg.useCallback)(()=>{Z([]),M([]),$([]),B(null),w(!1)},[Z,w,M,B,$]);(0,cg.useEffect)(()=>{d?.current?.focus()},[]);let H=e=>{(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&Q()},G=(0,cg.useCallback)(e=>{L(e),"edit"!==x&&b("edit"),W()},[W,L,x]),q=()=>{j(""),N("")},Q=()=>{if(P)return;let e=Cc(k);if(S(e.errorMessage),void 0!==C||0===k.trim().length||void 0===E||void 0!==_)return;D(!0);let t={repositoryId:E.id,title:k.trim(),body:I,labelIds:A.length>0?A.map(e=>e.id):void 0,assigneeIds:F.length>0?F.map(e=>e.id):void 0,milestoneId:V?.id};Sg({environment:U,input:t,onError:()=>{D(!1),z({message:k9.createIssueError,type:"error"})},onCompleted:e=>{if(D(!1),!e.createIssue?.issue){z({message:k9.createIssueError,type:"error"});return}let t=e.createIssue.issue;O.length>0&&Sb(t.id,O,U),v?(b("edit"),q()):(q(),W()),l(t,v)}})},X=e=>{let t=e.currentTarget.value;Y(t)},Y=(0,cg.useCallback)(e=>{let t=Cc(e);t.isValid&&S(void 0),j(e)},[j]);(0,cg.useEffect)(()=>{n&&Y(n)},[n,Y]);let J=e=>{ee(e)},ee=e=>{let t=Cm(e);R(t.errorMessage),N(e)},[et,ea,en]=(0,hJ.useQueryLoader)(CJ),[er,el,ei]=(0,hJ.useQueryLoader)(Sl),[es,eo,ed]=(0,hJ.useQueryLoader)(C7);(0,cg.useEffect)(()=>(E&&(ea({owner:E.owner.login,repo:E.name},{fetchPolicy:"store-or-network"}),el({owner:E.owner.login,repo:E.name},{fetchPolicy:"store-or-network"}),eo({owner:E.owner.login,repo:E.name},{fetchPolicy:"store-or-network"})),()=>{en(),ei(),ed()}),[E,en,ed,ea,eo,ei,el]);let eu=(0,cg.useCallback)(e=>{B(e?.[0]||null)},[B]);return(0,cs.jsxs)(cW.Z,{ref:o,sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:2},tabIndex:-1,children:[a&&(0,cs.jsx)(cW.Z,{sx:{width:"content"},children:(0,cs.jsx)(Sh,{initialRepository:E,onSelect:e=>G(e),scope:s,topReposQueryRef:a})}),(0,cs.jsxs)(br.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:[(0,cs.jsx)(br.Z.Label,{visuallyHidden:!0,children:je.issueCreateTitleLabel}),(0,cs.jsx)(wE.Z,{ref:d,"aria-label":je.issueCreateTitleLabel,placeholder:je.issueCreateTitlePlaceholder,value:k,onBlur:X,onChange:X,onKeyDown:H}),C&&(0,cs.jsx)(br.Z.Validation,{variant:"error",children:C})]}),(0,cs.jsx)(cg.Suspense,{fallback:(0,cs.jsx)(CP,{}),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"row",gap:2,flexWrap:"wrap"},children:[E&&(0,cs.jsx)(CH,{id:"create-issue-assignees",currentUser:e,repository:E,readonly:!1,assignees:F,participants:[],onSelectionChange:Z,shortcutScopeRef:o}),et&&(0,cs.jsx)(C4,{id:"create-issue-labels",readonly:!1,labels:A,labelQueryRef:et,onSelectionChange:M,shortcutScopeRef:o}),er&&(0,cs.jsx)(So,{id:"none",projectQueryRef:er,readOnly:!1,onSave:e=>{$(e)},projects:O,shortcutScopeRef:o}),es&&(0,cs.jsx)(St,{id:"create-issue-milestone",readonly:!1,activeMilestone:V,milestoneQueryRef:es,onSelectionChange:eu,shortcutScopeRef:o})]})}),E?.databaseId&&(0,cs.jsxs)(br.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:[(0,cs.jsx)(br.Z.Label,{visuallyHidden:!0,children:je.issueCreateBodyLabel}),(0,cs.jsx)(CI,{subjectType:"issue",subjectRepositoryId:E.databaseId,viewMode:x,onChangeViewMode:b,body:I,onSave:Q,onChange:J,trailingIcon:!1,optionConfig:K}),_&&(0,cs.jsx)(br.Z.Validation,{variant:"error",children:_})]}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"space-between",pt:"8px"},children:[(0,cs.jsx)(xh.z,{onClick:()=>i(),sx:{mr:1},children:k7.cancel}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,cs.jsxs)(br.Z,{sx:{display:"flex",alignItems:"center","> :first-child":{display:"contents"}},children:[(0,cs.jsx)(yq.Z,{checked:v,onChange:()=>w(!v)}),(0,cs.jsx)(br.Z.Label,{children:k7.createMore})]}),(0,cs.jsx)(xh.z,{variant:"primary",onClick:Q,disabled:P,children:k7.create})]})]})]})};function Sb(e,t,a){for(let n of t)j7({environment:a,issueId:e,project:n})}try{(t3=Sy).displayName||(t3.displayName="CreateIssueWithPreselectedRepo")}catch{}try{(t4=Sx).displayName||(t4.displayName="CreateIssue")}catch{}let Sv=({dialogLabelId:e,onClose:t})=>{let a=(0,cg.useCallback)(()=>{t("close-button")},[t]);return(0,cs.jsx)(k8.V.Header,{children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,cs.jsx)(k8.V.Title,{id:e,children:je.issueCreateDialogTitle})}),(0,cs.jsx)(k8.V.CloseButton,{onClose:a})]})})},Sw=({currentRepoQueryRef:e,currentUser:t,issueTitle:a,onCreate:n,onDismiss:r,pasteUrlsAsPlainText:l,scope:i,topReposQueryRef:s})=>{let o=(0,cg.useCallback)(()=>{(0,k4.Z)(Object.values(jt.localStorageKeys)),r()},[r]);return(0,cs.jsx)(k6.Z,{children:(0,cs.jsx)(k8.V,{renderHeader:e=>(0,cs.jsx)(Sv,{...e}),onClose:o,width:"xlarge",children:e?(0,cs.jsx)(Sy,{currentUser:t,pasteUrlsAsPlainText:l,topReposQueryRef:s,currentRepoQueryRef:e,preSelectedTitle:a,onCreate:n,onCancel:o,scope:i}):(0,cs.jsx)(Sx,{currentUser:t,pasteUrlsAsPlainText:l,topReposQueryRef:s,preSelectedTitle:a,onCreate:n,onCancel:o,scope:i})})})};try{(t6=Sv).displayName||(t6.displayName="CreateIssueDialogHeader")}catch{}try{(t8=Sw).displayName||(t8.displayName="CreateIssueDialog")}catch{}function Sk(e){let t=e.split("/");if(2===t.length)return{owner:gZ(t[0]),name:gZ(t[1])}}let Sj={FilterName:"tracked-by"};function SC(){SS.cancel()}let SS=hh(async e=>{let t=cQ("memex-refresh-api-data"),{visibleFields:a}=e,n=new URL(t.url,window.location.origin);a.length>0&&n.searchParams.set("visibleFields",JSON.stringify(a));let{data:r,ok:l}=await fd(n);if(!l)throw new api_error_ApiError("Unable to refresh project data");return r},1250);async function SI(e){let t=cQ("memex-item-update-api-data"),{memex_verified_fetch_for_memex_items_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5();if(a){let{data:a}=await fu(t.url,{method:"PUT",body:e},n);return a}{let{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}}function SN(e){let t=e.columns.Title;if(!t)return null;switch(t.contentType){case mu.DraftIssue:case mu.Issue:case mu.PullRequest:case mu.RedactedItem:return{memexProjectColumnId:c9.Title,value:t.value};default:return null}}let ST=(e,t)=>Error(`Value of column with ID "${e}" does not match expected type "${t}"`);function S_(e,t){switch(e.dataType){case c7.Assignees:return{...e,value:t.columns[c9.Assignees]??[]};case c7.Labels:return{...e,value:t.columns[c9.Labels]??[]};case c7.Milestone:return{...e,value:t.columns[c9.Milestone]};case c7.Repository:return{...e,value:t.columns[c9.Repository]};case c7.TrackedBy:return{...e,value:t.columns[c9.TrackedBy]??[]};case c7.Title:{let a=t.columns[c9.Title];if(!a||a.contentType===mu.RedactedItem)throw Error("Cannot generate revert for update to title of redacted item, since redacted item titles cannot be updated");return{...e,value:a.value}}case c7.Text:{let a=t.columns[e.memexProjectColumnId];if(void 0===a||pt(a))return{...e,value:a?.raw};throw ST(e.memexProjectColumnId,e.dataType)}case c7.Number:{let a=t.columns[e.memexProjectColumnId];if(void 0===a||pa(a))return{...e,value:a};throw ST(e.memexProjectColumnId,e.dataType)}case c7.Date:{let a=t.columns[e.memexProjectColumnId];if(pn(a)){let t=m0(a);if(t)return{...e,value:t}}else if(void 0===a)return{...e,value:a};throw ST(e.memexProjectColumnId,e.dataType)}case c7.Iteration:case c7.SingleSelect:{let a=t.columns[e.memexProjectColumnId];if(void 0===a||pr(a))return{...e,value:a};throw ST(e.memexProjectColumnId,e.dataType)}}}function SR(e,t){switch(e){case c9.Assignees:return{memexProjectColumnId:c9.Assignees,value:t.columns[c9.Assignees]||null};case c9.Labels:return{memexProjectColumnId:c9.Labels,value:t.columns[c9.Labels]||null};case c9.LinkedPullRequests:return{memexProjectColumnId:c9.LinkedPullRequests,value:t.columns[c9.LinkedPullRequests]||null};case c9.Milestone:return{memexProjectColumnId:c9.Milestone,value:t.columns[c9.Milestone]||null};case c9.Repository:return{memexProjectColumnId:c9.Repository,value:t.columns[c9.Repository]||null};case c9.Reviewers:return{memexProjectColumnId:c9.Reviewers,value:t.columns[c9.Reviewers]||null};case c9.Status:return{memexProjectColumnId:c9.Status,value:t.columns[c9.Status]||null};case c9.Tracks:return{memexProjectColumnId:c9.Tracks,value:t.columns[c9.Tracks]||null};case c9.TrackedBy:return{memexProjectColumnId:c9.TrackedBy,value:t.columns[c9.TrackedBy]||null};case c9.Title:return SN(t);default:{let a=t.columns[e]||null;return mq(e)?{memexProjectColumnId:e,value:a}:null}}}function SP(e){return mq(e)}function SD(e){return SP(e)||e===c9.Title||e===c9.Status||e===c9.Assignees}let SE=[c7.Tracks,c7.TrackedBy];function SL(e){return SE.some(t=>t===e.dataType)}function SA(e,t){switch(e){case mu.DraftIssue:return t.filter(e=>e.id!==c9.Title&&SD(e.id));case mu.Issue:return t.filter(e=>e.id!==c9.Title&&e.id!==c9.Reviewers);default:return[]}}function SM(e){return e&&"id"in e&&"url"in e}function SF(e,t,a){if(t&&e===mu.DraftIssue&&(t=t.filter(e=>SD(e.memexProjectColumnId))),t&&0!==t.length||null!=a)return{previousMemexProjectItemId:a,memexProjectColumnValues:t}}function SZ(e){return Object.keys(e.columns).reduce((t,a)=>{let n=mB(a);if(!n)return t;let r=SR(n,e);return r?[...t,r]:t},[])}function SO(e,t,a){let n=t.get(e.id);switch(e.dataType){case c7.Assignees:{let e=n||a.getAssignees();return e}case c7.Labels:{let e=n||a.getLabels();return e}case c7.Iteration:{let t=n||a.getCustomField(e.id);if(!t)return;let r=e.settings.configuration?gf(e.settings.configuration):[],l=r.find(e=>e.id===t.id);return l}case c7.Tracks:{let e=n||a.getCompletion();return e}case c7.SingleSelect:{let t=n||(e.id===c9.Status?a.getStatus():a.getCustomField(e.id));if(!t)return;let r=e.settings?.options?.find(e=>e.id===t.id);return r}case c7.Text:{let t=n||a.getCustomField(e.id);return t}case c7.Milestone:{let e=n||a.getMilestone();return e}case c7.LinkedPullRequests:{let e=n||a.getLinkedPullRequests();return e}case c7.Date:{let t=n||a.getCustomField(e.id);return t}case c7.Number:{let t=n||a.getCustomField(e.id);return t}case c7.Repository:{let e=n||a.getExtendedRepository();return e}case c7.TrackedBy:{let e=n||a.getTrackedBy();return e}}}let S$=()=>{let e=(0,cg.useContext)(hS);if(!e)throw Error("useMemexItemsStableContext must be used within a MemexItemsStableContext.Provider");return e},SV=()=>{let{itemsByIdRef:e,itemsRef:t}=S$(),a=(0,cg.useCallback)(t=>e.current.get(t),[e]),n=(0,cg.useCallback)(e=>t.current.findIndex(t=>t.id===e),[t]);return{findMemexItem:a,findMemexItemIndex:n}},SB=()=>{let{setItems:e,itemsRef:t,itemsByIdRef:a}=S$(),{findMemexItemIndex:n}=SV(),r=(0,cg.useCallback)(r=>{let l=n(r.id);if(-1===l)return;let i=t.current[l];if(!i)return;let s=Sz(i,r);if(!s)return;let o=[...t.current],d=hy(s);o.splice(l,1,d),a.current.set(d.id,d),e(o)},[n,a,t,e]),l=(0,cg.useCallback)(()=>{let a=[...t.current];e(a)},[t,e]);return{setItemData:r,setItemsStateFromModels:l}};function Sz(e,t){let{contentType:a,memexProjectColumnValues:n,id:r,priority:l,content:i,updatedAt:s}=t,o=n??SZ(e),d=i??e.content;switch(a){case mu.Issue:case mu.PullRequest:if(!SM(d))return null;return{contentType:a,content:{...e.content,...d},contentRepositoryId:t.contentRepositoryId??-1,memexProjectColumnValues:o,id:r,priority:l,updatedAt:s};case mu.DraftIssue:return{contentType:a,content:{...e.content,...d},memexProjectColumnValues:o,id:r,priority:l,updatedAt:s};case mu.RedactedItem:return{contentType:a,content:e.content,memexProjectColumnValues:o,id:r,priority:l,updatedAt:s};default:return null}}let SU=()=>{let{setItemsStateFromModels:e}=SB(),t=(0,cg.useCallback)((t,a,n=!1)=>{let{contentType:r}=t,{memexProjectColumnId:l}=a;(r!==mu.DraftIssue||SD(l)||n)&&(SC(),t.setColumnValueForItemColumnType(a),e())},[e]);return{setColumnValue:t}},SK=()=>{let{setColumnValue:e}=SU(),{setItemData:t}=SB(),a=(0,cg.useCallback)(async(a,n)=>{if(a.contentType===mu.RedactedItem)return;let r=null,l=null;if(n.columnValue){let t=fL(n.columnValue);l=fL(S_(n.columnValue,a)),r=fF(n.columnValue),t&&e(a,t)}let i=n.previousMemexProjectItemId,s=r?[r]:void 0,o=SF(a.contentType,s,i);if(o)try{SC();let{memexProjectItem:e}=await SI({memexProjectItemId:a.id,...o});t(e)}catch(t){throw l&&e(a,l),t}},[e,t]),n=(0,cg.useCallback)(async(a,n,r)=>{if(a.contentType===mu.RedactedItem)return;let l=n.map(fL),i=n.map(fF),s=n.map(e=>fL(S_(e,a)));return a.whileSkippingLiveUpdates(async()=>{let n;for(let t of l)t&&e(a,t);for(let e of i){if(!e)continue;let t=e?[e]:void 0,l=SF(a.contentType,t,r);if(l)try{SC(),n=await SI({memexProjectItemId:a.id,...l})}catch(e){}}if(n){t(n.memexProjectItem);return}for(let t of s)e(a,t)})},[e,t]);return{updateColumnValueAndPriority:a,updateMultipleSequentially:n}},SW=()=>{let{allColumnsRef:e}=xH(),t=(0,cg.useCallback)(t=>e.current.find(e=>e.name.toLowerCase()===t.toLowerCase()),[e]);return{findColumnByName:t}};async function SH({issueId:e}){let t=cQ("memex-tracked-by-api-data"),a=new URL(t.url,window.location.origin);a.searchParams.set("issueId",`${e}`);let{data:n}=await fd(a);return n}let SG=(0,cg.createContext)(null),Sq=(0,cg.createContext)(null),SQ=({children:e})=>{let{items:t}=h_(),{findMemexItem:a}=SV(),[n,r]=(0,cg.useState)(new Map),l=(0,cg.useRef)(n),i=(0,cg.useRef)(new Map),s=(0,cg.useCallback)(async e=>{if(l.current.has(e))return l.current.get(e);l.current.set(e,void 0);let t=await SH({issueId:e}).catch(()=>null);if(!t){r(new Map(n.set(e,void 0)));return}return r(a=>new Map(a.set(e,t))),l.current=new Map(l.current.set(e,t)),n.get(e)},[n]),o=(0,cg.useCallback)(e=>{let t=e.reduce((e,t)=>{let a=n.get(t);return a?(l.current.delete(t),e.set(t,a)):e},new Map);r(new Map(l.current));let a=()=>{for(let e of t.keys())l.current.set(e,t.get(e));r(new Map(l.current))};return a},[n]),d=(0,cg.useCallback)(e=>{let t=new Map;for(let[a]of l.current){let r=n.get(a);if(!r)continue;let i=r.items.filter(t=>0>e.indexOf(t.itemId));i.length!==r.items.length&&t.set(a,r),0===i.length?l.current.delete(a):l.current.set(a,{...r,items:i,count:i.length})}r(new Map(l.current));let a=()=>{for(let e of t.keys())l.current.set(e,t.get(e));r(new Map(l.current))};return a},[n]),u=(0,cg.useCallback)((e,t)=>{i.current.set(e,t)},[]),c=(0,cg.useCallback)(()=>i.current,[]),m=pZ(t),p=(0,cg.useMemo)(()=>t.some(e=>e.contentType===mu.Issue&&e.columns[c9.TrackedBy]),[t]);(0,cg.useEffect)(()=>{i.current=m.current.reduce((e,t)=>{let n=t.columns[c9.TrackedBy];if(t.contentType!==mu.Issue||!n)return e;let r=a(t.id)?.content.id;if(!r)return e;for(let t of n)e.get(t.key.itemId)?.includes(r)||e.set(t.key.itemId,[...e.get(t.key.itemId)||[],r]);return e},new Map)},[a,p,m]);let f=(0,cg.useMemo)(()=>({getChildrenTrackedByParent:s,setChildTrackedByParent:u,parentIssuesById:n,parentIssuesByIdRef:l,removeParentIssues:o,removeChildIssues:d,getAllProjectRelationships:c}),[c,s,n,d,o,u]),h=(0,cg.useMemo)(()=>({parentIssuesByIdRef:l,removeParentIssues:o,setChildTrackedByParent:u,getAllProjectRelationships:c}),[c,o,u]);return(0,cs.jsx)(SG.Provider,{value:f,children:(0,cs.jsx)(Sq.Provider,{value:h,children:e})})};try{(t7=SG).displayName||(t7.displayName="TrackedByItemsContext")}catch{}try{(t9=Sq).displayName||(t9.displayName="TrackedByItemsStableContext")}catch{}try{(ae=SQ).displayName||(ae.displayName="TrackedByItemsStateProvider")}catch{}let SX=()=>{let e=(0,cg.useContext)(SG);if(!e)throw Error("useTrackedByItemsContext must be used within a TrackedByItemsContext.Provider.");return e},SY=()=>{let{parentIssuesByIdRef:e}=SX(),t=(0,cg.useCallback)(t=>{let a=[],n=new Set(t);for(let[t,r]of e.current){let e=r?.items.some(({itemId:e})=>n.has(e));e&&a.push(t)}return a},[e]),a=(0,cg.useCallback)(t=>e.current.get(t)?.items??[],[e]),n=(0,cg.useCallback)(t=>e.current.get(t)?.parentCompletion,[e]),r=(0,cg.useCallback)(t=>e.current.get(t),[e]);return{getChildrenIssuesForParent:a,getParentIssuesFromChildren:t,getParentCompletion:n,getParent:r}},SJ=()=>{let{getAllProjectRelationships:e,removeParentIssues:t,setChildTrackedByParent:a}=SX(),{getParent:n,getParentIssuesFromChildren:r}=SY(),{findMemexItem:l}=SV(),i=(0,cg.useCallback)(a=>{let n=r(a);if(n.length){t(n);return}for(let[t,r]of e())r.some(e=>a.includes(e))&&n.push(t);t(n)},[e,r,t]),s=(0,cg.useCallback)(e=>{i([e])},[i]),o=(0,cg.useCallback)(e=>{let[t]=r([e]);if(!t)return;let l=n(t);a(t,l?.items.map(({itemId:e})=>e)||[]),s(e)},[n,r,s,a]),d=(0,cg.useCallback)(e=>e.reduce((e,t)=>{let a=l(t);return a?[...e,a.content.id]:e},[]),[l]);return{removeParentFromChildren:i,removeParentFromChild:s,setChildParentRelationship:o,getIssuesIdsToRemove:d}};function S0(e,t){let a={},n=new Set(t);for(let t in e)n.has(t)||(a[t]=e[t]);return a}async function S1({memexProjectItemId:e}){let t=cQ("memex-item-suggested-assignees-api-data"),a=new URL(t.url,window.location.origin);a.searchParams.set("memexProjectItemId",`${e}`);let{data:n}=await fd(a);return n}async function S2(e){return S4(e,"milestones")}async function S5(e){return S4(e,"labels")}async function S3(e){return S4(e,"assignees")}async function S4(e,t){let a=cQ("memex-sidepanel-item-suggestions-api-data"),n=new URL(a.url,window.location.origin);switch(e.kind){case jS.ISSUE:n.searchParams.set("kind",e.kind),n.searchParams.set("item_id",`${e.itemId}`),n.searchParams.set("repository_id",`${e.repositoryId}`),n.searchParams.set("suggestions_type",t);break;case jS.PROJECT_DRAFT_ISSUE:n.searchParams.set("kind",e.kind),n.searchParams.set("project_item_id",`${e.projectItemId}`),n.searchParams.set("suggestions_type",t);break;default:h2(e)}let{data:r}=await fd(n);return r}let S6=(0,cg.createContext)(null),S8=(0,cg.createContext)(null),S7=({children:e})=>{let[t,a]=(0,cg.useState)({}),[n,r]=(0,cg.useState)({}),[l,i]=(0,cg.useState)({}),s=(0,cg.useCallback)(e=>n[e],[n]),o=(0,cg.useCallback)(e=>t[e],[t]),d=(0,cg.useCallback)(e=>l[e],[l]),u=(0,cg.useCallback)((e,t)=>{r(a=>({...a,[e]:t}))},[r]),c=(0,cg.useCallback)((e,t)=>{a(a=>({...a,[e]:t}))},[a]),m=(0,cg.useCallback)((e,t)=>{i(a=>({...a,[e]:t}))},[i]),p=(0,cg.useCallback)(e=>{r(t=>S0(t,e)),a(t=>S0(t,e)),i(t=>S0(t,e))},[]),f=(0,cg.useMemo)(()=>({getSuggestedAssigneesForItem:s,getSuggestedLabelsForItem:o,getSuggestedMilestonesForItem:d,setSuggestedAssigneesForItem:u,setSuggestedLabelsForItem:c,setSuggestedMilestonesForItem:m,removeSuggestions:p}),[s,o,d,u,c,m,p]),h=(0,cg.useMemo)(()=>({setSuggestedAssigneesForItem:u,setSuggestedLabelsForItem:c,setSuggestedMilestonesForItem:m,removeSuggestions:p}),[u,c,m,p]);return(0,cs.jsx)(S6.Provider,{value:f,children:(0,cs.jsx)(S8.Provider,{value:h,children:e})})};async function S9(e){let t,a;try{t=await e()}catch(e){e instanceof Error&&(a=Error(e.message),e instanceof api_error_ApiError&&e.code&&(a.name=e.code))}return{response:t,error:a}}try{(at=S6).displayName||(at.displayName="SuggestionsContext")}catch{}try{(aa=S8).displayName||(aa.displayName="SuggestionsStableContext")}catch{}try{(an=S7).displayName||(an.displayName="SuggestionsStateProvider")}catch{}let Ie=()=>{let e=(0,cg.useContext)(S8);if(!e)throw Error("useSuggestionsStableContext must be used within a SuggestionsStableContext.Provider.");return e},It=()=>{let{findMemexItem:e}=SV(),{setColumnValue:t}=SU(),{setSuggestedAssigneesForItem:a}=Ie(),n=(0,cg.useCallback)(async n=>{a(n.getSuggestionId(),void 0);let{response:r,error:l}=await S9(()=>{if(n.memexItemId?.())return S1({memexProjectItemId:n.memexItemId()});switch(n.contentType){case mu.DraftIssue:return S3({kind:jS.PROJECT_DRAFT_ISSUE,projectItemId:n.id});case mu.Issue:return S3({kind:jS.ISSUE,itemId:n.itemId(),repositoryId:n.ownerId()});default:throw Error(`Unsupported item type: ${n.contentType}`)}}),i=e(n.id);i&&!l&&t(i,{memexProjectColumnId:c9.Assignees,value:r?.suggestions?.filter(e=>e.selected).sort((e,t)=>e.login.localeCompare(t.login))||null});let s=r?.suggestions??l;return a(n.getSuggestionId(),s),s},[a,t,e]);return{fetchSuggestedAssignees:n}};async function Ia({memexProjectItemId:e}){let t=cQ("memex-item-suggested-labels-api-data"),a=new URL(t.url,window.location.origin);a.searchParams.set("memexProjectItemId",`${e}`);let{data:n}=await fd(a);return n}let In=()=>{let{findMemexItem:e}=SV(),{setColumnValue:t}=SU(),{setSuggestedLabelsForItem:a}=Ie(),n=(0,cg.useCallback)(async n=>{a(n.getSuggestionId(),void 0);let{response:r,error:l}=await S9(()=>{if(n.memexItemId?.())return Ia({memexProjectItemId:n.memexItemId()});switch(n.contentType){case mu.DraftIssue:return S5({kind:jS.PROJECT_DRAFT_ISSUE,projectItemId:n.id});case mu.Issue:return S5({kind:jS.ISSUE,itemId:n.itemId(),repositoryId:n.ownerId()});default:throw Error(`Unsupported item type: ${n.contentType}`)}}),i=e(n.id);i&&!l&&t(i,{memexProjectColumnId:c9.Labels,value:r?.suggestions.filter(e=>e.selected).sort((e,t)=>e.name.localeCompare(t.name))||null});let s=r?.suggestions??l;return a(n.getSuggestionId(),s),s},[a,e,t]);return{fetchSuggestedLabels:n}};async function Ir({memexProjectItemId:e}){let t=cQ("memex-item-suggested-milestones-api-data"),a=new URL(t.url,window.location.origin);a.searchParams.set("memexProjectItemId",`${e}`);let{data:n}=await fd(a);return n}let Il=()=>{let{findMemexItem:e}=SV(),{setColumnValue:t}=SU(),{setSuggestedMilestonesForItem:a}=Ie(),n=(0,cg.useCallback)(async n=>{a(n.getSuggestionId(),void 0);let{response:r,error:l}=await S9(()=>{if(n.memexItemId?.())return Ir({memexProjectItemId:n.memexItemId()});switch(n.contentType){case mu.DraftIssue:return S2({kind:jS.PROJECT_DRAFT_ISSUE,projectItemId:n.id});case mu.Issue:return S2({kind:jS.ISSUE,itemId:n.itemId(),repositoryId:n.ownerId()});default:throw Error(`Unsupported item type: ${n.contentType}`)}}),i=e(n.id);i&&!l&&t(i,{memexProjectColumnId:c9.Milestone,value:r?.suggestions.filter(e=>e.selected)[0]});let s=r?.suggestions??l;return a(n.getSuggestionId(),s),s},[a,e,t]);return{fetchSuggestedMilestones:n}},Ii=()=>{let{fetchSuggestedAssignees:e}=It(),{fetchSuggestedLabels:t}=In(),{fetchSuggestedMilestones:a}=Il();return(0,cg.useCallback)(async(n,r,l,i)=>{switch(r){case c9.Assignees:{let t=await e(n),a=await Is(t,l);if(!a)return;return{dataType:c7.Assignees,value:a}}case c9.Labels:{let e=await t(n),a=await Io(e,l);if(!a)return;return{dataType:c7.Labels,value:a}}case c9.Milestone:{let e=await a(n),t=await Id(e,l);if(!t)return;return{dataType:c7.Milestone,value:t}}case c9.TrackedBy:{if(n.contentType===mu.DraftIssue)return;let e=i?.columns[c9.TrackedBy],t=await Iu(e,l);if(!t)return;return{dataType:c7.TrackedBy,value:t,appendOnly:!0}}}},[e,t,a])},Is=async(e,t)=>{if(e instanceof Error)throw e;if(!e)return null;let a=e.filter(e=>t&&gV([t],e.login)||e.selected);return a.map(e=>S0(e,["selected"]))},Io=async(e,t)=>{if(e instanceof Error)throw e;if(!e)return null;let a=e.filter(e=>t&&gV([t],e.name)||e.selected);return a.map(e=>S0(e,["selected"]))},Id=async(e,t)=>{if(e instanceof Error)throw e;if(!e)return null;let a=e.find(e=>t&&gV([t],e.title));return a?S0(a,["selected"]):null},Iu=async(e,t)=>{if(e instanceof Error||!e)throw e;let a=e.find(e=>t&&gV([t],f_(e)));return a?[a]:null};function Ic(){let{items:e}=h_(),{matchesSearchQuery:t,query:a}=wn(),n=(0,cg.useCallback)(e=>t(e),[t]),r=(0,cg.useMemo)(()=>a?e.filter(e=>n(e)):e,[a,e,n]),l=(0,cg.useCallback)(e=>a?e.grouped?{...e,items:e.items.map(e=>({...e,rows:e.rows.filter(n)}))}:{...e,items:e.items.filter(n)}:e,[n,a]);return{filterItems:l,filteredItems:r}}function Im(e,t){if(t){let a=e.find(e=>e.id===t);if(a)switch(a.dataType){case c7.SingleSelect:case c7.Iteration:return a.id}}return c9.Status}let Ip="no_vertical_group",If=(e,t)=>[{id:Ip,name:`No ${t}`,nameHtml:`No ${t}`},...e],Ih=(e,t,a,{includeAllCompletedIterations:n=!1}={})=>{let r=a.slice().sort(gy),l=[...n?r:r.slice(0,3),...t],i=l.sort(gx).map(e=>({id:e.id,name:e.title,nameHtml:e.titleHtml}));return[{id:Ip,name:`No ${e}`,nameHtml:`No ${e}`},...i]};function Ig(e,t={}){if(!e)return[];if(e.dataType===c7.SingleSelect)return If(e.settings.options||[],e.name);if(e.dataType===c7.Iteration){let{configuration:a}=e.settings,{iterations:n,completedIterations:r}=a;return Ih(e.name,n,r,t)}throw Error(`Unable to obtain vertical groups for field type: ${e.dataType}`)}function Iy(e){return e.dataType===c7.SingleSelect||e.dataType===c7.Iteration}function Ix(e){return e.name.toLocaleLowerCase().trim()}function Ib(e,t,{include:a,exclude:n}){return t.reduce((t,r)=>{let l={...r,nameHtml:y6(r.nameHtml)};if(e.dataType===c7.SingleSelect){let e=Ix(r),i=0===a.size||gV(Array.from(a),e),s=gV(Array.from(n),e);i&&!s&&t.push(l)}else if(e.dataType===c7.Iteration){let i=0===a.size||g2(Array.from(a),e,!1,r.id),s=g2(Array.from(n),e,!1,r.id);i&&!s&&t.push(l)}return t},[])}let Iv=(e,t)=>{let{orderedTokenizedFilters:a}=wn(),{allColumns:n}=bD(),r=n.find(t=>t.id===e),l=(0,cg.useMemo)(()=>{if(!r)return;let e=a.reduce((e,t)=>{if(r&&"field"===t.type&&n.find(e=>e.name.toLowerCase()===yc(t.field))===r)for(let a of yo(t.value.toLowerCase()))e[t.exclude?"exclude":"include"].add(a);return e},{include:new Set,exclude:new Set}),l=t(r,{includeAllCompletedIterations:r.dataType===c7.Iteration&&e.include.size+e.exclude.size>0});return Ib(r,l,e)},[r,a,t,n]);return{groupByFieldOptions:l,groupByField:r}},Iw=(0,cg.createContext)(null),Ik=()=>{let e=(0,cg.useContext)(Iw);if(!e)throw Error("useVerticalGroupedBy must be used within a VerticalGroupedByContext");return e},Ij=()=>{let{groupedByColumnId:e}=Ik();return{...Iv(e,Ig),groupedByColumnId:e}},IC=(0,cg.createContext)(null),IS=()=>{let e=(0,cg.useContext)(IC);if(!e)throw Error("useSortedBy must be used within a SortedByContext");return e};function II(e,t){return"string"==typeof e&&"string"==typeof t?e.toLowerCase()===t.toLowerCase():e===t}function IN(e,t){return"string"==typeof e&&"string"==typeof t?e.toLowerCase()>t.toLowerCase():e>t}function IT(e,t,a,n,r,l){let i=a.contentType,s=n.contentType;if(i===mu.RedactedItem&&s===mu.RedactedItem)return 0;if(i===mu.RedactedItem&&s!==mu.RedactedItem)return r?-1:1;if(i!==mu.RedactedItem&&s===mu.RedactedItem)return r?1:-1;if(0===e.length&&t.length>0)return r?-1:1;if(e.length>0&&0===t.length)return r?1:-1;for(let a=0;a<e.length;a++){if(a>=t.length)return 1;let n=gZ(e[a]),r=gZ(t[a]);if(!II(n,r))return IN(n,r)?1:-1}return t.length>e.length?-1:l?0:a.id-n.id}function I_(e,t,a,n){let r=e.columns.Assignees?.map(e=>e.login)??[],l=t.columns.Assignees?.map(e=>e.login)??[];return IT(r,l,e,t,a,n)}function IR(e,t,a,n,r,l){let i=a.contentType,s=n.contentType;return i===mu.RedactedItem&&s===mu.RedactedItem?0:i===mu.RedactedItem&&s!==mu.RedactedItem?r?-1:1:i!==mu.RedactedItem&&s===mu.RedactedItem?r?1:-1:void 0!==e&&void 0!==t&&e!==t?e-t:void 0===e&&void 0!==t?r?-1:1:void 0!==e&&void 0===t?r?1:-1:l?0:a.id-n.id}function IP(e,t,a,n,r){let l=mY(e.columns[a.id]),i=mY(t.columns[a.id]),s=l?.value.getTime(),o=i?.value.getTime();return IR(s,o,e,t,n,r)}function ID(e,t,a,n,r){let l=mG(e.columns[a.id]),i=mG(t.columns[a.id]),s=l?.id||"",o=i?.id||"",d=gp(a);if(!d.length)return 0;if(e.contentType===mu.RedactedItem&&t.contentType!==mu.RedactedItem)return n?-1:1;if(e.contentType!==mu.RedactedItem&&t.contentType===mu.RedactedItem)return n?1:-1;let u=d.find(e=>e.id===s),c=d.find(e=>e.id===o);if(!u&&c)return n?-1:1;if(u&&!c)return n?1:-1;if(u&&c){let e=(0,pK.Z)(u.startDate),t=(0,pK.Z)(c.startDate);if(e.getTime()>t.getTime())return 1;if(e.getTime()<t.getTime())return -1}return r?0:e.id-t.id}function IE(e,t,a,n){let r=e.columns.Labels?.map(e=>e.nameHtml)??[],l=t.columns.Labels?.map(e=>e.nameHtml)??[];return IT(r,l,e,t,a,n)}function IL(e,t,a,n){let r=e.columns["Linked pull requests"]?.map(e=>e.number)??[],l=t.columns["Linked pull requests"]?.map(e=>e.number)??[];return IT(r,l,e,t,a,n)}function IA(e,t,a,n,r,l){let i=a.contentType,s=n.contentType;if(i===mu.RedactedItem&&s===mu.RedactedItem)return 0;if(i===mu.RedactedItem&&s!==mu.RedactedItem)return r?-1:1;if(i!==mu.RedactedItem&&s===mu.RedactedItem)return r?1:-1;if(""===e&&""!==t)return r?-1:1;if(""!==e&&""===t)return r?1:-1;let o=e.localeCompare(t);return 0!==o?o:l?0:a.id-n.id}function IM(e,t,a,n){let r=e.columns.Milestone?.title??"",l=t.columns.Milestone?.title??"";return IA(r,l,e,t,a,n)}function IF(e,t,a,n,r){let l=mH(e.columns[a.id]),i=mH(t.columns[a.id]),s=l?.value,o=i?.value;return IR(s,o,e,t,n,r)}function IZ(e,t,a,n){let r=e.columns.Repository?.name??"",l=t.columns.Repository?.name??"";return IA(r,l,e,t,a,n)}function IO(e,t,a,n){let r=e.columns.Reviewers?.map(e=>e.reviewer.name)??[],l=t.columns.Reviewers?.map(e=>e.reviewer.name)??[];return IT(r,l,e,t,a,n)}function I$(e,t,a,n,r){let l=mG(e.columns[a.id]),i=mG(t.columns[a.id]),s=l?.id||"",o=i?.id||"",d=a.settings.options;if(!d)return 0;let u=d.findIndex(e=>e.id===s),c=d.findIndex(e=>e.id===o);return e.contentType===mu.RedactedItem&&t.contentType!==mu.RedactedItem?n?-1:1:e.contentType!==mu.RedactedItem&&t.contentType===mu.RedactedItem?n?1:-1:-1===u&&-1!==c?n?-1:1:-1!==u&&-1===c?n?1:-1:u>c?1:u<c?-1:r?0:e.id-t.id}function IV(e,t,a,n,r){let l=mW(e.columns[a.id]),i=mW(t.columns[a.id]),s=l?.raw??"",o=i?.raw??"";return IA(s,o,e,t,n,r)}function IB(e,t,a,n){let r=m6(e.columns.Title),l=m6(t.columns.Title);return IA(r,l,e,t,a,n)}function Iz(e,t,a,n){let r=e.columns["Tracked by"]?.map(f_)??[],l=t.columns["Tracked by"]?.map(f_)??[];return IT(r,l,e,t,a,n)}function IU(e,t,a,n){let r=m7(e.columns.Tracks),l=m7(t.columns.Tracks);return IR(r,l,e,t,a,n)}function IK(e){switch(e.dataType){case c7.Title:return IB;case c7.Assignees:return I_;case c7.Labels:return IE;case c7.LinkedPullRequests:return IL;case c7.Reviewers:return IO;case c7.Milestone:return IM;case c7.Repository:return IZ;case c7.Tracks:return IU;case c7.TrackedBy:return Iz;case c7.Text:return(t,a,n,r)=>IV(t,a,e,n,r);case c7.Number:return(t,a,n,r)=>IF(t,a,e,n,r);case c7.Date:return(t,a,n,r)=>IP(t,a,e,n,r);case c7.SingleSelect:return(t,a,n,r)=>I$(t,a,e,n,r);case c7.Iteration:return(t,a,n,r)=>ID(t,a,e,n,r);default:h2(e)}}function IW(e){let{missingRequiredColumnData:t}=v5(),{sortedByColumn:a,sortColumnId:n,sortDirection:r}=IS(),l="desc"===r,i=a?IK(a):null,s=(0,cg.useCallback)(t=>{if(e===n)return l?[...t].reverse():t;let a=l?-1:1;return i?[...t].sort((e,t)=>a*i(e,t,l)):t},[l,e,n,i]),o=(0,cg.useCallback)(r=>{if(!a||t)return r;if(r.grouped&&e===n){if(!l)return r;{let e=[...r.items].reverse();return{items:e,grouped:r.grouped}}}if(r.grouped){let e=r.items.map(e=>{let t=s(e.rows);return{...e,rows:t}});return{items:e,grouped:r.grouped}}{let e=s(r.items);return{items:e,grouped:r.grouped}}},[l,e,t,n,s,a]);return{sortItems:o,sortUngroupedItems:s}}function IH(){let{filteredItems:e}=Ic(),{groupedByColumnId:t,groupByFieldOptions:a=[]}=Ij(),{sortUngroupedItems:n}=IW(t),{missingRequiredColumnData:r}=v5(),{allColumns:l}=bD(),i=l.filter(Iy),s=(0,cg.useMemo)(()=>Im(i,t),[i,t]),o=l.find(e=>e.id===s),d=IG(e,s,a,r,Ip);for(let e in d){let t=n(d[e]??[]);d[e]=t}return{itemsGroupedByField:d,groupByFieldOptions:a,groupByFieldId:s,groupByField:o,compatibleColumns:i}}function IG(e,t,a,n,r){let l=Object.fromEntries([[r,[]],...a.map(e=>[e.id,[]])]);if(n)return l;for(let a of e){let e=Iq(a.columns,t,r);(e in l||e===r)&&l[e]?.push(a)}return l}function Iq(e,t,a){if(-1===t)return a;let n=e[t];return n&&n.id?n.id:a}let IQ=(0,cg.createContext)(null),IX=({children:e})=>{let[t,a]=(0,cg.useState)(void 0),n=(0,cg.useCallback)((e,t,n)=>{let r={validationMessage:e,rowId:t,colId:n};a(e=>void 0!==e&&po(e,r)?e:r)},[]),r=(0,cg.useCallback)(()=>{a(void 0)},[]),l=(0,cg.useMemo)(()=>({validationState:t,setValidationMessage:n,clearValidationMessage:r}),[r,n,t]);return(0,cs.jsx)(IQ.Provider,{value:l,children:e})};function IY(e,t){let a;let n=(0,cg.useContext)(IQ);if(!n)throw Error("Wrap use of `useCellValidationMessage` in `CellValidationContext` provider");return n.validationState&&n.validationState.rowId===e&&n.validationState.colId===t&&(a=n.validationState.validationMessage),{validationMessage:a,setValidationMessage:n.setValidationMessage,clearValidationMessage:n.clearValidationMessage,validationMessageId:a&&"table-cell-validation-message"}}try{(ar=IQ).displayName||(ar.displayName="CellValidationContext")}catch{}try{(al=IX).displayName||(al.displayName="CellValidationContextProvider")}catch{}let IJ=(0,cg.createContext)(null),I0=(0,cg.createContext)(null),I1=(0,cg.createContext)(null),I2=(0,cg.createContext)(null),I5=(0,cg.createContext)(null),I3=(0,cg.createContext)(null),I4=(0,cg.createContext)(null),I6=(0,cg.createContext)(null),I8=(0,cg.createContext)(null),I7=(0,cg.createContext)(0),I9=e=>(0,cs.jsx)(IJ.Provider,{value:e.table.state,children:(0,cs.jsx)(I1.Provider,{value:e.table.state.movingRow,children:(0,cs.jsx)(I2.Provider,{value:e.table.state.overColumn,children:(0,cs.jsx)(I5.Provider,{value:e.table.state.highlightedRowId,children:(0,cs.jsx)(I3.Provider,{value:e.table.state.sortBy,children:(0,cs.jsx)(I4.Provider,{value:e.table.state.rowMenuShortcutOrigin,children:(0,cs.jsx)(I6.Provider,{value:e.table.state.columnResizing,children:(0,cs.jsx)(I8.Provider,{value:e.table,children:(0,cs.jsx)(I0.Provider,{value:e.table.dispatch,children:(0,cs.jsx)(IX,{children:(0,cs.jsx)(I7.Provider,{value:e.cellHeight,children:e.children})})})})})})})})})})});function Ne(){let e=(0,cg.useContext)(IJ);if(!e)throw Error("Must use `useTableState` in child of `<TableStateProvider>");return e}function Nt(){let e=(0,cg.useContext)(I1);return e}function Na(){let e=(0,cg.useContext)(I2);return e}function Nn(){let e=(0,cg.useContext)(I0);if(!e)throw Error("Must use `useTableDispatch` in child of `<TableDispatchProvider>");return e}function Nr(){let e=(0,cg.useContext)(I5);return e}function Nl(){let e=(0,cg.useContext)(I7);return e}function Ni(){let e=(0,cg.useContext)(I8);if(!e)throw Error("Must use `useTableInstance` in child of `<TableProvider>");return e}function Ns(){let e=(0,cg.useContext)(I4);return e??void 0}function No(){let e=(0,cg.useContext)(I6);if(!e)throw Error("Must use `useTableColumnResizing` in child of `<TableProvider>");return e}try{(ai=IJ).displayName||(ai.displayName="TableStateContext")}catch{}try{(as=I0).displayName||(as.displayName="TableDispatchContext")}catch{}try{(ao=I1).displayName||(ao.displayName="TableStateMovingRowContext")}catch{}try{(ad=I2).displayName||(ad.displayName="TableStateOverColumnContext")}catch{}try{(au=I5).displayName||(au.displayName="TableStateHighlightedRowIdContext")}catch{}try{(ac=I3).displayName||(ac.displayName="TableStateSortByContext")}catch{}try{(am=I4).displayName||(am.displayName="TableStateRowMenuShortcutOriginContext")}catch{}try{(ap=I6).displayName||(ap.displayName="TableStateColumnResizingContext")}catch{}try{(af=I8).displayName||(af.displayName="TableInstanceContext")}catch{}try{(ah=I7).displayName||(ah.displayName="TableCellHeightContext")}catch{}function Nd({updateAction:e,matchesSearchQuery:t}){let a;let{viewType:n}=wt(),r=(0,cg.useContext)(I8),{itemsGroupedByField:l}=IH();if(n===vQ.Table&&r){let{flatRows:n,groupedRows:l}=r,i=e?l?.find(t=>!!e?.value&&("object"==typeof e.value&&"id"in e.value&&"id"in t.groupedSourceObject.value?e.value.id===t.groupedSourceObject.value.id:e.value===t.groupedValue))?.subRows:n.filter(e=>!e.isGrouped);a=i?.map(e=>e.original).filter(e=>t(e)).at(-1)}return n===vQ.Board&&"object"==typeof e?.value&&"id"in e.value&&(a=l[e.value.id]?.filter(e=>t(e)).at(-1)),a}async function Nu({memexProjectItemId:e}){let t=cQ("memex-item-get-api-data"),a=new URL(t.url,window.location.origin);a.searchParams.set("memexProjectItemId",`${e}`);let{data:n}=await fd(a);return n}let Nc={INFO:"info",BULK_ADD:"bulk-add",ISSUE:"issue"},Nm={NAVIGATE:"NAVIGATE",SET_FOCUS:"SET_FOCUS",INIT:"INIT"},Np=e=>({type:Nm.NAVIGATE,navigation:e}),Nf=e=>({type:Nm.SET_FOCUS,focus:e}),Nh=(e,t)=>{let a=(0,cg.createContext)({navigationDispatch:()=>void 0,state:{focus:null,previousFocus:null}}),n=(0,cg.createContext)({stateRef:(0,cg.createRef)(),navigationDispatch:()=>void 0}),r=()=>{let e=(0,cg.useContext)(a);return e},l=()=>{let e=(0,cg.useContext)(n);return e},i=(0,cg.memo)(function({metaRef:r,initialState:l,children:i}){let[s,o]=Ng(e,t,r,l),d=pZ(s),u=(0,cg.useMemo)(()=>({state:s,navigationDispatch:o}),[o,s]),c=(0,cg.useMemo)(()=>({navigationDispatch:o,stateRef:d}),[d,o]);return(0,cg.useLayoutEffect)(function(){o({type:Nm.INIT,state:l})},[o,l]),(0,cs.jsx)(a.Provider,{value:u,children:(0,cs.jsx)(n.Provider,{value:c,children:i})})});return{context:a,NavigationProvider:i,useNavigation:r,useStableNavigation:l}},Ng=(e,t,a,n)=>{let r=xO(),l=(0,cg.useCallback)((n,l)=>{switch(l.type){case Nm.NAVIGATE:return e(n,a.current,l,r);case Nm.SET_FOCUS:return t(n,a.current,l,r);case Nm.INIT:return l.state;default:return n}},[a,e,t,r]);return(0,cg.useReducer)(l,n)};try{(ag=MyComponent).displayName||(ag.displayName="MyComponent")}catch{}try{(ay=NavigationProvider).displayName||(ay.displayName="NavigationProvider")}catch{}let Ny={Focus:"Focus",Edit:"Edit",Suspended:"Suspended",Same:"Same"},Nx={First:"First",Second:"Second",Previous:"Previous",Same:"Same",Next:"Next",Last:"Last"},{useNavigation:Nb,useStableNavigation:Nv,NavigationProvider:Nw}=Nh(NR,NP);function Nk(e){return"footer"===e.type}function Nj(e){return"search-input"===e.type}function NC(e,t,a=Ny.Focus){return Nf({type:"coordinate",focusType:a,details:{x:e,y:t,meta:void 0}})}function NS(){return Np({focusType:Ny.Focus,details:{type:"previousFocus"}})}function NI(e,t,a,n){return Np({focusType:Ny.Focus,details:{type:"nearestCard",indexOfCardWithinColumn:e,columnIndex:t,cardId:a,findMemexItem:n}})}function NN(e){return Np({focusType:Ny.Focus,details:{type:"footer",columnId:e}})}function NT(){return Np({focusType:Ny.Focus,details:{type:"search-input"}})}function N_(){return Nf(null)}function NR(e,t,a){let{focus:n}=e;if(a.navigation.details?.type==="previousFocus")return{...e,focus:e.previousFocus,previousFocus:null};if(a.navigation.details?.type==="footer"){let r=a.navigation.details.columnId;return null==r&&(r=n?.type==="coordinate"?t.cardGrid[n.details.x]?.id:t.cardGrid[0]?.id),{...e,focus:{type:"footer",focusType:Ny.Focus,details:{columnId:gZ(r)}},previousFocus:e.focus}}if(a.navigation.details?.type==="search-input")return{...e,focus:{type:"search-input",focusType:Ny.Focus,details:{}},previousFocus:e.focus??e.previousFocus};if(a.navigation.details?.type==="nearestCard"){let{indexOfCardWithinColumn:n,columnIndex:r,cardId:l,findMemexItem:i}=a.navigation.details;return{...e,focus:NL(n,r,l,t.cardGrid,i),previousFocus:e.focus}}if(!n)return e;if("coordinate"===n.type){let r=NA(n,a,t.cardGrid,t.isSearchVisible);return{...e,focus:r,previousFocus:e.focus}}{let r=NM(n,a,t.cardGrid,t.isSearchVisible);return{...e,focus:r,previousFocus:e.focus}}}function NP(e,t,a){return{...e,focus:a.focus,previousFocus:NE(e)}}function ND(e,t,a){if(!e?.focus?.details||"coordinate"!==e.focus.type)return!1;let n=e.focus.details;return n.y===t&&n.x===a}function NE({focus:e,previousFocus:t}){return e?Nk(e)||Nj(e)?t:e:null}function NL(e,t,a,n,r){let l=r?gZ(n[t]).items.filter(e=>r(e.id)):gZ(n[t]).items,i=l.findIndex(e=>e.id===a),s=l.length>1,o=l.length>0,d=l.length-1,u=-1,c=t;if(o&&-1===i)u=l[e>d?d:e]?.id??0;else if(s)u=i===d?gZ(l[i-1]).id:gZ(l[i+1]).id;else{let e=1;for(;-1===u&&(t-e>=0||t+e<n.length);)t-e>=0&&gZ(n[t-e]).items.length?(u=gZ(gZ(n[t-e]).items[0]).id,c=t-e):t+e<n.length&&gZ(n[t+e]).items.length&&(u=gZ(gZ(n[t+e]).items[0]).id,c=t+e),e++;if(-1===u)return{type:"footer",focusType:Ny.Focus,details:{columnId:gZ(n[t]).id}}}return{type:"coordinate",focusType:Ny.Focus,details:{x:c,y:u,meta:{}}}}function NA(e,t,a,n){if(t.navigation.y===Nx.Next&&NZ(a,e.details.x,e.details.y))return{type:"footer",focusType:Ny.Focus,details:{columnId:gZ(a[e.details.x]).id}};if(t.navigation.y===Nx.Previous&&NO(a,e.details.x,e.details.y)&&n)return{type:"search-input",focusType:Ny.Focus,details:{}};let r=N$(a,e.details.x,t.navigation.x||Nx.Same);if(!a[r]||!gZ(a[r]).items.length)return e;let l=gZ(a[e.details.x]).items.findIndex(t=>t.id===e.details.y),i=NF(gZ(a[r]).items,l,t.navigation.y||Nx.Same),s=gZ(gZ(a[r]).items[i]).id;return{type:"coordinate",focusType:Ny.Focus,details:{x:r,y:s,meta:{}}}}function NM(e,t,a,n){let r=t.navigation;if(r.y){let l=a.findIndex(t=>t.id===e.details?.columnId);if(-1===l)return e;let i=N$(a,l,t.navigation.x||Nx.Same);if(i<0||i>=a.length)return e;let s=null;if((r.y===Nx.Previous||r.y===Nx.Last)&&gZ(a[i]).items.length?s=gZ(a[i]).items.length-1:r.y===Nx.First&&gZ(a[i]).items.length&&(s=0),null!=s){let e=gZ(gZ(a[i]).items[s]).id;return{type:"coordinate",focusType:Ny.Focus,details:{x:i,y:e,meta:{}}}}if(n)return{type:"search-input",focusType:Ny.Focus,details:{}}}return e}function NF(e,t,a){if(a===Nx.Same)return Math.min(t,e.length-1);if(a===Nx.First)return 0;if(a===Nx.Last)return e.length-1;if(a===Nx.Next){let a=Math.min(t+1,e.length-1);return a}return Math.max(0,t-1)}function NZ(e,t,a){let n=gZ(e[t]).items,r=n.length-1,l=gZ(n[r]).id;return a===l}function NO(e,t,a){let n=gZ(e[t]).items,r=gZ(n[0]).id;return a===r}function N$(e,t,a){let n=NF(e,t,a);if(a!==Nx.Same&&0===gZ(e[n]).items.length)for(;n>=0&&n<e.length&&0===gZ(e[n]).items.length;)n=a===Nx.First||a===Nx.Next?n+1:n-1;return n}function NV(e){return"empty"!==e.kind&&(e.dataType===c7.Milestone||e.dataType===c7.Repository)}function NB(e){let t=e.filter(e=>e.subRows.length>0);if(t&&t.length>0&&t.every(e=>NV(e.groupedSourceObject))){let a=e.find(e=>!NV(e.groupedSourceObject));a&&t.push(a)}return t}let Nz=e=>{if(!NV(e.groupedSourceObject))return pX.addItem;switch(e.groupedColumnId){case c9.Milestone:return pX.cannotAddItemsWhenGroupByMilestone;case c9.Repository:return pX.cannotAddItemsWhenGroupByRepository;default:return pX.addItem}};function NU(e){if("empty"===e.kind)return e.value.titleHtml;switch(e.dataType){case c7.Assignees:return ps(e.value.map(e=>e.login));case c7.Date:return m3(e.value.date.value);case c7.Iteration:return e.value.iteration.title;case c7.Milestone:return e.value.title;case c7.Number:return`${e.value.number.value}`;case c7.Repository:return e.value.nameWithOwner;case c7.SingleSelect:return e.value.option.name;case c7.Text:return e.value.text.raw;case c7.TrackedBy:return f_(e.value);default:h2(e)}}function NK(e){if("empty"===e.kind)return e.value.titleHtml;switch(e.dataType){case c7.SingleSelect:return e.value.option.nameHtml;case c7.Milestone:return e.value.title;case c7.Number:return`${e.value.number.value}`;case c7.Text:return e.value.text.html;default:h2(e)}}function NW(e){if("empty"===e.kind)return e.value.titleHtml;switch(e.dataType){case c7.Assignees:return e.value.map(e=>e.login).join("_");case c7.Date:return m5(e.value.date.value);case c7.Iteration:return e.value.iteration.title;case c7.Milestone:return e.value.title;case c7.Number:return`${e.value.number.value}`;case c7.Repository:return e.value.nameWithOwner;case c7.SingleSelect:return e.value.option.name;case c7.Text:return e.value.text.raw;case c7.TrackedBy:return e.value.title}}let NH={COORDINATE:"coordinate",FOOTER:"footer",SEARCH_INPUT:"search-input",SEARCH_BUTTON:"search-button",GROUP_FOOTER:"group-footer",GLOBAL_OMNIBAR:"global-omnibar"};function NG(e){return e.type===NH.FOOTER}function Nq(e){return e.type===NH.SEARCH_INPUT}function NQ(e){return e.type===NH.SEARCH_BUTTON}function NX(e){return e.type===NH.GROUP_FOOTER}function NY(e,t){return e.type===NH.GROUP_FOOTER&&e.details.groupId===t}function NJ(e){return e.type===NH.COORDINATE}function N0(e,t,a){if(!e?.focus?.details||"coordinate"!==e.focus.type)return!1;let n=e.focus.details;return n.y===t&&n.x===a}function N1(){return Nf({focusType:Ny.Focus,type:NH.FOOTER,details:null})}function N2(){return Nf({focusType:Ny.Focus,type:NH.SEARCH_INPUT,details:null})}function N5(){return Nf({focusType:Ny.Focus,type:NH.SEARCH_BUTTON,details:null})}function N3(e){return Nf({focusType:Ny.Focus,type:NH.GROUP_FOOTER,details:{groupId:e}})}function N4(){return Nf({focusType:Ny.Focus,type:NH.GLOBAL_OMNIBAR,details:null})}function N6(e,t,a,n,r,l){return Nf({focusType:Ny.Focus,type:NH.COORDINATE,details:{y:e,x:t,meta:{editing:a,suspended:n,replaceContents:r,newContent:l}}})}function N8(){return Nf(null)}function N7(e){return Np(e)}let N9=(e,t,a,n)=>{if(n===Nx.Same)return t;if(n===Nx.First)return e[0];if(n===Nx.Second)return e[1];if(n===Nx.Last)return e[e.length-1];if(t&&-1!==a){if(n===Nx.Next){let t=Math.min(a+1,e.length-1);return e[t]}if(n===Nx.Previous){let t=Math.max(0,a-1);return e[t]}}};function Te(e,t){if(e&&NJ(e)){let a=t.findIndex(t=>t===e?.details?.x);return a>-1?a:null}return null}function Tt({focus:e,previousFocus:t}){return e?NG(e)||NX(e)||NQ(e)||Nq(e)?t:e:null}let Ta=e=>{if(!e||0===e.length)return null;let t=0,a=0;for(let n=0;n<e.length;n++){let r=e[n];if(void 0!==r){let e=r.index;e>a&&(a=e,t=n)}}return e[t]},Tn=(e,t,a,n)=>{let{firstRow:r,lastRow:l,group:i,colID:s}=e,o=n.findIndex(e=>e===s)??0,d=a.findIndex(e=>e.id===i.id),u=!!t.details?.wrap,c=u&&0===o&&t.x===Nx.Previous,m=u&&o===n.length-1&&t.x===Nx.Next,p=c||t.y===Nx.Previous,f=m||t.y===Nx.Next;if(p&&d>0&&r){let e=a[d-1];return e?N3(e.id).focus:null}return f&&l?N3(i.id).focus:null},Tr=(e,t,a,n,r)=>{let l=e.details.groupId,i=a.findIndex(e=>e.id===l),s=a[i],o=!!t.details?.wrap,d=o&&t.x===Nx.Previous,u=o&&t.x===Nx.Next,c=d||t.y===Nx.Previous,m=u||t.y===Nx.Next,p=Te(r,n);if(m&&i<a.length-1){let e=a[i+1],t=o?0:p??0;if(e&&e.subRows.length>0){let a=e.subRows[0]?.id,r=n[t];return void 0===a||void 0===r?null:N6(a,r).focus}if(e)return N3(e.id).focus}if(c&&i>=0&&s&&s.subRows.length>0){let e=gZ(s.subRows.at(-1)).id,t=o?n.length-1:p??0,a=n[t];return void 0===a?null:N6(e,a).focus}if(c&&i>0&&s&&0===s.subRows.length){let e=a[i-1];return e?N3(e.id).focus:null}if(t.y===Nx.Last&&t.x===Nx.Second){if(!s)return null;let e=Ta(s.subRows);if(!e)return null;let t=n[1]?n[1]:n[0];return void 0===t?null:N6(e.id,t).focus}return null},Tl=(e,t,a,n,r)=>{if(e.y===Nx.Last&&e.x===Nx.Second){let e=Ta(t);if(!e)return null;let n=a[1]?a[1]:a[0];return void 0===n?null:N6(e.id,n).focus}let l=Te(r,a);if(e.y===Nx.Previous){if(0===t.length)return n();let e=a[l??0];return void 0===e?null:N6(gZ(t.at(-1)).id,e,!1).focus}if(e.y){let n=N9(t.map(e=>e.id),void 0,-1,e.y),r=N9(a,void 0,-1,e.x||Nx.First)??a[0];return n&&r?N6(n,r,!1).focus:null}return e.x&&e.details?.wrap?0===t.length?n():N6(gZ(t.at(-1)).id,gZ(a.at(-1)),!1).focus:e.details?.previousFocus?r:null},Ti=(e,t,a,n)=>{if(e.y){let n=N9(t.map(e=>e.id),void 0,-1,e.y),r=N9(a,void 0,-1,e.x||Nx.First)??a[0];return n&&r?N6(n,r,!1).focus:N1().focus}return e.details?.previousFocus?n:N1().focus},Ts=(e,t,a,n,r)=>{if(e.details.y===a.at(-1)?.id&&t.y===Nx.Next)return N1().focus;if(e.details.y===a.at(0)?.id&&t.y===Nx.Previous)return r();let l=a.findIndex(t=>t.id===e.details.y)??0,i=n.findIndex(t=>t===e.details.x)??0,s=N9(a.map(e=>e.id),e?.details.y,l,t.y||Nx.Same),o=N9(n,e?.details.x,i,t.x||Nx.Same);if(t?.details?.wrap){if(t.x===Nx.Next&&n.findIndex(t=>t===e?.details.x)+1>=n.length){if(!(l+1<=a.length-1))return N1().focus;o=n[0],s=a[l+1]?.id}else if(t.x===Nx.Previous&&n.findIndex(t=>t===e?.details.x)-1<0){if(!(l-1>=0))return r();o=n[n.length-1],s=a[l-1]?.id}}let d=e?.details.meta.editing??!1,u=e?.details.meta.suspended??!1;return(t.focusType===Ny.Edit?d=!0:t.focusType===Ny.Focus&&(d=!1),t.focusType===Ny.Suspended?u=!0:t.focusType!==Ny.Same&&(u=!1),s&&o)?N6(s,o,d,u).focus:null};function To(e,t){let{x:a,y:n}=t.details;for(let t of e){let e=t.subRows.findIndex(e=>e.id===n);if(e>=0){let n=0===e,r=e===t.subRows.length-1;return{group:t,subRowIndex:e,colID:a,firstRow:n,lastRow:r}}}return null}function Td(e,t){let{focus:a}=e;if(t){if(!t.length)return e.focus;if(a&&NJ(a)){let e=To(t,a);if(e)return N3(e.group.id).focus}let n=t[0];if(n)return N3(n.id).focus}return N1().focus}let{useNavigation:Tu,useStableNavigation:Tc,NavigationProvider:Tm}=Nh(Tf,Th);function Tp(){let{state:{focus:e}}=Tu(),t=null!=e&&NJ(e)&&e.details.meta.newContent;return t||""}function Tf(e,t,a){let{focus:n,previousFocus:r}=e,{visibleColumns:l,flatRows:i,groupedRows:s,state:o}=t.instance,{collapsedGroups:d}=o,{getHeaderFocus:u}=t;if(!n)return e;let{navigation:c}=a,m=null,p=i.filter(e=>!e.isGrouped),f=l.filter(e=>!e.nonNavigable).map(e=>e.id);if(s){let e=Tg(s,d);if(NJ(n)){let t=To(e,n);t&&(m=Tn(t,c,e,f)),null===m&&(m=Ts(n,c,p,f,u))}else NX(n)?m=Tr(n,c,e,f,r):(Nq(n)||NQ(n))&&(m=Ti(c,p,f,r))}else NG(n)?m=Tl(c,p,f,u,r):Nq(n)||NQ(n)?m=Ti(c,p,f,r):NJ(n)&&(m=Ts(n,c,p,f,u));return m?{...e,focus:m,previousFocus:Tt(e)}:e}function Th(e,t,a){let n=null;if(a.focus?.type===NH.GLOBAL_OMNIBAR){let{groupedRows:a,state:r}=t.instance,l=a?Tg(a,r.collapsedGroups):void 0;n=Td(e,l)}return{...e,focus:n??a.focus,previousFocus:Tt(e)}}function Tg(e,t){return e.filter(e=>e.subRows.length>0&&!NV(e.groupedSourceObject)&&-1===t.indexOf(e.groupedValue))}let Ty="sortedBy[columnId]",Tx="sortedBy[direction]",Tb="filterQuery",Tv="layout",Tw="groupedBy[columnId]",Tk="verticalGroupedBy[columnId]",Tj="visibleFields",TC="hideItemsCount",TS="sumFields",TI="period",TN="start_date",TT="end_date",T_="xAxis[groupBy]",TR="xAxis[dataSource][column]",TP="yAxis[aggregate][columns]",TD="yAxis[aggregate][operation]",TE="pane",TL="itemId",TA=new Set([mu.DraftIssue,mu.Issue]),TM="item",TF={type:Nc.INFO};function TZ(e,t){let{addToast:a}=pU(),[,n]=f6(),r=pZ(a);(0,cg.useEffect)(()=>{e&&(t?.contentType&&TA.has(t.contentType)||(r.current({type:pj.error,message:t?.contentType===mu.PullRequest?pX.sidePanelItemNotSupported:pX.sidePanelItemNotFound}),n(e=>(e.delete(TE),e.delete(TL),e),{replace:!0})))},[r,e,t?.contentType,n])}let TO=new Set,T$=(0,cg.createContext)(null),TV=(0,cg.createContext)(void 0),TB=(0,cg.createContext)([]);function Tz(e){return!!e&&new Set(Object.values(Nc)).has(e)}function TU(e,t){return Tz(e)?t[e]:null}function TK(){let[e,t]=f6(),a=e.get(TE)===TM;(0,cg.useEffect)(()=>{a&&t(e=>(e.set(TE,Nc.ISSUE),e),{replace:!0})},[a,t])}let TW=[],TH=({children:e})=>{let[t,a]=f6(),{items:n}=h_(),r=t.get(TE),l=r===Nc.BULK_ADD,i=r===TM||r===Nc.ISSUE,s=t.get(TL),o=s?n.find(e=>e.id===parseInt(s)):void 0;TK(),TZ(s,o);let[d,u]=(0,cg.useState)(o?[o]:TW),c=0===d.length;o&&c&&u([o]);let m=(0,cg.useMemo)(()=>0===d.length?TW:d.reduce((e,t)=>{if(!t.memexItemId)return e.push(t),e;let a=t.memexItemId(),r=n.find(e=>e.id===a);return r&&e.push(r),e},[]),[d,n]),p=m.at(-1),f=(0,cg.useMemo)(()=>{if(!i||!p)return null;let e={type:Nc.ISSUE,item:p};return e},[i,p]),{hasWritePermissions:h}=xQ(),g=(0,cx.TH)(),y=(0,cg.useMemo)(()=>{if(!h||!l)return null;let e={...Tq(g.state),type:Nc.BULK_ADD};return e},[l,h,g.state]);(0,cg.useEffect)(()=>{l&&!h&&a(e=>(e.delete(TE),e),{replace:!0})},[h,l,a]);let x=TU(r,{[Nc.ISSUE]:f,[Nc.INFO]:TF,[Nc.BULK_ADD]:y});(0,cg.useEffect)(()=>{!x&&T.current&&(T.current?.(),T.current=void 0)},[x]);let b=!!x,{postStats:v}=v4(),[w,k]=(0,cg.useState)(TO),j=w.size>0,C=(0,cg.useCallback)(()=>k(TO),[]),{setItemData:S}=SB(),I=(0,cg.useCallback)(async e=>{let t=e.memexItemId?.();if(void 0===t)return;let a=await Nu({memexProjectItemId:t});S(a.memexProjectItem)},[S]),N=(0,cg.useCallback)(async()=>{x?.type===Nc.ISSUE&&I(x.item)},[I,x]),T=(0,cg.useRef)(),_=(0,cg.useCallback)((e,t)=>{TA.has(e.contentType)&&(I(e),C(),a(t=>(t.set(TE,Nc.ISSUE),t.set(TL,e.id.toString()),t)),T.current=t,u([e]),v({name:vi,memexProjectItemId:e.id}))},[v,a,I,C]),R=(0,cg.useCallback)(()=>{t.get(TE)!==Nc.INFO&&a(e=>(e.set(TE,Nc.INFO),e))},[t,a]),P=(0,cg.useCallback)((e,t,n,r)=>{C(),a(e=>(e.set(TE,Nc.BULK_ADD),e),{state:{targetRepository:t,newItemAttributes:r,query:n}}),v({name:vU,ui:e})},[C,v,a]),D=(0,xg.N)(),E=(0,cg.useCallback)(async e=>{if(j&&!(e&&e.force)){let e=await D({...pX.sidePanelCloseConfirmation,confirmButtonType:"danger"});if(!e)return!1;C()}return a(e=>(e.delete(TE),e.delete(TL),e)),u(TW),!0},[j,C,a,D]),L=(0,cg.useCallback)(e=>{if(j)return e.preventDefault(),e.returnValue=""},[j]);(0,cb.yq)(L);let A=(0,cg.useCallback)(e=>{if(!e)return;let{historyIdx:t,item:a}=e;a&&(u(e=>{let n=e.slice();return void 0!==t&&(n=e.slice(0,t)),[...n,a]}),v({name:vi,memexProjectItemId:a.id}))},[v]),M=(0,cg.useCallback)(e=>{if(x?.type!==Nc.ISSUE||!e)return;let{item:t}=e;t&&(I(t),C(),A(e))},[x?.type,I,C,A]),F=(0,cg.useCallback)(e=>{if(!e||!e.item?.isHierarchy)return;let{item:t}=e;t&&(I(t),C(),A(e))},[I,C,A]),Z=(0,cg.useMemo)(()=>({sidePanelState:x,openProjectItemInPane:_,reloadPaneItem:N,openPaneInfo:R,openPaneBulkAdd:P,closePane:E,hasUnsavedChanges:j,setDirtyItems:k,dirtyItems:w,isPaneOpened:b,supportedItemTypes:TA,openPaneHistoryItem:M,openPaneHeirarchyHistoryItem:F}),[E,k,w,j,b,P,F,M,R,_,N,x]);return(0,cs.jsx)(T$.Provider,{value:Z,children:(0,cs.jsx)(TV.Provider,{value:x&&"item"in x?x.item.id:void 0,children:(0,cs.jsx)(TB.Provider,{value:m,children:e})})})},TG=(0,cg.memo)(TH);function Tq(e){let t={targetRepository:void 0,query:void 0,newItemAttributes:void 0};return e&&("targetRepository"in e&&(t.targetRepository=e.targetRepository),"query"in e&&(t.query=e.query),"newItemAttributes"in e&&(t.newItemAttributes=e.newItemAttributes)),t}let TQ=()=>(0,cg.useContext)(TB),TX=()=>{let e=(0,cg.useContext)(TV);return e},TY=()=>{let e=(0,cg.useContext)(T$);if(null===e)throw Error("useSidePanel must be used within a SidePanelProvider");return e},TJ=()=>{let{openProjectItemInPane:e,...t}=TY(),{navigationDispatch:a}=Tc(),{postStats:n}=v4(),r=(0,cg.useCallback)(t=>{e(t,()=>{a(N7({focusType:Ny.Focus}))}),n({name:"side_panel_table_open",context:JSON.stringify({contentType:t.contentType})}),a(N7({focusType:Ny.Suspended}))},[a,e,n]);return{openPane:r,...t}},T0=()=>{let{openProjectItemInPane:e,...t}=TY(),{navigationDispatch:a}=Nv(),{postStats:n}=v4(),r=(0,cg.useCallback)(t=>{e(t,()=>{a(NS())}),n({name:"side_panel_board_open",context:JSON.stringify({contentType:t.contentType})})},[a,e,n]);return{openPane:r,...t}};try{(ax=T$).displayName||(ax.displayName="SidePanelContext")}catch{}try{(ab=TV).displayName||(ab.displayName="SidePanelCurrentItemIdContext")}catch{}try{(av=TB).displayName||(av.displayName="SidePanelBreadcrumbHistoryContext")}catch{}try{(aw=TH).displayName||(aw.displayName="SidePanelProviderRenderFunction")}catch{}try{(ak=TG).displayName||(ak.displayName="SidePanelProvider")}catch{}let T1=({onAddItem:e,onAddDraftItem:t,onSave:a,updateAction:n,previousItemId:r,keepSystemFields:l=!1})=>{let{fieldFilters:i,query:s,matchesSearchQuery:o}=wn(),{items:d}=h_(),{addToast:u}=pU(),{findColumnByName:c}=SW(),{updateMultipleSequentially:m}=SK(),p=Ii(),{isKeywordQualifier:f}=bN(),{postStats:h}=v4(),{openProjectItemInPane:g,supportedItemTypes:y}=TY(),{setChildParentRelationship:x}=SJ(),{memex_tracked_by_items:b,memex_tracked_by_add_missing_items:v}=xO(),w=Nd({updateAction:n,matchesSearchQuery:o}),k=(0,cg.useCallback)(()=>{if(!i.length)return;let{columnValuesForCreate:e,columnValuesFromSuggestions:t}=i.reduce((e,[t,a])=>{if(!a.length||yr(t)||f(t)||t===Sj.FilterName&&!b)return e;let r=[...a],i=c(yc(t));if(!i||l&&!i.userDefined||n&&("memexProjectColumnId"in n&&i.id===n.memexProjectColumnId||!("memexProjectColumnId"in n)&&i.dataType===n.dataType))return e;if(r.length>1&&w){let t=yx(w,i);return t?{...e,columnValuesForCreate:[...e.columnValuesForCreate,t]}:e}if(r.length>1&&(r=[gZ(r[0])]),T2(i.id))return{...e,columnValuesFromSuggestions:[...e.columnValuesFromSuggestions,{memexProjectColumnId:i.id,filterValue:gZ(r[0])}]};let s=yy(d,i,r);return s?{...e,columnValuesForCreate:[...e.columnValuesForCreate,s]}:e},{columnValuesForCreate:[],columnValuesFromSuggestions:[]});return n&&e.push(n),{columnValuesForCreate:e,columnValuesFromSuggestions:t}},[i,n,f,b,c,w,d,l]),j=(0,cg.useCallback)(async l=>{let d=null,c=[],f=[],j=[];if(i.length){let e=k();if(e){for(let t of e.columnValuesForCreate){let e=fL(t);e&&f.push(e);let a=fF(t);a&&c.push(a)}j=e.columnValuesFromSuggestions}}else if(n){let e=fF(n),t=fL(n);e&&(c=[e]),t&&f.push(t)}if("object"==typeof l){let{repositoryId:t,...a}=l;d=await e(a,t,c,f,r)}else d=await t(l,c,f,r);if(!d)return;a?.(),b&&v&&x(d.content.id);let C=!1;if(j){let e=await Promise.all(j.map(async({memexProjectColumnId:e,filterValue:t})=>{if(T5(d,e))try{return await p(d,e,t,w)}catch(e){C=!0}})),t=e.filter(e=>!!e);await m(d,t)}(!o(d)||C)&&(u({type:pj.warning,message:pX.newItemFilterWarning,action:y.has(d.contentType)?{handleClick:()=>d&&g(d),text:pX.viewItem}:void 0}),h({name:"item_added_does_not_match_filter",context:JSON.stringify({model:d,filter:s})}))},[i.length,a,b,v,o,k,n,e,r,t,x,m,p,w,u,y,h,s,g]),{perform:C}=fx({request:j});return C},T2=e=>e===c9.Assignees||e===c9.Labels||e===c9.Milestone||e===c9.TrackedBy,T5=(e,t)=>!!e&&e.contentType!==mu.RedactedItem&&(e.contentType!==mu.DraftIssue||SD(t));async function T3(e){let t=cQ("memex-item-create-api-data"),{memex_verified_fetch_for_memex_items_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5();if(a){let{data:a}=await fu(t.url,{method:"POST",body:e},n);return a}{let{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}}let T4=()=>{let{addLoadedFieldId:e}=xH(),t=(0,cg.useCallback)(t=>{e(t)},[e]);return{updateLoadedColumns:t}},T6=()=>{let{findMemexItemIndex:e}=SV(),{setColumnValue:t}=SU(),{addToast:a}=pU(),{updateLoadedColumns:n}=T4(),{addItem:r}=S$(),l=(0,cg.useCallback)(t=>void 0===t?void 0:""===t?0:e(t)+1,[e]),i=(0,cg.useCallback)(async e=>{let i=l(e.previousMemexProjectItemId),s=e.localColumnValues;delete e.localColumnValues,SC();let o=await T3({memexProjectItem:e}),d=o.memexProjectItem,u=o.memexProjectColumn?.[0]?.partialFailures;u&&a({message:u.message,type:pj.warning,keepAlive:!0});let c=hy(d);for(let e of d.memexProjectColumnValues)n(e.memexProjectColumnId);if(c&&s)for(let e of s)t(c,e);return r(c,i),c},[l,r,n,t,a]),s=(0,cg.useCallback)((e,a,l)=>{let i=e.localColumnValues;delete e.localColumnValues;let{contentType:s,content:o}=e,d=null;if(s===mu.Issue&&(d={contentType:s,content:{...o,url:l||""},contentRepositoryId:o.repositoryId,memexProjectColumnValues:a,id:o.id,priority:null,updatedAt:Date.now().toString()}),d){let e=hy(d);for(let e of d.memexProjectColumnValues)n(e.memexProjectColumnId);for(let a=0;e&&i&&a<i.length;++a){let n=i[a];n&&t(e,n)}r(e)}},[r,n,t]);return{createMemexItem:i,createMemexItemOptimisitcally:s}},T8=(0,cg.createContext)(null),T7=()=>(0,cg.useContext)(T8),T9=()=>{let[e,t,a]=(0,hJ.useQueryLoader)(Sm);return(0,cg.useEffect)(()=>(t({topRepositoriesFirst:25}),a),[a,t]),e},_e=e=>{let[t,a,n]=(0,hJ.useQueryLoader)(Sc);return(0,cg.useEffect)(()=>(e&&a(e),n),[n,a,e]),t},_t=({onClose:e,visible:t,prefill:a,newItemAttributes:n})=>{let{loggedInUser:r}=f1(),{addToast:l}=pU(),i=(0,cg.useMemo)(()=>r&&{...r,avatarUrl:r.avatarUrl,name:r.name,id:r.global_relay_id},[r]),s=T9(),o=_e(a?.repo),{projectOwner:d}=f1(),{createMemexItem:u}=T6(),c=T1({updateAction:n&&n.setField||void 0,previousItemId:n?.previousItemId,onAddDraftItem:()=>Promise.resolve(null),onAddItem:(e,t,a,n,r)=>u({contentType:e.type,content:{id:e.id,repositoryId:t},memexProjectColumnValues:a,localColumnValues:n,previousMemexProjectItemId:r})}),m=(0,cg.useCallback)(async({databaseId:t,repository:a},n)=>{if(n||e(),null===t||null===a.databaseId){l({message:"Could not add the new issue to the project: ID is missing",type:"error"});return}await c({type:"Issue",id:t,repositoryId:a.databaseId})},[e,c,l]);return(0,cs.jsx)(cs.Fragment,{children:t&&s&&(0,cs.jsx)(Sw,{onCreate:m,onDismiss:e,topReposQueryRef:s,currentRepoQueryRef:o,pasteUrlsAsPlainText:r?.paste_url_link_as_plain_text??!1,currentUser:i,scope:d?.login,...a})})},_a=(0,cg.memo)(function({children:e}){let{hasWritePermissions:t}=xQ(),[a,n]=(0,cg.useState)({visible:!1}),{suggestRepositories:r}=bh(),l=(0,cg.useCallback)(async()=>(await r()).at(0),[r]),i=(0,cg.useCallback)(async({repo:e,issueTitle:t},a)=>{if(!e){let t=(await l())?.nameWithOwner;t&&(e=Sk(t))}n({visible:!0,prefill:{issueTitle:t,repo:e},newItemAttributes:a})},[l]);cU(()=>t?["i","Create issue","create_issue",()=>i({})]:null,[i,t]);let s=()=>n({visible:!1});return t?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(T8.Provider,{value:i,children:e}),(0,cs.jsx)(x8,{children:(0,cs.jsx)(_t,{onClose:s,...a})})]}):(0,cs.jsx)(cs.Fragment,{children:e})});try{(aj=T8).displayName||(aj.displayName="IssueCreatorContext")}catch{}try{(aC=_t).displayName||(aC.displayName="IssueCreator")}catch{}try{(aS=_a).displayName||(aS.displayName="IssueCreatorProvider")}catch{}function _n(e){return!!_d(e)&&"string"==typeof e.type}function _r(e){return i||(i={refreshEvents:new Set(cG("memex-refresh-events"))}),i.refreshEvents.has(e)}function _l(e){l||(l=cG("memex-alive"));let t=`${e}Channel`;return l?.[t]}function _i(e){return!!_u(e)&&"string"==typeof e.reason}function _s(e){return _o(e)&&Object.prototype.hasOwnProperty.call(e,"project_migration")}function _o(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function _d(e){return _o(e)&&Object.prototype.hasOwnProperty.call(e,"type")}function _u(e){return _o(e)&&Object.prototype.hasOwnProperty.call(e,"reason")}function _c(e){return pZ(e).current}function _m(e){return Boolean(e instanceof CustomEvent&&e.detail&&"object"==typeof e.detail&&"data"in e.detail)}function _p(e,t,a,n){let r=n||_l(t),l=pZ(a),[i,s]=(0,cg.useState)({});return(0,cg.useEffect)(()=>{let a=e.current;if(!a||!r)return;let n=`socket:${t}`,i=e=>{_m(e)&&l.current(e.detail)},s=[n,i];return a.addEventListener(...s),()=>{a.removeEventListener(...s)}},[r,t,l,e]),(0,cg.useEffect)(()=>{s({className:"js-socket-channel","data-channel":r})},[r]),[i]}function _f(e){return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}function _h(){return!document.hidden}function _g(){return!0}let _y=()=>(0,cg.useSyncExternalStore)(_f,_h,_g),_x=(0,cg.createContext)(null);function _b(){let e=(0,cg.useContext)(_x);if(null===e)throw Error("useCharts can only be used inside a ChartStateProvider");return e}let _v=()=>{let{loadedFieldIdsRef:e}=xH(),t=(0,cg.useCallback)(()=>[...e.current],[e]);return{findLoadedFieldIds:t}},_w=()=>{let{allColumnsRef:e}=xH(),t=(0,cg.useCallback)(t=>e.current.find(e=>`${e.id}`==`${t}`),[e]),a=(0,cg.useCallback)(t=>e.current.findIndex(e=>`${e.id}`==`${t}`),[e]);return{findColumn:t,findColumnIndex:a}},_k=()=>{let{setAllColumns:e,allColumnsRef:t}=xH(),{findColumnIndex:a}=_w(),n=(0,cg.useCallback)(t=>{let a=xK(t);e(a)},[e]),r=(0,cg.useCallback)(n=>{let r=a(n.id);if(-1===r)return;let l=[...t.current];l[r]=n,e(l)},[t,a,e]);return{updateColumns:n,updateColumnEntry:r}},_j=()=>{let e=(0,cg.useContext)(fC);if(!e)throw Error("useSetProject must be used within a SetProjectContext.Provider");return e},_C=()=>{let{setItems:e}=S$(),{findMemexItem:t}=SV(),a=TX(),n=(0,cg.useCallback)(n=>{let r=new Map,l=[];for(let e of n){let n=t(e.id);if(n){if(!n.skippingLiveUpdates&&n.id!==a){let t=_S(n,e);n=t?hy(t):n}}else n=hy(e);l.push(n),r.set(e.id,n)}e(l,r)},[t,e,a]);return{updateMemexItems:n}};function _S(e,t){let{content:a,contentType:n,id:r,memexProjectColumnValues:l,priority:i,updatedAt:s}=t,o=l??SZ(e),d=e.contentRepositoryId??-1;"contentRepositoryId"in t&&(d=t.contentRepositoryId);let u=e.content;switch(n){case mu.Issue:case mu.PullRequest:if(!SM(a))return null;return{contentType:n,content:{...u,...a},contentRepositoryId:d,memexProjectColumnValues:o,id:r,priority:i,updatedAt:s};case mu.DraftIssue:return{contentType:n,content:{...u,...a},memexProjectColumnValues:o,id:r,priority:i,updatedAt:s};case mu.RedactedItem:return{contentType:n,content:a,memexProjectColumnValues:o,id:r,priority:i,updatedAt:s};default:h2(n)}}let _I=()=>{let{setAllWorkflows:e}=yK(),{setProject:t}=_j(),{updateMemexItems:a}=_C(),{findLoadedFieldIds:n}=_v(),{updateColumns:r}=_k(),{updateViewServerStates:l}=v5(),{updateChartConfigurations:i}=_b(),{perform:s,status:o}=fx({request:(0,cg.useCallback)(e=>{SC();let t=SS(e);return t},[]),showErrorToast:!1}),d=(0,cg.useCallback)(async()=>{if(await s({visibleFields:[...n()]}),"succeeded"===o.current.status){let{memexProject:n,memexProjectItems:s,memexProjectAllColumns:d,memexViews:u,memexWorkflows:c,memexWorkflowConfigurations:m,memexCharts:p}=o.current.data;t(n),a(s),r(d),l(u),e(m,c),i(p)}},[n,s,o,e,t,i,r,a,l]);return d};async function _N(){let e=cQ("memex-migration-get-api-data"),{data:t}=await fd(e.url);return t}let _T={pending:0,in_progress_project_details:3,in_progress_status_fields:6,in_progress_default_view:10,in_progress_permissions:30,in_progress_items:40,in_progress_workflows:90,completed:100,completion_acknowledged:100,error:25};function __(e){return _T[e]||0}let _R=(0,cg.createContext)(null),_P=({children:e})=>{let t=cG("memex-project-migration"),[a,n]=(0,cg.useState)(t),[r,l]=(0,cg.useState)(t?.status),i=(0,cg.useMemo)(()=>({projectMigration:a,setProjectMigration:n,initialProjectMigrationStatus:r,setInitialProjectMigrationStatus:l}),[a,r]);return(0,cs.jsx)(_R.Provider,{value:i,children:e})};try{(aI=_R).displayName||(aI.displayName="ProjectMigrationContext")}catch{}try{(aN=_P).displayName||(aN.displayName="ProjectMigrationStateProvider")}catch{}let _D=()=>{let e=(0,cg.useContext)(_R);if(!e)throw Error("useProjectMigration must be used within a ProjectMigrationStateProvider");return e},_E={ERROR:"error",COMPLETED:"completed"},_L=()=>{let[e,t]=(0,cg.useState)(null),{projectMigration:a,setProjectMigration:n}=_D(),r=_I(),{items:l}=h_(),i=(0,cg.useRef)(!1),s=(0,cg.useCallback)((e,t=!0)=>(!i.current&&t&&(i.current=!0),e)?a?a.status===_E.ERROR?void 0:e.status===_E.ERROR?n(e):void(_T[a.status]<_T[e.status]&&n(e)):n(e):void 0,[a,n]),o=(0,cg.useCallback)(async()=>{if(a&&!i.current&&a.status!==_E.COMPLETED)try{let e=await _N();s(e,!1)}catch{}},[a,s]),d=(0,cg.useCallback)(()=>e?.status===_E.COMPLETED,[e?.status]),u=(0,cg.useCallback)(async()=>{if(!a)return;let n=a.source_project,i=a.status;i!==_E.COMPLETED?t(a):n?.empty||i!==_E.COMPLETED?n?.empty&&e&&t({...e,status:_E.COMPLETED}):(l.length||e?.status===_E.COMPLETED||await r(),t(a))},[r,l.length,e,a]);return(0,cg.useEffect)(()=>{u()}),{isMigrationComplete:d,processProjectMigrationState:s,processProjectMigrationOnPageVisibility:o,prevMigrationState:e,projectMigrationState:a}},_A=(0,cg.memo)(function(){let e=(0,cg.useRef)(null),t=_I(),a=p$(t),n=_y(),r=_c(n),{processProjectMigrationState:l,processProjectMigrationOnPageVisibility:i,isMigrationComplete:s}=_L(),[o]=_p(e,"message",e=>{if(_s(e.data)){l(e.data.project_migration),a(e.data.wait??0)();return}if(_n(e.data)){let{type:t}=e.data;_r(t)&&a(e.data.wait??0)()}});return(0,cg.useEffect)(()=>{n&&i(),n&&!r&&t()},[n,r,t,i,s]),(0,cg.useEffect)(()=>()=>{SC()},[]),(0,cs.jsx)("span",{...n?o:void 0,ref:e,hidden:!0,...(0,cK.f)("live-update-listener")})});try{(aT=_A).displayName||(aT.displayName="LiveUpdate")}catch{}let _M=e=>!!Array.isArray(e),_F=[],_Z=e=>{let[t,a]=(0,cg.useState)(_F),[n]=_p(e,"presence",e=>{_M(e.data)?a(e.data):a(_F)});return{presenceItems:t,attrs:n}},_O=()=>{let e=(0,cg.useContext)(fj);if(!e)throw Error("useProjectState must be used within a ProjectStateContext.Provider");return e};function _$(e){return{...e.reviewer,hovercardUrl:"User"===e.reviewer.type?`/hovercards?user_id=${e.reviewer.id}`:`${e.reviewer.url}/hovercard`}}function _V(e){return{...e,id:e.userId,hovercardUrl:`/hovercards?user_id=${e.userId}`}}let _B=cw.F4`
  from {
    opacity: 0
  }
  to {
    opacity: 1
  }`,_z=(0,cg.forwardRef)((e,t)=>{let{sx:a,...n}=e,r={display:"flex",alignItems:"center",position:"relative",justifyContent:"flex-end",zIndex:"0",animationName:_B.getName(),...a};return(0,cs.jsx)(cW.Z,{ref:t,sx:r,...n})});_z.displayName="MemexAvatarStackWrapper";let _U=(0,cg.forwardRef)((e,t)=>{let{sx:a,...n}=e,r={display:"flex",alignItems:"center",borderRadius:"100%",flexShrink:0,marginLeft:0,marginRight:e=>`-${e.space[1]}`,animation:"fadeIn 0.5s ease-in-out",...a};return(0,cs.jsx)(cW.Z,{ref:t,sx:r,...n})});_U.displayName="StyledAvatarBox";let _K=(0,cg.forwardRef)((e,t)=>{let{sx:a,...n}=e,r={display:"flex",alignItems:"center",transition:"opacity 0.5s ease-in-out",...a};return(0,cs.jsx)(bL.Z,{ref:t,sx:r,...n})});_K.displayName="StyledAvatar";let _W=(0,cg.forwardRef)((e,t)=>{let{sx:a,...n}=e,r={backgroundColor:"canvas.subtle",display:"flex",alignItems:"center",borderRadius:"20px",marginLeft:e=>`-${e.space[1]}`,animation:"fadeIn 0.5s ease-in-out",...a};return(0,cs.jsx)(cW.Z,{ref:t,sx:r,...n})});_W.displayName="StyledCounter";let _H=({items:e,backgroundSx:t,size:a=24,maxVisible:n=5})=>{let r=e.length,{backgroundColor:l,boxShadow:i}=t;return(0,cs.jsxs)(_z,{...(0,cK.f)("memex-avatar-stack"),children:[(0,cs.jsx)(cW.Z,{sx:{display:"flex",mr:1},children:e.slice(0,n).map((e,t)=>(0,cg.createElement)(_U,{...(0,cK.f)("memex-avatar-stack-item"),key:e.id,sx:{backgroundColor:l,boxShadow:i,zIndex:t}},(0,cs.jsx)(_K,{...(0,cK.f)(`memex-avatar-state-${e.isIdle?"idle":"active"}`),sx:{opacity:e.isIdle?.3:1},size:a,src:e.avatarUrl,"data-hovercard-url":e.hovercardUrl})))}),r>n?(0,cs.jsx)(cW.Z,{sx:{position:"relative",zIndex:n,display:"flex",alignItems:"center"},...(0,cK.f)("memex-avatar-stack-overflow"),children:(0,cs.jsx)(_W,{sx:{boxShadow:i},children:(0,cs.jsxs)(wC.Z,{sx:{padding:24===a?"6px 8px":"2px 4px"},children:["+",r-n]})})}):null]})};try{(a_=_H).displayName||(a_.displayName="MemexAvatarStack")}catch{}function _G(e,t){return e.replace(/u\/[0-9]+/,`u/${t}`)}let _q=(0,cg.createContext)(null),_Q=()=>{let e=(0,cg.useContext)(_q);if(null==e)throw Error("Cannot use usePresenceUsers outside of PresenceUsersProvider");return e},_X=[],_Y=(0,cg.memo)(function({children:e}){let t=(0,cg.useRef)(null),{presenceItems:a,attrs:n}=_Z(t),{isPublicProject:r}=_O(),l=(0,cg.useMemo)(()=>{if(r)return _X;let{projectCreator:e,projectOwner:t}=f1(),n=(e||t)?.avatarUrl||"";return a.filter(e=>!e.isOwnUser).map(e=>_V({...e,avatarUrl:_G(n,e.userId)}))},[a,r]);return(0,cs.jsxs)(_q.Provider,{value:l,children:[(0,cs.jsx)("span",{...(0,cK.f)("presence-avatars-listener"),...n,hidden:!0,ref:t}),e]})}),_J=()=>{let e=_Q();return 0===e.length?null:(0,cs.jsx)(cW.Z,{...(0,cK.f)("presence-avatars"),sx:{width:"100%"},children:(0,cs.jsx)(_H,{items:e,backgroundSx:{backgroundColor:"canvas.subtle",boxShadow:e=>`0 0 0 2px ${e.colors.canvas.subtle} !important`}})})};try{(aR=_q).displayName||(aR.displayName="PresenceContext")}catch{}try{(aP=_Y).displayName||(aP.displayName="PresenceUsersProvider")}catch{}try{(aD=_J).displayName||(aD.displayName="PresenceAvatars")}catch{}var _0=a(30059),_1=a(50517);async function _2(){let e=cQ("memex-migration-acknowledge-completion-api-data"),{data:t}=await fd(e.url,{method:"POST",token:e.token});return t}async function _5(){let e=cQ("memex-migration-cancel-api-data"),{data:t}=await fd(e.url,{method:"DELETE",token:e.token});return t}async function _3(){let e=cQ("memex-migration-retry-api-data"),{data:t}=await fd(e.url,{method:"POST",token:e.token});return{redirectUrl:t?.redirectUrl}}let _4=()=>{let e=(0,cg.useContext)(fw);if(!e)throw Error("useProjectDetails must be used within a ProjectDetailsContext.Provider");return e},_6=e=>"completion_acknowledged"===e.status||"completed"===e.status?"":p9.statuses[e.status],_8=({migration:e,closeOverlay:t})=>(0,cs.jsxs)(cW.Z,{children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{justifyContent:"space-around"},children:e.source_project?.closed?(0,cs.jsx)(mt.Z,{icon:me.nQG,sx:{color:"success.fg"}}):(0,cs.jsx)(mt.Z,{icon:me.enX,sx:{color:"attention.fg"}})}),(0,cs.jsx)(cW.Z,{sx:{ml:1},children:(0,cs.jsx)("span",{...(0,cK.f)("migration-status"),children:e.source_project?.closed?(0,cs.jsxs)(cs.Fragment,{children:["\u2022 ",(0,cs.jsx)(yH.Z,{target:"_blank",rel:"noreferrer",href:e.source_project?.path,children:p9.yourClassicProject}),` ${p9.completedAndClosed1}`,(0,cs.jsx)("br",{}),`\u{2022} ${p9.completedAndClosed2}`]}):(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(yH.Z,{target:"_blank",rel:"noreferrer",href:e.source_project?.path,children:p9.yourClassicProject}),` ${p9.completedAndStillOpen}`]})})})]}),(0,cs.jsx)(cW.Z,{sx:{mt:3,display:"flex"},children:(0,cs.jsx)(xh.z,{variant:"primary",onClick:t,children:"Done"})})]}),_7=({migration:e,cancelMigration:t,tryAgain:a})=>(0,cs.jsxs)(cW.Z,{children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{justifyContent:"space-around"},children:(0,cs.jsx)(mt.Z,{icon:me.b0D,sx:{color:"danger.fg"}})}),(0,cs.jsx)(cW.Z,{...(0,cK.f)("migration-status"),sx:{ml:1},children:_6(e)})]}),(0,cs.jsxs)(cW.Z,{sx:{mt:3,display:"flex",flexDirection:"row-reverse"},children:[(0,cs.jsx)(xh.z,{variant:"primary",onClick:a,sx:{ml:2},children:"Try again"}),(0,cs.jsx)(xh.z,{onClick:t,children:"Cancel"})]})]}),_9=({migration:e,closeOverlay:t,...a})=>"completed"===e.status?(0,cs.jsx)(_8,{migration:e,closeOverlay:t}):"error"===e.status?(0,cs.jsx)(_7,{migration:e,...a}):(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{justifyContent:"space-around",p:1},children:(0,cs.jsx)(yG.Z,{size:"small"})}),(0,cs.jsx)(cW.Z,{...(0,cK.f)("migration-status"),sx:{ml:1,mt:"3px"},children:_6(e)})]});try{(aE=_8).displayName||(aE.displayName="MigrationOverlayCompleted")}catch{}try{(aL=_7).displayName||(aL.displayName="MigrationOverlayError")}catch{}try{(aA=_9).displayName||(aA.displayName="MigrationOverlayDescription")}catch{}function Re(e){return"completed"===e.status||"error"===e.status}function Rt(e,t){return"completed"===e.status?p9.migrationCompleteMessage:"error"===e.status?p9.somethingWentWrongMessage:fn.migratingTitle(t)}let Ra=async()=>{let e=await _3();e.redirectUrl&&window.location.assign(e.redirectUrl)},Rn=async()=>{let e=await _5();e.redirectUrl&&window.location.assign(e.redirectUrl)},Rr=()=>{let{projectMigration:e,initialProjectMigrationStatus:t,setInitialProjectMigrationStatus:a}=_D(),{prevMigrationState:n,isMigrationComplete:r}=_L(),{title:l}=_4();if(!e||!n||"completion_acknowledged"===t)return null;let i=async()=>{a("completion_acknowledged"),_2()},s=r()?__(e.status):__(n.status??"pending"),o=Rt(n,l),d="error"===e.status?"danger.fg":"success.emphasis",u=n&&Re(n)?"200px":"125px";return(0,cs.jsx)(_0.Z,{open:!0,caret:"bottom",sx:{position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:(0,cs.jsxs)(_0.Z.Content,{sx:{paddingTop:"25px",width:"480px",height:u,top:"20%","&::before":{content:"none !important"},"&::after":{content:"none !important"}},...(0,cK.f)("migration-popover"),children:[(0,cs.jsx)(be.Z,{sx:{fontSize:3,mb:2},children:o}),(0,cs.jsx)(_1.Z,{bg:d,progress:s,sx:{marginBottom:"15px"}}),(0,cs.jsx)(_9,{migration:e,cancelMigration:Rn,tryAgain:Ra,closeOverlay:i})]})})};try{(aM=Rr).displayName||(aM.displayName="ProjectMigrationOverlayView")}catch{}var Rl=a(96721),Ri=a(75478),Rs=a(42667),Ro=a(57990);async function Rd(){let e=cQ("memex-custom-templates-api-data"),{data:t}=await fd(e.url);return t}let Ru=(0,Ro.r)({primaryKey:"org-templates",queryFn:()=>Rd()});async function Rc(e){let{memex_skip_json_parsing_if_invalid_response_and_content_found:t}=c5(),a=cQ("memex-template-api-data"),{data:n}=await fu(a.url,{method:"POST",body:e},t);return n}function Rm(){let{resolvedColorScheme:e}=(0,cc.Fg)(),t=e?.startsWith("dark");return t?"Dark":"Light"}function Rp(e,t){let a=Rm(),n=f1().mediaUrls,r=n?.[e]?.[`${t}${a}`];return r?encodeURI(r.toString()):""}var Rf=a(81895);let Rh=()=>{let{emojiSuggestions:e}=jb(),{calculateSuggestions:t,trigger:a}=(0,Rf.c)(e??[]),n=(0,cg.useMemo)(()=>[a],[a]),[r,l]=(0,cg.useState)(null),i=async({query:e})=>{l("loading"),l(await t(e))};return{triggers:n,suggestions:r,onShowSuggestions:i,onHideSuggestions:()=>l(null)}},Rg={table:"table",board:"board",roadmap:"roadmap",feature:"feature",backlog:"backlog",template:"template"},Ry={layout:"layout",functionality:"functionality",org_templates:"org_templates"};async function Rx(e){SC();let t=cQ("memex-update-api-data"),{memex_verified_fetch_for_memex_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5();if(a){let{data:a}=await fu(t.url,{method:"PUT",body:e},n);return a}{let{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}}let Rb=()=>{let e=_4(),{setProject:t}=_j(),a=(0,cg.useCallback)(async a=>{if(a=a.trim(),e.title===a||0===a.length)return;let n=await Rx({title:a});t(n.memexProject)},[e.title,t]);return{updateTitle:a}};async function Rv(e){let t=cQ("memex-view-create-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}async function Rw(e){let t=cQ("memex-view-delete-api-data"),{data:a}=await fd(t.url,{method:"DELETE",body:e,token:t.token});return a}async function Rk(e){let t=cQ("memex-view-update-api-data"),{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}let Rj=({setCurrentViewNumber:e,addView:t})=>{let a=(0,cg.useCallback)(async a=>{SC();let n=await Rv(a);return t(n.view),e(n.view.number),n.view},[t,e]),n=fx({request:a});return n},RC=()=>{let e=(0,cg.useCallback)(async e=>{SC();let t=await Rk(e);return t.view},[]),t=fx({request:e});return t},RS=({setCurrentViewNumber:e,updateView:t})=>{let a=(0,cg.useCallback)(async a=>{SC();let n=await Rk(a);return t(n.view),e(n.view.number),n.view},[t,e]),n=fx({request:a});return n},RI=({deleteView:e})=>{let t=(0,cg.useCallback)(async t=>{SC(),await Rw(t),e(t.viewNumber)},[e]),a=fx({request:t});return a},RN=()=>{let{viewStateDispatch:e,viewsMap:t}=v5(),a=RC(),{updateTitle:n}=Rb(),r=fx({request:async e=>{await Rc({template:e})},rollback:e=>{e&&e()},showErrorToast:!0}),l=(0,cg.useCallback)(({selectedTemplate:e,title:t,rollback:a})=>{r.perform(e,a),n(t)},[r,n]),i=(0,cg.useCallback)(async({title:e})=>{await n(e)},[n]),s=(0,cg.useCallback)(async({title:r})=>{let l=t[1];(0,ck.Z)(l,"view must exist");let i={...l.serverViewState,layout:vK.Board};await Promise.all([a.perform({viewNumber:l.number,view:S0(i,vH)}),n(r)]),"succeeded"===a.status.current.status&&e({type:v9.UpdateView,view:i})},[n,a,e,t]),o=(0,cg.useCallback)(async({title:r})=>{let l=t[1];(0,ck.Z)(l,"view must exist");let i={...l.serverViewState,layout:vK.Roadmap};await Promise.all([a.perform({viewNumber:l.number,view:S0(i,vH)}),n(r)]),"succeeded"===a.status.current.status&&e({type:v9.UpdateView,view:i})},[n,a,e,t]),d=[{key:Ry.layout,groupTitle:"Start from scratch",items:[{key:Rg.table,groupKey:Ry.layout,title:"Table",icon:me.$eq,action:i,template:void 0},{key:Rg.board,groupKey:Ry.layout,title:"Board",icon:me.Rg1,action:s,template:void 0},{key:Rg.roadmap,groupKey:Ry.layout,title:"Roadmap",icon:me.Bjy,action:o,template:void 0}]},{key:Ry.functionality,groupTitle:"Project templates",items:[{key:Rg.backlog,groupKey:Ry.functionality,title:"Team backlog",icon:me.t0Z,action:l,template:void 0},{key:Rg.feature,groupKey:Ry.functionality,title:"Feature",icon:me.oEX,action:l,template:void 0}]}];return d},RT=(0,cg.createContext)(null),R_=({children:e})=>{let[t,a]=(0,cg.useState)(!0),[n,r]=(0,cg.useState)(!1),{showTemplateDialog:l}=f1(),i=(0,cg.useMemo)(()=>({showTemplateDialog:l,isTemplatesDialogOpen:t,setIsTemplatesDialogOpen:a,isModalDismissed:n,setIsModalDismissed:r}),[n,l,t]);return(0,cs.jsx)(RT.Provider,{value:i,children:e})};try{(aF=RT).displayName||(aF.displayName="TemplateDialogContext")}catch{}try{(aZ=R_).displayName||(aZ.displayName="TemplateDialogStateProvider")}catch{}let RR=()=>{let e=(0,cg.useContext)(RT);if(!e)throw Error("useTemplateDialog must be used within a TemplateDialogStateProvider");return e};function RP(e){return"table"===e?{title:"New table",description:"Start with a powerful spreadsheet style table to filter, sort and group your issues and pull requests. Easily switch to a board or roadmap layout at any time."}:"board"===e?{title:"New board",description:"Start with a board to spread your issues and pull requests across customizable columns. Easily switch to a table or roadmap layout at any time."}:"roadmap"===e?{title:"Roadmap",description:"Start with a roadmap for a high-level visualization of your project over time. Easily switch to a table or board layout at any time."}:"backlog"===e?{title:"Team backlog",description:"Define and plan your team's backlog using a task board and custom fields for item priority and size."}:"feature"===e?{title:"Feature",description:"Plan and track an individual feature across one week iterations, while staying up-to-date on work in progress with linked pull requests. "}:{title:"",description:""}}let RD=({children:e})=>(0,cs.jsx)(RB,{children:e}),RE=({footerButtons:e})=>(0,cs.jsx)(Rz,{children:(0,cs.jsx)(k8.V.Buttons,{buttons:e??[]})});function RL(){let[e,t]=(0,cg.useState)(!1);return(0,cg.useEffect)(()=>{t(!0)},[]),e}let RA=()=>{let e,t;let{memex_org_templates:a}=xO(),{isOrganization:n}=f1(),{title:r}=_4(),[l,i]=(0,cg.useState)(r),s=RN(),{postStats:o}=v4(),{data:d=null}=Ru({enabled:n}),{isTemplatesDialogOpen:u,setIsTemplatesDialogOpen:c,showTemplateDialog:m,setIsModalDismissed:p}=RR(),[f,h]=(0,cg.useState)(s[0].items[0]),[g,y]=(0,cg.useState)(!1),{viewsMap:x}=v5(),b=(0,cg.useRef)(x[1]);(0,cg.useEffect)(()=>{let e;return g&&(e=setInterval(()=>{(Object.keys(x).length>1||x[1]?.name!==b.current?.name||x[1]?.localViewState.layout!==b.current?.localViewState.layout)&&(y(!1),c(!1))},500)),()=>clearInterval(e)},[g,x,b,c]);let v=async e=>{let t=s.find(e=>e.key===f.groupKey),a=t?.items.find(e=>e.key===f.key);if(a?.action({selectedTemplate:f.key,rollback:()=>c(!1),title:l}),f.key!==Rg.table){y(!0);let t=e.target;t.setAttribute("disabled","true")}else c(!1);p(!0),o({name:"templates_create",context:JSON.stringify({template:f.key})})},w=()=>{o({name:"templates_cancel"}),c(!1),p(!0)},k=e=>{h(e)},j=Rp("projectTemplateDialog",f.key),C=Rh(),[S,I]=(0,cg.useState)([0]),[N,T]=(0,cg.useState)({text:"",id:0}),[_,R]=(0,cg.useState)(!1),P=(0,cg.useMemo)(()=>d?.templates?d.templates.map(e=>({text:e.projectTitle,id:e.projectNumber})):[],[d?.templates]),D=e=>{if(!Array.isArray(e))return;let t=e.filter(function(e){if(e?.id)return!S.includes(e.id)}),a=t[0]?.id?t[0]?.id:0;if(a>0){R(!0);let e=s.find(e=>e.key===Ry.org_templates),t=e?.items.find(e=>e.key===a.toString());t&&k(t)}else R(!1);return I([a]),T(t[0]?t[0]:{text:"",id:0}),t},E=RL();if(!m)return null;let L=()=>{I([0]),T({text:"",id:0}),R(!1)};function A(e){return d?.templates.filter(function(t){if(t.projectNumber===e)return t})}function M({selectedItemId:e}){let t=A(e),{updateTitle:r}=Rb(),l=fx({request:async e=>{await Rc({template:e})},rollback:e=>{e&&e()},showErrorToast:!0}),i=(0,cg.useCallback)(function(e){l.perform(e.selectedTemplate,e.rollback),r(e.title)},[l,r]);if(!a||!n||!d)return null;let o=d.templates;t&&t.length>0&&(o=t);let u={key:Ry.org_templates,groupTitle:"Organization Templates",items:o.map(e=>({key:e.projectNumber.toString(),groupKey:Ry.org_templates,title:e.projectTitle,icon:me.$eq,template:e,action:i}))};return s.push(u),(0,cs.jsx)(kL.S,{children:(0,cs.jsxs)(RU,{title:u.groupTitle,sx:{maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},children:[E?(0,cs.jsx)(kL.S.Item,{children:(0,cs.jsxs)(br.Z,{children:[(0,cs.jsx)(br.Z.Label,{visuallyHidden:!0,id:"autocompleteTemplates",children:"Search templates"}),(0,cs.jsxs)(Rl.Z,{children:[(0,cs.jsx)(Rl.Z.Input,{placeholder:"Search Templates",value:N.text}),(0,cs.jsx)(Rl.Z.Overlay,{children:(0,cs.jsx)(Rl.Z.Menu,{items:P,selectedItemIds:S,"aria-labelledby":"autocompleteTemplates",onSelectedChange:D})})]})]})}):null,u.items.map(e=>{let t=f.template&&e.template&&f.template.projectNumber===e.template.projectNumber;return(0,cs.jsxs)(RK,{className:t?"selected":"",onSelect:()=>k(e),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.$eq,{})}),(0,cs.jsx)(Ri.Z,{inline:!0,title:e.template?.projectTitle||"",sx:{maxWidth:"120px"},children:e.template?.projectTitle})]},e.template?.projectNumber)}),_?(0,cs.jsxs)(kL.S.Item,{sx:{color:"accent.fg"},onSelect:L,children:[(0,cs.jsx)(kL.S.LeadingVisual,{sx:{color:"inherit"},children:(0,cs.jsx)(me.b0D,{})}),"Clear Search"]}):null]},u.groupTitle)})}return f.groupKey===Ry.org_templates?e=f.template?f.template.projectTitle:"?":(e=RP(f.key).title,t=RP(f.key).description),(0,cs.jsx)(cs.Fragment,{children:u&&(0,cs.jsx)(k8.V,{role:"alertdialog",onClose:w,title:"Select a template",renderBody:RD,renderFooter:RE,sx:{width:["100%","960px"]},footerButtons:[{content:(0,cs.jsx)("span",{...(0,cK.f)("template-dialog-button"),children:g?"Loading template...":"Create"}),onClick:v,buttonType:"primary"}],children:(0,cs.jsxs)(RO,{children:[(0,cs.jsxs)(R$,{children:[(0,cs.jsx)(kL.S,{children:s.map(e=>(0,cs.jsx)(RU,{title:e.groupTitle,children:e.items.map(e=>{let t=e.icon,a=f.key===e.key;return(0,cs.jsxs)(RK,{className:a?"selected":"",onSelect:()=>k(e),...(0,cK.f)(`template-dialog-action-item-${e.key}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(t,{})}),pl(e.title)]},e.key)})},e.groupTitle))}),(0,cs.jsx)(M,{selectedItemId:N.id})]}),(0,cs.jsxs)(RV,{children:[(0,cs.jsx)(be.Z,{sx:{mb:2},children:e}),(0,cs.jsxs)(br.Z,{sx:{width:"100%"},children:[(0,cs.jsx)(br.Z.Label,{children:"Project name"}),(0,cs.jsx)(Rs.Z,{...C,sx:{width:"100%"},children:(0,cs.jsx)(wE.Z,{sx:{width:"100%"},autoComplete:"off",placeholder:e,value:l,onChange:e=>i(e.target.value),id:"memexTitleInput"})})]}),f.groupKey!==Ry.org_templates&&j&&(0,cs.jsx)("img",{...(0,cK.f)("template-dialog-image"),src:j,alt:t,width:"100%"}),f.groupKey===Ry.org_templates&&f.template&&(0,cs.jsxs)(cs.Fragment,{children:[f.template.projectViews.length>0&&(0,cs.jsxs)(RM,{children:[(0,cs.jsxs)(mn.Z,{as:"h4",sx:{width:"100%"},children:["Views",(0,cs.jsx)(wC.Z,{sx:{marginLeft:"5px",verticalAlign:"text-top"},children:f.template.projectViews.length})]}),(0,cs.jsx)(RF,{children:f.template.projectViews.map(e=>(0,cs.jsx)(RZ,{children:e.name},e.name))})]}),f.template.projectFields.length>0&&(0,cs.jsxs)(RM,{children:[(0,cs.jsxs)(mn.Z,{as:"h4",sx:{width:"100%"},children:["Fields",(0,cs.jsx)(wC.Z,{sx:{marginLeft:"5px",verticalAlign:"text-top"},children:f.template.projectFields.length})]}),(0,cs.jsx)(RF,{children:f.template.projectFields.map(e=>(0,cs.jsx)(RZ,{children:e.name},e.name))})]})]}),t&&(0,cs.jsx)(mn.Z,{as:"p",sx:{mt:2},children:t})]})]})})})},RM=(0,cw.ZP)(cW.Z)`
  background: ${(0,ch.U2)("colors.canvas.inset")};
  padding: 8px 16px 16px;
  border-radius: 4px;
`,RF=cw.ZP.ul`
  display: flex;
  flex-wrap: wrap;
  padding-left: 0;
  list-style: none;
  margin-left: -${(0,ch.U2)("space.2")};
  clip-path: inset(0 0 0 1px);
`,RZ=cw.ZP.li`
  padding: 0 ${(0,ch.U2)("space.2")};
  border-left: 1px ${(0,ch.U2)("colors.border.default")} solid;
`,RO=(0,cw.ZP)(cW.Z)`
  display: flex;
  flex-direction: row;
`,R$=(0,cw.ZP)(cW.Z)`
  min-width: 160px;
  white-space: nowrap;
  width: 30%;
  box-shadow: 1px 0 0 ${(0,ch.U2)("colors.border.default")};
`,RV=(0,cw.ZP)(cW.Z)`
  display: flex;
  flex-direction: column;
  gap: ${(0,ch.U2)("space.1")};
  width: 70%;
  min-height: 360px;
  padding-left: ${(0,ch.U2)("space.4")};
  padding-right: ${(0,ch.U2)("space.4")};
  padding-bottom: ${(0,ch.U2)("space.2")};
  padding-top: ${(0,ch.U2)("space.2")};
`,RB=(0,cw.ZP)(cW.Z)`
  flex-direction: row;
  overflow: auto;
`,Rz=(0,cw.ZP)(cW.Z)`
  display: flex;
  justify-content: flex-end;
  padding: ${(0,ch.U2)("space.3")};
  padding-right: ${(0,ch.U2)("space.4")};
  box-shadow: 0 -1px 0 ${(0,ch.U2)("colors.border.default")};

  button > * {
    pointer-events: none;
  }
`,RU=(0,cw.ZP)(kL.S.Group)`
  &:not(:last-child) {
    margin-bottom: ${(0,ch.U2)("space.3")};
  }
`,RK=(0,cw.ZP)(kL.S.Item)`
  position: relative;
  margin-bottom: ${(0,ch.U2)("space.2")};
  margin-left: 12px;

  &.selected {
    background-color: ${(0,ch.U2)("colors.neutral.muted")};
  }

  &.selected:after {
    content: '';
    position: absolute;
    top: calc(50% - 12px);
    left: -${(0,ch.U2)("space.2")};
    width: ${(0,ch.U2)("space.1")};
    height: 24px;
    background-color: ${(0,ch.U2)("colors.accent.emphasis")};
    border-radius: 6px;
  }
`;try{(aO=RD).displayName||(aO.displayName="TemplateDialogBody")}catch{}try{(a$=RE).displayName||(a$.displayName="TemplateDialogFooter")}catch{}try{(aV=RA).displayName||(aV.displayName="TemplateDialog")}catch{}try{(aB=OrgTemplates).displayName||(aB.displayName="OrgTemplates")}catch{}try{(az=RM).displayName||(az.displayName="TemplateInfoBox")}catch{}try{(aU=RO).displayName||(aU.displayName="ContentContainer")}catch{}try{(aK=R$).displayName||(aK.displayName="SelectionPanelParent")}catch{}try{(aW=RV).displayName||(aW.displayName="InfoPanelParent")}catch{}try{(aH=RB).displayName||(aH.displayName="StyledTemplateDialogBody")}catch{}try{(aG=Rz).displayName||(aG.displayName="StyledTemplateDialogFooter")}catch{}try{(aq=RU).displayName||(aq.displayName="StyledActionListGroup")}catch{}try{(aQ=RK).displayName||(aQ.displayName="StyledActionItem")}catch{}function RW(){let{isDotcomRuntime:e}=f1(),{isPublicProject:t}=_O(),{isOrganization:a,projectLimits:n}=f1(),{memex_insights:r,memex_insights_public:l,memex_insights_chart_view:i,memex_charts_basic_public:s,memex_charts_basic_private:o,memex_charts_basic_allow:d,memex_insights_limited_private:u,memex_insights_limited_public:c,memex_insights_basic_private:m,memex_insights_basic_public:p}=xO(),{hasWritePermissions:f}=xQ(),h=r&&a&&(l||!t)&&e,g=h||d||t?s:o,y=g?Number.MAX_VALUE:n.limitedChartsLimit,x=t?c:u,b=t?p:m;return{isInsightsEnabled:h,isInsightsChartViewEnabled:f&&(h||i)&&e,hasUnlimitedSavedCharts:g,savedChartsLimit:y,isInsightsPreview:x||h&&!x&&!b,isInsightsEligible:b}}let RH=()=>{let{memex_find_in_project:e}=xO(),{findValue:t,setFindValue:a,hideInput:n,visible:r,inputRef:l}=k3();return e&&r?(0,cs.jsx)(cW.Z,{sx:{backgroundColor:"canvas.default",boxShadow:wD("shadows.overlay.shadow"),borderRadius:2,position:"absolute",zIndex:2,top:"100%",right:[3,4,5]},children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",p:2},onKeyDown:e=>{"Escape"===e.key&&n()},children:[(0,cs.jsx)(wE.Z,{leadingVisual:me.W1M,ref:l,type:"text",value:t,onChange:e=>{a(e.target.value)},size:"small",...(0,cK.f)("find-in-project-input")}),(0,cs.jsx)(ww.h,{variant:"invisible","aria-label":"Clear search",sx:{px:3},onClick:n,icon:me.b0D})]})}):null};try{(aX=RH).displayName||(aX.displayName="FindInProjectInput")}catch{}let RG=(0,cg.memo)(function(){let{description:e,shortDescription:t}=_4(),{projectNumber:a}=fN(),{feedbackLink:n,copyProjectPartialUrl:r}=f1(),{isInsightsChartViewEnabled:l}=RW(),{memex_automation_enabled:i}=xO(),[s,o]=(0,cg.useState)(!1),{openPaneInfo:d}=TY(),{postStats:u}=v4(),{hasWritePermissions:c,isReadonly:m,isLoggedIn:p}=xQ(),f=(0,cg.useCallback)(()=>{o(e=>!e)},[]),h=(0,cg.useCallback)(()=>{f(),u({name:"feedback_open",ui:vF})},[u,f]),g=(0,cg.useCallback)(()=>{f(),u({name:"docs_open",ui:vF})},[u,f]),y=(0,cg.useCallback)(()=>{f(),u({name:"changelog_open",ui:vF})},[u,f]),x=(0,cg.useCallback)(()=>{u({name:"insights_view_open"})},[u]),b=(0,cg.useCallback)(()=>{f(),u({name:"workflows_open"})},[u,f]),v=(0,cg.useMemo)(()=>{let e=[];return c&&e.push(i&&(0,cs.jsx)(Rq,{to:hn.generatePath(),icon:me.DWj,text:"Workflows",onClick:b,testId:"automation-settings-button"},"workflows"),(0,cs.jsx)(Rq,{to:hu.generatePath(),icon:me.rKT,text:"Archived items",onClick:f,testId:"archive-navigation-button"},"archive"),(0,cs.jsx)(Rq,{to:hl.generatePath(),icon:me.UG6,text:"Settings",onClick:f,testId:"project-settings-button"},"settings")),p&&e.push((0,cs.jsxs)(xh.z,{role:"menuitem",variant:"invisible",id:`dialog-show-project-copy-dialog-${a}`,"data-show-dialog-id":`project-copy-dialog-${a}`,sx:{color:"fg.default",ml:2,px:2,width:"92%",fontWeight:"normal",textAlign:"left",'&& [data-component="buttonContent"]':{flex:0}},block:!0,leadingIcon:me.TIy,children:[(0,cs.jsx)(mn.Z,{children:"Make a copy"}),(0,cs.jsx)("include-fragment",{src:encodeURI(r)},"copyProject")]},"copyProjectButtonModal")),e.length&&e.push((0,cs.jsx)(kA.P.Divider,{},"divider-write-permissions")),e.push((0,cs.jsxs)(kL.S.Group,{title:"GitHub projects",variant:"subtle",children:[(0,cs.jsx)(Rq,{href:"https://github.blog/changelog/label/issues/",icon:me.WCv,text:"What\u2019s new",onClick:y,testId:"whats-new-link"},"new"),(0,cs.jsx)(Rq,{href:n,icon:me.qtd,text:"Give feedback",onClick:h,testId:"feedback-link"},"feedback"),(0,cs.jsx)(Rq,{href:"https://docs.github.com/en/issues/trying-out-the-new-projects-experience",icon:me.vJ3,text:"GitHub Docs",onClick:g,testId:"docs-link"},"docs")]},"title-github-projects")),e},[c,p,y,n,h,g,i,b,f,a,r]),{getChartLinkTo:w}=_b(),k=(0,cg.useMemo)(()=>{let a=[];return l&&a.push((0,cs.jsx)(xh.z,{to:w(0).url,onClick:x,sx:{p:0},...(0,cK.f)("project-insights-button"),as:f3,children:(0,cs.jsx)(w_.Z,{"aria-label":"Insights",sx:{height:"32px",px:2,display:"flex",justifyContent:"center",alignItems:"center"},direction:"s",children:(0,cs.jsx)(mt.Z,{icon:me.RIw})})},"project-insights-button")),(m&&(e||t)||c)&&a.push((0,cs.jsx)(xh.z,{onClick:()=>{u({name:"description_show",ui:vM}),d()},sx:{p:0},...(0,cK.f)("project-memex-info-button"),children:(0,cs.jsx)(w_.Z,{"aria-label":"Project details",sx:{height:"32px",px:2,display:"flex",justifyContent:"center",alignItems:"center"},direction:"sw",children:(0,cs.jsx)(mt.Z,{icon:me.cN4})})},"project-description-button")),a.push((0,cs.jsxs)(kA.P,{open:s,onOpenChange:o,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(xh.z,{...(0,cK.f)("project-menu-button"),sx:{p:0},children:(0,cs.jsx)(w_.Z,{"aria-label":"More options",sx:{height:"32px",px:2,display:"flex",justifyContent:"center",alignItems:"center",...s?{"&:hover, &:active, &:focus":{"&::after, &::before":{display:"none"}}}:{}},direction:"sw",children:(0,cs.jsx)(mt.Z,{icon:me.Ui8})})})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsx)(kL.S,{children:v})})]},"project-menu")),a},[c,l,m,e,t,s,v,w,x,u,d]);return(0,cs.jsx)(j0.Z,{children:k})}),Rq=({text:e,icon:t,testId:a,onClick:n,to:r,href:l})=>{let i=(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(mt.Z,{icon:t,sx:{color:"fg.default",mr:2}}),(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:e})]});return r?(0,cs.jsx)(kL.S.LinkItem,{role:"menuitem",as:f3,to:r,onClick:n,...(0,cK.f)(a),children:i}):(0,cs.jsx)(kL.S.LinkItem,{role:"menuitem",href:l,target:"_blank",onClick:n,...(0,cK.f)(a),children:i})},RQ=({children:e,isProjectPath:t=!1})=>(0,cs.jsxs)(cW.Z,{role:"navigation","aria-label":"Project navigation",sx:{display:"flex",flexShrink:0,pb:3,mt:0,px:[3,4,5],pt:3,bg:"canvas.inset",alignItems:"flex-start",position:"relative",justifyContent:"space-between",borderBottom:t?"none":"1px solid",borderColor:"border.subtle"},children:[e,(0,cs.jsxs)(cW.Z,{sx:{justifyItems:"center",display:"flex",alignItems:"center",gap:2},children:[(0,cs.jsx)(_J,{}),(0,cs.jsx)(RG,{})]}),(0,cs.jsx)(RH,{})]});try{(aY=RG).displayName||(aY.displayName="ProjectNavigationButtons")}catch{}try{(aJ=Rq).displayName||(aJ.displayName="CustomLink")}catch{}try{(a0=Content).displayName||(a0.displayName="Content")}catch{}try{(a1=RQ).displayName||(a1.displayName="TopBar")}catch{}let RX="settings-project-name",RY=()=>{let{hasWritePermissions:e}=xQ(),{titleHtml:t}=_4(),{isPublicProject:a,isClosed:n}=_O(),r=f5(),l=()=>{r(hl.generatePath()),setTimeout(()=>document.getElementById(RX)?.focus())};return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",minWidth:0,gap:1,pr:2,'&:not(:focus-within):not(:hover) > [aria-label="Edit project name"]':{clipPath:"circle(0)"},cursor:e?"pointer":"default"},onClick:e?l:void 0,children:[n?(0,cs.jsx)(RJ,{}):null,(0,cs.jsx)(mt.Z,{icon:a?me.n9J:me.mBM,sx:{color:"fg.muted"}}),(0,cs.jsx)(y9,{as:"h1",sx:{fontSize:3,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t}),e&&(0,cs.jsx)(ww.h,{icon:me.vdY,variant:"invisible",size:"small",onClick:l,"aria-label":"Edit project name",sx:{color:"fg.default"}})]})},RJ=()=>(0,cs.jsx)(CQ.Z,{variant:"done",...(0,cK.f)("closed-project-label"),sx:{color:"fg.onEmphasis",backgroundColor:"done.emphasis"},children:"Closed"});try{(a2=RY).displayName||(a2.displayName="MemexTitle")}catch{}try{(a5=RJ).displayName||(a5.displayName="ClosedLabel")}catch{}let R0=({title:e})=>{let{returnToViewLinkTo:t}=v5();return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"center"},children:[(0,cs.jsx)(f3,{to:t,"aria-label":"Return to project view",children:(0,cs.jsx)(mt.Z,{icon:me.Y4O,sx:{color:"fg.muted",verticalAlign:"middle",mr:2},size:24})}),(0,cs.jsx)(be.Z,{as:"h1",sx:{fontSize:3,color:"fg.default"},children:e})]})};try{(a3=R0).displayName||(a3.displayName="RouteTitle")}catch{}let R1=(0,cg.memo)(function(){let{postStats:e}=v4(),t=(0,cx.TH)(),a=(0,cg.useRef)(null),n=t.pathname;return(0,cg.useEffect)(()=>{let t=a.current;if(n!==t){let a=hm(n),r={currentPath:n,previousPath:t,currentBestMatchRoute:a?a.path:"<unknown_route>"};e({name:"path_change",context:JSON.stringify(r)})}a.current=n},[n,e]),null});try{(a4=R1).displayName||(a4.displayName="TrackPathChanges")}catch{}let R2=(0,cg.createContext)(null),R5=()=>{let e=(0,cg.useContext)(R2);if(!e)throw Error("useAggregationSettings must be used within a AggregationSettingsContext");return e},R3=(0,cg.memo)(function({children:e}){let{currentView:t,viewStateDispatch:a}=v5(),{allColumns:n}=bD(),r=(0,cg.useCallback)((e,t,n)=>{a({type:v9.AddFieldAggregation,viewNumber:e,fieldOperation:t,column:n})},[a]),l=(0,cg.useCallback)((e,t,n)=>{a({type:v9.RemoveFieldAggregation,viewNumber:e,fieldOperation:t,column:n})},[a]),i=(0,cg.useCallback)(e=>{a({type:v9.ToggleItemsCount,viewNumber:e})},[a]),s=(0,cg.useCallback)(e=>{let a=[],r=n.filter(e=>e.dataType===c7.Number).map(e=>e.id),l={};for(let n of t?.localViewStateDeserialized.aggregationSettings.sum??[]){let t={name:n.name,sum:0};for(let a of e){let e=a.columns,i=e[n.id],s=r.indexOf(n.id);l[n.name]=s,t.sum+=i?.value??0}a.push(t)}return a.sort((e,t)=>(l[e.name]??0)-(l[t.name]??0))},[t?.localViewStateDeserialized.aggregationSettings.sum,n]);return(0,cs.jsx)(R2.Provider,{value:(0,cg.useMemo)(()=>({hideItemsCount:!!t?.localViewStateDeserialized.aggregationSettings.hideItemsCount,sum:t?.localViewStateDeserialized.aggregationSettings.sum??[],toggleItemsCount:i,addFieldAggregation:r,removeFieldAggregation:l,isAggregationSettingsDirty:t?.isAggregationSettingsDirty??!1,getAggregatesForItems:s}),[t?.localViewStateDeserialized.aggregationSettings.hideItemsCount,t?.localViewStateDeserialized.aggregationSettings.sum,t?.isAggregationSettingsDirty,i,r,l,s]),children:e})});try{(a6=R3).displayName||(a6.displayName="AggregationSettingsProvider")}catch{}let R4=(0,cg.createContext)(null),R6=()=>{let e=(0,cg.useContext)(R4);if(!e)throw Error("useHorizontalGroupedBy must be used within a HorizontalGroupedByContext");return e},R8=[],R7=(0,cg.memo)(function({children:e}){let{currentView:t,viewStateDispatch:a}=v5(),[n,r]=(0,cg.useState)({}),l=t?.number??-1,i=(0,cg.useCallback)((e,t)=>{a({type:v9.SetHorizontalGroupedBy,viewNumber:e,column:t}),r(e=>({...e,[l]:[]}))},[a,r,l]),s=(0,cg.useCallback)(e=>{a({type:v9.ClearHorizontalGroupedBy,viewNumber:e})},[a]),o=(0,cg.useCallback)(e=>{r(t=>{let a=t[l]??[],n=a.includes(e);return n?{...t,[l]:a.filter(t=>t!==e)}:{...t,[l]:[...a,e]}})},[l]);return(0,cs.jsx)(R4.Provider,{value:(0,cg.useMemo)(()=>({groupedByColumnId:t?.localViewStateDeserialized.horizontalGroupByColumns[0]?.id,groupedByColumn:t?.localViewStateDeserialized.horizontalGroupByColumns[0],setGroupedBy:i,clearGroupedBy:s,isGroupedByDirty:t?.isHorizontalGroupedByDirty??!1,collapsedGroups:n[l]??R8,toggleGroupCollapsed:o}),[s,t?.isHorizontalGroupedByDirty,t?.localViewStateDeserialized.horizontalGroupByColumns,i,n,o,l]),children:e})});try{(a8=R7).displayName||(a8.displayName="HorizontalGroupedByProvider")}catch{}function R9(e){return e===vQ.Roadmap||e===vQ.Table}function Pe(e){return e===vK.Roadmap||e===vK.Table}function Pt(e,t){let a=vJ(e);if(!R9(a))throw Error("Column widths can only be applied to table or roadmap views");return t[a]?.columnWidths??{}}function Pa(e,t,a){let n=vJ(t);if(!R9(n))throw Error("Column widths can only be applied to table or roadmap views");return{...e,layoutSettings:{...e.layoutSettings,[n]:{...e.layoutSettings[n],columnWidths:{...a}}}}}function Pn(e){return e!==vG&&(e.dataType===c7.Date||e.dataType===c7.Iteration)}function Pr(e){return"none"!==e&&"number"==typeof e}function Pl(e){return!!(e&&e.dateFields&&e.dateFields.length>0)}let Pi=vq.Month;function Ps(e){return e?.roadmap?.zoomLevel??Pi}function Po(e){return[e[0]||vG,e[1]||vG]}function Pd(e){return e.map(t=>{let{startDate:a,endDate:n}=gd({startDate:t.startDate,duration:t.duration});return`${t.title}: ${pG(a,n,e.length>1?"MMM d":"EEE, MMM d")}`}).join(", ")}function Pu(){let{allColumnsRef:e}=xH(),t=e.current.find(e=>e.dataType===c7.Title),a=(0,cg.useCallback)(()=>{let[t,a]=e.current.reduce((e,t)=>(t.dataType===c7.Date?gZ(e[0]).push(t.databaseId):t.dataType===c7.Iteration&&gZ(e[1]).push(t.databaseId),e),[[],[]]);return t?.length?Po(t):a?.length?[a[0]??vG,a[0]??vG]:Po([])},[e]),n=(0,cg.useCallback)((e,n)=>{let r=t&&Pt(vK.Roadmap,e)[t.databaseId],l=t?{[t.databaseId]:r??350}:{},i={...e.roadmap?.columnWidths??{},...l};return n?{columnWidths:i}:e.roadmap?.dateFields||e.roadmap?.zoomLevel?{...e.roadmap,columnWidths:i}:{dateFields:a(),zoomLevel:Ps(e),columnWidths:i}},[a,t]);return(0,cg.useMemo)(()=>({getRoadmapSettingsOrDefaults:n}),[n])}let Pc=(0,cg.createContext)(null),Pm=(0,cg.createContext)(null),Pp=()=>{let e=(0,cg.useContext)(Pc);if(!e)throw Error("useRoadmapSettings must be used within a RoadmapSettingsContext");return e},Pf=()=>{let e=(0,cg.useContext)(Pm);if(!e)throw Error("useRoadmapSessionSettings must be used within a RoadmapSessionSettingsContext");return e},Ph=(0,cg.createContext)(null),Pg=()=>{let e=(0,cg.useContext)(Ph);return(0,ck.Z)(null!=e,"useRoadmapTableWidth must be used within a RoadmapTableWidthContext"),e},Py=(0,cg.createContext)(null),Px=()=>{let e=(0,cg.useContext)(Py);return(0,ck.Z)(null!=e,"useRoadmapTotalFixedColumnWidth must be used within a RoadmapTotalFixedColumnWidthContext"),e},Pb=(0,cg.createContext)(null),Pv=()=>{let e=(0,cg.useContext)(Pb);return(0,ck.Z)(null!=e,"useRoadmapZoomLevel must be used within a RoadmapZoomLevelContext"),e},Pw=(0,cg.createContext)(null),Pk=()=>{let e=(0,cg.useContext)(Pw);return(0,ck.Z)(null!=e,"useRoadmapSetZoomLevel must be used within a RoadmapSetZoomLevelContext"),e};function Pj(){let e=(0,cg.useCallback)(e=>({columnWidths:e.table?.columnWidths??{}}),[]);return(0,cg.useMemo)(()=>({getTableSettingsOrDefaults:e}),[e])}function PC(){let{getRoadmapSettingsOrDefaults:e}=Pu(),{getTableSettingsOrDefaults:t}=Pj(),a=(0,cg.useCallback)((a,n=!1)=>({...a,roadmap:e(a,n),table:t(a)}),[e,t]),n=(0,cg.useCallback)((e,t)=>{let n=t.localViewState.layout;if(n===e||n!==vK.Roadmap&&e!==vK.Roadmap)return;let r=n===vK.Roadmap&&!Pl(t.serverViewState.layoutSettings.roadmap)&&Pl(t.localViewState.layoutSettings.roadmap);return a(t.localViewState.layoutSettings,r)},[a]);return(0,cg.useMemo)(()=>({getNextLayoutSettings:n,getLayoutSettingsWithDefaults:a}),[n,a])}let PS=()=>{let{findColumn:e}=_w(),{currentView:t,viewStateDispatch:a}=v5(),{getLayoutSettingsWithDefaults:n}=PC(),r=RC(),l=(0,cg.useCallback)(a=>{let r=e(a);if(r){let e=t?.localViewState&&n(t?.localViewState.layoutSettings);if(e){let a=Pt(t.localViewState.layout,e),n=a?.[r.databaseId.toString()];if(n)return n}}return r?.settings.width??void 0},[e,n,t]),i=(0,cg.useCallback)(async(n,i)=>{let s=e(n);if(!s||l(n)===i)return;let o=t?.number;if(!o)return;let d=vJ(t.localViewState.layout);if(!R9(d))return;let{layout:u}=t.localViewState,c=Pt(u,t.localViewState.layoutSettings),m={...c,[s.databaseId.toString()]:i},p=Pa(t.serverViewState,u,m);a({type:v9.SetColumnWidths,viewType:d,viewNumber:o,columnWidths:m}),SC(),await r.perform({viewNumber:t.number,view:S0(p,vH)}),"failed"===r.status.current.status&&a({type:v9.SetColumnWidths,viewType:d,viewNumber:o,columnWidths:c})},[l,e,t,r,a]);return{updateWidth:i,getWidth:l}};var PI=a(44544);let PN=(0,PI.Z)("localStorage"),PT=(0,cg.createContext)(null),P_={roadmapTruncateTitles:"Truncate titles",roadmapShowDateFields:"Show Date Fields"};function PR(e,t,a){let n=PN.getItem(`projects.${e}`),[r,l]=(0,cg.useReducer)(PP,t,()=>void 0!==a?a:n?"true"===n:t),{postStats:i}=v4(),s=(0,cg.useCallback)(()=>{l({type:"toggle",name:e}),i({name:"user_settings_edit",context:JSON.stringify({name:e,enabled:!r})})},[r,e,i]),o=P_[e],d=(0,cg.useMemo)(()=>({name:e,enabled:r,toggleEnabled:s,label:o}),[e,r,s,o]),{memex_user_settings:u}=xO();return u?d:{name:e,enabled:t,toggleEnabled:j1.Z,label:o}}function PP(e,t){if("toggle"===t.type)return PN.setItem(`projects.${t.name}`,String(!e)),!e;throw Error(`Unknown action type: ${t.type}`)}function PD({children:e}){let t=PR("roadmapTruncateTitles",!1),a=PR("roadmapShowDateFields",!1);return(0,cs.jsx)(PT.Provider,{value:(0,cg.useMemo)(()=>({roadmapTruncateTitles:t,roadmapShowDateFields:a}),[a,t]),children:e})}let PE=()=>{let e=(0,cg.useContext)(PT);return(0,ck.Z)(null!==e,"useUserSettings must be used within a UserSettingsProvider"),e};try{(a7=PT).displayName||(a7.displayName="UserSettingsContext")}catch{}try{(a9=PD).displayName||(a9.displayName="UserSettingsProvider")}catch{}let PL=[],PA=(0,cg.memo)(function({children:e}){let{currentView:t,viewStateDispatch:a}=v5(),{allColumns:n}=bD(),r=(0,cg.useCallback)((e,t)=>{a({type:v9.SetRoadmapDateFields,viewNumber:e,dateFields:t})},[a]),l=(0,cg.useCallback)((e,t)=>{a({type:v9.ToggleRoadmapMarkerFields,viewNumber:e,field:t})},[a]),i=(0,cg.useMemo)(()=>t?.localViewState?.layout===vK.Roadmap&&t.localViewStateDeserialized.layoutSettings?.roadmap?.dateFields?.length?Po(t.localViewStateDeserialized.layoutSettings.roadmap.dateFields):Po([]),[t]),s=(0,cg.useMemo)(()=>i.length>0&&void 0===t?.serverViewState.layoutSettings.roadmap,[t?.serverViewState.layoutSettings.roadmap,i.length]),[o,d]=(0,cg.useState)({}),u=(0,cg.useMemo)(()=>o[t?.id??0]??!1,[t?.id,o]),c=(0,cg.useCallback)(()=>{t?.id&&!u&&d({...o,[t.id]:!0})},[t?.id,u,o]),m=(0,cg.useMemo)(()=>t?.localViewState?.layout!==vK.Roadmap?new Map:n.reduce((e,t)=>{if(t.dataType===c7.Iteration){let a=gp(t),n=a.reduce((e,t)=>{let{id:a,startDate:n,duration:r}=t,l=gu({startDate:n,duration:r}),i={...t,start:l.startDate,end:l.endDate};return e.set(a,i),e},new Map);e.set(t.id,n)}return e},new Map),[n,t]),p=(0,cg.useCallback)((e,t)=>{let a=i[t];if(!a||"none"===a)return{date:void 0,iteration:void 0};let n=e[a.id];if(!n)return{date:void 0,iteration:void 0};if(a.dataType===c7.Date)return{date:mY(n)?.value,iteration:void 0};if(a.dataType===c7.Iteration&&"id"in n){let e=m.get(a.id);if(e){let a=e.get(n.id);if(a){let e=0===t?a.start:a.end;return{date:e,iteration:a}}}}return{date:void 0,iteration:void 0}},[i,m]),f=(0,cg.useCallback)(e=>{if(!i.length)return{start:void 0,end:void 0};let t=p(e,0),a=p(e,1);return{start:t.date,startIteration:t.iteration,end:a.date,endIteration:a.iteration}},[p,i]),h=(0,cg.useMemo)(()=>Ps(t?.localViewState?.layoutSettings),[t]),g=(0,cg.useCallback)((e,t)=>{a({type:v9.SetRoadmapZoomLevel,viewNumber:e,zoomLevel:t})},[a]),{getWidth:y,updateWidth:x}=PS(),{hasWritePermissions:b}=xQ(),v=t&&Pe(t.localViewState.layout),w=n.find(e=>e.dataType===c7.Title)?.id,[k,j]=(0,cg.useState)(new Map),C=(0,cg.useCallback)(e=>{t&&b&&j(a=>new Map(a).set(t.number,e))},[t,b]),{roadmapShowDateFields:S}=PE(),{memex_roadmap_date_fields:I,memex_user_settings:N}=xO(),T=I&&N&&S.enabled,_=i[0]!==vG,R=i[1]!==vG,P=T&&(_||R)?_&&R&&i[0]!==i[1]?2:1:0,D=(t?.number&&k.get(t.number))??(w&&v?y(w):void 0)??650,E=120*P+50,L=(0,cg.useCallback)(e=>{if(!w)throw Error("Title column not found");if(b)return C(null),x(w,e)},[b,w,C,x]),A=t?.localViewStateDeserialized?.layoutSettings.roadmap?.markerFields??PL;return(0,cs.jsx)(Pw.Provider,{value:g,children:(0,cs.jsx)(Pb.Provider,{value:h,children:(0,cs.jsx)(Ph.Provider,{value:D+E,children:(0,cs.jsx)(Py.Provider,{value:E,children:(0,cs.jsx)(Pc.Provider,{value:(0,cg.useMemo)(()=>({dateFields:i,markerFields:A,areDateFieldsDefault:s,setDateFields:r,toggleMarkerField:l,isRoadmapMarkerFieldsDirty:t?.isRoadmapMarkerFieldsDirty??!1,isRoadmapDateFieldsDirty:t?.isRoadmapDateFieldsDirty??!1,isRoadmapZoomLevelDirty:t?.isRoadmapZoomLevelDirty??!1,getTimeSpanFromColumnData:f,titleColumnWidth:D,updateTitleColumnWidth:L,updateLocalTitleColumnWidth:C,showDateFields:T}),[i,A,s,r,l,t?.isRoadmapMarkerFieldsDirty,t?.isRoadmapDateFieldsDirty,t?.isRoadmapZoomLevelDirty,f,D,L,C,T]),children:(0,cs.jsx)(Pm.Provider,{value:(0,cg.useMemo)(()=>({isDateFieldsPopoverDisabled:u,disableDateFieldsPopover:c}),[u,c]),children:e})})})})})})});try{(ne=PA).displayName||(ne.displayName="RoadmapSettingsProvider")}catch{}var PM=a(69211);let PF=(0,cg.memo)(({children:e,initialFocusRef:t,returnFocusRef:a,open:n,onClose:r,onKeyDown:l,topOffset:i,width:s,"aria-label":o,"aria-labelledby":d,suppressCloseButton:u=!1})=>{let c=(0,cg.useMemo)(()=>Array.isArray(s)?s:"string"==typeof s?["100%","",s]:["100%"],[s]),{containerRef:m,initialFocusRef:p}=(0,bd.P)({initialFocusRef:t}),f=window.matchMedia("(prefers-reduced-motion: reduce)").matches,[h,g]=(0,cg.useState)(n),[y,x]=(0,cg.useState)(n);return((0,cg.useEffect)(()=>{let e;return n?(g(!0),e=setTimeout(()=>x(!0))):(x(!1),e=setTimeout(()=>g(!1),200)),()=>clearTimeout(e)},[n]),h)?(0,cs.jsxs)(PM.Z,{initialFocusRef:p,returnFocusRef:a,onKeyDown:l,onEscape:r,onClickOutside:()=>{},ref:m,role:"dialog","aria-modal":!0,"aria-label":o,"aria-labelledby":d,sx:{zIndex:2,height:"1px",bg:"none"},children:[(0,cs.jsx)(cW.Z,{sx:{backgroundColor:"neutral.muted",top:i,right:0,bottom:0,left:0,borderRadius:0,position:"fixed",border:"none",transitionDuration:"200ms",transitionProperty:"opacity",transitionTimingFunction:"animation.easeOutCubic",opacity:y?1:0,cursor:"default"},onClick:r,as:u?"button":void 0,"aria-label":u?"Close":void 0}),(0,cs.jsxs)(cW.Z,{sx:{borderRadius:"12px 0 0 12px",position:"fixed",top:i,right:0,bottom:0,width:c,minWidth:"300px",maxWidth:"unset",overflow:"hidden",bg:"canvas.default",boxShadow:"shadow.large",transitionDuration:"200ms",transitionProperty:"opacity, transform",transitionTimingFunction:"animation.easeOutCubic",transform:y||f?"translateX(0%)":"translateX(35%)",opacity:y?1:0},children:[!u&&(0,cs.jsx)(ww.h,{variant:"invisible",icon:me.b0D,"aria-label":"Close",onClick:r,sx:{float:"right",m:3}}),e]})]}):null});function PZ(e){if(e){let t=e.style.scrollBehavior;e.style.scrollBehavior="auto",e.scrollTop=0,e.scrollLeft=0,e.style.scrollBehavior=t}}PF.displayName="SidePanel";let PO=()=>{let{dirtyItems:e,setDirtyItems:t}=TY(),a=(0,cg.useRef)(Symbol()).current,n=(0,cg.useCallback)((e=!0)=>t(t=>{let n=new Set(t);if(e)return t.has(a)?t:n.add(a);{let e=n.delete(a);return e?n:t}}),[a,t]);return[e.has(a),n]},P$=({offsetWidth:e,offsetHeight:t,clientWidth:a,clientHeight:n})=>({offsetWidth:e,offsetHeight:t,clientWidth:a,clientHeight:n});function PV(e){let t=(0,cg.useRef)({}),a=(0,cg.useCallback)(t=>{if(!e)return()=>void 0;let a=new ResizeObserver(t);return a.observe(e),()=>{a.unobserve(e),a.disconnect()}},[e]);return(0,cg.useSyncExternalStore)(a,()=>{if(!e)return t.current;let a=P$(e);return(0,wK.Z)(a,t.current)?t.current:(t.current=a,a)})}let PB=(0,cg.createContext)(void 0);function Pz(){let e=(0,cg.useContext)(PB);return e}let PU=()=>{let{clientHeight:e}=PV(document.body),t=Pz(),a=document.querySelector(".application-main"),{clientHeight:n}=PV(a??t??null);return e&&n?e-n:void 0};var PK=a(8981);async function PW(e,t){let a=cQ("memex-get-sidepanel-item-api-data"),n=new URL(a.url,window.location.origin);switch(e.kind){case jS.ISSUE:n.searchParams.set("kind",e.kind),n.searchParams.set("item_id",`${e.itemId}`),n.searchParams.set("repository_id",`${e.repositoryId}`),n.searchParams.set("omit_comments",`${e.omitComments??!1}`),n.searchParams.set("omit_capabilities",`${e.omitCapabilities??!1}`);break;case jS.PROJECT_DRAFT_ISSUE:n.searchParams.set("kind",e.kind),n.searchParams.set("project_item_id",`${e.projectItemId}`)}let{data:r}=await fd(n,t);return r}async function PH(e){let t=cQ("memex-comment-on-sidepanel-item-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token,contentType:fi.FormData});return a}async function PG(e){let t=cQ("memex-edit-sidepanel-comment-api-data"),{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token,contentType:fi.FormData});return a}async function Pq(e){let t=cQ("memex-update-sidepanel-item-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token,contentType:fi.FormData});return a}async function PQ(e){let t=cQ("memex-update-sidepanel-item-reaction-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token,contentType:fi.FormData});return a}async function PX(e){let t=cQ("memex-update-sidepanel-item-state-api-data"),a=new URL(t.url,window.location.origin);a.searchParams.set("kind",jS.ISSUE);let{data:n}=await fd(a,{method:"POST",body:e,token:t.token,contentType:fi.FormData});return n}function PY(e,t,a,n){let r=e;return n?r[t]=r[t]?.filter(e=>e!==a):t in r?r[t]?.push(a):r[t]=[a],r}let PJ=(0,Ro.r)({primaryKey:"side-panel-item",queryFn:async({queryKey:[e,t],signal:a})=>{let{contentType:n,itemId:r,memexItemId:l,repositoryId:i}=t;switch(n){case mu.Issue:return PW({kind:jS.ISSUE,itemId:r,repositoryId:i},{signal:a});case mu.DraftIssue:return PW({kind:jS.PROJECT_DRAFT_ISSUE,projectItemId:gZ(l)},{signal:a});default:throw Error(`${n} is not supported`)}}}),P0=()=>{let e=(0,cp.NL)();return(0,PK.D)({mutationFn:async({contentType:e,itemId:t,memexItemId:a,repositoryId:n})=>{switch(e){case mu.Issue:return PW({kind:jS.ISSUE,itemId:t,repositoryId:n,omitCapabilities:!0});case mu.DraftIssue:return PW({kind:jS.PROJECT_DRAFT_ISSUE,projectItemId:gZ(a),omitCapabilities:!0});default:throw Error(`${e} is not supported`)}},onMutate:async({contentType:t,repositoryId:a,itemId:n,memexItemId:r})=>{e.cancelQueries({queryKey:PJ.getKey({contentType:t,repositoryId:a,itemId:n,memexItemId:r})})},onSuccess:async(t,{contentType:a,repositoryId:n,itemId:r,memexItemId:l})=>{e.setQueriesData({queryKey:PJ.getKey({contentType:a,repositoryId:n,itemId:r,memexItemId:l})},e=>e?{...e,...t}:e)}})},P1=()=>{let e=(0,cp.NL)();return(0,PK.D)({mutationFn:async({contentType:e,itemId:t,memexItemId:a,repositoryId:n,update:r,tasklist_blocks_operation:l})=>{switch(e){case mu.Issue:return Pq({kind:jS.ISSUE,itemId:t,repositoryId:n,update:r,tasklist_blocks_operation:l});case mu.DraftIssue:return Pq({kind:jS.PROJECT_DRAFT_ISSUE,projectItemId:gZ(a),update:r,tasklist_blocks_operation:l});default:throw Error(`${e} is not supported`)}},onMutate:async({contentType:t,repositoryId:a,itemId:n,memexItemId:r})=>{e.cancelQueries({queryKey:PJ.getKey({contentType:t,repositoryId:a,itemId:n,memexItemId:r})})},onSuccess:async(t,{contentType:a,repositoryId:n,itemId:r,memexItemId:l})=>{e.setQueriesData({queryKey:PJ.getKey({contentType:a,repositoryId:n,itemId:r,memexItemId:l})},e=>e?{...e,...t}:e)},onSettled:(t,a,{contentType:n,repositoryId:r,itemId:l,memexItemId:i})=>{e.invalidateQueries({queryKey:PJ.getKey({contentType:n,repositoryId:r,itemId:l,memexItemId:i})})}})},P2=()=>{let e=(0,cp.NL)();return(0,PK.D)({mutationFn:async e=>PH(e),onSuccess:async(t,{repositoryId:a,itemId:n,memexItemId:r,updateState:l,stateReason:i})=>{e.setQueriesData({queryKey:PJ.getKey({contentType:mu.Issue,repositoryId:a,itemId:n,memexItemId:r})},e=>e?{...e,comments:e.comments?.concat(t),state:{state:l??e.state.state,stateReason:i??e.state.stateReason}}:e)},onSettled:(t,a,{repositoryId:n,itemId:r,memexItemId:l})=>{e.invalidateQueries({queryKey:PJ.getKey({contentType:mu.Issue,repositoryId:n,itemId:r,memexItemId:l})})}})},P5=()=>{let e=(0,cp.NL)();return(0,PK.D)({mutationFn:async e=>PG(e),onSuccess:async(t,{repositoryId:a,itemId:n,memexItemId:r})=>{e.setQueriesData({queryKey:PJ.getKey({contentType:mu.Issue,repositoryId:a,itemId:n,memexItemId:r})},e=>e?{...e,comments:e.comments?.map(e=>e.id===t.id?t:e)}:e)},onSettled:(t,a,{repositoryId:n,itemId:r,memexItemId:l})=>{e.invalidateQueries({queryKey:PJ.getKey({contentType:mu.Issue,repositoryId:n,itemId:r,memexItemId:l})})}})},P3=()=>{let e=(0,cp.NL)();return(0,PK.D)({mutationFn:async e=>(await PQ(e),e),onMutate:async({repositoryId:t,itemId:a,memexItemId:n,commentId:r,reaction:l,actor:i,command:s})=>{e.setQueriesData({queryKey:PJ.getKey({contentType:mu.Issue,repositoryId:t,itemId:a,memexItemId:n})},e=>e?void 0===r&&e.reactions?{...e,reactions:PY(e.reactions,l,i,"unreact"===s)}:{...e,comments:e.comments?.map(e=>{if(e.id===r){let t=PY(e.reactions,l,i,"unreact"===s);return{...e,reactions:t}}return e})}:e)},onSettled:(t,a,{repositoryId:n,itemId:r,memexItemId:l})=>{e.invalidateQueries({queryKey:PJ.getKey({contentType:mu.Issue,repositoryId:n,itemId:r,memexItemId:l})})}})},P4=()=>{let e=(0,cp.NL)();return(0,PK.D)({mutationFn:async e=>(await PX(e),e),onMutate:t=>{e.setQueriesData({queryKey:PJ.getKey({contentType:mu.Issue,repositoryId:t.repositoryId,itemId:t.itemId,memexItemId:t.memexItemId})},e=>e?{...e,state:{state:t.state??e.state.state,stateReason:t.stateReason??e.state.stateReason}}:e)},onSettled:(t,a,{itemId:n,repositoryId:r,memexItemId:l})=>{e.invalidateQueries({queryKey:PJ.getKey({contentType:mu.Issue,itemId:n,repositoryId:r,memexItemId:l})})}})},P6={itemKey:{kind:jS.ISSUE,repositoryId:0,itemId:0},title:{raw:"",html:""},description:{body:"",bodyHtml:""},createdAt:"",updatedAt:"",user:{id:0,global_relay_id:"",login:"",name:"",avatarUrl:""},state:{state:fW.Open},capabilities:[],liveUpdateChannel:"",url:"",issueNumber:0},P8=(0,cg.createContext)(null),P7=class UnsupportedActionError extends TypeError{constructor(e){super(`Item does not support ${e}.`),Object.setPrototypeOf(this,new.target.prototype),this.name="UnsupportedActionError"}},P9=(0,cg.memo)(function({children:e,contentType:t,itemId:a,memexItemId:n,repositoryId:r}){let{findMemexItem:l}=SV(),{setColumnValue:i}=SU(),{postStats:s}=v4(),{data:o=P6,isInitialLoading:d}=PJ({variables:{contentType:t,itemId:a,repositoryId:r,memexItemId:n}}),u=pZ(({name:e,context:a={}})=>{s({name:e,context:JSON.stringify({contentType:t,...a})})}),{mutate:c}=P0(),m=pZ(async(e=!1)=>{c({contentType:t,itemId:a,repositoryId:r,memexItemId:n},{onSuccess:()=>{u.current({name:"side_panel_metadata_refresh",context:{fromSocketEvent:e}})}})}),p=(0,cg.useMemo)(()=>(0,fb.Z)((...e)=>m.current(...e),1250),[m]),{mutateAsync:f}=P1(),h=(0,cg.useCallback)(async(e,s)=>f({contentType:t,itemId:a,memexItemId:n,repositoryId:r,update:e,tasklist_blocks_operation:s},{onSettled:()=>{u.current({name:"side_panel_edit_item",context:{updates:Object.keys(e)}})},onSuccess:e=>{if(n&&e){let t=l(n);if(t){let a=t.columns.Title?.value;if(a&&a.title!==e.title){let n=fL({dataType:c7.Title,value:{...a,title:e.title}});n&&i(t,n)}}}}}),[t,f,l,a,n,u,r,i]),g=(0,cg.useCallback)(async e=>h({title:e}),[h]),y=(0,cg.useCallback)(async e=>h({labels:e}),[h]),x=(0,cg.useCallback)(async e=>h({assignees:e}),[h]),b=(0,cg.useCallback)(async e=>h({milestone:e}),[h]),{mutateAsync:v}=P2(),w=(0,cg.useCallback)(async(e,t,l)=>{let i=o.comments;if(!i)throw new P7("comments");return v({kind:jS.ISSUE,itemId:a,repositoryId:r,comment:e,updateState:t,stateReason:l,memexItemId:n},{onSuccess:()=>{u.current({name:"side_panel_post_comment",context:{state:t,stateReason:l}})}})},[o.comments,v,a,r,n,u]),{mutateAsync:k}=P5(),j=(0,cg.useCallback)(async(e,t)=>{let l=o.comments;if(!l)throw new P7("comments");return k({kind:jS.ISSUE,itemId:a,repositoryId:r,commentId:e,body:t,memexItemId:n},{onSuccess:()=>{u.current({name:"side_panel_edit_comment"})}})},[o.comments,k,a,r,n,u]),{mutate:C}=P3(),S=(0,cg.useCallback)(async(e,t,l,i)=>{if(!o.reactions)throw new P7("reactions");return C({reaction:e,command:t?"unreact":"react",commentId:i,itemId:a,repositoryId:r,actor:l,memexItemId:n,kind:jS.ISSUE},{onSuccess:()=>{u.current({name:"side_panel_react",context:{command:t?"unreact":"react",subject:i?"comment":"issue"}})}})},[o.reactions,C,a,r,n,u]),{mutate:I}=P4(),N=(0,cg.useCallback)(async(e,l)=>{if(t!==mu.Issue)throw new P7("state updates");return I({state:e,stateReason:l,itemId:a,repositoryId:r,memexItemId:n,kind:jS.ISSUE},{onSuccess:()=>{u.current({name:"side_panel_update_issue_state",context:{state:e,stateReason:l}})}})},[t,I,a,r,n,u]),T=(0,cg.useMemo)(()=>({isLoading:d,sidePanelMetadata:o,editIssue:h,editIssueTitle:g,addIssueComment:w,editIssueComment:j,reactToSidePanelItem:S,updateSidePanelItemState:N,editIssueLabels:y,editIssueAssignees:x,editIssueMilestone:b,reloadSidePanelMetadata:p}),[d,o,h,g,w,j,y,x,b,S,N,p]);return(0,cs.jsx)(P8.Provider,{value:T,children:e})});try{(nt=P8).displayName||(nt.displayName="IssueContext")}catch{}try{(na=P9).displayName||(na.displayName="IssueStateProvider")}catch{}let De=()=>{let e=(0,cg.useContext)(P8);if(!e)throw Error("useIssueContext must be used within a IssueContext.Provider.");return e},Dt=()=>{let e=_4(),{setProject:t}=_j(),a=(0,cg.useCallback)(async a=>{if(a=a.trim(),e.description===a)return;let n=await Rx({description:a});t(n.memexProject)},[e.description,t]);return{updateDescription:a}},Da=e=>` ${e.split(" ").map(e=>`<${e.replaceAll("{CMD_CTRL}",(0,mr.eE)()?"Cmd":"Ctrl").replaceAll("Command","Cmd").replaceAll("Control","Ctrl").toLowerCase()}>`).join(" / ")}`,Dn=e=>e.replaceAll("{CMD_CTRL}",(0,mr.eE)()?"Command":"Control"),Dr=(0,cg.forwardRef)(({label:e,icon:t,shortcut:a,sx:n,...r},l)=>{let i=()=>(0,cs.jsx)(w_.Z,{"aria-label":`${e}${a?Da(a):""}`,className:"icon-button-with-tooltip__tooltip",children:(0,cs.jsx)(t,{})});return(0,cs.jsx)(ww.h,{ref:l,icon:i,"aria-keyshortcuts":a?Dn(a):void 0,sx:{...n,"&:focus, &:hover":{"& .icon-button-with-tooltip__tooltip":{"&::after, &::before":{display:"inline-block",textDecoration:"none",animationName:"tooltip-appear",animationDuration:"0.1s",animationFillMode:"forwards",animationTimingFunction:"ease-in"}}},"&:hover .icon-button-with-tooltip__tooltip":{"&::after, &::before":{animationDelay:"0.4s"}}},...r,"aria-label":e})});Dr.displayName="IconButtonWithTooltip";try{(nn=TooltippedIcon).displayName||(nn.displayName="TooltippedIcon")}catch{}var Dl=a(68555);let Di=(e,{isPropUpdateDisabled:t=!1,isEqual:a=Object.is}={})=>{let[n,r]=(0,cg.useState)(e),[l,i]=(0,cg.useState)(e),s=e instanceof Function?e():e;return t||a(l,s)||(i(s),r(s)),[n,r]},Ds=e=>{let t=(0,cg.useRef)(!1),a=(0,cg.useRef)(!1),n=(0,cg.useCallback)(e=>{"compositionstart"===e.type&&(t.current=!0,a.current=!1),"compositionend"===e.type&&(t.current=!1,a.current=!0)},[]),r=(0,cg.useCallback)(n=>{if(("Enter"!==n.key||!t.current)&&("Tab"!==n.key||!t.current)){if((0,mr.eE)()&&229===n.keyCode&&a.current){a.current=!1;return}e(n)}},[e]),l=(0,cg.useMemo)(()=>({onCompositionStart:n,onCompositionEnd:n,onKeyDown:r}),[n,r]);return l},Do={None:"none",Successful:"successful",Failed:"failed"},Dd=({initialValue:e,commitFn:t})=>{let[a,n]=Di(e),[r,l]=(0,cg.useState)(!1),[i,s]=(0,cg.useState)(Do.None),o=(0,cg.useCallback)(()=>{n(e),l(!1)},[n,l,e]),d=(0,cg.useCallback)(async()=>{if(!r)return;let e=a.trim();if(0===e.length){s(Do.Failed);return}n(e);try{await t(jf(e)),s(Do.Successful)}catch{s(Do.Failed)}l(!1)},[r,a,n,t]),u=(0,cg.useCallback)(e=>{l(!0),s(Do.None),n(jf(e.target.value))},[n,l]),c=(0,cg.useCallback)(e=>{switch(s(Do.None),e.key){case"Enter":d();break;case"Escape":r&&e.stopPropagation(),o()}},[d,o,r]),m=Ds(c),p=(0,cg.useCallback)(()=>{document.hasFocus()&&d()},[d]);return{localValue:a,setLocalValue:n,isSuccess:i===Do.Successful,isError:i===Do.Failed,inputProps:{onChange:u,onBlur:p,...m}}},Du={bg:"danger.subtle",borderColor:"danger.fg",color:"danger.fg"},Dc=e=>(0,cs.jsx)(cW.Z,{sx:{padding:"8px 16px",borderWidth:"1px",borderStyle:"solid",borderRadius:"6px",fontSize:"14px",lineHeight:"20px",...Du},...e}),Dm=e=>(0,cs.jsx)(Dl.Z,{sx:{marginTop:"16px",padding:"8px 6px",borderRadius:"6px",fontSize:"12px",lineHeight:"18px",...Du},...e}),Dp=({message:e=pX.genericErrorMessage,caret:t,testId:a="error-state-message-box"})=>{let n=t?Dm:Dc;return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(cW.Z,{sx:{flexBasis:"100%"}}),(0,cs.jsx)(n,{caret:t,...(0,cK.f)(a),children:e}),(0,cs.jsx)(cW.Z,{sx:{flexBasis:"100%"}})]})},Df=()=>(0,cs.jsx)(mt.Z,{icon:me.nQG,sx:{ml:3,color:"success.fg"}}),Dh=({status:e})=>{switch(e){case"idle":case Do.None:return(0,cs.jsx)(cs.Fragment,{});case"failed":case Do.Failed:return(0,cs.jsx)(mt.Z,{icon:me.b0D,sx:{color:"danger.fg"}});case"loading":return(0,cs.jsx)(yG.Z,{size:"small"});case"succeeded":case Do.Successful:return(0,cs.jsx)(mt.Z,{icon:me.nQG,sx:{color:"success.fg"}})}},Dg={borderColor:"#CB2431 !important"};try{(nr=Dc).displayName||(nr.displayName="AlertStyledBox")}catch{}try{(nl=Dm).displayName||(nl.displayName="ErrorStyledPointerBox")}catch{}try{(ni=Dp).displayName||(ni.displayName="ErrorState")}catch{}try{(ns=Df).displayName||(ns.displayName="SuccessState")}catch{}try{(no=Dh).displayName||(no.displayName="RequestStateIcon")}catch{}function Dy({onSaveStats:e,editModeOff:t=!1,setHasUnsavedChanges:a,hideLabel:n}){let{hasWritePermissions:r}=xQ(),{description:l,descriptionHtml:i,setDescriptionHtml:s}=_4(),{updateDescription:o}=Dt(),[d,u]=(0,cg.useState)(!1),[c,m]=(0,cg.useState)(l),[p,f]=(0,cg.useState)(!1),[h,g]=(0,cg.useState)(!1),[y,x]=(0,cg.useState)(t),{isLoading:b,loadPreview:v}=jo(),w=(0,cg.useRef)(null),k=(0,cg.useRef)(null),j=(0,cg.useCallback)(async e=>{l?s(await v(e)):s("")},[l,v,s]),C=(0,cg.useCallback)(e=>{a&&a(e!==l),m(e)},[l,a]);(0,cg.useEffect)(()=>{!i&&l&&j(l)},[l,i,j]),(0,cg.useEffect)(()=>{C(l)},[l,C]);let S=(0,cg.useCallback)(()=>{t||((0,yX.flushSync)(()=>{x(!1)}),k.current?.focus())},[t]),I=(0,cg.useCallback)(async()=>{if(!l&&!c||l===c)return S(),null;try{u(!0),f(!1),e(!!l),await o(c),j(c),g(!0),S(),setTimeout(()=>{g(!1)},1800)}catch(e){f(!0)}finally{u(!1)}},[l,c,S,e,o,j]),N=(0,cg.useCallback)(()=>{C(l),S()},[C,l,S]),T=(0,cg.useCallback)(e=>{e.target instanceof HTMLAnchorElement||((0,yX.flushSync)(()=>{x(!0)}),w.current?.focus())},[]),_=(0,cg.useMemo)(()=>r&&(y||t)?h&&t?(0,cs.jsxs)(cW.Z,{sx:{minHeight:"30px",display:"flex","& > svg":{ml:"auto"}},children:[(0,cs.jsx)(Df,{})," ",(0,cs.jsx)(mn.Z,{sx:{ml:1},children:"Saved"})]}):c===l&&t?void 0:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(jz.ActionButton,{variant:"invisible",sx:{color:"fg.muted"},onClick:N,children:p6.cancelButton}),(0,cs.jsx)(jz.ActionButton,{variant:"primary",onClick:I,children:p6.saveButton})]}):void 0,[r,y,c,l,h,t,I,N]);return(0,cs.jsxs)(cs.Fragment,{children:[t?null:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",color:"fg.muted",fontSize:1,width:"100%",fontWeight:"normal",mb:1},children:[(0,cs.jsxs)(cW.Z,{sx:{width:"100%",display:"flex",alignItems:"center",minHeight:32,gap:2},children:[(0,cs.jsx)(me.vJ3,{size:"small"}),(0,cs.jsx)(mn.Z,{as:"h3",sx:{fontSize:14,fontWeight:"bold",color:"fg.default"},children:p6.readmeTitle})]}),!y&&r&&(0,cs.jsx)(Dr,{variant:"invisible",onClick:T,sx:{color:"fg.muted"},icon:me.vdY,label:"Edit",ref:k,...(0,cK.f)("pencil-editor-button")})]}),!y&&!c&&(0,cs.jsx)(cW.Z,{sx:{wordBreak:"break-word",whiteSpace:"normal",textAlign:"start",fontSize:12},children:p6.readmePlaceholder})]}),y?(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",mb:4},children:[(0,cs.jsxs)(jz,{value:c,onChange:C,disabled:!r||!y||d,placeholder:p6.readmePlaceholder,maxLength:1e4,ref:w,onPrimaryAction:I,children:[(0,cs.jsx)(jz.Label,{visuallyHidden:n,children:p6.readmeTitle}),(0,cs.jsx)(jz.Actions,{children:_})]}),p&&(0,cs.jsx)(Dp,{caret:"top-left",message:p6.errorMessage})]}):!r||i||b?(0,cs.jsx)(jK,{dangerousRenderedHTML:{__html:i},loading:b}):null]})}try{(nd=Dy).displayName||(nd.displayName="DescriptionEditor")}catch{}function Dx(e){e.style.height="auto",e.style.height=`${e.scrollHeight}px`}let Db=null;function Dv(){if(null!=Db)return Db;let e=navigator.userAgent.toLowerCase();return Db=e.includes("webkit")&&!e.includes("chrome")}let Dw=()=>{let e=_4(),{setProject:t}=_j(),a=(0,cg.useCallback)(async a=>{if(a=a.trim(),e.shortDescription===a)return;let n=await Rx({shortDescription:a});t(n.memexProject)},[e.shortDescription,t]);return{updateShortDescription:a}},Dk=(0,cw.ZP)(xh.z)`
  border-radius: ${(0,ch.U2)("space.2")};
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 100%;
`,Dj=({onSaveStats:e,editModeOff:t=!1,setHasUnsavedChanges:a,hideLabel:n})=>{let{hasWritePermissions:r}=xQ(),{shortDescription:l,shortDescriptionHtml:i}=_4(),{updateShortDescription:s}=Dw(),[o,d]=(0,cg.useState)(l),[u,c]=(0,cg.useState)(!1),[m,p]=(0,cg.useState)(!1),[f,h]=(0,cg.useState)(!1),[g,y]=(0,cg.useState)(!1),x=(0,cg.useRef)(null);(0,cg.useEffect)(()=>{d(l),a&&a(!1)},[l,a]),(0,cg.useEffect)(()=>{x.current&&!Dv()&&Dx(x.current)},[]);let b=(0,cg.useCallback)(async()=>{try{h(!0),c(!1),e(!!l),await s(o),p(!1),a&&a(!1),y(!0),setTimeout(()=>{y(!1)},1800)}catch(e){c(!0)}finally{h(!1)}},[e,l,s,o,a]),v=(0,cg.useCallback)(()=>{d(l),p(!1),a&&a(!1)},[a,l]),w=(0,cg.useCallback)(()=>{p(!m)},[m]);(0,cg.useEffect)(()=>{m&&x.current&&(x.current.focus(),x.current.selectionStart=x.current.selectionEnd=x.current.value.length)},[m]);let k=(0,cg.useCallback)(e=>{a&&a(e.currentTarget.value!==l),Dv()||Dx(e.currentTarget),d(e.currentTarget.value)},[l,a]),j=(0,cg.useCallback)(e=>{("Enter"===e.key||" "===e.key&&" "===e.currentTarget.value.slice(-1))&&e.preventDefault()},[]),C=(0,cg.useCallback)(e=>{setTimeout(()=>{x.current&&(Dv()||Dx(x.current),d(x.current.value.replace(RegExp("\\s+","gs")," ")))})},[]),S=Rh();return r?t||m?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(br.Z,{children:[(0,cs.jsx)(br.Z.Label,{visuallyHidden:n,children:p6.shortDescriptionTitle}),(0,cs.jsx)(Rs.Z,{...S,sx:{width:t?415:"100%"},children:(0,cs.jsx)(wE.Z,{"aria-labelledby":"settings-project-description-label",ref:x,sx:{mb:u?2:0,mt:t?0:3,"& textarea":{p:2,resize:"none",maxHeight:200}},placeholder:p6.shortDescriptionPlaceholder,onChange:k,onPaste:C,onKeyDown:j,maxLength:300,value:o,...(0,cK.f)("description-editor")})})]}),r&&(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"row-reverse",mt:2,width:t?415:"100%",minHeight:"30px"},...(0,cK.f)("readme-editor-buttons"),children:g&&t?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(mn.Z,{sx:{ml:1},children:"Saved"})," ",(0,cs.jsx)(Df,{})]}):o===l&&t?null:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(xh.z,{variant:"primary",size:"small",sx:{ml:2},onClick:b,disabled:f,children:p6.saveButton}),(0,cs.jsx)(xh.z,{variant:"invisible",size:"small",sx:{color:"fg.muted"},onClick:v,disabled:f,children:p6.cancelButton})]})}),u&&(0,cs.jsx)(Dp,{caret:"top-left",message:p6.errorMessage})]}):(0,cs.jsxs)(cW.Z,{sx:{position:"relative",color:o?"fg.default":"fg.muted",mt:2,ml:-2,isolation:"isolate"},children:[(0,cs.jsx)(y9,{sx:{position:"relative",display:"block",py:1,px:2,fontSize:1,wordWrap:"break-word",pointerEvents:"none",zIndex:1},children:i||p6.shortDescriptionPlaceholder}),(0,cs.jsx)(Dk,{variant:"invisible",onClick:r?w:void 0,"aria-label":"Edit short description",...(0,cK.f)("description-editor-edit"),children:null})]}):(0,cs.jsx)(y9,{sx:{my:3,mx:2},children:i})};try{(nu=Dk).displayName||(nu.displayName="ShortDescriptionButton")}catch{}try{(nc=Dj).displayName||(nc.displayName="ShortDescriptionEditor")}catch{}var DC=a(37169),DS=a(47001);let HierarchySidePanelItem=class HierarchySidePanelItem{getState(){return this.state}isDraft(){return!1}hierarchyEntry(){return{ownerId:this.key.repoId,itemId:this.key.issueId}}itemId(){return this.key.issueId}ownerId(){return this.key.repoId}getTitle(){return this.title}getLabels(){return this.labels}getUrl(){return this.url}getAssignees(){return this.assignees}getSuggestionId(){return`${this.contentType}:${this.itemId()}`}getRepositoryName(){return this.repoName}getItemNumber(){return this.number}getMilestone(){}getCompletion(){return this.completion}getLinkedPullRequests(){return[]}getExtendedRepository(){return this.repository||{name:this.repoName,nameWithOwner:"",id:this.key.repoId,url:"",isForked:!1,isPublic:!1,isArchived:!1,hasIssues:!1}}getTrackedBy(){return this.trackedBy}getStatus(){}getCustomField(e){}constructor(e,t){this.isHierarchy=!0,Object.assign(this,e),this.completion=t,this.contentType=mu.Issue,this.state===fz.Draft&&(this.contentType=mu.DraftIssue),-1===this.itemId()&&(this.contentType=mu.RedactedItem)}};var DI=a(8135);async function DN(e){let t=cQ("dismiss-notice-api-data"),{ok:a}=await fd(t.url,{method:"POST",body:e,token:t.token,contentType:fi.FormData});return a}async function DT(e){let t=cQ("notice-dismissal-status-api-data"),{data:a,ok:n}=await fd(t.url,{method:"POST",body:e,token:t.token,contentType:fi.FormData});return n?a:{dismissed:!1}}let D_="tasklist_blocks_onboarding_prompt",DR=(e,t=!0)=>{let a=t?"### Tasks\n":"";return`\`\`\`[tasklist]
${a}${e}
\`\`\``},DP=()=>{let[e,t]=(0,cg.useState)(!1);(0,cg.useEffect)(()=>{let e=!0,a=async()=>{let{dismissed:e}=await DT({notice:D_});return e};return a().then(a=>{e&&t(!a)}),()=>{e=!1}},[]);let a=async()=>{await DN({notice:D_}),t(!1)};return(0,cs.jsx)(_0.Z,{open:e,caret:"top-right",sx:{right:-1},...(0,cK.f)("add-tasklist-button-onboarding"),children:(0,cs.jsxs)(_0.Z.Content,{sx:{mt:2,width:320},children:[(0,cs.jsx)(be.Z,{sx:{fontSize:2},children:"We improved tasklists!"}),(0,cs.jsx)(mn.Z,{as:"p",children:"You can now add hierarchy to your Issues by adding our new and improved tasklists! See Issue metadata, quickly add new Issues or tasklist items, and seamlessly explore your hierarchy in GitHub Projects. \u{1F389}"}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(xh.z,{as:"a",href:"https://docs.github.com/en/early-access/issues/about-tasklists",target:"_blank",sx:{mr:2},children:"Learn more"}),(0,cs.jsx)(xh.z,{variant:"invisible",onClick:a,...(0,cK.f)("add-tasklist-button-onboarding-dismiss"),children:"OK, dismiss"})]})]})})},DD=({editedBody:e,onChangeBody:t})=>{let a=()=>{let a="- [ ] Add a draft title or issue reference here",n=!0,r=document.activeElement;if(!r||!(r instanceof HTMLTextAreaElement)){let n=DR(a);t(`${e?`${e}
`:""}${n}`);return}let l=r.selectionStart||0,i=r.selectionEnd||0;l!==i&&(a=e.slice(l,i),n=!(0,DI.I)(a),a=(0,DI.t)(a));let s=e&&l?`${e.slice(0,l)}
`:"",o=e?`
${e.slice(i)}`:"",d=DR(a,n);(0,yX.flushSync)(()=>{t(`${s}${d}${o}`)});let u=l+d.length+1;r.selectionStart=u,r.selectionEnd=u};return(0,cs.jsxs)(cW.Z,{sx:{position:"relative"},children:[(0,cs.jsx)(jz.ToolbarButton,{icon:me.yAY,"aria-label":"Add a tasklist",onClick:a,...(0,cK.f)("add-tasklist-button")}),(0,cs.jsx)(DP,{})]})};try{(nm=DP).displayName||(nm.displayName="OnboardingPopover")}catch{}var DE=a(41761),DL=a(17840),DA=a(2708);let DM=({reactions:e,onReact:t})=>{let{loggedInUser:a}=f1(),n=a?.login||"",r=Object.values(jI).map(t=>[t,e[t]??[]]),l=new Set(r.filter(([,e])=>e?.includes(n)??!1).map(([e])=>e)),i=void 0===t,s=e=>t?.(e,l.has(e),n),{containerRef:o}=(0,DL.v)({bindKeys:DE.Qw.HomeAndEnd|DE.Qw.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,cs.jsxs)(cW.Z,{role:"toolbar","aria-label":"Reactions",ref:o,sx:{display:"flex",gap:1},...(0,cK.f)("reactions-toolbar"),children:[!i&&(0,cs.jsx)(DF,{onReact:s,reactedReactions:l}),r.map(([e,t])=>(0,cs.jsx)(DZ,{reaction:e,reactedUsers:t,reacted:l.has(e),onClick:()=>s(e),disabled:i},e))]})},DF=({onReact:e,reactedReactions:t})=>{let[a,n]=(0,cg.useState)(!1),{containerRef:r}=(0,DL.v)(),l=t=>{n(!1),e(t)};return(0,cs.jsx)(DA.w,{open:a,onOpen:()=>n(!0),onClose:()=>n(!1),anchorRef:r,focusZoneSettings:{bindKeys:DE.Qw.ArrowAll|DE.Qw.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,cs.jsx)(ww.h,{size:"small",sx:{borderRadius:"50%",height:28,width:28,"& > span":{ml:"-1px"}},icon:me.W5D,...(0,cK.f)("all-reactions-button"),...e,"aria-label":"All reactions","aria-labelledby":void 0}),children:(0,cs.jsx)(kL.S,{sx:{display:"flex",flexDirection:"row",p:1,gap:1},role:"menu","aria-orientation":"horizontal",...(0,cK.f)("reactions-overlay"),children:Object.values(jI).map(e=>(0,cs.jsx)(kL.S.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},py:1,px:2,m:0,backgroundColor:t.has(e)?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":t.has(e),onClick:()=>l(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.stopPropagation(),l(e))},...(0,cK.f)(`all-reactions-${e}-reaction-button`),children:D$(e)},e))})})},DZ=({reaction:e,reactedUsers:t,disabled:a,reacted:n,onClick:r})=>{if(0===t.length)return null;let l=`${n?"React":"Unreact"} with ${D$(e)} (${t.length} ${D$(e)} reaction${1===t.length?"":"s"} so far, including ${DO(t)})`;return(0,cs.jsx)(w_.Z,{"aria-label":DO(t),sx:{maxWidth:"100%"},wrap:!0,direction:"ne",align:"left",children:(0,cs.jsx)(xh.z,{size:"small",sx:{"&:hover:not([disabled])":{backgroundColor:"accent.muted"},backgroundColor:n?"accent.subtle":"transparent",borderColor:n?"accent.emphasis":"border.default",borderRadius:20,px:2,boxShadow:"none"},"aria-label":l,role:"switch","aria-checked":n,leadingIcon:()=>(0,cs.jsx)(cs.Fragment,{children:D$(e)}),...(0,cK.f)(`${e}-reaction-button`),onClick:r,disabled:a,children:t.length})})};function DO(e){let t=e.slice(0,5);return(e.length>5&&t.push(`${e.length-5} more`),1===t.length)?t[0]:2===t.length?t.join(" and "):(t.push(`and ${t.pop()}`),t.join(", "))}function D$(e){switch(e){case jI.THUMBS_UP:return"\u{1F44D}";case jI.THUMBS_DOWN:return"\u{1F44E}";case jI.SMILE:return"\u{1F604}";case jI.TADA:return"\u{1F389}";case jI.THINKING_FACE:return"\u{1F615}";case jI.HEART:return"\u2764\uFE0F";case jI.ROCKET:return"\u{1F680}";case jI.EYES:return"\u{1F440}";default:throw Error(`${e} must be handled`)}}let DV=({url:e,onEdit:t})=>(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(Dr,{icon:me.Ui8,variant:"invisible",size:"small",label:"Comment actions",sx:{color:"fg.default"},...(0,cK.f)("comment-overflow-menu-button")})}),(0,cs.jsx)(kA.P.Overlay,{align:"end",children:(0,cs.jsxs)(kL.S,{children:[(0,cs.jsx)(kL.S.Item,{onSelect:()=>navigator.clipboard.writeText(e),children:"Copy link"}),t&&(0,cs.jsx)(kL.S.Item,{onSelect:t,...(0,cK.f)("overflow-menu-edit-button"),children:"Edit"})]})})]}),DB=({url:e,onEdit:t})=>e?(0,cs.jsx)(DV,{url:e,onEdit:t}):t?(0,cs.jsx)(xh.z,{size:"small",variant:"invisible",sx:{color:"fg.default"},onClick:t,"aria-label":"Edit comment",...(0,cK.f)("edit-comment-button"),children:"Edit"}):null,Dz=({createdAt:e,editedAt:t})=>{let a=t??e;return(0,mo.Z)(a)?(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},...(0,cK.f)("edit-timestamp"),children:[(0,cs.jsx)(DS.Z,{date:a}),a===t&&" (edited)"]}):null},DU=({author:e,createdAt:t,editedAt:a,authorAssociation:n,url:r,onStartEdit:l})=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",gap:2},as:"header",children:[e.avatarUrl&&(0,cs.jsx)(bL.Z,{loading:"lazy",size:24,alt:"",src:e.avatarUrl,...(0,cK.f)("author-avatar")},e.id),(0,cs.jsx)(mn.Z,{sx:{fontWeight:600,fontStyle:"normal"},...(0,cK.f)("author-login"),as:"address",children:e.login}),r?(0,cs.jsx)(yH.Z,{href:r,target:"_blank",...(0,cK.f)("edit-timestamp-link"),children:(0,cs.jsx)(Dz,{createdAt:t,editedAt:a})}):(0,cs.jsx)(Dz,{createdAt:t,editedAt:a}),n&&n!==jN.NONE&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"\xb7"}),(0,cs.jsx)(CQ.Z,{sx:{fontWeight:600,alignSelf:"center"},...(0,cK.f)("author-association"),children:pl(n)})]}),(0,cs.jsx)(cW.Z,{sx:{flex:1}}),(0,cs.jsx)(DB,{url:r,onEdit:l})]}),DK=({onCancel:e,onSave:t,updateButtonDisabled:a})=>(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(xh.z,{variant:"invisible",sx:{color:"fg.muted"},size:"small",onClick:e,...(0,cK.f)("cancel-button"),children:"Cancel"}),(0,cs.jsx)(xh.z,{variant:"primary",size:"small",onClick:t,...(0,cK.f)("save-button"),disabled:a,children:"Update comment"})]}),DW=({allowEmptyBody:e,author:t,authorAssociation:a,createdAt:n,editedAt:r,url:l,description:i,onEdit:s,onEditTrackingBlock:o,context:d,slashCommandsConfig:u,fullHeight:c,reactions:m,onReact:p,showAddTasklistButton:f})=>{let[,h]=PO(),[g,y]=(0,cg.useState)(!1),[x,b]=(0,cg.useState)(!1),[v,w]=(0,cg.useState)(i.body||""),k=(0,cg.useRef)(null),j=(0,cg.useRef)(null),C=(0,DC.Z)(),{openPaneHistoryItem:S}=TY(),{items:I}=h_(),N=e||""!==v.trim(),[T,_]=(0,cg.useState)({__html:i.bodyHtml??""}),R=(0,cg.useCallback)(()=>_({__html:i.bodyHtml??""}),[i.bodyHtml]);(0,cg.useEffect)(()=>{g||w(i.body||"")},[i.body,g]),(0,cg.useEffect)(()=>{R()},[R,g]),(0,cg.useEffect)(()=>{let e=j.current;if(!e||!o)return;let t=e=>{w(e.detail.body),o()},a=e=>{let{detail:t}=e;if("string"==typeof t)o(t);else{let{payload:e,resolve:a,reject:n}=t;o(e).then(a,n)}};return e.addEventListener("tracking-block:change",t),e.addEventListener("tracking-block:update",a),()=>{e.removeEventListener("tracking-block:change",t),e.removeEventListener("tracking-block:update",a)}},[o,x,g,i.bodyHtml]);let P=(0,cg.useCallback)(e=>{w(e),h(!0)},[w,h]),{perform:D}=fx({request:async()=>{s&&(b(!0),await s(v),C()&&b(!1))},rollback:()=>{b(!1),R()},showErrorToast:!0}),E=kC(D,1e3),L=(0,cg.useCallback)(e=>{w(e),E()},[E]),A=s?()=>{(0,yX.flushSync)(()=>{y(!0)}),k.current?.focus()}:void 0,M=()=>{y(!1),w(i.body||""),h(!1)},F=async()=>{N&&(await D(),C()&&(y(!1),h(!1)))},Z=(0,cg.useCallback)((e,t)=>I.find(a=>a.contentRepositoryId===e&&a.content.id===t),[I]),O=e=>{let t=e.closest("[data-issue]");if(!t)return{};let{repositoryId:a,itemId:n,repositoryName:r,displayNumber:l,itemTitle:i}=t.dataset,s={repoId:parseInt(a??"0"),issueId:parseInt(n??"0")},o=Z(s.repoId,s.issueId);if(o)return{item:o};let d=e.closest("a"),u=d?.getAttribute("href")??"";return{item:new HierarchySidePanelItem({key:s,title:gZ(i),url:u,state:"open",repoName:r??"",number:parseInt(l??""),assignees:[],labels:[]},{completed:0,total:0,percent:0})}};return x?(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"row",py:6,justifyContent:"center"},children:(0,cs.jsx)(yG.Z,{"aria-label":"Loading"})}):g?(0,cs.jsxs)(jz,{ref:k,value:v,onChange:P,context:d,slashCommandsConfig:u,onPrimaryAction:F,sx:{border:"none"},fullHeight:c,children:[(0,cs.jsx)(jz.Label,{visuallyHidden:!0,children:"Edit comment"}),f&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(jz.Label,{visuallyHidden:!0,children:"Custom Buttons"}),(0,cs.jsxs)(jz.Toolbar,{children:[(0,cs.jsx)(jz.DefaultToolbarButtons,{}),(0,cs.jsx)(DD,{editedBody:v,onChangeBody:P})]})]}),(0,cs.jsx)(jz.Actions,{children:(0,cs.jsx)(DK,{onSave:F,onCancel:M,updateButtonDisabled:!N})})]}):(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",p:3,gap:3},as:"article",children:[(0,cs.jsx)(DU,{author:t,createdAt:n,editedAt:r,url:l,onStartEdit:A,authorAssociation:a}),i.bodyHtml?(0,cs.jsx)("div",{...(0,cK.f)("comment-body"),ref:j,children:(0,cs.jsx)(jK,{dangerousRenderedHTML:T,onChange:L,markdownValue:i.body||"",disabled:x||!s,onLinkClick:e=>{if(e.metaKey||e.shiftKey||1===e.button)return;let t=O(e.target);t.item&&(e.preventDefault(),S(t))}})}):(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted",m:0,fontStyle:"italic"},...(0,cK.f)("empty-body-placeholder"),as:"p",children:pX.noDescriptionProvided}),(0,cs.jsx)("footer",{children:(0,cs.jsx)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:(0,cs.jsx)(DM,{reactions:m,onReact:p})})})]})};try{(np=Dz).displayName||(np.displayName="Timestamp")}catch{}let DH=(0,cg.memo)(function(){let e=(0,cg.useRef)(null),t=(0,cg.useRef)(null),a=_y(),n=_c(a),{sidePanelMetadata:r,reloadSidePanelMetadata:l}=De(),{reloadPaneItem:i,sidePanelState:s}=TY(),o=p$(l),d=p$(i),u=(0,cg.useRef)(null),c=e=>r.itemKey.kind===jS.ISSUE&&_i(e),m=e=>r.itemKey.kind===jS.PROJECT_DRAFT_ISSUE&&_n(e)&&e.payload.item_id===r.itemKey.projectItemId,[p]=_p(e,"message",e=>{(c(e.data)||m(e.data))&&o(e.data.wait??0)(!0)},r.liveUpdateChannel),[f]=_p(t,"message",e=>{_n(e.data)&&s?.type===Nc.ISSUE&&e.data.payload&&(s.item.memexItemId?.()===e.data.payload.memex_project_item_id||s.item.memexItemId?.()===e.data.payload.item_id)&&(u.current?.cancel(),u.current=d(e.data.wait??0)())});return(0,cg.useEffect)(()=>{a&&!n&&(l(!1),i())},[a,n,l,i]),(0,cs.jsxs)(cs.Fragment,{children:[r.liveUpdateChannel&&(0,cs.jsx)("span",{...a?p:void 0,ref:e,hidden:!0,...(0,cK.f)("side-panel-item-live-update-listener")}),(0,cs.jsx)("span",{...a?f:void 0,ref:t,hidden:!0,...(0,cK.f)("side-panel-pane-item-live-update-listener")})]})});try{(nf=DH).displayName||(nf.displayName="SidePanelLiveUpdate")}catch{}let DG=({editedBody:e,issueId:t,repositoryId:a,csrfToken:n,projectNumber:r})=>(0,cs.jsxs)("form",{id:"tasklist-form",...(0,cK.f)("tasklist-form"),children:[(0,cs.jsx)("input",{type:"hidden",name:"body",value:e}),(0,cs.jsx)("input",{type:"hidden",name:"item-id",value:t}),(0,cs.jsx)("input",{type:"hidden",name:"repository-id",value:a}),(0,cs.jsx)("input",{type:"hidden",name:"kind",value:"issue"}),(0,cs.jsx)("input",{type:"hidden",name:"csrf-token",value:n}),(0,cs.jsx)("input",{type:"hidden",name:"project-id",value:r})]}),Dq=({item:e,isLoading:t,fullHeight:a})=>{let{sidePanelMetadata:n,editIssue:r,reactToSidePanelItem:l,reloadSidePanelMetadata:i}=De(),{projectNumber:s}=fN(),o=cQ("memex-update-sidepanel-item-api-data"),{tasklist_block:d}=xO(),{postStats:u}=v4(),c=(0,cg.useMemo)(()=>new Set(n.capabilities),[n]),m=c.has("react")?(e,t,a)=>l(e,t,a):void 0,p=(0,cg.useMemo)(()=>c.has("editDescription")?async t=>{await r({body:t}),e.contentType===mu.DraftIssue&&u({name:"draft_edit",memexProjectItemId:e.id})}:void 0,[c,r,e.contentType,u,e.id]),f=(0,cg.useMemo)(()=>c.has("editDescription")?async e=>{if(e&&n.description){let t=n.description.body||"";await r({body:t},e)}else i(!1)}:void 0,[c,r,i,n.description]),h=(0,cg.useMemo)(()=>e.contentType===mu.Issue?{repositoryId:e.ownerId(),issueId:e.itemId(),subjectType:mu.Issue}:e.contentType===mu.PullRequest?{repositoryId:e.ownerId(),pullRequestId:e.itemId(),subjectType:mu.PullRequest}:void 0,[e]),g=jT(e.contentType,!1),y=n.slashCommandsUrl&&g?{url:n.slashCommandsUrl,surface:g}:void 0,x=d&&e.contentType!==mu.DraftIssue;return(0,cs.jsxs)(cW.Z,{sx:{flex:a?"auto":void 0,px:2},children:[(0,cs.jsx)(DH,{}),t?(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"row",py:6,justifyContent:"center"},children:(0,cs.jsx)(yG.Z,{"aria-label":"Loading"})}):(0,cs.jsxs)(cW.Z,{as:"section",sx:{height:a?"100%":void 0},children:[(0,cs.jsx)("h3",{style:{position:"absolute",clipPath:"circle(0)"},children:"Description"}),(0,cs.jsx)(DW,{allowEmptyBody:!0,author:n.user,createdAt:new Date(n.createdAt),editedAt:n.description.editedAt?new Date(n.description.editedAt):void 0,reactions:n.reactions??{},description:n.description,context:h,onEdit:p,onEditTrackingBlock:f,onReact:m,fullHeight:a&&n.itemKey.kind!==jS.PROJECT_DRAFT_ISSUE,showAddTasklistButton:x,slashCommandsConfig:y}),e.contentType===mu.Issue&&(0,cs.jsx)(cW.Z,{sx:{display:"none"},children:(0,cs.jsx)(DG,{editedBody:n.description.body||"",issueId:h?.issueId,repositoryId:h?.repositoryId,csrfToken:o.token,projectNumber:s})})]})]})};try{(nh=Dq).displayName||(nh.displayName="SidePanelBody")}catch{}let DQ=({targetRepository:e,sx:t})=>{let a=(0,cg.useRef)(null),n=(0,cg.useRef)(null),[r,l]=(0,cg.useState)(""),[i,s]=(0,cg.useState)(!1),[o,d]=(0,cg.useState)(!1),[u,c]=(0,cg.useState)(void 0),[m,p]=(0,cg.useState)([]),[f,h]=(0,cg.useState)([]),g=(0,cg.useRef)(),{suggestRepositories:y,clearCachedSuggestions:x}=bh(),{postStats:b}=v4(),v=(0,cg.useRef)(f),{hasFetchedRepos:w,setSelectedRepo:k,setHasFetchedRepos:j}=f$();(0,bd.P)({restoreFocusOnCleanUp:!0,initialFocusRef:a,containerRef:n});let C=(0,cg.useCallback)(()=>{s(!1)},[]),S=(0,cg.useCallback)(async()=>{if(v.current.length)return;d(!0),x();let t=await y(e?.id);h(t??[]),j(!0),d(!1)},[x,j,y,e?.id]),I=(0,cg.useCallback)(e=>(""!==r?m:f).find(t=>t.id===e),[r,m,f]);(0,cg.useEffect)(()=>{S()},[S,j]),(0,cg.useEffect)(()=>{if(w&&!u){let t=f.find(t=>t.id===e?.id),a=t??f[0];a&&c({id:a.id,text:a.name,leadingVisual:()=>bg({repository:a})}),j(!0),k(a||null)}},[k,j,f,u,w,e?.id]);let N=e=>{l(e),_()},T=(0,cg.useCallback)(async e=>{if(""!==e){d(!0);let{repositories:t}=await bc(e);p(t),d(!1)}else p(f??[])},[f]),_=(0,cg.useCallback)(()=>{g.current&&g.current.cancel(),g.current=(0,fb.Z)(()=>T(r),200),g.current()},[T,r]),R=e=>{if(e?.id){let t=I(e.id);t&&(c({id:t.id,text:t.name,leadingVisual:()=>bg({repository:t})}),k(t),b({name:"bulk_add_side_panel_repo_switched",context:JSON.stringify({repo:t.name})}))}},P=(""!==r?m:f).map(e=>{let{projectOwner:t}=f1(),a=e.nameWithOwner.split("/")[0],n=a?.toLowerCase()!==t?.login.toLowerCase()?e.nameWithOwner:e.name;return{...e,text:n,leadingVisual:()=>bg({repository:e}),selectionVariant:"single",descriptionVariant:"block",selected:void 0,onAction:(t,a)=>{a.preventDefault(),R(e),C()}}});return(0,cs.jsx)(bu.b,{placeholderText:pX.repoPickerFilterPlaceholder,open:i,renderAnchor:({children:e,"aria-labelledby":a,...n})=>(0,cs.jsx)(xh.z,{disabled:w&&!u,leadingIcon:u?.leadingVisual,trailingIcon:me.AS7,"aria-labelledby":`${a}`,sx:t,...n,...(0,cK.f)("repo-suggestions-button"),children:e||pX.selectRepo}),onOpenChange:()=>s(!0),loading:o,selected:u,filterValue:r,items:P,showItemDividers:!0,onFilterChange:N,onSelectedChange:R,overlayProps:{width:"small",onMouseDown:e=>e.stopPropagation(),height:"auto",onClickOutside:C,...(0,cK.f)("repo-picker-repo-list")}})};DQ.displayName="RepoSuggestions";let DX=(0,cg.memo)(function({onClick:e,disabled:t}){return(0,cs.jsx)(xh.z,{variant:"invisible",size:"small",onClick:e,"aria-label":"search",disabled:t,sx:{paddingTop:"2px",paddingBottom:0,margin:"0 2px",color:t?"accent.muted":"accent.fg"},...(0,cK.f)("bulk-add-search-button"),children:"Search \u23CE"})}),DY=({targetRepository:e,newItemAttributes:t})=>{let{postStats:a}=v4(),{closePane:n}=TY(),{addSelectedItemsRequest:r,selectedItems:l,hasFetchedRepos:i,selectedRepo:s,setSelectedRepo:o,setHasFetchedRepos:d,loading:u,addingItems:c,items:m,searchQuery:p,setSearchQuery:f,setAreAllItemsAdded:h,setUpdateColumnsAction:g,MAX_ITEM_NUM:y}=f$(),[x,b]=(0,cg.useState)(!1),[v,w]=(0,cg.useState)(!1),[k,j]=(0,cg.useState)(p),C=i&&s,S=(0,cg.useRef)(null),I=(0,cg.useCallback)(()=>{o(null),f(""),g([]),d(!1),n()},[o,f,g,d,n]),N=(0,cg.useCallback)(e=>{let t=wy(e),a=e.currentTarget.value.trim();t===wf.ENTER&&f(a)},[f]),T=Ds(N),_=(0,cg.useCallback)(e=>{j(e.currentTarget.value),w(e.currentTarget.value.trim().length>0)},[]),R=(0,cg.useCallback)(()=>{let e=S.current?.value??"";f(e)},[f]),P=(0,cg.useCallback)(()=>{b(!0)},[]),D=(0,cg.useCallback)(()=>{b(!1)},[]);(0,cg.useEffect)(()=>{t&&t.setField?g([t.setField]):g([])},[g,t]);let E=(0,cg.useCallback)(async()=>{await r.perform(l),a({name:"bulk_add_side_panel_add_items",context:l.length.toString()}),l.length===y&&h(!0)},[r,l,a,y,h]),L=v||x||p!==k,A=!v&&!p||p===k;return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",backgroundColor:"canvas.default",width:"100%",height:"100%",overflow:"auto",justifyContent:"space-between"},...(0,cK.f)("bulk-add-view"),children:[(0,cs.jsxs)(cW.Z,{sx:{mt:4,mx:[3,"",4]},children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[(0,cs.jsx)(mn.Z,{sx:{fontWeight:"600",fontSize:3},children:"Add from repository"}),(0,cs.jsx)(ww.h,{variant:"invisible",icon:me.b0D,sx:{color:"fg.default",px:0},onClick:I,"aria-label":"Close",...(0,cK.f)("side-panel-button-close")})]}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"flex-start"},children:[(0,cs.jsx)(DQ,{targetRepository:e},"repoSuggestions"),(0,cs.jsx)(wE.Z,{sx:{flex:1,ml:2},disabled:!C,leadingVisual:me.W1M,"aria-label":"Search for issues and pull requests",ref:S,type:"text",placeholder:"Search for issues and pull requests",onChange:_,onFocus:P,onBlur:D,...T,size:"small",value:k,trailingAction:L?(0,cs.jsx)(DX,{onClick:R,disabled:A}):void 0,...(0,cK.f)("suggested-items-search-input")})]}),(0,cs.jsx)(xf,{})]}),(0,cs.jsx)(cW.Z,{sx:{position:"sticky",zIndex:"1",display:"flex",justifyContent:"flex-end",bottom:"0",backgroundColor:"canvas.default",borderTop:"1px solid",borderColor:"border.default",width:"100%"},children:(0,cs.jsx)(xh.z,{variant:"primary",onClick:E,...(0,cK.f)("bulk-add-button"),disabled:u||c||m?.length===0||0===l.length,sx:{my:3,mr:4},children:c?1===l.length?"Adding item...":"Adding items...":"Add selected items"})})]})};try{(ng=DX).displayName||(ng.displayName="SearchButton")}catch{}try{(ny=DY).displayName||(ny.displayName="BulkAddView")}catch{}let DJ=(0,cg.forwardRef)((e,t)=>{let[a,n]=PO(),[r,l]=(0,cg.useState)(""),[i,s]=(0,cg.useState)(!1),[o,d]=(0,cg.useState)(!1);(0,cg.useEffect)(()=>n(""!==r),[r,n]);let[u,c]=(0,cg.useState)("edit"),m=()=>{l(""),c("edit"),s(!1)};(0,cg.useEffect)(()=>{if(wg())return;let e=e=>{let a="r"===e.key,n=window.getSelection()?.toString(),r=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey,i=document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLInputElement;a&&n&&!r&&!i&&((0,yX.flushSync)(()=>{l(e=>e.length?`${e}

> ${n}

`:`> ${n}

`)}),t&&"current"in t&&(t?.current?.scrollIntoView(),t?.current?.focus())),d((e.ctrlKey||e.metaKey)&&e.shiftKey)},a=()=>d(!1);return window.addEventListener("keydown",e),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",a)}},[t]);let{addIssueComment:p,sidePanelMetadata:f,updateSidePanelItemState:h}=De(),g=(0,cg.useMemo)(()=>new Set(f.capabilities),[f]),y=fx({request:async()=>{s(!0),await p(r),m()},rollback:l,showErrorToast:!0}),x=()=>a&&!i&&y.perform(void 0,r),b=fx({request:async({state:e,stateReason:t})=>{s(!0),a?await p(r,e,t):await h(e,t),m()},rollback:l,showErrorToast:!0}),v=(e,t)=>!i&&b.perform({state:e,stateReason:t},r),w=g.has("reopen")?()=>v(fW.Open,fH.Reopened):void 0,k=g.has("close")?e=>v(fW.Closed,e):void 0;if(f.itemKey.kind!==jS.ISSUE)return null;let j={repositoryId:f.itemKey.repositoryId,issueId:f.itemKey.itemId},C=jT(f.itemKey.kind,!0),S=f.slashCommandsUrl&&C?{url:f.slashCommandsUrl,surface:C}:void 0,I=()=>{if(o){let e=f.state.state===fW.Closed;return e?w?.():k?.()}x()};return(0,cs.jsxs)(jz,{disabled:i,value:r,onChange:l,placeholder:"Leave a comment",context:j,onPrimaryAction:I,viewMode:u,onChangeViewMode:c,ref:t,sx:{mb:2,boxShadow:"shadow.small"},slashCommandsConfig:S,children:[(0,cs.jsx)(jz.Label,{visuallyHidden:!0,children:"Add new comment"}),(0,cs.jsx)(jz.Actions,{children:(0,cs.jsx)(D4,{disabled:i,isCommentEmpty:!a,currentIssueState:f.state.state,currentIssueStateReason:f.state.stateReason,onSaveComment:x,onClose:k,onReopen:w})})]})});function D0(e,t,a){return e===fW.Open?a?pX.issueButtonLabel.closeWithComment:pX.issueButtonLabel.closeIssue:t===fH.NotPlanned?pX.issueButtonLabel.closeAsNotPlanned:pX.issueButtonLabel.closeAsCompleted}function D1(e){return e?pX.issueButtonLabel.reopenWithComment:pX.issueButtonLabel.reopenIssue}DJ.displayName="SidePanelAddComment";let D2=({selectedStateReason:e,issueState:t,onClose:a,onReopen:n,hasComment:r,disabled:l})=>{switch(e){case fH.Completed:return(0,cs.jsx)(xh.z,{size:"small",onClick:()=>a?.(),leadingIcon:me.GFI,sx:{color:"done.fg",display:"inline-block"},disabled:!a||l,...(0,cK.f)("sidepanel-close-issue-as-completed-button"),children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:D0(t,e,r)})});case fH.Reopened:return(0,cs.jsx)(xh.z,{size:"small",onClick:n,leadingIcon:me.eJg,sx:{color:"open.fg"},disabled:!n||l,...(0,cK.f)("sidepanel-reopen-issue-button"),children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:D1(r)})});case fH.NotPlanned:return(0,cs.jsx)(xh.z,{size:"small",onClick:()=>a?.(fH.NotPlanned),leadingIcon:me.C4D,sx:{color:"fg.muted"},disabled:!a||l,...(0,cK.f)("sidepanel-close-issue-as-not-planned-button"),children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.default"},children:D0(t,e,r)})});default:return null}},D5=({selectedStateReason:e,setSelectedStateReason:t,issueState:a,issueStateReason:n,canClose:r,canReopen:l})=>{let i=(0,cs.jsxs)(kL.S.Item,{onSelect:()=>t(fH.Completed),selected:e===fH.Completed,disabled:!r,children:[(0,cs.jsx)(kL.S.LeadingVisual,{sx:{color:"done.fg"},children:(0,cs.jsx)(me.GFI,{})}),pX.issueButtonLabel.closeAsCompleted,(0,cs.jsx)(kL.S.Description,{variant:"block",children:pX.issueButtonLabel.closeAsCompletedDescription})]},"close-issue-as-completed-option"),s=(0,cs.jsxs)(kL.S.Item,{onSelect:()=>t(fH.NotPlanned),selected:e===fH.NotPlanned,disabled:!r,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.C4D,{})}),pX.issueButtonLabel.closeAsNotPlanned,(0,cs.jsx)(kL.S.Description,{variant:"block",children:pX.issueButtonLabel.closeAsNotPlannedDescription})]},"close-issue-as-not-planned-option"),o=(0,cs.jsxs)(kL.S.Item,{onSelect:()=>t(fH.Reopened),selected:e===fH.Reopened,disabled:!l,children:[(0,cs.jsx)(kL.S.LeadingVisual,{sx:{color:"open.fg"},children:(0,cs.jsx)(me.eJg,{})}),pX.issueButtonLabel.reopenIssue]},"reopen-issue-option");return(0,cs.jsxs)(kL.S,{selectionVariant:"single",role:"listbox","aria-roledescription":"update issue state options menu",sx:{display:"flex",flexDirection:"column"},children:[a===fW.Open&&(0,cs.jsxs)(cs.Fragment,{children:[i,s]}),a===fW.Closed&&(n===fH.Completed||!n)&&(0,cs.jsxs)(cs.Fragment,{children:[o,s]}),a===fW.Closed&&n===fH.NotPlanned&&(0,cs.jsxs)(cs.Fragment,{children:[o,i]})]})};function D3(e){return e===fW.Open?fH.Completed:fH.Reopened}let D4=({isCommentEmpty:e,onSaveComment:t,currentIssueState:a,currentIssueStateReason:n,disabled:r,onClose:l,onReopen:i})=>{let[s,o]=(0,cg.useState)(D3(a));(0,cg.useLayoutEffect)(()=>o(D3(a)),[a,n]);let[d,u]=(0,cg.useState)(!1);return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2},children:[(l||i)&&(0,cs.jsxs)(j0.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(D2,{disabled:r,issueState:a,hasComment:!e,selectedStateReason:s,onClose:l,onReopen:i}),(0,cs.jsxs)(kA.P,{open:d,onOpenChange:u,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{size:"small",icon:me.AS7,"aria-label":pX.issueSideButtonMoreOptionsLabel})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsx)(D5,{selectedStateReason:s,setSelectedStateReason:o,canClose:void 0!==l,canReopen:void 0!==i,issueState:a,issueStateReason:n})})]})]}),(0,cs.jsx)(jz.ActionButton,{variant:"primary",className:"prc-Button--primary",disabled:e||r,onClick:t,...(0,cK.f)("add-comment-button"),children:"Comment"})]})};try{(nx=CloseAsCompleted).displayName||(nx.displayName="CloseAsCompleted")}catch{}try{(nb=CloseAsNotPlanned).displayName||(nb.displayName="CloseAsNotPlanned")}catch{}try{(nv=Reopen).displayName||(nv.displayName="Reopen")}catch{}let D6=({itemURL:e})=>{let{sidePanelMetadata:{comments:t,capabilities:a,slashCommandsUrl:n},editIssueComment:r,reactToSidePanelItem:l}=De(),[i,s]=(0,cg.useState)(null),o=(0,cg.useRef)(null),d=PV(i),u=d.offsetHeight??0,c=()=>{o.current?.scrollIntoView({behavior:"smooth",block:"end"}),o.current?.focus({preventScroll:!0})};return t?(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",px:2,backgroundColor:"canvas.subtle",borderTop:"1px solid",borderColor:"border.muted",flex:"auto"},as:"section",ref:s,...(0,cK.f)("all-comments-box"),children:[(0,cs.jsx)("h3",{style:{clipPath:"circle(0)",position:"absolute"},children:"Comments"}),(0,cs.jsx)(D8,{onClick:c,visible:u>=1e4}),(0,cs.jsx)("ul",{style:{listStyle:"none"},children:t.map(t=>(0,cs.jsx)(D9,{comment:t,editIssueComment:r,reactToSidePanelItem:l,itemURL:e,slashCommandsUrl:n},t.id))}),a?.includes("comment")&&(0,cs.jsx)(DJ,{ref:o})]}):null},D8=({onClick:e,visible:t})=>(0,cs.jsx)(D7,{sx:{display:"flex",justifyContent:"flex-end",px:3},children:(0,cs.jsx)(xh.z,{variant:"invisible",size:"small",onClick:e,trailingIcon:me.veu,sx:{px:2,position:t?"unset":"absolute",clipPath:t?"unset":"Circle(0)",":focus":{position:"unset",clipPath:"unset"}},"aria-label":"Jump to 'add comment' input",...(0,cK.f)("jump-to-bottom-button"),children:pX.jumpToBottom})}),D7=({children:e,sx:t})=>(0,cs.jsx)(cW.Z,{sx:{borderLeft:"1px solid",borderColor:"border.muted",py:2,ml:4,...t},children:e}),D9=({comment:e,editIssueComment:t,reactToSidePanelItem:a,itemURL:n,slashCommandsUrl:r})=>{let l=`${n}#issuecomment-${e.id}`,i={repositoryId:e.repositoryId,issueId:e.issueId},s=r?{url:r,surface:"issue_comment"}:void 0,o=e.capabilities?.includes("editDescription")?async a=>{await t(e.id,a)}:void 0,d=e.capabilities?.includes("react")?(t,n,r)=>a(t,n,r,e.id):void 0;return(0,cs.jsxs)(cW.Z,{as:"li",...(0,cK.f)(`comments-box-${e.id}`),children:[(0,cs.jsx)(cW.Z,{sx:{border:"1px solid",borderColor:"border.muted",backgroundColor:"canvas.default",borderRadius:2,boxShadow:"shadow.small"},children:(0,cs.jsx)(DW,{author:e.user,authorAssociation:e.authorAssociation,createdAt:new Date(e.createdAt),editedAt:e.description.editedAt?new Date(e.description.editedAt):void 0,description:e.description,reactions:e.reactions,context:i,slashCommandsConfig:s,onEdit:o,onReact:d,url:l})}),(0,cs.jsx)(D7,{})]})};try{(nw=D6).displayName||(nw.displayName="SidePanelComments")}catch{}try{(nk=D8).displayName||(nk.displayName="JumpToBottomButton")}catch{}try{(nj=D7).displayName||(nj.displayName="TimelineSpacer")}catch{}var Ee=a(97335),Et=a(98641);let Ea=({items:e,onClick:t})=>{let a=(0,cs.jsx)(Et.Z,{children:e.map(({url:a,repoName:n,repoIcon:r,issueNumber:l,id:i},s)=>(0,cs.jsxs)(Et.Z.Item,{sx:{color:"fg.muted",fontSize:"fontSizes.1"},"data-id":i,href:a,selected:s===e.length-1,target:"_blank","data-hovercard-type":"issue","data-hovercard-url":`${a}/hovercard`,onClick:t??void 0,children:[r&&(0,cs.jsx)(mn.Z,{sx:{mr:1},children:r}),(0,cs.jsx)(Ri.Z,{inline:!0,as:"span",title:`${n} ${l}`,sx:{maxWidth:s===e.length-1?"none":"150px",textDecoration:"inherit"},children:n}),(0,cs.jsx)(mn.Z,{children:n?` ${l}`:l})]},s))});return(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{ml:-3,mr:1,mt:"2px"},children:e.length>1?(0,cs.jsx)(ww.h,{...(0,cK.f)("side-panel-nav-button-up"),"aria-label":"navigate up one level",disabled:1===e.length||!t,icon:me.wyc,onClick:t,variant:"invisible",sx:{color:"fg.muted",":hover":{bg:"transparent",boxShadow:"none"},":disabled":{color:"fg.muted"},display:"flex",alignItems:"center",justifyContent:"center",pr:2,py:0,pt:"4px",pl:"8px",height:18,width:18,"& svg":{verticalAlign:"top!important"}}}):(0,cs.jsx)(cW.Z,{sx:{ml:"10px",mr:2,mt:"2px"}})}),a]})},En=()=>{let{openPaneHistoryItem:e}=TY(),t=TQ(),a=a=>{if(a.metaKey||a.shiftKey||1===a.button)return;a.preventDefault();let n=parseInt(a.currentTarget.getAttribute("data-id")??(t.length-2).toString()),r={historyIdx:n,item:t[n]};e(r)},n=[...t],r=n.map((e,t)=>{let a=e.getExtendedRepository(),r=a?.name||e.getRepositoryName()||"",l=a?.url?(0,cs.jsx)(bg,{repository:a}):void 0,i=t===n.length-5||n.length<5&&0===t,s=n[t-1],o=s&&s.getRepositoryName()||"";return!i&&o&&o===r&&(r="",l=void 0),{url:e.getUrl(),repoName:r,repoIcon:l,issueNumber:`#${e.getItemNumber()}`,id:t}});return(0,cs.jsx)(Ea,{items:r.slice(-5),onClick:a})};try{(nC=En).displayName||(nC.displayName="SidePanelBreadcrumbsWrapper")}catch{}var Er=a(21364);let El=({itemType:e,state:t})=>{let a=null;return e===jS.PROJECT_DRAFT_ISSUE&&(a=(0,cs.jsx)(Ei,{})),e===jS.ISSUE&&(a=(0,cs.jsx)(Es,{state:t.state,reason:t.stateReason})),a?(0,cs.jsxs)(cW.Z,{as:"figure",sx:{m:0},children:[(0,cs.jsx)("figcaption",{style:{position:"absolute",clipPath:"circle(0)"},children:"Item status"}),a]}):null},Ei=()=>(0,cs.jsx)(Er.Z,{status:"issueDraft",variant:"small",children:"Draft"}),Es=({state:e,reason:t})=>e===fz.Open?(0,cs.jsx)(Er.Z,{status:"issueOpened",variant:"small",className:"prc-StateLabel--open",children:"Open"}):e===fz.Closed&&t===fU.NotPlanned?(0,cs.jsxs)(Er.Z,{status:"draft",variant:"small",sx:{"& > svg:first-child":{visibility:"hidden",position:"absolute"}},children:[(0,cs.jsx)(me.C4D,{}),(0,cs.jsx)(mn.Z,{sx:{pl:1},children:"Closed"})]}):e===fz.Closed?(0,cs.jsx)(Er.Z,{status:"issueClosed",variant:"small",children:"Closed"}):null;try{(nS=El).displayName||(nS.displayName="ItemStateLabel")}catch{}try{(nI=Ei).displayName||(nI.displayName="DraftIssueState")}catch{}try{(nN=Es).displayName||(nN.displayName="IssueState")}catch{}let Eo=({onResize:e}={})=>{let[t,a]=(0,cg.useState)(()=>document.getElementById("memex-project-view-root")),n=PV(t);(0,cg.useLayoutEffect)(()=>{t||a(document.getElementById("memex-project-view-root"))},[t]);let r=pZ(e);return(0,cg.useLayoutEffect)(()=>{r.current?.(n)},[n,r]),n},Ed={completed:0,total:0,percent:0};function Eu(e){if(!e)return{};let{repositoryId:t,itemId:a,title:n,url:r,state:l,stateReason:i,repositoryName:s,displayNumber:o,assignees:d,labels:u}=e;return{item:new HierarchySidePanelItem({key:{repoId:t,issueId:a},title:n,url:r,state:l,stateReason:i,repoName:s,number:o,assignees:d,labels:u},Ed)}}function Ec(e){let{title:t,state:a,stateReason:n,url:r,number:l,repoId:i,repoName:s,userName:o,assignees:d,labels:u}=e;return{ownerId:e.key.ownerId,uuid:e.key.primaryKey.uuid,itemId:e.key.itemId,title:t,state:a,stateReason:n,url:r,displayNumber:l,repositoryId:i,repositoryName:s,ownerLogin:o,assignees:d,labels:u,position:0}}let Em=({currentValue:e=[]})=>{let[t,a]=(0,cg.useState)(!1),[n,r]=(0,cg.useState)(!1),[l,i]=(0,cg.useState)(null),{openPaneHistoryItem:s}=TY(),o=PV(l),d=(0,cg.useRef)(null),u=(0,cg.useRef)(null),c=()=>a(!t),m=e.length>2&&!t||n,p=t&&!n,f=e.slice(0,2),h=p?e:f,{clientHeight:g}=Eo({onResize:()=>{n&&((0,yX.flushSync)(()=>{r(!1)}),r(!0))}});return(0,cg.useEffect)(()=>{if(!d.current)return;let e=d.current.getBoundingClientRect(),t=e.right>(window.innerWidth||document.documentElement.clientWidth);n||r(t)},[n,t]),e.length?(0,cs.jsx)("div",{ref:u,children:(0,cs.jsxs)(Eh,{ref:i,style:{width:o.clientWidth},children:[(0,cs.jsx)(CQ.Z,{as:"div",onMouseEnter:c,onMouseLeave:c,ref:d,size:"large",sx:t&&!n?{...Eb,...Ev}:Eb,...(0,cK.f)("tracked-by-label"),children:(0,cs.jsx)(Ex,{showElipsis:m,children:(0,cs.jsx)(Ef,{items:h})})}),(0,cs.jsx)(kA.P,{anchorRef:u,open:n,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{width:"353px",maxHeight:g,overflow:"auto"},onEscape:()=>r(!1),onClickOutside:()=>r(!1),children:(0,cs.jsx)(kL.S,{children:(0,cs.jsx)(kL.S.Group,{children:e.map(e=>(0,cs.jsx)(kL.S.LinkItem,{href:e.url,onClick:Ep(e,s),rel:"noreferer",role:"button",target:"_blank",children:(0,cs.jsx)(Ey,{title:`Tracking: ${e.title}`,displayNumber:e.displayNumber,state:e.state,url:e.url})},e.itemId))})})})})]})}):null},Ep=(e,t)=>{let a=Eu(e);return e=>{e.ctrlKey||e.metaKey||!a.item||(e.preventDefault(),t(a))}},Ef=({items:e})=>{let{openPaneHistoryItem:t}=TY();return(0,cs.jsx)(cs.Fragment,{children:e.map((a,n)=>(0,cs.jsx)(Eg,{onClick:Ep(a,t),title:`#${a.displayNumber}${e.length>1&&n!==e.length-1?",":""}`,state:a.state,url:a.url},a.itemId))})},Eh=cw.ZP.div`
  position: relative;
`,Eg=({displayNumber:e,title:t,state:a,url:n,...r})=>(0,cs.jsxs)(yH.Z,{...r,target:"_blank",rel:"noreferer",href:n,role:"button",children:[(0,cs.jsx)(xr,{state:a,type:"Issue",isDraft:!1}),(0,cs.jsx)(mn.Z,{as:"span",sx:{color:"fg.muted",fontSize:0,mx:1},children:t})]}),Ey=({displayNumber:e,title:t,state:a,url:n,...r})=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},...r,children:[(0,cs.jsx)(xr,{state:a,type:"Issue",isDraft:!1}),(0,cs.jsx)(mn.Z,{as:"span",sx:{color:"fg.default",fontSize:0,mx:1},children:t}),(0,cs.jsx)(mn.Z,{as:"span",sx:{color:"fg.muted",fontSize:0,mx:1,flexGrow:1,textAlign:"end"},children:`#${e}`})]}),Ex=({showElipsis:e,children:t})=>{let{trackedBy:a}=fa;return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(mn.Z,{as:"span",sx:{color:"fg.muted",fontSize:0,mr:1},children:a}),t,e&&(0,cs.jsx)(mn.Z,{as:"span",sx:{color:"fg.muted"},children:"..."})]})},Eb={backgroundColor:"canvas.subtle",color:"fg.muted",cursor:"pointer",display:"flex",justifyContent:"center",p:"4px 12px",overflow:"hidden",textAlign:"left"},Ev={position:"absolute",zIndex:1,top:0,bottom:0,margin:"auto"};try{(nT=Em).displayName||(nT.displayName="TrackedByLabel")}catch{}try{(n_=Ef).displayName||(n_.displayName="TrackedByItems")}catch{}try{(nR=Eg).displayName||(nR.displayName="TrackedByLink")}catch{}try{(nP=Ey).displayName||(nP.displayName="TrackedByMenuItem")}catch{}try{(nD=Ex).displayName||(nD.displayName="TrackedByLabelContent")}catch{}function Ew({progress:e}){let{theme:t}=(0,cc.Fg)();return(0,cs.jsxs)("svg",{width:"16",height:"16","data-target":"tracked-issues-progress.progress","data-circumference":"38",style:{transform:"rotate(-90deg)"},children:[e<1?null:(0,cs.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0206 11.1074C9.68518 11.3949 9.18014 11.3561 8.8926 11.0206L5.8926 7.52061C5.62055 7.20322 5.63873 6.72989 5.93432 6.4343L7.43432 4.9343C7.74674 4.62188 8.25327 4.62188 8.56569 4.9343C8.87811 5.24672 8.87811 5.75325 8.56569 6.06567L7.58953 7.04182L10.1074 9.97935C10.3949 10.3148 10.3561 10.8198 10.0206 11.1074Z",fill:t?.colors.done.fg}),(0,cs.jsx)("circle",{stroke:t?.colors.border.default,strokeWidth:"2",fill:"transparent",cx:"50%",cy:"50%",r:"6"}),(0,cs.jsx)("circle",{style:{transition:"stroke-dashoffset 0.35s"},stroke:t?.colors.done.fg,strokeWidth:"2",strokeDasharray:38,strokeDashoffset:38-38*e,strokeLinecap:"round",fill:"transparent",cx:"50%",cy:"50%",r:"6"})]})}function Ek(e){let{completed:t,total:a,percent:n,description:r="",showPercent:l=!1,size:i="small",variant:s="default"}=e,o="default"===s?Ej:{...Ej,...EC,..."large"===i?{height:"25.5px",fontSize:"12px",fontWeight:400,p:"5px 12px"}:{}};return(0,cs.jsxs)(cW.Z,{sx:o,children:[(0,cs.jsx)(Ew,{progress:e.percent/100||0}),r?(0,cs.jsx)("div",{...(0,cK.f)("progress-text"),children:r}):(0,cs.jsx)("div",{...(0,cK.f)("progress-text"),children:l?pX.progressCount({percent:n,total:a}):`${t} of ${a}`}),"default"===s&&(0,cs.jsx)(cW.Z,{className:"triangle",sx:{opacity:0,transitionProperty:"transform, opacity",transitionDuration:"0.2s",transitionTimingFunction:"ease-in-out",position:"absolute",right:0,paddingRight:0,transform:"translateX(-12px)"},children:(0,cs.jsx)(mt.Z,{icon:me.VZf})})]})}let Ej={borderRadius:"30px",border:"1px solid",borderColor:"border.default",pl:"2px",py:"1px",pr:"8px",fontSize:0,color:"fg.muted",fontWeight:"bold",flexWrap:"nowrap",display:"flex",gap:1,alignItems:"center",lineHeight:"1",flexShrink:0,position:"relative",transitionProperty:"background-color, padding-right",transitionDuration:"0.2s",transitionTimingFunction:"ease-in-out","&:hover, &:focus":{backgroundColor:"canvas.subtle",borderColor:"border.default",cursor:"pointer",color:"fg.default",pr:"16px",".triangle":{opacity:"1",transform:"translateX(0)"}}},EC={"&:hover, &:focus":{backgroundColor:"canvas.subtle",borderColor:"border.default",cursor:"pointer",color:"fg.default"}};try{(nE=Ew).displayName||(nE.displayName="ProgressIcon")}catch{}try{(nL=Ek).displayName||(nL.displayName="SubtaskProgress")}catch{}let ES=({completion:e})=>{if(!e||0===e.total)return null;let{completed:t,percent:a,total:n}=e,{tasks:r}=ft,l=r(t,n);return t?(0,cs.jsx)(Ek,{completed:t,description:l,percent:a,size:"large",total:n,variant:"label"}):(0,cs.jsxs)(CQ.Z,{size:"large",variant:"secondary",sx:{display:"flex",height:"25.5px",p:"5px 12px"},children:[(0,cs.jsx)(me.yAY,{size:16}),(0,cs.jsx)(mn.Z,{as:"div",sx:{m:"0 4px"},children:l})]})};try{(nA=ES).displayName||(nA.displayName="TracksLabel")}catch{}let EI=()=>{let{sidePanelMetadata:e}=De(),{completion:t,trackedBy:a}=e;return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",gap:"8px"},...(0,cK.f)("tracking-fields"),children:[(0,cs.jsx)(ES,{completion:t}),a?.length?(0,cs.jsx)(Em,{currentValue:a}):null]})};try{(nM=EI).displayName||(nM.displayName="TrackingFields")}catch{}let EN=(0,cg.memo)(function({item:e,isLoading:t,initialFocusRef:a,selectedTab:n,onTabChange:r,showBreadcrumbs:l,showTabs:i}){let{closePane:s}=TY(),{sidePanelMetadata:o}=De(),{memex_sidepanel_tracking_fields:d}=xO(),{title:u,createdAt:c,user:m,state:p,itemKey:f}=o,h=!l&&e.contentType===mu.Issue;return(0,cs.jsxs)(cW.Z,{as:"header",sx:{backgroundColor:"canvas.default",zIndex:1},children:[(0,cs.jsx)(cW.Z,{sx:{px:[3,"",4],pt:3},children:(0,cs.jsx)(cW.Z,{sx:{display:"flex"},children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",flex:"auto"},children:[l||h?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,cs.jsx)(cW.Z,{...(0,cK.f)("side-panel-breadcrumbs"),sx:{flexGrow:1},children:l?(0,cs.jsx)(En,{}):(0,cs.jsx)(ET,{item:e})}),(0,cs.jsx)(E_,{closePane:s})]}),(0,cs.jsx)(ER,{ref:a,item:e,title:u,isLoading:t})]}):(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(ER,{ref:a,item:e,title:u,isLoading:t}),(0,cs.jsx)(E_,{closePane:s})]}),!t&&c&&m.login?(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:2,mt:1},children:[(0,cs.jsx)(El,{itemType:f.kind,state:p}),d&&(0,cs.jsx)(EI,{}),(0,cs.jsxs)(mn.Z,{sx:{fontSize:1,fontStyle:"normal"},as:"address",children:[(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold"},children:m.login}),(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},children:[" opened ",(0,cs.jsx)(DS.Z,{datetime:c})]})]})]}):null]})})}),i?(0,cs.jsx)(EP,{selectedTab:n,onTabChange:r}):(0,cs.jsx)(cW.Z,{sx:{borderBottom:"1px solid",borderColor:"border.muted",pb:4}})]})});EN.displayName="SidePanelHeader";let ET=({item:e})=>{let t=e.getExtendedRepository(),a=t?.name||e.getRepositoryName()||"",n=t?.url?(0,cs.jsx)(bg,{repository:t}):void 0;return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[n&&(0,cs.jsx)(mn.Z,{sx:{mr:1},children:n}),(0,cs.jsx)(mn.Z,{children:`${a} #${e.getItemNumber()}`})]})},E_=({closePane:e})=>(0,cs.jsx)(ww.h,{variant:"invisible","aria-label":"Close",sx:{ml:2,color:"fg.default"},icon:me.b0D,onClick:()=>e(),...(0,cK.f)("side-panel-button-close")}),ER=(0,cg.memo)((0,cg.forwardRef)(function({item:e,title:t,isLoading:a},n){let[r,l]=PO(),[i,s]=(0,cg.useState)(""),o=(0,cg.useRef)(null),{hasWritePermissions:d}=xQ(),{postStats:u}=v4(),{addToast:c}=pU(),{editIssueTitle:m,sidePanelMetadata:{capabilities:p,itemKey:f,issueNumber:h,url:g}}=De(),y=(0,cg.useMemo)(()=>p?.includes("editTitle"),[p]);(0,cg.useImperativeHandle)(n,()=>o.current);let x=(0,cg.useCallback)(()=>{r||s(t.raw)},[t,r]);(0,cg.useEffect)(()=>x(),[x]);let b=(0,cg.useCallback)(async t=>{let a=jf(t);e&&(await m(a),u({name:vx,ui:vn,memexProjectItemId:e.id}))},[m,e,u]),v=fx({request:b,rollback:x}),w=(0,cg.useCallback)(async()=>{if(o.current&&o.current instanceof HTMLInputElement){let e=o.current.value.trim();if(""===e){c({message:pX.titleCannotBeBlank,type:pj.warning});return}await v.perform(e)}l(!1)},[v,c,l]),k=(0,cg.useCallback)(e=>{s(e.target.value)},[s]),j=(0,cg.useCallback)(e=>{switch(e.key){case wf.ENTER:w(),e.preventDefault();break;case wf.ESCAPE:x(),l(!1),e.preventDefault()}},[w,x,l]),C=Ds(j),S=(0,cg.useCallback)(()=>{d&&(x(),l(!0))},[d,x,l]);(0,cg.useEffect)(()=>{r?o.current?.focus():setTimeout(()=>{document.activeElement===document.body&&o.current?.focus()})},[r]);let I=Rh();return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexGrow:1,justifyContent:"space-between",alignItems:"flex-start",gap:2,pt:r?1:0,mb:r?1:0},children:[(0,cs.jsx)(cW.Z,{sx:{flexGrow:1},...(0,cK.f)("side-panel-title"),children:r?(0,cs.jsx)(Rs.Z,{...I,sx:{width:"100%"},children:(0,cs.jsx)(wE.Z,{"aria-label":"Item title",sx:{lineHeight:"18px"},ref:o,value:i,onChange:k,...C,size:"small",...(0,cK.f)("side-panel-title-input")})}):(0,cs.jsx)(cs.Fragment,{children:(0,cs.jsx)(mn.Z,{sx:{fontSize:4,fontWeight:"bold",maxWidth:"100%",display:"inline",wordBreak:"break-word"},as:"h2",...(0,cK.f)("side-panel-title-content"),children:a?(0,cs.jsx)(mn.Z,{sx:{fontWeight:"normal",fontSize:3},children:"Loading..."}):f.kind===jS.ISSUE&&h&&g?(0,cs.jsxs)(yH.Z,{href:g,target:"_blank",sx:{color:"fg.default"},onClick:()=>u({name:vz}),children:[(0,cs.jsx)(y9,{as:"bdi",children:t.html}),(0,cs.jsxs)(mn.Z,{sx:{ml:2,color:"fg.muted",fontWeight:"normal"},children:["#",h]})]}):(0,cs.jsx)(y9,{as:"bdi",children:t.html})})})}),(0,cs.jsxs)(cW.Z,{sx:{mt:r?0:1},children:[!r&&!a&&y&&(0,cs.jsx)(xh.z,{size:"small",onClick:S,...(0,cK.f)("side-panel-title-edit-button"),"aria-label":"Edit title",children:"Edit"}),r&&(0,cs.jsxs)(cW.Z,{sx:{display:"flex",gap:2},children:[(0,cs.jsx)(xh.z,{size:"small",variant:"primary",onClick:w,...(0,cK.f)("side-panel-title-save-button"),children:"Save"}),(0,cs.jsx)(xh.z,{size:"small",onClick:()=>{x(),l(!1)},...(0,cK.f)("side-panel-title-revert-button"),children:"Cancel"})]})]})]})})),EP=({selectedTab:e,onTabChange:t})=>(0,cs.jsxs)(Ee.Z,{sx:{pl:3,flexShrink:0,cursor:"pointer",borderBottom:0},children:[(0,cs.jsx)(Ee.Z.Link,{onClick:()=>t("details"),selected:"details"===e,sx:{"&:hover":{outline:"none"}},children:"Details"}),(0,cs.jsx)(Ee.Z.Link,{onClick:()=>t("tracks"),selected:"tracks"===e,sx:{"&:hover":{outline:"none"}},children:"Tracks"})]});try{(nF=ER).displayName||(nF.displayName="SidePanelTitle")}catch{}try{(nZ=ER).displayName||(nZ.displayName="SidePanelTitle")}catch{}var ED=a(32740);function EE(e){let t=(0,cg.useId)(),[a,n]=(0,cg.useState)(!1),r=e.open??a,l=e.id??t;return[{"aria-describedby":l,onPointerEnter:(0,cg.useCallback)(()=>n(!0),[]),onPointerLeave:(0,cg.useCallback)(()=>n(!1),[])},(0,cs.jsx)(ED.u,{...e,open:r,id:l},"portal-tooltip")]}let EL=()=>{let{items:e}=h_(),{openProjectItemInPane:t,openPaneHeirarchyHistoryItem:a}=TY(),{getAllProjectRelationships:n}=SX(),r=(0,cg.useCallback)(r=>{let l=Eu(Ec(r));return i=>{if(i.ctrlKey||i.metaKey||!l.item)return;i.preventDefault();let s=e.find(e=>e.content.id===r.key.itemId);if(s)t(s);else{let r=n().get(l.item.itemId()),i=e.find(e=>e.content.id===r?.at(0));i&&(t(i),a(l))}}},[n,e,a,t]);return{createSidePanelHandler:r}},EA="data-dnd-drag-id",EM="data-dnd-drag-type";function EF(e,t){let a=(0,cg.useRef)(!1);(0,cg.useEffect)(()=>{let n=Boolean(t);return n?(document.body.classList.add(e),a.current=!0):(a.current&&document.body.classList.remove(e),a.current=!1),()=>{a.current&&document.body.classList.remove(e),a.current=!1}},[e,t])}function EZ(e,t){return e&&t?{type:"SET_DROP_TARGET",dragID:e,side:t}:{type:"SET_DROP_TARGET",dragID:null,side:null}}function EO(e,t,a,n,r){return{type:"BEGIN_AWAITING_DRAG",dragID:e,dragType:t,dragOffset:a,dragAxis:r??null,dragOrigin:n??null}}function E$(){return{type:"BEGIN_DRAG"}}function EV(){return{type:"STOP_DRAG"}}function EB(e,t){return{type:"BEGIN_AWAITING_DROP",dropID:e,dropType:t}}function Ez(){return{type:"STOP_AWAITING_DROP"}}function EU(e,t){let a=EK(e,t);return(0,wK.Z)(e,a)?e:a}function EK(e,t){switch(t.type){case"BEGIN_AWAITING_DRAG":return{...e,isDragging:!1,isAwaitingDrag:!0,dragID:t.dragID,dragAxis:t.dragAxis,dragOffset:t.dragOffset,dragType:t.dragType,dragOrigin:t.dragOrigin};case"BEGIN_DRAG":return{...e,isDragging:!0,isAwaitingDrag:!1};case"STOP_DRAG":return{...e,isDragging:!1,isAwaitingDrag:!1,dragID:null,dragType:null,dropID:null,dropType:null};case"BEGIN_AWAITING_DROP":return{...e,dropID:t.dropID,dropType:t.dropType};case"STOP_AWAITING_DROP":return{...e,dropID:null,dropType:null};case"SET_DROP_TARGET":return{...e,dropTarget:t.dragID,dropSide:t.side}}}function EW(e,t,a){requestAnimationFrame(()=>{EH(),e&&t&&(e.classList.add("show-sash"),e.classList.add(`show-sash-${t}`),e.classList.add(`show-sash-${a}`))})}function EH(){for(let e of document.querySelectorAll(".show-sash"))e.classList.remove("show-sash","show-sash-after","show-sash-before","show-sash-card","show-sash-column","show-sash-view","show-sash-singleSelectItem")}function EG(e){let t=e.dropZone.getBoundingClientRect();return Eq(e,t)}function Eq(e,t,a=10,n=0){let r;let{point:l,dropType:i,dragAxis:s}=e,o="horizontal"===s?{...l,x:l.x+n}:{...l,y:l.y+n},d=EQ(t,o);if(!d&&a<0)return null;if(!d)return Eq(e,t,-a,0);if("horizontal"===s){let e=t.top+t.height/2;r=document.elementFromPoint(o.x,e)}else{let e=t.left+t.width/2;r=document.elementFromPoint(e,o.y)}let u=r?.closest(`[${EM}=${i}]`)??null;if(!u)return Eq(e,t,a,n+a);let c=u.getBoundingClientRect(),m="horizontal"===s&&l.x>c.left+c.width/2||"horizontal"!==s&&l.y>c.top+c.height/2?"after":"before";return[u,m]}function EQ(e,t){return e.top<t.y&&e.right>t.x&&e.bottom>t.y&&e.left<t.x}let EX=(0,cg.createContext)(null),EY=(0,cg.createContext)(null),EJ=(0,cg.createContext)({isDragging:!1,dragType:null}),E0=(0,cg.createContext)(null);function E1(e){let[t,a]=(0,cg.useReducer)(EU,{isDragging:!1,isAwaitingDrag:!1,dragID:null,dragAxis:null,dragOffset:null,dragType:null,dragOrigin:null,dropID:null,dropType:null,dropTarget:null,dropSide:null}),n=(0,cg.useRef)({onDragStart:null,onDragEnd:null}),r=(0,cg.useRef)(t),l=(0,cg.useMemo)(()=>new Map,[]),i=(0,cg.useMemo)(()=>new Map,[]),s=(0,cg.useRef)(null),{onDragStart:o,onDragEnd:d}=n.current,u=(0,cg.useCallback)(()=>{a(EV()),d&&d();let e=s.current?.element;e&&e.remove(),requestAnimationFrame(()=>{EH()})},[d]),c=(0,cg.useCallback)(()=>{a(E$()),o&&o(),removeEventListener("mousemove",c)},[o]),m=(0,cg.useCallback)(e=>{let a=s.current;a&&requestAnimationFrame(()=>{t.dragAxis&&"vertical"!==t.dragAxis||(a.element.style.top=`${e.clientY-(t.dragOffset?.y??0)}px`),t.dragAxis&&"horizontal"!==t.dragAxis||(a.element.style.left=`${e.clientX-(t.dragOffset?.x??0)}px`)})},[t.dragAxis,t.dragOffset?.x,t.dragOffset?.y]),p=(0,cg.useCallback)(e=>{0===e.button&&u()},[u]);EF("is-dragging",t.isDragging),(0,cg.useEffect)(()=>{r.current=t},[t]),(0,cg.useEffect)(()=>(t.isAwaitingDrag?(addEventListener("mousemove",c),addEventListener("mouseup",u)):(removeEventListener("mousemove",c),removeEventListener("mouseup",u)),()=>{removeEventListener("mousemove",c),removeEventListener("mouseup",u)}),[c,u,t.isAwaitingDrag]),(0,cg.useEffect)(()=>(t.isDragging&&(addEventListener("mousedown",u),addEventListener("mousemove",m),addEventListener("mouseup",p)),()=>{removeEventListener("mousedown",u),removeEventListener("mousemove",m),removeEventListener("mouseup",p)}),[u,m,p,t.isDragging]);let f=(0,cg.useMemo)(()=>({state:t,stateRef:r,dispatch:a,dragRef:s,dropMap:l,metaMap:i,eventHandlersRef:n}),[l,i,t]),h=(0,cg.useMemo)(()=>({stateRef:r,dispatch:a,dragRef:s,dropMap:l,metaMap:i,eventHandlersRef:n}),[l,i]),g=(0,cg.useMemo)(()=>({isDragging:t.isDragging,dragType:t.isDragging?t.dragType:null}),[t.dragType,t.isDragging]);return(0,cs.jsx)(EX.Provider,{value:f,children:(0,cs.jsx)(EY.Provider,{value:h,children:(0,cs.jsx)(EJ.Provider,{value:g,children:(0,cs.jsx)(E0.Provider,{value:t.dropID,children:e.children})})})})}try{(nO=EX).displayName||(nO.displayName="Context")}catch{}try{(n$=EY).displayName||(n$.displayName="StatelessContext")}catch{}try{(nV=EJ).displayName||(nV.displayName="IsDraggingContext")}catch{}try{(nB=E0).displayName||(nB.displayName="DropIDContext")}catch{}try{(nz=E1).displayName||(nz.displayName="DragDropWithIdsContext")}catch{}function E2(e){let{dispatch:t,dragRef:a,eventHandlersRef:n}=E8(),r=(0,cg.useCallback)(r=>{let l=r.nativeEvent.target?.nodeName;if(0!==r.nativeEvent.button||"INPUT"===l||"TEXTAREA"===l||r.defaultPrevented)return;let i=document.activeElement?.nodeName;if("INPUT"!==i&&"TEXTAREA"!==i&&r.preventDefault(),e.dragRef.current&&"card"===e.dragType){let t=e.dragRef.current.getBoundingClientRect(),n=e.dragRef.current,r=n.cloneNode(!0);r.style.position="fixed",r.style.top=`${t.top}px`,r.style.left=`${t.left}px`,r.style.opacity="0.5",r.style.display="none",r.style.zIndex="11",r.style.width=`${t.width}px`,r.style.height=`${t.height}px`,r.style.pointerEvents="none",requestAnimationFrame(()=>{let t=e.dragRef.current?.parentElement;t&&t.appendChild(r)}),a.current={element:r,rect:t}}else a.current=null;let s={x:r.clientX-(a.current?.rect.left??0),y:r.clientY-(a.current?.rect.top??0)};n.current={...n.current,onDragStart:e.onDragStart??null,onDragEnd:e.onDragEnd??null},t(EO(e.dragID,e.dragType,s,e.dragOrigin,e.dragAxis))},[t,a,n,e.dragAxis,e.dragID,e.dragOrigin,e.dragRef,e.dragType,e.onDragEnd,e.onDragStart]);return{props:e.disable?{}:{onMouseDown:r}}}function E5(e){let t=E2(e),{metaMap:a}=E8(),{dragType:n,dragID:r,metadata:l}=e;return(0,cg.useEffect)(()=>(E7(a,n,r,l),()=>{Le(a,n,r)}),[r,n,a,l]),{handle:t,props:{[EA]:e.dragID,[EM]:e.dragType,"data-dnd-drag-index":e.dragIndex,"data-dnd-drag-transform-disable":Boolean(e.disable)}}}function E3(e){let{stateRef:t,dispatch:a,dragRef:n,dropMap:r,metaMap:l}=E8(),i=(0,cg.useRef)(null);(0,cg.useEffect)(()=>(r.set(e.dropID,[e.dropType,e.dropRef]),()=>{r.delete(e.dropID)}),[r,e.dropID,e.dropRef,e.dropType]);let{onDragOver:s,disableSash:o}=e,d=(0,cg.useCallback)(r=>{let{dragType:l,dragAxis:d,dropID:u}=t.current;u||requestAnimationFrame(()=>{EH()});let c={x:r.clientX,y:r.clientY};if(i.current=c,l===e.dropType){u!==e.dropID&&a(EB(e.dropID,e.dropType)),s&&s();let t=EG({dropZone:r.currentTarget,point:c,dropType:e.dropType,dragAxis:d});if(!t){a(EZ(null));return}let l=gZ(t[0].getAttribute(EA));a(EZ(l,t[1])),o||EW(t[0],t[1],e.dropType),n.current&&(n.current.element.style.display="block")}},[t,e.dropType,e.dropID,s,a,o,n]),{onDrop:u}=e,c=(0,cg.useCallback)(()=>{let a=t.current,n=a.isDragging&&a.dropID===e.dropID&&a.dropType===e.dropType&&a.dragType===e.dropType;if(n&&u){let e=E9(l,gZ(a.dragType),gZ(a.dragID));if(!e)throw Error(`No metadata found for ${a.dragType} ${a.dragID}`);let t=E9(l,gZ(a.dropType),gZ(a.dropTarget))??null;u({state:a,dragMetadata:e,dropMetadata:t,side:a.dropSide})}},[l,u,e.dropID,e.dropType,t]),m=(0,cg.useCallback)(n=>{let r=i.current;if(!r)return;let{dragType:l,dragAxis:s,dropID:d}=t.current;if(l===e.dropType){d!==e.dropID&&a(EB(e.dropID,e.dropType));let t=EG({dropZone:n.currentTarget,point:r,dropType:e.dropType,dragAxis:s});if(!t||o)return;EW(t[0],t[1],e.dropType)}},[o,a,e.dropID,e.dropType,t]),p=(0,cg.useCallback)(()=>{let{dropID:n}=t.current;n===e.dropID&&(i.current=null,a(Ez()))},[a,e.dropID,t]);return{props:{onMouseMove:d,onMouseUp:c,onMouseLeave:p,onScroll:m,"data-dnd-drop-id":e.dropID,"data-dnd-drop-type":e.dropType}}}function E4(){let e=(0,cg.useContext)(EJ);if(null==e)throw Error("useIsDragging must be used within a DragDropContext");return e}function E6(){let e=(0,cg.useContext)(E0);return e}function E8(){let e=(0,cg.useContext)(EY);if(null==e)throw Error("useStatelessDragDrop must be used within a DragDropContext");return e}function E7(e,t,a,n){let r=e.get(t);r?r.set(a,n):e.set(t,new Map([[a,n]]))}function E9(e,t,a){return e.get(t)?.get(a)??null}function Le(e,t,a){let n=e.get(t);n&&(n.delete(a),0===n.size&&e.delete(t))}let Lt="350px",La=(0,cw.ZP)(cW.Z)`
  margin-right: ${(0,ch.U2)("space.2")};
  width: ${Lt};
  min-width: ${Lt};
  display: flex;
  flex-direction: column;
  overflow-y: hidden;
  border-radius: ${(0,ch.U2)("radii.2")};
  background-color: ${(0,ch.U2)("colors.canvas.inset")};

  &.hidden {
    display: none;
  }
`,Ln=(0,cw.ZP)(La)`
  &:after,
  &:before {
    content: '';
    display: none;
    position: absolute;
    top: ${(0,ch.U2)("space.2")};
    width: ${(0,ch.U2)("space.1")};
    background-color: ${(0,ch.U2)("colors.accent.emphasis")};
    height: calc(100% - 16px);
    border: 0;
    border-radius: 6px;
    z-index: 12;
  }

  body.is-dragging &.show-sash-column.show-sash-after {
    &:after {
      margin-left: ${"352px"};
      display: block;
    }
  }

  /*The :not selector removes the 1st column (No Status) from the selection. */
  body.is-dragging &.show-sash-column.show-sash-before:not([${EA}='${Ip}']) {
    &:before {
      margin-left: -6px;
      display: block;
    }
  }
`,Lr=(0,cg.memo)((0,cg.forwardRef)(({headerContent:e,testingName:t,children:a,...n},r)=>(0,cs.jsxs)(Ln,{ref:r,"data-board-column":t,...(0,cK.f)("board-view-column"),...n,children:[(0,cs.jsx)(cW.Z,{sx:{flexDirection:"column",flexShrink:0,display:"flex"},children:e}),a]})));Lr.displayName="ColumnFrame";try{(nU=La).displayName||(nU.displayName="StyledFrame")}catch{}try{(nK=Ln).displayName||(nK.displayName="StyledFrameWithSash")}catch{}let Ll=e=>{let t=e.target,a=t instanceof HTMLAnchorElement;a&&e.stopPropagation()},Li=(0,cg.forwardRef)(({option:e,sx:t,...a},n)=>{let r=(0,cg.useRef)(null);(0,bq.z)(n,r),k0(r);let l=bZ(e.color),i="nameHtml"in e?e.nameHtml:e.name;return(0,cs.jsx)(CQ.Z,{...a,sx:{bg:l.bg,color:l.fg,borderColor:l.border,maxWidth:"100%",...t},ref:r,onClick:Ll,...(0,cK.f)("single-select-option-label"),children:(0,cs.jsx)(y9,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",lineHeight:1.5},children:i})})});Li.displayName="SingleSelectOptionLabel";let Ls={padding:"0",borderRadius:"100px",lineHeight:"18px",height:"auto",border:"none","&:focus-visible":{outlineOffset:"0 !important"}},Lo=e=>{let{toggleFilter:t}=wn(),a=(0,cg.useCallback)(a=>{a.shiftKey||a.metaKey||t(e.filterKey,e.filterValue)},[t,e.filterKey,e.filterValue]);return(0,cs.jsx)(xh.z,{variant:"invisible",onClick:a,"aria-label":`Enhancement: Click to toggle filtering by ${e.filterKey} = ${e.filterValue}`,sx:{...Ls,...e.overrideButtonStyle,position:"relative",maxWidth:"100%"},children:e.children})};var Ld=a(83508);let Lu={"--lightness-threshold":"0.453","--border-threshold":"0.96","--border-alpha":"max(0, min(calc((var(--perceived-lightness) - var(--border-threshold)) * 100), 1))",background:"rgb(var(--label-r), var(--label-g), var(--label-b))",color:"hsl(0, 0%, calc(var(--lightness-switch) * 100%))",borderColor:"hsla(var(--label-h),calc(var(--label-s) * 1%),calc((var(--label-l) - 25) * 1%),var(--border-alpha))"},Lc={"--lightness-threshold":"0.6","--background-alpha":"0.18","--border-alpha":"0.3","--lighten-by":"calc(((var(--lightness-threshold) - var(--perceived-lightness)) * 100) * var(--lightness-switch))",borderWidth:1,borderStyle:"solid",background:"rgba(var(--label-r), var(--label-g), var(--label-b), var(--background-alpha))",color:"hsl(var(--label-h), calc(var(--label-s) * 1%), calc((var(--label-l) + var(--lighten-by)) * 1%))",borderColor:"hsla(var(--label-h), calc(var(--label-s) * 1%),calc((var(--label-l) + var(--lighten-by)) * 1%),var(--border-alpha))"},Lm=({colorHex:e,url:t,nameHtml:a,sx:n,...r})=>{let{theme:l}=(0,cc.Fg)(),i=(0,cg.useRef)(null);k0(i);let s=(0,cg.useMemo)(()=>{let t=(0,Ld.H3)(wD("colors.canvas.default")(l))>.5?"light":"dark",[a,r,i,s]=(0,Ld.dF)(`#${e}`),[o,d,u,c]=(0,Ld.RH)(`#${e}`);return{...n,"--label-r":String(a),"--label-g":String(r),"--label-b":String(i),"--label-h":String(Math.round(o)),"--label-s":String(Math.round(100*d)),"--label-l":String(Math.round(100*u)),"--perceived-lightness":"calc(((var(--label-r) * 0.2126) + (var(--label-g) * 0.7152) + (var(--label-b) * 0.0722)) / 255)","--lightness-switch":"max(0, min(calc((1/(var(--lightness-threshold) - var(--perceived-lightness)))), 1))",..."light"===t?Lu:Lc}},[n,l,e]);return(0,cs.jsx)(CQ.Z,{sx:{...s},...r,ref:i,children:(0,cs.jsx)(y9,{children:a})})};try{(nW=Lm).displayName||(nW.displayName="IssueLabel")}catch{}let Lp=({linkedPullRequest:e,tabIndex:t,...a})=>(0,cs.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer","data-hovercard-url":`${e.url}/hovercard`,tabIndex:t,children:(0,cs.jsx)(Lf,{linkedPullRequest:e,...a})}),Lf=({linkedPullRequest:e,sx:t})=>{let a=(0,cg.useRef)(null);return k0(a),(0,cs.jsxs)(CQ.Z,{sx:{color:"fg.muted",...t},children:[(0,cs.jsx)(xr,{isDraft:e.isDraft,state:e.state,type:mu.PullRequest,sx:{mr:1}}),`#${e.number}`]})};try{(nH=Lf).displayName||(nH.displayName="LinkedPullRequestLabel")}catch{}let Lh=(e,t)=>{if(e.dataType!==c7.SingleSelect)return;let a=t[e.id]?.id,n=e.settings.options?.find(e=>e.id===a);return n},Lg={display:"block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"middle",whiteSpace:"nowrap",lineHeight:1.5},Ly=(e,t)=>{switch(e.dataType){case c7.SingleSelect:return Lh(e,t);case c7.Milestone:{let e=t[c9.Milestone]?.title;return e}case c7.Date:{let a=t[e.id];return mJ(a)}case c7.Text:{let a=t[e.id];return a?.raw}case c7.Number:{let a=t[e.id];return a?.value}case c7.Labels:return t.Labels?.length;case c7.LinkedPullRequests:return t[c9.LinkedPullRequests]?.length;case c7.Reviewers:return t[c9.Reviewers]?.length;case c7.Iteration:{let a=t[e.id]?.id,n=gp(e),r=n.find(e=>e.id===a);return r}case c7.Tracks:return t[c9.Tracks];case c7.TrackedBy:return t[c9.TrackedBy];default:return}},Lx=(e,t,a)=>{let n=a[e];if(n&&"id"in n&&"string"==typeof n.id){let e=n.id,a=t.find(t=>t.id===e);if(!a)return;return gc(a)}},Lb=e=>{let t=(0,cg.useRef)(null),a=pe(`${e.content}`);k0(t);let n=(0,cg.useCallback)(e=>{e.preventDefault();let{target:t}=e,a=t.tagName.toLowerCase(),n="a"===a?e.target:null;n?.href&&(e.ctrlKey||e.metaKey)&&open(n.href,"_blank")},[]),[r,l]=EE({contentRef:t,"aria-label":`${e.fieldName}: ${a}`});return(0,cs.jsxs)(CQ.Z,{...(0,cK.f)(`custom-label-${e.fieldName}`),ref:t,sx:{position:"relative",backgroundColor:"canvas.subtle",color:"fg.muted",display:"flex"},...r,children:[(0,cs.jsx)(y9,{sx:{...Lg,maxWidth:e.width},onClick:n,children:`${e.content}`}),e.noTooltip?null:l]})},Lv=e=>{let t=(0,cg.useRef)(null);k0(t);let[a,n]=EE({contentRef:t,"aria-label":`Milestone: ${e.content}`});return(0,cs.jsxs)(CQ.Z,{...(0,cK.f)("milestone-label"),ref:t,sx:{position:"relative",backgroundColor:"canvas.subtle",color:"fg.muted"},...a,children:[(0,cs.jsxs)(cW.Z,{sx:{...Lg,maxWidth:e.width},children:[(0,cs.jsx)(mt.Z,{icon:me.K37,size:14,sx:{mr:1}}),(0,cs.jsx)(y9,{children:`${e.content}`})]}),e.noTooltip?null:n]})},Lw=({repository:e,noTooltip:t})=>{let a=(0,cg.useRef)(null);k0(a);let[n,r]=EE({contentRef:a,"aria-label":`Repository: ${e.name}`});return(0,cs.jsxs)(CQ.Z,{...(0,cK.f)("repository-label"),ref:a,sx:{position:"relative",backgroundColor:"canvas.subtle",color:"fg.muted"},...n,children:[(0,cs.jsx)(bg,{repository:e,size:14,sx:{mr:1}})," ",e.name,t?null:r]})},Lk=e=>{let t=(0,cg.useRef)(null),a=e.content;k0(t);let[n,r]=EE({contentRef:t,"aria-label":`${e.fieldName}: ${a.title}
${e.iterationDateRange}`});return(0,cs.jsxs)(CQ.Z,{...(0,cK.f)("iteration-label"),ref:t,sx:{position:"relative",backgroundColor:"canvas.subtle",color:"fg.muted"},...n,children:[(0,cs.jsx)(mt.Z,{icon:me.H9J,size:14,sx:{mr:1}}),(0,cs.jsx)(y9,{children:a.titleHtml}),e.noTooltip?null:r]})},Lj=(0,cg.memo)(function(e){let{progress:t,item:a}=e,{openPane:n}=T0(),r=(0,cg.useRef)(null),l=(0,cg.useCallback)(()=>{a&&a.contentType===mu.Issue&&n(a)},[a,n]),i=pX.progressPercentCount(t.percent),[s,o]=EE({contentRef:r,"aria-label":i});return 0===t.total?(0,cs.jsx)(cs.Fragment,{}):(0,cs.jsxs)(cW.Z,{...(0,cK.f)("tracks-label"),ref:r,sx:{lineHeight:"18px",position:"relative"},...s,children:[(0,cs.jsx)(xh.z,{variant:"invisible",className:"progressItem","aria-label":i,onClick:l,sx:{p:0,borderRadius:3,height:"auto","&:focus-visible":{outlineOffset:"0 !important"}},children:(0,cs.jsx)(Ek,{variant:"label",percent:t.percent,completed:t.completed,total:t.total})}),e.noTooltip?null:o]})}),LC=({trackedByItem:e,noPrefix:t,projectOwner:a,width:n})=>{let r=(0,cg.useRef)(null);k0(r);let{createSidePanelHandler:l}=EL();return(0,cs.jsx)(CQ.Z,{...(0,cK.f)(`tracked-by-label-${e.key.itemId}`),ref:r,sx:{backgroundColor:"canvas.subtle",color:"fg.muted",mr:1},children:(0,cs.jsxs)(cW.Z,{sx:{maxWidth:n,display:"flex",alignItems:"center"},children:[t?null:(0,cs.jsx)(Lo,{filterKey:"tracked-by",filterValue:f_(e),overrideButtonStyle:{color:"inherit",fontSize:"inherit",":hover":{backgroundColor:"transparent !important"}},children:"Tracked by"}),(0,cs.jsxs)(yH.Z,{"data-hovercard-type":"issue","data-hovercard-url":`${e.url}/hovercard`,href:e.url,onClick:l(e),rel:"noreferrer",sx:{...Lg,display:"flex",alignItems:"center",color:"inherit"},target:"_blank",children:[(0,cs.jsx)(xr,{state:e.state,type:"Issue",isDraft:!1,sx:{mr:1,ml:t?void 0:1,height:"14px",width:"14px"}}),(0,cs.jsx)(mn.Z,{sx:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},children:fD(e,a)})]})]})})},LS=({field:e,columnData:t,item:a,verticalScrollbarSize:n})=>{let r=Ly(e,t),{projectOwner:l}=f1(),i=n?`calc(${Lt} - 6.5em)`:`calc(${Lt} - 5.5em)`;if(void 0===r)return null;if(e.dataType===c7.Labels){let a=t.Labels;return(0,cs.jsx)(cs.Fragment,{children:a?.map(t=>(0,cs.jsx)(Lo,{filterKey:e.name,filterValue:t.name,children:(0,cs.jsx)(Lm,{...(0,cK.f)("issue-label"),colorHex:t.color,url:t.url,nameHtml:t.nameHtml})},t.id))})}if(e.dataType===c7.LinkedPullRequests){let e=t[c9.LinkedPullRequests];return(0,cs.jsx)(cs.Fragment,{children:e?.slice(0,10).map(e=>(0,cs.jsx)(cW.Z,{...(0,cK.f)("linked-pr-label"),children:(0,cs.jsx)(Lp,{linkedPullRequest:e,sx:{mt:0}})},e.id))})}if(e.dataType===c7.Reviewers){let e=t[c9.Reviewers];return e?.length?(0,cs.jsx)(CQ.Z,{...(0,cK.f)("reviewers-label"),sx:{color:"fg.muted",overflow:"hidden"},children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,cs.jsx)(_H,{items:e.map(_$),size:16,backgroundSx:{backgroundColor:"canvas.default",boxShadow:e=>`0 0 0 2px ${e.colors.canvas.default} !important`},maxVisible:3}),(0,cs.jsx)(mn.Z,{sx:{ml:1},children:pX.reviewersCount(e.length)})]})}):null}if(e.dataType===c7.Milestone)return(0,cs.jsx)(Lo,{filterKey:e.name,filterValue:r,children:(0,cs.jsx)(Lv,{content:r,width:i})});if(e.dataType===c7.Iteration){let a=gp(e),n=Lx(e.id,a,t);return(0,cs.jsx)(Lo,{filterKey:e.name,filterValue:r.title,children:(0,cs.jsx)(Lk,{content:r,fieldName:e.name,iterationDateRange:n})})}if(e.dataType===c7.Tracks)return(0,cs.jsx)(Lj,{progress:r,item:a});if(e.dataType===c7.TrackedBy){let e=t[c9.TrackedBy];return(0,cs.jsx)(cs.Fragment,{children:e?.slice(0,10).map(e=>(0,cs.jsx)(LC,{trackedByItem:e,projectOwner:l,width:i},e.key.itemId))})}if(e.dataType===c7.SingleSelect)return r?(0,cs.jsx)(LI,{option:r,field:e,labelWidth:i}):null;let s=e.dataType===c7.Date?m3(new Date(t[e.id].value)):r;return(0,cs.jsx)(Lo,{filterKey:e.name,filterValue:s,children:(0,cs.jsx)(Lb,{content:r,fieldName:e.name,width:i})})};function LI({field:e,option:t,labelWidth:a}){let n=(0,cg.useRef)(null),[r,l]=EE({contentRef:n,"aria-label":`${e.name}: ${t.name}`});return(0,cs.jsxs)(Lo,{filterKey:e.name,filterValue:t?.name??"",children:[(0,cs.jsx)(Li,{option:t,...r,sx:{position:"relative",maxWidth:a},ref:n}),l]})}try{(nG=Lw).displayName||(nG.displayName="RepositoryFieldLabel")}catch{}try{(nq=Lj).displayName||(nq.displayName="TracksCardLabel")}catch{}try{(nQ=LC).displayName||(nQ.displayName="TrackedByCardLabel")}catch{}try{(nX=LS).displayName||(nX.displayName="CardLabel")}catch{}try{(nY=LI).displayName||(nY.displayName="SingleSelectCardLabel")}catch{}var LN=a(47142);let LT=(e,t)=>{let a=(0,LN.Gs)(e,t);return a===LN.DU&&t.toLocaleLowerCase()!==e.toLocaleLowerCase()&&(a=0),a};function L_(e,t,a,n){return e>t?-1:e<t?1:a<n?-1:a>n?1:0}function LR(e,t){let a=(0,LN.m7)(e,t),n=-1,r=0,l=[];for(let e of a)e-1!==n&&(-1===n?l.push({startIndex:r,endIndex:e,highlight:!1}):(l.push({startIndex:r,endIndex:n+1,highlight:!0}),l.push({startIndex:n+1,endIndex:e,highlight:!1})),r=e),n=e;return n===t.length-1?l.push({startIndex:r,endIndex:t.length,highlight:!0}):-1===n?l.push({startIndex:r,endIndex:t.length,highlight:!1}):(l.push({startIndex:r,endIndex:n+1,highlight:!0}),l.push({startIndex:n+1,endIndex:t.length,highlight:!1})),l}let ScoringCache=class ScoringCache{sortByWithCache(e,t){let a=this.scoreCache.get(e)||0,n=this.scoreCache.get(t)||0,r=this.textCache.get(e)||"",l=this.textCache.get(t)||"";return L_(a,n,r,l)}getText(e){return this.textCache.get(e)}setText(e,t){null==this.scoreCache.get(e)&&this.textCache.set(e,t)}getScore(e){return this.scoreCache.get(e)}setScore(e,t){this.scoreCache.set(e,t)}constructor(){this.textCache=new WeakMap,this.scoreCache=new WeakMap}};function LP(e,t,a,n,r,l=5){let i=t;if(e){for(let r of(i=[],t)){let t=a(r);n.setText(r,t);let l=LT(e,t);n.setScore(r,l),l>0&&i.push(r)}i.sort(r)}null!==l&&(i=i.slice(0,l));let s=new WeakMap;for(let t of i){let n=a(t);s.set(t,{chunks:LR(e,n)})}return{filteredItems:i,positionData:s}}let LD=new ScoringCache,LE=LD.sortByWithCache.bind(LD);function LL(e,t,a){return LP(e,t,e=>e.login+(e.name?` ${e.name}`:""),LD,LE,a)}let LA=()=>{let e=S$();return{itemsRef:e.itemsRef}},LM=()=>{let{setItems:e,itemsRef:t}=S$(),{findMemexItemIndex:a}=SV(),n=(0,cg.useCallback)((n,r)=>{let l=a(n),i=t.current[l];if(!i)return{previousItemId:-1};let s="";if(r>0){let e=l<r?t.current[r]:t.current[r-1];e&&(s=e.id)}let o=[...t.current];return o.splice(l,1),o.splice(r,0,i),e(o),{previousItemId:s,previousMovingItemIndex:l}},[t,e,a]);return{setNewRowPosition:n}},LF={Top:"top",Bottom:"bottom"};function LZ(){let{updateAndReorderItem:e}=L$(),{updateColumnValueAndPriority:t}=SK(),a=(0,cg.useCallback)(async(e,a)=>{if(!e)return Promise.resolve();await t(e,{columnValue:a})},[t]);return{updateItem:a,updateAndReorderItem:e}}function LO(e,t,a,n){let r=e.findIndex(e=>e.id===t);if(r<0)return -1;let l=e.findIndex(e=>e.id===a);return l<0?-1:l>r?"top"===n?l-1:l:"top"===n?l:l+1}function L$(){let{postStats:e}=v4(),{setNewRowPosition:t}=LM(),{findMemexItem:a}=SV(),{updateColumnValueAndPriority:n}=SK(),{itemsRef:r}=LA(),l=(0,cg.useCallback)(async(l,{reorderData:i,updateColumnAction:s},{visibleItems:o})=>{let d,u,c;let m=a(l);if(!m)return;if(i){d=LO(r.current,l,i.overItemId,i.side);let e=t(l,d);c=e.previousItemId,u=e.previousMovingItemIndex}let p=hx(s,c);if(p){try{await n(m,p)}catch(e){throw void 0!==u&&u>=0&&t(l,u),e}return i&&o&&(d=LO(o,l,i.overItemId,i.side)),e({name:"item_order",context:`position: ${d}`,memexProjectItemId:l}),d}},[a,r,e,t,n]);return{updateAndReorderItem:l}}function LV(e,t){return e&&t?{reorderData:t,updateColumnAction:e}:e?{updateColumnAction:e}:t?{reorderData:t}:void 0}let LB=e=>e.login,Lz=(e,t)=>{let a=t.find(t=>t.id===e.id);return{...e,leadingVisual:()=>(0,cs.jsx)(bL.Z,{alt:e.login,src:e.avatarUrl,sx:{mr:1}}),text:e.login,description:e.name??void 0,descriptionVariant:"inline",groupId:a?"assigned":"suggestions",...(0,cK.f)("table-cell-editor-row")}};function LU({model:e,onSaved:t}){let{updateItem:a}=LZ(),{fetchSuggestedAssignees:n}=It(),r=(0,cg.useCallback)(()=>{n(e)},[e,n]),l=(0,cg.useCallback)(async n=>{await a(e,{dataType:c7.Assignees,value:n}),t&&t()},[e,t,a]);return{fetchOptions:r,saveSelected:l}}var LK=a(90836);let LW=(0,cg.forwardRef)(({children:e,dangerousHtml:t,sx:a,...n},r)=>{let l={textAlign:"left",whiteSpace:"nowrap",color:"fg.muted",minWidth:0,overflow:"hidden",textOverflow:"ellipsis",code:{fontFamily:"fonts.mono",fontSize:0},...a};return t?(0,cs.jsx)(y9,{...n,ref:r,sx:l,children:t}):(0,cs.jsx)(mn.Z,{...n,ref:r,sx:l,children:e})});function LH(e){return{...e.reviewer,hovercardUrl:"User"===e.reviewer.type?`/hovercards?user_id=${e.reviewer.id}`:`${e.reviewer.url}/hovercard`}}function LG(e){return{...e,name:e.login}}LW.displayName="TextCell";let Lq=({user:e,isDisabled:t})=>{let a=(0,cg.useRef)(null);return k0(a),(0,cs.jsxs)(cW.Z,{sx:{mr:2,alignItems:"center",overflow:"hidden",display:"flex"},children:[(0,cs.jsx)(bL.Z,{loading:"lazy",alt:e.name,src:e.avatarUrl,sx:{minWidth:"20px",mr:1},"data-hovercard-url":e.hovercardUrl}),(0,cs.jsx)(LW,{ref:a,sx:{fontSize:1},isDisabled:t,children:e.name})]})},LQ=({users:e,isDisabled:t})=>{let a=(0,cg.useRef)(null);return(k0(a),e)?e.length>1?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(LK.Z,{sx:{zIndex:0,mr:1},children:e.map(e=>(0,cs.jsx)(bL.Z,{loading:"lazy",alt:e.name,src:e.avatarUrl,"data-hovercard-url":e.hovercardUrl},e.id))}),(0,cs.jsx)(LW,{ref:a,sx:{fontSize:1,textOverflow:"ellipsis"},isDisabled:t,children:ps(e.map(e=>e.name))})]}):(0,cs.jsx)(cs.Fragment,{children:e.map(e=>(0,cs.jsx)(Lq,{user:e,isDisabled:t},e.id))}):null};try{(nJ=Lq).displayName||(nJ.displayName="AvatarWithLogin")}catch{}try{(n0=LQ).displayName||(n0.displayName="UserGroup")}catch{}let LX=({children:e})=>(0,cs.jsx)(cW.Z,{as:"dl",children:e}),LY=({label:e,children:t,...a})=>(0,cs.jsxs)(cW.Z,{as:"div",sx:{px:2,py:1,display:"flex",gap:1,flexDirection:["row","","","column","row"]},...a,children:[(0,cs.jsx)(LJ,{children:e}),(0,cs.jsx)(cW.Z,{as:"dd",sx:{flex:1,overflow:"hidden"},children:t})]}),LJ=({children:e})=>(0,cs.jsx)(mn.Z,{as:"dt",sx:{px:2,pt:"6px",width:["33%","","","100%","33%"],flexShrink:0,fontSize:0,fontWeight:"bold",color:"fg.muted"},children:e}),L0=(0,cg.forwardRef)(({interactable:e=!1,children:t,sx:a,...n},r)=>{let l=e?{cursor:"pointer",backgroundColor:"canvas.subtle"}:{};return(0,cs.jsx)(cW.Z,{...n,sx:{px:2,py:1,background:"transparent",border:"none",borderRadius:1,":hover":l,":focus":l,width:"100%",textAlign:"left",...a},ref:r,...(0,cK.f)("field-value"),children:t})});L0.displayName="FieldValue";try{(n1=LX).displayName||(n1.displayName="SidebarFields")}catch{}try{(n2=LY).displayName||(n2.displayName="Field")}catch{}try{(n5=LJ).displayName||(n5.displayName="FieldLabel")}catch{}let L1=({model:e,columnModel:t,content:a,onSaved:n,renderer:r,editor:l})=>{let{hasWritePermissions:i}=xQ();return i?(0,cs.jsx)(l,{model:e,columnModel:t,content:a,onSaved:n}):(0,cs.jsx)(L0,{children:(0,cs.jsx)(r,{model:e,columnModel:t,content:a})})};try{(n3=L1).displayName||(n3.displayName="SidebarField")}catch{}function L2(e){let t,a;let n=e.error.name;switch(n){case"RepoArchived":a=pX.repoArchivedErrorMessage,t=(0,cs.jsx)(me.rKT,{size:26});break;case"Forbidden":a=pX.forbiddenErrorMessage,t=(0,cs.jsx)(me.mBM,{size:26});break;default:a=pX.genericErrorMessage,t=(0,cs.jsx)(me.zMQ,{size:26})}return(0,cs.jsxs)(L5,{children:[(0,cs.jsx)(L3,{children:t}),(0,cs.jsx)(L4,{className:"mt-2",children:a})]})}let L5=cw.ZP.div`
  position: relative;
  padding: 32px;
  text-align: center;
`,L3=cw.ZP.div`
  margin-right: 4px;
  margin-bottom: 8px;
  margin-left: 4px;
  color: ${(0,ch.U2)("colors.fg.muted")};
`,L4=cw.ZP.p`
  color: ${(0,ch.U2)("colors.fg.muted")};
`;try{(n4=L2).displayName||(n4.displayName="SelectMenuError")}catch{}let L6=()=>{let e=(0,cg.useContext)(S6);if(!e)throw Error("useSuggestionsContext must be used within a SuggestionsContext.Provider.");return e},L8=(e,t,a)=>{let n;let r=L6();if(a)return{suggestions:a,error:void 0};switch(t){case c9.Assignees:n=r.getSuggestedAssigneesForItem(e.getSuggestionId());break;case c9.Labels:n=r.getSuggestedLabelsForItem(e.getSuggestionId());break;case c9.Milestone:n=r.getSuggestedMilestonesForItem(e.getSuggestionId())}if(n instanceof Error){let e=n;return{suggestions:void 0,error:e}}return{suggestions:n,error:void 0}},L7=({fetchSuggestions:e,memexItemModel:t,columnId:a,filterSuggestions:n,maxSuggestions:r,options:l,initialFilterValue:i=""})=>{let[s,o]=(0,cg.useState)(i),{suggestions:d,error:u}=L8(t,a,l),c=()=>{L9(t.contentType,a)&&e&&e()},m=(0,cg.useMemo)(()=>{if(d){let e=n(s,d,r);return e.filteredItems}},[n,s,d,r]);return{onOpen:c,setFilterValue:o,filterValue:s,suggestions:d,filteredSuggestions:m,error:u}};function L9(e,t){return e!==mu.DraftIssue||SD(t)}let Ae={leadingVisual:me.KHo,text:"No Matches",disabled:!0,selected:void 0,key:"no-matches",...(0,cK.f)("table-cell-editor-empty-row")},At={leadingVisual:void 0,text:"Nothing to show",disabled:!0,selected:void 0,key:"blankslate",...(0,cK.f)("table-cell-editor-blankslate-row")};function Aa({model:e,selected:t,initialFilterValue:a,blankslateText:n,saveSelected:r,onOpenChange:l,open:i,fetchOptions:s,options:o,filterOptions:d,getOptionMatchingFilterValue:u,columnId:c,getSortAttribute:m,convertOptionToItem:p,renderCreateNewOption:f,singleSelect:h=!1,groupMetadata:g,placeholderText:y,renderAnchor:x}){let{projectLimits:b}=f1(),{postStats:v}=v4(),[w,k]=Di(t),j="Assignees"===c?c9.Assignees:"Labels"===c?c9.Labels:c9.Milestone,{onOpen:C,setFilterValue:S,filterValue:I,suggestions:N,filteredSuggestions:T,error:_}=L7({initialFilterValue:a,memexItemModel:e,columnId:j,fetchSuggestions:s,filterSuggestions:d,maxSuggestions:h?b.singleSelectColumnOptionsLimit:12,options:o}),R=pZ(C);(0,cg.useEffect)(()=>{R.current()},[e,R]);let P=(0,cg.useCallback)(t=>{r(t),v({name:w.length>0?vI:vN,memexProjectColumnId:gZ(mB(c)),memexProjectItemId:e.itemId()})},[c,e,v,r,w.length]),D=(0,DC.Z)();(0,cg.useEffect)(()=>()=>{void 0!==i||h||D()||P(w)},[i,D,w,h,P]);let E=(0,cg.useRef)(i);(0,cg.useEffect)(()=>{!E.current||i||h||P(w),E.current=i},[i,w,h,P]);let L=(0,cg.useCallback)(e=>{let t=Array.isArray(e)?e:[e].filter(e=>e),a=t.sort((e,t)=>m(e).localeCompare(m(t)));k(a),h&&P(a)},[k,h,m,P]),A=(0,cg.useMemo)(()=>new WeakMap,[p]),M=(0,cg.useMemo)(()=>new Set(w.map(e=>e.id)),[w]),F=(0,cg.useCallback)(e=>{let t=A.get(e);return t||(t=p(e,w),A.set(e,t)),t},[A,p,w]),Z=(0,cg.useMemo)(()=>(T??[]).map(F),[T,F]),O=(0,cg.useMemo)(()=>{if(!h)return(N??[]).filter(e=>M.has(e.id)).map(F);{let e=(T||N||[]).filter(e=>M.has(e.id)).map(F);return gZ(e[0])}},[T,N,F,h,M]),$=I&&T&&u&&!T.some(e=>u(I,e)),V=(0,cg.useMemo)(()=>({...At,text:n??At.text}),[n]),B=[...Z.map(e=>(h&&(e.onAction=(t,a)=>{a.preventDefault(),L(O===e?void 0:e),l(!1,"selection",a)}),e)),...I||Z.length||!n?[]:[V],...!I||Z.length||f?[]:[Ae],...$&&f?[f(I)]:[]],z=(0,cg.useCallback)(()=>_?(0,cs.jsx)(L2,{error:_}):(0,cs.jsx)(cs.Fragment,{}),[_]),U={open:i??!0,showItemDividers:!0,onSelectedChange:L,selected:O,filterValue:I,onFilterChange:S,onOpenChange:l,items:B,loading:!T&&!_,placeholderText:y,renderAnchor:x};return(g&&(U.groupMetadata=g.filter(e=>B.some(t=>"groupId"in t&&t.groupId===e.groupId))),_)?(U.renderItem=z,U.textInputProps={disabled:!0},U.items=[{}],{...U,...(0,cK.f)("table-cell-editor-error")}):U}function An({displayValue:e,saveSelected:t,selected:a,...n}){let[r,l]=(0,cg.useState)(!1),i=(0,cg.useCallback)(e=>l(e),[]),[s,o]=(0,cg.useState)(!1),d=(0,cg.useRef)(!0),u=(0,DC.Z)(),{perform:c}=fx({request:async e=>{o(!0),d.current=!1,await t(e),d.current=!0,o(!1)},rollback:()=>{d.current=!0,u()&&o(!1)}});(0,cg.useEffect)(()=>{d.current&&o(!1)},[a]);let m=Aa({...n,open:r,onOpenChange:i,selected:a,renderAnchor:t=>(0,cs.jsx)(L0,{interactable:!0,as:"button",...t,children:s?(0,cs.jsx)(yG.Z,{size:"small"}):e}),saveSelected:c});return(0,cs.jsx)(bu.b,{...m,overlayProps:{width:"small",height:"auto",maxHeight:"large",...m.overlayProps}})}An.displayName="SidebarSelectPanelFunc";let Ar=(0,cg.memo)(An);try{(n6=Ar).displayName||(n6.displayName="SidebarSelectPanel")}catch{}let Al=({columnName:e,columnType:t,...a})=>"dangerousHtml"in a&&a.dangerousHtml?(0,cs.jsx)(y9,{...S0(a,["dangerousHtml"]),children:a.dangerousHtml}):"text"in a&&a.text?(0,cs.jsx)(mn.Z,{...S0(a,["text"]),children:a.text}):(0,cs.jsx)(Ai,{columnName:e,columnType:t,...a}),Ai=({columnName:e,columnType:t,sx:a={},...n})=>{let r;let{hasWritePermissions:l}=xQ();if(!l)return(0,cs.jsx)(mn.Z,{sx:{color:"fg.subtle",...a},...n,children:pX.noPermissionEmptyColumnValue(e)});switch(t){case c7.Number:r=pX.emptyColumnNameValue.number;break;case c7.Date:r=pX.emptyColumnNameValue.date;break;case c7.Text:r=pX.emptyColumnNameValue.text;break;case c7.SingleSelect:r=pX.emptyColumnNameValue.singleSelect;break;case c7.Iteration:r=pX.emptyColumnNameValue.iteration;break;default:r=pX.addColumnNameValue(e)}return(0,cs.jsxs)(cW.Z,{children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.subtle",...a},...n,children:r}),(t===c7.Iteration||t===c7.SingleSelect)&&(0,cs.jsx)(mt.Z,{icon:me.AS7,size:"small",sx:{verticalAlign:"middle",color:"fg.muted",opacity:.3,".is-focused &":{opacity:1},ml:2}})]})};try{(n8=Al).displayName||(n8.displayName="TextValueWithFallback")}catch{}try{(n7=Ai).displayName||(n7.displayName="FallbackText")}catch{}let As=()=>{let{setColumnValue:e}=SU(),{findMemexItem:t}=SV(),a=(0,cg.useCallback)((a,n)=>{let r=t(a);r&&e(r,n,!0)},[t,e]);return{updateLocalMemexItem:a}},Ao=e=>(0,cs.jsx)(L1,{...e,renderer:Au,editor:Ad}),Ad=({model:e,columnModel:t,content:a,onSaved:n})=>{let{editIssueAssignees:r}=De(),{fetchSuggestedAssignees:l}=It(),{updateLocalMemexItem:i}=As(),s=(0,cg.useMemo)(()=>a?.map(e=>({selected:!0,...e}))??[],[a]);return(0,cs.jsx)(Ar,{model:e,columnId:t.id.toString(),getSortAttribute:LB,convertOptionToItem:Lz,initialFilterValue:"",selected:s,saveSelected:async t=>{await r(t.map(e=>e.id)),e.memexItemId?.()&&i(e.memexItemId?.(),{memexProjectColumnId:c9.Assignees,value:t}),n()},fetchOptions:()=>l(e),filterOptions:LL,placeholderText:"Search people",displayValue:(0,cs.jsx)(Au,{model:e,columnModel:t,content:a}),groupMetadata:[{groupId:"assigned"},{groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}}]})},Au=({columnModel:e,content:t})=>t?.length?(0,cs.jsx)(cW.Z,{sx:{display:"flex"},children:(0,cs.jsx)(LQ,{users:t.map(LG),isDisabled:!0})}):(0,cs.jsx)(Al,{columnName:e.name});try{(n9=Ao).displayName||(n9.displayName="AssigneeField")}catch{}try{(re=Ad).displayName||(re.displayName="AssigneeEditor")}catch{}try{(rt=Au).displayName||(rt.displayName="AssigneeRenderer")}catch{}var Ac=a(86693),Am=a(83863);let Ap=e=>(0,cs.jsx)(L1,{...e,renderer:Ag,editor:Ah}),Af=e=>e?{value:new Date((0,Am.Z)(e,{representation:"date"}))}:void 0,Ah=({model:e,columnModel:t,content:a,onSaved:n})=>{let{updateItem:r}=LZ(),{postStats:l}=v4(),i=(0,cg.useCallback)(async a=>{if(t.dataType===c7.Date){let i=e.getCustomField(t.id);await r(e,{dataType:c7.Date,memexProjectColumnId:t.id,value:Af(a)}),l({name:i?.value?vI:vN,memexProjectColumnId:t.id,memexProjectItemId:e.id}),n()}},[t.dataType,t.id,e,n,l,r]),s=(0,cg.useMemo)(()=>a?.value?new Date(a.value.slice(0,16)):null,[a]);return(0,cs.jsx)(Ac.Mt,{onChange:i,value:s,showClearButton:!0,showTodayButton:!1,anchor:n=>(0,cs.jsx)(L0,{interactable:!0,as:"button",...n,children:(0,cs.jsx)(Ag,{content:a,columnModel:t,model:e})})})},Ag=({content:e,columnModel:t})=>{let a=mJ(e)||"";return(0,cs.jsx)(Al,{text:a,columnName:t.name,columnType:t.dataType})};try{(ra=Ap).displayName||(ra.displayName="DateField")}catch{}try{(rn=Ah).displayName||(rn.displayName="DateEditor")}catch{}try{(rr=Ag).displayName||(rr.displayName="DateRenderer")}catch{}let Ay={borderColor:"border.default",pt:"1px",color:"fg.muted"},Ax={...Ay,borderColor:"accent.emphasis",color:"accent.fg"},Ab={...Ay,color:"fg.subtle"};function Av({sx:e}){return(0,cs.jsx)(CQ.Z,{sx:{...Ax,...e},children:pX.iterationLabel.current})}function Aw({labelType:e,sx:t}){let a=pX.iterationLabel[e];return(0,cs.jsx)(cW.Z,{sx:{mr:3,width:"5.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1,...t??{}},children:(0,cs.jsx)(CQ.Z,{sx:{mt:.75,textDecoration:"inherit",..."current"===e?Ax:"break"===e?Ab:Ay},as:"span",children:a})})}try{(rl=Av).displayName||(rl.displayName="CurrentIterationLabel")}catch{}try{(ri=Aw).displayName||(ri.displayName="IterationRowLabel")}catch{}let Ak=new ScoringCache,Aj=Ak.sortByWithCache.bind(Ak);function AC(e,t,a){return LP(e,t,e=>`${e.title} ${gc(e)}`,Ak,Aj,a)}let AS=e=>{let t=(0,cs.jsx)(y9,{sx:{display:"block"},children:e.titleHtml});return{...e,children:t,...(0,cK.f)("table-cell-editor-row")}},AI=e=>e.title,AN=(e,t)=>{let a=t.title;return a.toLowerCase()!==e.toLowerCase()?null:t};function AT({model:e,iteration:t,columnModel:a,onSaved:n}){let{updateItem:r}=LZ(),l=f5(),{settings:i}=a,s=t?.id,o=(0,cg.useMemo)(()=>{let e=i.configuration.iterations;if(e.length>0){let t=new Date;return e.map(e=>{let a=gc(e),n=gl(t,e);return{...e,title:e.title,titleHtml:e.titleHtml,description:a,descriptionVariant:"block",selected:s===e.id,groupId:"active",trailingIcon:n?Av:null}})}return[{id:"create-iteration",title:"Create an Iteration",titleHtml:"Create an iteration",startDate:"",duration:0,selected:!1,groupId:"active"}]},[i,s]),d=(0,cg.useMemo)(()=>{let e=i.configuration.completedIterations;return e.length>0?e.map(e=>{let t=gc(e);return{...e,title:e.titleHtml,description:t,descriptionVariant:"block",selected:s===e.id,groupId:"completed"}}):[]},[i,s]),u=(0,cg.useMemo)(()=>[...o,...d].filter(e=>e.selected),[o,d]),c=(0,cg.useCallback)(async t=>{t[0]?.id==="create-iteration"?l({pathname:hi.generatePath({fieldId:a.id})}):(await r(e,{memexProjectColumnId:a.id,dataType:c7.Iteration,value:{id:t[0]?.id??null}}),n&&n())},[l,a.id,r,e,n]),m=(0,cg.useCallback)((e,t,a)=>{let n=e.length>0?[...o,...d]:t;return AC(e,n,a)},[o,d]);return{activeOptions:o,completedOptions:d,selected:u,saveSelected:c,filterChange:m}}let A_=e=>(0,cs.jsx)(L1,{...e,renderer:AD,editor:AP});function AR(e){return e?(0,cs.jsxs)(CQ.Z,{sx:{backgroundColor:"canvas.subtle"},children:[(0,cs.jsx)(mt.Z,{icon:me.H9J,size:14,sx:{mr:1}}),(0,cs.jsx)(y9,{children:e.titleHtml})]}):(0,cs.jsx)(Al,{columnName:"Iteration",columnType:c7.Iteration})}let AP=({model:e,columnModel:t,content:a,onSaved:n})=>{let{activeOptions:r,completedOptions:l,saveSelected:i,filterChange:s,selected:o}=AT({model:e,iteration:a??null,columnModel:t,onSaved:n});return(0,cs.jsx)(Ar,{model:e,columnId:t.id.toString(),getSortAttribute:AI,convertOptionToItem:AS,initialFilterValue:"",selected:o,options:[...r,...l.slice(0,3)],saveSelected:i,fetchOptions:j1.Z,filterOptions:s,placeholderText:"Filter options",displayValue:(0,cs.jsx)(AD,{model:e,columnModel:t,content:a}),getOptionMatchingFilterValue:AN,singleSelect:!0,groupMetadata:[{groupId:"active"},{groupId:"completed",header:{title:"Completed",variant:"filled"}}]})},AD=({content:e})=>AR(e);try{(rs=A_).displayName||(rs.displayName="IterationField")}catch{}try{(ro=AP).displayName||(ro.displayName="IterationEditor")}catch{}try{(rd=AD).displayName||(rd.displayName="IterationRenderer")}catch{}let AE=new ScoringCache,AL=AE.sortByWithCache.bind(AE);function AA(e,t,a){return LP(e,t,e=>e.nameHtml,AE,AL,a)}let AM=e=>e.nameHtml,AF=e=>{let t=(0,cs.jsx)(y9,{sx:{display:"block"},children:e.nameHtml}),a=`#${e.color}`;return{...e,leadingVisual:()=>(0,cs.jsx)(cW.Z,{sx:{bg:a,borderColor:a,width:14,height:14,borderRadius:10,borderWidth:"1px",borderStyle:"solid"}}),children:t,...(0,cK.f)("table-cell-editor-row")}};function AZ({model:e,onSaved:t}){let{updateItem:a}=LZ(),{fetchSuggestedLabels:n}=In(),r=(0,cg.useCallback)(()=>{n(e)},[e,n]),l=(0,cg.useCallback)(async n=>{await a(e,{dataType:c7.Labels,value:n}),t&&t()},[e,t,a]);return{fetchOptions:r,saveSelected:l}}let AO=e=>(0,cs.jsx)(L1,{...e,renderer:AV,editor:A$}),A$=({model:e,columnModel:t,content:a,onSaved:n})=>{let{editIssueLabels:r}=De(),{fetchSuggestedLabels:l}=In(),{updateLocalMemexItem:i}=As(),s=(0,cg.useMemo)(()=>a?.map(e=>({...e,selected:!0}))??[],[a]);return(0,cs.jsx)(Ar,{model:e,columnId:t.id.toString(),getSortAttribute:AM,convertOptionToItem:AF,initialFilterValue:"",selected:s,saveSelected:async t=>{await r(t.map(e=>e.id)),e.memexItemId?.()&&i(e.memexItemId?.(),{memexProjectColumnId:c9.Labels,value:t}),n()},fetchOptions:()=>l(e),filterOptions:AA,placeholderText:"Search labels",displayValue:(0,cs.jsx)(AV,{model:e,columnModel:t,content:a})})},AV=({columnModel:e,content:t})=>t?.length?(0,cs.jsx)(cW.Z,{as:"ul",sx:{display:"flex",gap:1,flexWrap:"wrap",listStyle:"none"},children:t?.map(e=>(0,cs.jsx)("li",{children:(0,cs.jsx)(Lm,{colorHex:e.color,url:e.url,nameHtml:e.nameHtml})},e.id))}):(0,cs.jsx)(Al,{columnName:e.name});try{(ru=AO).displayName||(ru.displayName="LabelField")}catch{}try{(rc=A$).displayName||(rc.displayName="LabelEditor")}catch{}try{(rm=AV).displayName||(rm.displayName="LabelRenderer")}catch{}let AB=new ScoringCache,Az=AB.sortByWithCache.bind(AB);function AU(e,t,a){return LP(e,t,e=>e.title,AB,Az,a)}function AK(e){if(e.state===fB.Closed)return pY.closed;if(!e.dueDate)return pY.noDueDate;let t=new Date(`${e.dueDate}T23:59:59`);return t<new Date?pY.pastDueBy(new Date(`${e.dueDate}T00:00:00`)):pY.dueOn(t)}let AW=e=>e.title,AH=e=>{let t=e.state===fB.Open;return{...e,leadingVisual:()=>(0,cs.jsx)(mt.Z,{icon:me.K37,"aria-label":t?"Open milestone":"Closed milestone",sx:{color:"fg.muted"}}),text:e.title,description:AK(e),descriptionVariant:"block",groupId:t?"open":"closed",...(0,cK.f)("table-cell-editor-row")}};function AG({model:e,onSaved:t}){let{updateItem:a}=LZ(),{fetchSuggestedMilestones:n}=Il(),r=(0,cg.useCallback)(()=>{n(e)},[e,n]),l=(0,cg.useCallback)(async n=>{await a(e,{dataType:c7.Milestone,value:n[0]}),t&&t()},[e,t,a]);return{fetchOptions:r,saveSelected:l}}let Aq=e=>(0,cs.jsx)(L1,{...e,renderer:AX,editor:AQ}),AQ=({model:e,columnModel:t,content:a,onSaved:n})=>{let{editIssueMilestone:r}=De(),{fetchSuggestedMilestones:l}=Il(),{updateLocalMemexItem:i}=As(),s=(0,cg.useMemo)(()=>a?[{selected:!0,...a}]:[],[a]);return(0,cs.jsx)(Ar,{model:e,columnId:t.id.toString(),getSortAttribute:AW,convertOptionToItem:AH,initialFilterValue:"",selected:s,saveSelected:async t=>{await r(t[0]?.id??"clear"),e.memexItemId?.()&&i(e.memexItemId(),{memexProjectColumnId:c9.Milestone,value:t[0]}),n()},fetchOptions:()=>l(e),filterOptions:AU,placeholderText:"Search milestones",blankslateText:"No milestones to show.",displayValue:(0,cs.jsx)(AX,{model:e,columnModel:t,content:a}),singleSelect:!0,groupMetadata:[{groupId:"open",header:{title:"Open",variant:"filled"}},{groupId:"closed",header:{title:"Closed",variant:"filled"}}]})},AX=({content:e})=>e?(0,cs.jsx)(Lv,{content:e.title,noTooltip:!0}):(0,cs.jsx)(Al,{columnName:"Milestone"});try{(rp=Aq).displayName||(rp.displayName="MilestoneField")}catch{}try{(rf=AQ).displayName||(rf.displayName="MilestoneEditor")}catch{}try{(rh=AX).displayName||(rh.displayName="MilestoneRenderer")}catch{}function AY(e){let t=mz(e);if(Number.isNaN(t))return pX.fieldMustBeANumber;if(t<-2147483647||t>2147483647)return`${pX.fieldMustBeBetween} -2147483647 and 2147483647`;let a=e.split("."),n=a[1];if(n&&n.length>15)return pX.floatingPointValueTooPrecise}function AJ(e){return new Blob([e]).size>1024?pX.fieldValueTooLong:void 0}let A0=({submitValue:e,defaultValue:t,validationFn:a,type:n="text",withEmojiPicker:r=!1,placeholder:l})=>{let i=(0,cg.useRef)(null),[s,o]=(0,cg.useState)(void 0),[d,u]=(0,cg.useState)(t);(0,cg.useEffect)(()=>{i.current&&i.current===document.activeElement||u(t)},[t]);let c=e=>{let t=a?.(e);return o(t),!t},m=t=>{c(t)&&e(t)},p=(0,cg.useCallback)(()=>u(t),[t]),f=e=>{"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),m(d)):"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),p())},h=e=>{let t=e.currentTarget.value;u(t),c(t)},g=()=>{d!==t&&c(d)?e(d):p()},y=(0,cs.jsx)(L0,{interactable:!0,as:wO,ref:i,onBlur:g,onChange:h,onKeyDown:f,type:n,value:d,placeholder:l,"aria-label":"Edit value"}),x=Rh();return(0,cs.jsxs)(cs.Fragment,{children:[r?(0,cs.jsx)(Rs.Z,{...x,sx:{width:"100%"},children:y}):y,s?(0,cs.jsx)(Dl.Z,{sx:{position:"absolute",zIndex:100,fontSize:0,mt:"12px",py:1,px:2,bg:"danger.subtle",color:"fg.default",borderColor:"danger.muted"},caret:"top-left",id:"foo",children:(0,cs.jsx)("span",{children:s})}):null]})};try{(rg=A0).displayName||(rg.displayName="SidebarTextInput")}catch{}let A1=e=>(0,cs.jsx)(L1,{...e,renderer:A5,editor:A2}),A2=({model:e,columnModel:t,content:a,onSaved:n})=>{let{updateItem:r}=LZ(),l=(0,cg.useCallback)(async a=>{t.dataType===c7.Number&&(await r(e,{dataType:c7.Number,memexProjectColumnId:t.id,value:""!==a?{value:mz(a)}:void 0}),n())},[t,e,n,r]);return(0,cs.jsx)(A0,{submitValue:l,validationFn:AY,defaultValue:a?.value?.toString()||"",placeholder:pX.emptyColumnNameValue.number})},A5=({columnModel:e,content:t})=>(0,cs.jsx)(Al,{text:t?.value.toString(),columnName:e.name,columnType:e.dataType});try{(ry=A1).displayName||(ry.displayName="NumberField")}catch{}try{(rx=A2).displayName||(rx.displayName="NumberEditor")}catch{}try{(rb=A5).displayName||(rb.displayName="NumberRenderer")}catch{}let A3=new ScoringCache,A4=A3.sortByWithCache.bind(A3);function A6(e,t,a){return LP(e,t,e=>e.name,A3,A4,a)}let A8=e=>e.name,A7=(e,t)=>({...e,...(0,cK.f)("table-cell-editor-row"),children:(0,cs.jsx)(y9,{sx:{display:"block"},children:e.nameHtml}),description:pe(e.descriptionHtml),leadingVisual:t?()=>(0,cs.jsx)(b$,{color:e.color,sx:{height:"14px",width:"14px"}}):void 0,descriptionVariant:"block"});function A9({model:e,columnModel:t,selectedValueId:a,onSaved:n}){let{updateItem:r}=LZ(),l=(0,cg.useCallback)(async a=>{await r(e,{memexProjectColumnId:t.id,dataType:c7.SingleSelect,value:{id:a[0]?.id??null}}),n?.()},[t.id,e,n,r]),i=(0,cg.useMemo)(()=>t.settings.options.map(e=>({...e,selected:e.id===a})),[t.settings,a]),s=(0,cg.useMemo)(()=>i.filter(e=>e.selected),[i]);return{saveSelected:l,options:i,selected:s}}let Me=e=>(0,cs.jsx)(L1,{...e,renderer:Ma,editor:Mt}),Mt=({model:e,columnModel:t,content:a,onSaved:n})=>{let r=a?a.id:null,{saveSelected:l,options:i,selected:s}=A9({columnModel:t,model:e,selectedValueId:r,onSaved:n}),o=i.every(e=>"GRAY"===e.color),d=(0,cg.useCallback)(e=>A7(e,!o),[o]);return(0,cs.jsx)(Ar,{model:e,columnId:t.id.toString(),getSortAttribute:A8,convertOptionToItem:d,initialFilterValue:"",selected:s,saveSelected:l,fetchOptions:j1.Z,options:i,filterOptions:A6,placeholderText:"Filter options",displayValue:(0,cs.jsx)(Ma,{model:e,columnModel:t,content:a}),singleSelect:!0})},Ma=({columnModel:e,content:t})=>t?(0,cs.jsx)(Li,{option:t}):(0,cs.jsx)(Al,{columnName:e.name,columnType:e.dataType});try{(rv=Me).displayName||(rv.displayName="SingleSelectField")}catch{}try{(rw=Mt).displayName||(rw.displayName="SingleSelectEditor")}catch{}try{(rk=Ma).displayName||(rk.displayName="SingleSelectRenderer")}catch{}let Mn=e=>(0,cs.jsx)(L1,{...e,renderer:Ml,editor:Mr}),Mr=({model:e,columnModel:t,content:a,onSaved:n})=>{let{updateItem:r}=LZ(),l=(0,cg.useCallback)(async a=>{t.dataType===c7.Text&&(await r(e,{dataType:c7.Text,memexProjectColumnId:t.id,value:jf(a)}),n&&n())},[t,e,n,r]);return(0,cs.jsx)(A0,{withEmojiPicker:!0,submitValue:l,defaultValue:a?.raw||"",placeholder:pX.emptyColumnNameValue.text})},Ml=({columnModel:e,content:t})=>(0,cs.jsx)(Al,{dangerousHtml:t?.html,columnName:e.name,columnType:e.dataType});try{(rj=Mn).displayName||(rj.displayName="TextField")}catch{}try{(rC=Mr).displayName||(rC.displayName="TextEditor")}catch{}try{(rS=Ml).displayName||(rS.displayName="TextRenderer")}catch{}let Mi=({item:e,content:t,field:a,metadata:n})=>{let r=(0,cs.jsx)(L0,{sx:{color:"fg.subtle"},children:pX.noneYet});switch(a.dataType){case c7.Assignees:r=(0,cs.jsx)(Ao,{model:e,columnModel:a,content:n.assignees,onSaved:j1.Z});break;case c7.Labels:r=(0,cs.jsx)(AO,{model:e,columnModel:a,content:n.labels,onSaved:j1.Z});break;case c7.Milestone:r=(0,cs.jsx)(Aq,{model:e,columnModel:a,content:n.milestone,onSaved:j1.Z});break;case c7.Iteration:r=(0,cs.jsx)(A_,{model:e,columnModel:a,content:t,onSaved:j1.Z});break;case c7.SingleSelect:r=(0,cs.jsx)(Me,{model:e,columnModel:a,content:t,onSaved:j1.Z});break;case c7.Text:r=(0,cs.jsx)(Mn,{model:e,columnModel:a,content:t,onSaved:j1.Z});break;case c7.Date:r=(0,cs.jsx)(Ap,{model:e,columnModel:a,content:t,onSaved:j1.Z});break;case c7.Number:r=(0,cs.jsx)(A1,{model:e,columnModel:a,content:t,onSaved:j1.Z});break;case c7.LinkedPullRequests:r=t?.length?(0,cs.jsx)(L0,{children:t?.slice(0,10).map(e=>(0,cs.jsx)(cW.Z,{...(0,cK.f)("linked-pr-label"),children:(0,cs.jsx)(Lp,{linkedPullRequest:e,sx:{mt:0}})},e.id))}):(0,cs.jsx)(L0,{sx:{color:"fg.subtle"},children:pX.emptyColumnNameValue.linkedPullRequest});break;case c7.Repository:t&&(r=(0,cs.jsx)(L0,{children:(0,cs.jsx)(Lw,{repository:t,noTooltip:!0})}));break;case c7.Tracks:(t=n.completion||t)&&0!==t.total&&(r=(0,cs.jsx)(L0,{sx:{display:"flex"},children:(0,cs.jsx)(Ek,{variant:"label",completed:t.completed,total:t.total,percent:t.percent,showPercent:!1})}));break;case c7.TrackedBy:t&&(r=(0,cs.jsx)(L0,{sx:{display:"flex",flexWrap:"wrap"},children:t?.slice(0,10).map(e=>(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)(LC,{trackedByItem:e,noPrefix:!0})},e.key.itemId))}));break;default:t&&(r=(0,cs.jsx)(L0,{children:t}))}return(0,cs.jsx)(LY,{label:a.name,...(0,cK.f)(`sidebar-field-${a.name}`),children:r})};async function Ms(e){let t=cQ("memex-item-archive-api-data"),{memex_verified_fetch_for_memex_items_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5();if(a){let{data:a}=await fu(t.url,{method:"POST",body:e},n);return a}{let{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}}let Mo=e=>e!==mu.RedactedItem;function Md(e,t){let a=(0,pK.Z)(e.archivedAt),n=(0,pK.Z)(t.archivedAt),r=n.getTime()-a.getTime();return 0!==r?r:t.id-e.id}let Mu=()=>{let e=Ie(),{findMemexItem:t}=SV(),a=(0,cg.useCallback)(a=>{e.removeSuggestions(a.map(e=>"number"==typeof e?t(e)?.getSuggestionId():e.getSuggestionId()).filter(e=>e?.length))},[e,t]);return{removeSuggestions:a}},Mc=()=>{let{findMemexItem:e}=SV(),{removeItems:t}=S$(),{removeSuggestions:a}=Mu(),{setArchiveStatus:n}=hD(),{getIssuesIdsToRemove:r,removeParentFromChildren:l}=SJ(),{memex_tracked_by_items:i,memex_tracked_by_add_missing_items:s}=xO(),o=(0,cg.useCallback)(async o=>{let d=o.filter(t=>{let a=e(t);return!!a&&Mo(a.contentType)});if(0===d.length)return;let u=r(d),c=t(d);try{SC(),await Ms({memexProjectItemIds:d}),i&&s&&l(u),a(o),n()}catch(e){throw c(),e}},[e,r,s,i,t,l,a,n]);return{archiveMemexItems:o}},Mm=(e,t,a,n)=>({title:a||pX.defaultArchiveConfirmationTitle(e),content:n||pX.defaultArchiveConfirmationMessage(e,t),confirmButtonContent:"Archive"}),Mp=(e,t,a,n)=>{let{postStats:r}=v4(),{addToast:l}=pU(),i=(0,xg.N)(),{archiveMemexItems:s}=Mc(),o=(0,cg.useCallback)(async(o,d,u,c)=>{let m=o.length>1;e?.();let p=async()=>{try{n?.(),await s(o),t?.(o),r({name:"item_archive",ui:d,numberOfRows:o.length})}catch(e){e instanceof api_error_ApiError&&l({message:e.message,type:pj.error})}};await i(Mm(m,o.length,u,c))?p():a?.()},[e,i,n,s,t,r,l,a]);return{openArchiveConfirmationDialog:o}};async function Mf(e){let t=cQ("memex-item-delete-api-data"),{memex_verified_fetch_for_memex_items_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5();if(a){let{data:a}=await fu(t.url,{method:"DELETE",body:e},n);return a}{let{data:a}=await fd(t.url,{method:"DELETE",body:e,token:t.token});return a}}let Mh=()=>{let{removeItems:e}=S$(),{removeSuggestions:t}=Mu(),{setArchiveStatus:a}=hD(),{getIssuesIdsToRemove:n,removeParentFromChildren:r}=SJ(),{memex_tracked_by_items:l,memex_tracked_by_add_missing_items:i}=xO(),{perform:s,status:o}=fx({request:Mf}),d=(0,cg.useCallback)(async d=>{if(d.length){let u=n(d),c=e(d);if(SC(),await s({memexProjectItemIds:d}),"failed"===o.current.status){c();return}l&&i&&r(u),t(d),a()}},[n,i,l,e,r,t,a,s,o]);return{removeMemexItems:d}},Mg=(e,t,a,n)=>{let{postStats:r}=v4(),{removeMemexItems:l}=Mh(),{confirmRemoveItems:i}=My(),s=(0,cg.useCallback)(async(s,o,d={})=>{let u=()=>{n?.(),(0,yX.flushSync)(()=>{l(s)}),(0,yX.flushSync)(()=>{t?.(s)}),r({name:"item_delete",ui:o,numberOfRows:s.length})};e?.(),await i(s,d)?u():a?.()},[e,i,n,r,l,t,a]);return{openRemoveConfirmationDialog:s}};function My(){let e=(0,xg.N)(),t=(0,cg.useCallback)(async(t,a={})=>{let n=t.length>1;return e({title:`Delete item${n?"s":""}?`,content:`Are you sure you want to delete ${n?`these ${t.length} items`:"this item"} from this project?`,confirmButtonContent:"Delete",confirmButtonType:"danger",...a})},[e]);return{confirmRemoveItems:t}}var Mx=a(66044);async function Mb(e){let t=cQ("memex-item-convert-issue-api-data"),{memex_verified_fetch_for_memex_items_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5();if(a){let{data:a}=await fu(t.url,{method:"POST",body:e},n);return a}{let{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}}let Mv=()=>{let{setItemData:e}=SB(),t=(0,cg.useCallback)(async(t,a)=>{SC();let{memexProjectItem:n,warnings:r}=await Mb({repositoryId:a,memexProjectItemId:t});return e(n),{memexProjectItem:n,warnings:r}},[e]);return{convertToIssue:t}};function Mw(e){let t=e.memexProjectColumnValues.find(e=>e.memexProjectColumnId===c9.Title);return!t||t.memexProjectColumnId!==c9.Title||"isDraft"in t.value?null:"number"in t.value?t.value.number:null}function Mk(e){let t=e.memexProjectColumnValues.find(e=>e.memexProjectColumnId===c9.Repository);return t&&t.memexProjectColumnId===c9.Repository&&t.value?t.value.nameWithOwner:null}function Mj(e){return e.contentType===mu.DraftIssue}let MC=e=>{let{addToast:t}=pU(),{postStats:a}=v4(),{convertToIssue:n}=Mv(),r=(0,cg.useCallback)(async({memexProjectItem:r,repositoryId:l})=>{if(Mj(r)){let{memexProjectItem:i,warnings:s}=await n(r.id,l),o=s?.invalidAssigneeLogins??[];o.length>0&&(t({message:pX.unableToAssignUsersToConvertedIssue(o),type:pj.error}),a({name:"draft_convert_dropped_assignee",context:o.length,memexProjectItemId:i.id}));let d=Mw(i),u=Mk(i);d&&u&&e?.()}},[n,t,a,e]),{perform:l,status:i}=fx({request:r}),s=(0,cg.useCallback)(async(e,t)=>{await l({memexProjectItem:e,repositoryId:t.id})},[l]);return{start:s,status:i}},MS=({isOpen:e,anchorRef:t,renderAnchor:a=()=>(0,cs.jsx)("div",{}),showPrompt:n=!1,onOpenChange:r,onSuccess:l,item:i,promptOptions:s={title:pX.draftConvertPromptTitle,description:pX.draftConvertPromptDescription}})=>{let o=(0,cg.useRef)(null),d=(0,cg.useRef)(null),[u,c]=(0,cg.useState)(""),[m,p]=(0,cg.useState)(!1),[f,h]=(0,cg.useState)(n),[g,y]=(0,cg.useState)([]),[x,b]=(0,cg.useState)([]),v=(0,cg.useRef)(),{suggestRepositories:w}=bh(),{start:k}=MC(),j=(0,Mx.i)(t);(0,bd.P)({restoreFocusOnCleanUp:!0,initialFocusRef:o,containerRef:d});let C=(0,cg.useCallback)(e=>{r(!1,e)},[r]),S=(0,cg.useCallback)(async e=>{await k(i,e)},[k,i]),I=(0,cg.useCallback)(async()=>{if(x.length)return;p(!0);let e=await w();b(e??[]),p(!1)},[]),N=(0,cg.useCallback)(e=>(""!==u?g:x).find(t=>t.id===e),[u,g,x]);(0,cg.useEffect)(()=>{e&&(c(""),y([]),I())},[I,e]);let T=e=>{c(e),R(e)},_=(0,cg.useCallback)(async e=>{if(""!==e){p(!0);let{repositories:t}=await bc(e);y(t),p(!1)}else y(x??[])},[x]),R=(0,cg.useCallback)(e=>{v.current&&v.current.cancel(),v.current=(0,fb.Z)(()=>_(e),200),v.current()},[_]),P=e=>{if(e?.id){let t=N(e.id);t&&(S(t),l?.(t))}},D=()=>{C("click-outside")},E=(""!==u?g:x).filter(e=>!e.isArchived&&e.hasIssues),L=E.map(e=>({...e,text:e.name,leadingVisual:()=>bg({repository:e}),selectionVariant:"single",descriptionVariant:"block",selected:void 0,onAction:(t,a)=>{a.preventDefault(),P(e),r(!1,"convert-confirmation")}}));return f?(0,cs.jsx)(DA.w,{anchorRef:j,renderAnchor:a,open:e,overlayProps:{onEscape:D,onClickOutside:D},width:"small",children:(0,cs.jsx)(cW.Z,{onClick:e=>e.stopPropagation(),children:(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",m:2},children:(0,cs.jsxs)(kL.S.Item,{onSelect:()=>h(!1),...(0,cK.f)("draft-prompt-convert-to-issue"),children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,cs.jsx)(mn.Z,{sx:{display:"flex",fontSize:14,fontWeight:"bold",p:0},children:s.title}),(0,cs.jsx)(mn.Z,{sx:{display:"flex",fontSize:12,p:0,color:"fg.muted"},children:s.description})]}),(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(me.LZ3,{})})]})})})}):(0,cs.jsx)(bu.b,{placeholderText:pX.repoPickerFilterPlaceholder,open:e,anchorRef:j,renderAnchor:a,onOpenChange:r,loading:m,selected:void 0,filterValue:u,items:L,showItemDividers:!0,onFilterChange:T,onSelectedChange:P,overlayProps:{width:"small",onMouseDown:e=>e.stopPropagation(),height:"small",onClickOutside:D,...(0,cK.f)("repo-picker-repo-list")}})};MS.displayName="RepoPicker";let MI=({item:e})=>{let{closePane:t,hasUnsavedChanges:a}=TY(),{postStats:n}=v4(),{hasWritePermissions:r}=xQ(),l=(0,xg.N)(),i=async()=>!a||await l({...pX.sidePanelCloseConfirmation,confirmButtonType:"danger"}),[s,o]=(0,cg.useState)(!1),d=(0,cg.useRef)(null),u=()=>{i()&&o(!0)},c=()=>{n({name:vl,ui:vn,memexProjectItemId:e.id})},{openArchiveConfirmationDialog:m}=Mp(void 0,void 0,void 0,()=>t({force:!0})),p=()=>{i()&&m([e.id],vn)},{openRemoveConfirmationDialog:f}=Mg(void 0,void 0,void 0,()=>t({force:!0})),h=()=>f([e.id],vn),g=[],y=e instanceof DraftIssueModel&&r;y&&g.push((0,cs.jsx)(MN,{onConvert:u,ref:d},"convert"));let x=e.getUrl();return x&&g.push((0,cs.jsx)(MT,{itemUrl:x,onClick:()=>n({name:vz})},"open"),(0,cs.jsx)(M_,{itemUrl:x},"copy")),r&&g.push((0,cs.jsx)(MR,{onArchive:p},"archive"),(0,cs.jsx)(MP,{onDelete:h},"delete")),g.length>0?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(kL.S,{title:"Actions",children:[(0,cs.jsx)(kL.S.Divider,{}),g]}),y?(0,cs.jsx)(MS,{anchorRef:d,isOpen:s,item:e,onOpenChange:o,onSuccess:c},"repoPicker"):null]}):null},MN=(0,cg.forwardRef)(({onConvert:e},t)=>(0,cs.jsxs)(kL.S.Item,{onSelect:e,ref:t,...(0,cK.f)("side-pane-convert-to-issue"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.hEv,{})}),"Convert to issue"]}));MN.displayName="ConvertToIssueAction";let MT=({itemUrl:e,onClick:t})=>(0,cs.jsxs)(kL.S.LinkItem,{target:"_blank",href:e,onClick:t,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.Pfi,{})}),"Open in new tab"]}),M_=({itemUrl:e})=>{let[t,a]=(0,cg.useState)(!1),n=pO(()=>a(!1),2e3),r=()=>{navigator.clipboard.writeText(e),a(!0),n()};return(0,cs.jsxs)(kL.S.Item,{onSelect:r,...(0,cK.f)("copy-link-action"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:t?(0,cs.jsx)(mt.Z,{icon:me.nQG,sx:{color:"success.fg"}}):(0,cs.jsx)(me.TIy,{})}),t?(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold",color:"success.fg"},children:"Copied!"}):"Copy link"]})},MR=({onArchive:e})=>(0,cs.jsxs)(kL.S.Item,{onSelect:e,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.rKT,{})}),"Archive"]}),MP=({onDelete:e})=>(0,cs.jsxs)(kL.S.Item,{onSelect:e,variant:"danger",children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete from project"]});try{(rI=MI).displayName||(rI.displayName="SidePanelSidebarActions")}catch{}try{(rN=MT).displayName||(rN.displayName="OpenInNewTabAction")}catch{}try{(rT=M_).displayName||(rT.displayName="CopyUrlAction")}catch{}try{(r_=MR).displayName||(r_.displayName="ArchiveAction")}catch{}try{(rR=MP).displayName||(rR.displayName="DeleteAction")}catch{}let MD=({item:e})=>(0,cs.jsxs)(cW.Z,{as:"aside",sx:{borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:["0","0","1px","1px"],borderTopWidth:["1px","0","0","0"],borderStyle:"solid",borderColor:"border.muted",width:["100%","","","33%"],maxWidth:["","","","300px","400px"],minWidth:["","","","280px","400px"]},children:[(0,cs.jsx)(MA,{item:e}),(0,cs.jsx)(MI,{item:e})]}),ME=new Set([c9.Labels,c9.Assignees,c9.Milestone]),ML=e=>"number"!=typeof e&&ME.has(e),MA=({item:e})=>{let{allColumns:t}=bD(),{sidePanelMetadata:a}=De(),{memex_sidepanel_tracking_fields:n}=xO(),r=(0,cg.useMemo)(()=>{let a=new Map,n=SA(e.contentType,t);return n.map(t=>({content:SO(t,a,e),field:t}))},[t,e]),l=(0,cg.useMemo)(()=>{let e=r.reduce((e,t)=>(SL(t.field)&&n||(ML(t.field.id)?e[0].push(t):a.projectItemId&&e[1].push(t)),e),[[],[]]);return e.flat()},[r,n,a.projectItemId]);return(0,cs.jsxs)("section",{children:[(0,cs.jsx)("h3",{style:{position:"absolute",clipPath:"circle(0)"},children:"Properties"}),(0,cs.jsx)(LX,{children:l.map(t=>(0,cs.jsx)(Mi,{metadata:a,item:e,content:t.content,field:t.field,...(0,cK.f)(`sidebar-field-${t.field.name}`)},t.field.id))})]})};try{(rP=MD).displayName||(rP.displayName="SidePanelSidebar")}catch{}try{(rD=ME).displayName||(rD.displayName="UNIVERSAL_FIELDS")}catch{}try{(rE=MA).displayName||(rE.displayName="SidePanelSidebarContent")}catch{}let MM=(0,cg.memo)(function(){let e=(0,cg.useRef)(null),t=PU(),a=(0,cg.useRef)(null),{closePane:n,openPaneBulkAdd:r,sidePanelState:l,isPaneOpened:i,supportedItemTypes:s}=TY(),o=(0,cg.useCallback)(()=>{let e=0===document.querySelectorAll(".omnibar-picker.visible").length;e&&n()},[n]),d=(0,cg.useCallback)(e=>{let t=wy(e);t!==wf.ESCAPE&&Object.values(wf).includes(t)&&e.stopPropagation()},[]),{isProjectViewRoute:u}=v7();cU(()=>u&&l?.type!==Nc.BULK_ADD?["a","Add items",vU,()=>r(vf)]:null,[u,l,r]);let c=(0,cg.useRef)(),m=(0,cg.useMemo)(()=>{switch(l?.type){case Nc.ISSUE:return c.current="min(90%, 1280px)";case Nc.INFO:return c.current="400px";case Nc.BULK_ADD:return c.current="60%";default:return c.current}},[l]),p=(i&&l&&(l.type!==Nc.ISSUE||s.has(l.item.contentType)))??!1;return(0,cs.jsx)(PF,{open:p,onClose:o,initialFocusRef:a,returnFocusRef:e,topOffset:t,onKeyDown:d,width:m,"aria-label":l?pX.sidePanelLabel(l.type):"",suppressCloseButton:!0,children:l&&(0,cs.jsx)(MF,{sidePanelState:l,initialFocusRef:a})})}),MF=(0,cg.memo)(function({sidePanelState:e,initialFocusRef:t}){switch(e.type){case Nc.ISSUE:return(0,cs.jsx)(P9,{contentType:e.item.contentType,repositoryId:e.item.ownerId(),itemId:e.item.itemId(),memexItemId:e.item.memexItemId?.(),children:(0,cs.jsx)(M$,{item:e.item,initialFocusRef:t})});case Nc.INFO:return(0,cs.jsx)(MZ,{});case Nc.BULK_ADD:return(0,cs.jsx)(MV,{targetRepository:e.targetRepository,query:e.query,newItemAttributes:e.newItemAttributes});default:h2(e)}}),MZ=(0,cg.memo)(function(){let{closePane:e}=TY(),{postStats:t}=v4(),{titleHtml:a}=_4(),{description:n}=_4(),{hasWritePermissions:r}=xQ(),[,l]=PO(),[,i]=PO(),s=(0,cg.useCallback)(e=>{t({name:e?vA:vL,ui:vM})},[t]),o=(0,cg.useCallback)(e=>{t({name:e?vO:vZ,ui:v$})},[t]);return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",backgroundColor:"canvas.default",width:"100%",overflowY:"auto"},children:[(0,cs.jsxs)(cW.Z,{sx:{mt:4,mx:[3,"",4]},children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,cs.jsx)(y9,{sx:{fontWeight:"600",fontSize:2,wordBreak:"break-word"},children:a}),(0,cs.jsx)(E_,{closePane:e})]}),(0,cs.jsx)(Dj,{onSaveStats:s,setHasUnsavedChanges:l,hideLabel:!0})]}),!r&&n||r?(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"column",flex:"auto",borderTop:"1px solid",borderColor:"border.muted",p:[3,"",4],mt:3},children:(0,cs.jsx)(Dy,{onSaveStats:o,setHasUnsavedChanges:i,hideLabel:!0})}):null]})}),MO=(0,cg.memo)(function({item:e,supportsComments:t,isLoading:a}){let n=(0,cg.useRef)(null),r=e.itemId();return(0,cg.useLayoutEffect)(()=>{n.current&&PZ(n.current)},[r]),(0,cs.jsxs)(cW.Z,{ref:n,sx:{display:"flex",flex:"auto",flexDirection:["column","","","row"],backgroundColor:"canvas.default",justifyContent:"stretch",overflowY:"auto"},children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flex:"auto",flexDirection:"column",width:["100%","","","66%"],mx:"auto"},children:[(0,cs.jsx)(Dq,{item:e,isLoading:a,fullHeight:!t}),(0,cs.jsx)(D6,{itemURL:e.getUrl()})]}),(0,cs.jsx)(MD,{item:e})]})}),M$=(0,cg.memo)(function({item:e,initialFocusRef:t}){let[a,n]=(0,cg.useState)("details"),{tasklist_block:r}=xO(),{sidePanelMetadata:{comments:l},isLoading:i}=De(),s=r&&e.contentType===mu.Issue;return(0,cs.jsxs)(cW.Z,{sx:{position:"relative",backgroundColor:"canvas.default",height:"100%",width:"100%",flexGrow:1,zIndex:2,borderLeft:"1px solid",borderColor:"border.muted",display:"flex",flexDirection:"column"},children:[(0,cs.jsx)(EN,{initialFocusRef:t,item:e,isLoading:i,showBreadcrumbs:s,showTabs:!1,selectedTab:a,onTabChange:n}),(0,cs.jsx)(MO,{item:e,supportsComments:void 0!==l,isLoading:i})]})}),MV=(0,cg.memo)(function({targetRepository:e,query:t,newItemAttributes:a}){return(0,cs.jsx)(fO,{query:t,selectedRepository:e,children:(0,cs.jsx)(DY,{targetRepository:e,newItemAttributes:a})})});try{(rL=MM).displayName||(rL.displayName="SidePanel")}catch{}try{(rA=MF).displayName||(rA.displayName="SidePanelContent")}catch{}try{(rM=MZ).displayName||(rM.displayName="SidePanelMemexInfoContent")}catch{}try{(rF=MO).displayName||(rF.displayName="SidePanelItemDetails")}catch{}try{(rZ=MO).displayName||(rZ.displayName="SidePanelItemDetails")}catch{}try{(rO=M$).displayName||(rO.displayName="SidePanelItemContent")}catch{}try{(r$=MV).displayName||(r$.displayName="SidePanelMemexBulkAddContent")}catch{}let MB=(0,cg.memo)(function({children:e}){let{currentView:t,viewStateDispatch:a}=v5(),n=(0,cg.useCallback)((e,t,n)=>{a({type:v9.SetSortedBy,column:t,direction:n,viewNumber:e})},[a]),r=(0,cg.useCallback)(e=>{a({type:v9.ClearSortedBy,viewNumber:e})},[a]);return(0,cs.jsx)(IC.Provider,{value:(0,cg.useMemo)(()=>({sortColumnId:t?.localViewStateDeserialized.sortByColumnsAndDirections[0]?.column.id,sortedByColumn:t?.localViewStateDeserialized.sortByColumnsAndDirections[0]?.column,sortDirection:t?.localViewStateDeserialized.sortByColumnsAndDirections[0]?.direction,setSortedBy:n,clearSortedBy:r,isSortedByDirty:t?.isSortedByDirty??!1}),[r,t?.isSortedByDirty,t?.localViewStateDeserialized.sortByColumnsAndDirections,n]),children:e})});try{(rV=MB).displayName||(rV.displayName="SortedByProvider")}catch{}let Mz=(0,cg.memo)(function({children:e}){let{currentView:t,viewStateDispatch:a}=v5(),n=(0,cg.useCallback)((e,t)=>{a({type:v9.SetVerticalGroupedBy,viewNumber:e,column:t})},[a]);return(0,cs.jsx)(Iw.Provider,{value:(0,cg.useMemo)(()=>({groupedByColumnId:t?.localViewStateDeserialized.verticalGroupByColumns[0]?.id,groupedByColumn:t?.localViewStateDeserialized.verticalGroupByColumns[0],setGroupedBy:n,isGroupedByDirty:t?.isVerticalGroupedByDirty??!1}),[t?.isVerticalGroupedByDirty,t?.localViewStateDeserialized.verticalGroupByColumns,n]),children:e})});try{(rB=Mz).displayName||(rB.displayName="VerticalGroupedByProvider")}catch{}async function MU(e){let t=cQ("memex-columns-get-api-data"),a=new URL(t.url,window.location.origin);for(let t of e.memexProjectColumnIds)a.searchParams.append("columnIds[]",`${t}`);let{data:n}=await fd(a);return n}let MK=()=>{let{loadedFieldIdsRef:e}=xH(),t=(0,cg.useCallback)(t=>e.current.has(t),[e]);return{hasColumnData:t}},MW=()=>{let{updateLoadedColumns:e}=T4(),{findMemexItem:t}=SV(),{setColumnValue:a}=SU(),{setItems:n,itemsRef:r}=hT(),l=(0,cg.useCallback)(n=>{if(e(n.id),n.memexProjectColumnValues)for(let e of n.memexProjectColumnValues){let r=t(e.memexProjectItemId);r&&a(r,{memexProjectColumnId:n.id,value:e.value})}},[t,a,e]),i=(0,cg.useCallback)(t=>{e(t.id);let l={};if(t.memexProjectColumnValues)for(let e of t.memexProjectColumnValues)l[e.memexProjectItemId]={memexProjectColumnId:t.id,value:e.value};let i=[...r.current];for(let e of i){let n=l[e.id];n?.value||(n={memexProjectColumnId:t.id,value:null}),a(e,n,!0)}n(i)},[r,a,n,e]);return{updateColumnValues:l,updateAllColumnValues:i}},MH=[c9.Repository],MG=[c9.Title,c9.Assignees,c9.Status,...MH],Mq=[...MH],MQ=[];function MX(){let{findMissingColumnIds:e}=M2(),{loadColumnsWithItemColumnValues:t}=M5(),[a,n]=(0,cg.useState)(MQ),r=(0,cg.useCallback)(t=>{let a=e(t);n(e=>{let t=a.filter(t=>!e.includes(t));return 0===t.length?e:[...new Set([...e,...a])]})},[e]),l=(0,cg.useCallback)(async e=>{await t(e),n(MQ)},[t]),{perform:i}=fx({request:l});return(0,cg.useEffect)(()=>{a.length>0?i(a):n(MQ)},[a,e,i]),{missingFieldIds:a,addPotentiallyMissingFieldIds:r}}function MY(){let{findFilterableFieldByName:e}=bE(),t=(0,cg.useCallback)(function(t){let a=new Set,{fieldFilters:n}=yn(t),r=t=>{let n=e(t);n&&a.add(n.id)};for(let e of n){let t=e[0],a=e[1];if(yl(t)&&(t=t.slice(1)),yr(t))for(let e of a)r(e);else r(t)}return a},[e]);return{getFieldIdsFromFilter:t}}let MJ=e=>{let{findMissingColumnIds:t}=M2(),{getFieldIdsFromFilter:a}=MY(),{missingFieldIds:n,addPotentiallyMissingFieldIds:r}=MX();return(0,cg.useEffect)(()=>{if(!e)return;let n=t(M0(e,a));r(n)},[r,e,t,a]),n};function M0(e,t){let{localViewStateDeserialized:{visibleFields:a,viewType:n,filter:r,verticalGroupByColumns:l,horizontalGroupByColumns:i,aggregationSettings:s,sortByColumnsAndDirections:o}}=e,d=new Set(a.map(e=>e.id).concat(n!==vQ.Table?MG:Mq));for(let e of l)e.id!==c9.Status&&d.add(e.id);for(let e of i)d.add(e.id);for(let e of s.sum)d.add(e.id);for(let e of o)d.add(e.column.id);let u=t(r);return Array.from(new Set([...d,...u]))}function M1(e,t){let{findMissingColumnIds:a}=M2(),{findColumnByDatabaseId:n}=xG(),{loadColumnsWithItemColumnValues:r}=M5(),{perform:l}=fx({request:r});return(0,cg.useEffect)(()=>{let t=new Set(Object.values(e).map(e=>{let t=[...e.localViewState.verticalGroupBy||[],...e.localViewState.groupBy,...e.localViewState.sortBy.map(e=>e[0])];return e.localViewState.layout===vK.Roadmap&&Pl(e.localViewState.layoutSettings.roadmap)&&t.push(...e.localViewState.layoutSettings.roadmap.dateFields.filter(Pr)),t}).flat()),r=pf([...t].map(e=>n(e)?.id)),i=a(r);0!==i.length&&l(i)},[n,a,l,e]),MJ(t)}let M2=()=>{let{hasColumnData:e}=MK(),t=(0,cg.useCallback)(t=>{let a=[...new Set(t).add(c9.Status)];return a.filter(t=>!e(t))},[e]);return{findMissingColumnIds:t}},M5=()=>{let{updateAllColumnValues:e}=MW(),{addToast:t}=pU(),a=(0,cg.useCallback)(async a=>{if(0===a.length)return;let n=[];await Promise.allSettled(a.map(async t=>{let a=await MU({memexProjectColumnIds:[t]});for(let t of a.memexProjectColumns){e(t);let a=t.partialFailures;a&&n.push(a.message)}})),n&&n.length>0&&t({message:n.join(", "),type:pj.warning,keepAlive:!0})},[t,e]);return{loadColumnsWithItemColumnValues:a}};function M3(e){let{getFieldIdsFromFilter:t}=MY(),{missingFieldIds:a,addPotentiallyMissingFieldIds:n}=MX(),{findColumnByDatabaseId:r}=xG(),[l,i]=(0,cg.useState)(!0);return(0,cg.useEffect)(()=>{let a=t(e.filter),s=new Set;if("number"==typeof e.xAxis.dataSource.column){let t=e.xAxis.dataSource.column,n=r(t);n?a.add(n.id):s.add(t)}if(e.xAxis.groupBy){let t=e.xAxis.groupBy.column,n=r(t);n?a.add(n.id):s.add(t)}if(e.yAxis.aggregate.columns)for(let t of e.yAxis.aggregate.columns){let e=r(t);e?a.add(e.id):s.add(t)}i(0===s.size),l&&a.size>0&&n([...a])},[n,e.filter,e.xAxis.dataSource.column,e.xAxis.groupBy,e.yAxis.aggregate.columns,r,t,i,l]),(0,cg.useMemo)(()=>({isLoading:a.length>0,isValid:l,missingFieldIds:a}),[a,l])}function M4(e,t){return e.length!==t.length||JSON.stringify(e)!==JSON.stringify(t)}function M6(e,t){return e.length!==t.length||JSON.stringify(e.slice().sort())!==JSON.stringify(t.slice().sort())}function M8({serverViewState:e,localViewState:t}){let a=e.layout!==t.layout,n=M4(e.groupBy,t.groupBy),r=M4(e.verticalGroupBy||[],t.verticalGroupBy||[]),l=e.sortBy.length!==t.sortBy.length||JSON.stringify(e.sortBy)!==JSON.stringify(t.sortBy),i=e.filter?.trim()!==t.filter?.trim(),s=M4(e.visibleFields,t.visibleFields),o=!!t.aggregationSettings?.hideItemsCount,d=!!e.aggregationSettings?.hideItemsCount,u=o!==d||M4(t.aggregationSettings?.sum||[],e.aggregationSettings?.sum||[]),c=M4(Po(t.layoutSettings?.roadmap?.dateFields??[]),Po(e.layoutSettings?.roadmap?.dateFields??[])),m=M6(t.layoutSettings?.roadmap?.markerFields??[],e.layoutSettings?.roadmap?.markerFields??[]),p=(t.layoutSettings?.roadmap?.zoomLevel||vq.Month)!==(e.layoutSettings?.roadmap?.zoomLevel||vq.Month);return{isViewTypeDirty:a,isHorizontalGroupedByDirty:n,isVerticalGroupedByDirty:r,isSortedByDirty:l,isFilterDirty:i,isVisibleFieldsDirty:s,isAggregationSettingsDirty:u,isRoadmapDateFieldsDirty:c,isRoadmapZoomLevelDirty:p,isRoadmapMarkerFieldsDirty:m,isViewStateDirty:i||n||r||l||a||s||u||c||p||m}}function M7(e,t=""){if(!e)throw Error("Must provide a view to get a url for");let a=new URLSearchParams(t);if(e.isViewTypeDirty?a.set(Tv,e.localViewStateDeserialized.viewType):a.delete(Tv),e.isFilterDirty?a.set(Tb,e.localViewStateDeserialized.filter):a.delete(Tb),e.isSortedByDirty){let[t]=e.localViewStateDeserialized.sortByColumnsAndDirections;if(t){let{column:e,direction:n}=t;e?(a.set(Tx,"desc"===n?"desc":"asc"),a.set(Ty,`${e.id}`)):(a.set(Tx,""),a.set(Ty,""))}else a.set(Tx,""),a.set(Ty,"")}else a.delete(Tx),a.delete(Ty);if(e.isHorizontalGroupedByDirty){let[t]=e.localViewStateDeserialized.horizontalGroupByColumns;t?a.set(Tw,`${t.id}`):a.set(Tw,"")}else a.delete(Tw);if(e.isVerticalGroupedByDirty){let[t]=e.localViewStateDeserialized.verticalGroupByColumns;t?a.set(Tk,`${t.id}`):a.set(Tk,"")}else a.delete(Tk);if(e.isVisibleFieldsDirty){let t=e.localViewStateDeserialized.visibleFields;t.length>0?a.set(Tj,JSON.stringify(t.map(e=>e.id))):a.set(Tj,"")}else a.delete(Tj);if(e.isAggregationSettingsDirty){let{sum:t,hideItemsCount:n}=e.localViewStateDeserialized.aggregationSettings;t.length>0?a.set(TS,JSON.stringify(t.map(e=>e.id))):a.set(TS,""),a.set(TC,JSON.stringify(!!n))}else a.delete(TS),a.delete(TC);return{pathname:ha.generatePath({viewNumber:e.localViewStateDeserialized.number}),search:a.toString()}}function M9(){let e=f5(),t=(0,cx.TH)(),{isProjectViewRoute:a}=v7();return(0,cg.useCallback)((n,{replace:r})=>{if(!n)return;let l=M7(n,t.search);if(a){if(l.pathname===t.pathname&&l.search===t.search)return;e(l,{replace:r})}},[t.search,t.pathname,a,e])}var Fe=a(89438);let Ft=(0,PI.Z)("sessionStorage");function Fa(e){let t=ht.matchFullPathOrChildPaths(window.location.pathname);if(t)return["projects-v2","session-store-v1",t.params.ownerType,t.params.ownerIdentifier,t.params.projectNumber,e].join("/")}function Fn(e){let t=Fa(e);return t?Ft.getItem(t):null}function Fr(e,t){let a=Fa(e);if(a)return Ft.setItem(a,t)}function Fl(e,t){return(a,n)=>{let r=e(a,n);return{...r,...t(r)}}}let Fi=Symbol("effects"),Fs=(e,t)=>(a,n)=>{let{[Fi]:r,...l}=a,i=e(l,n);return{...i,[Fi]:r.concat([()=>t(i,a,n)])}},Fo=e=>{let t=e[Fi];(0,cg.useEffect)(()=>{if(!t)return;let e=[];for(;t.length>0;){let a=t.shift();if(a&&"function"==typeof a){let t=a();t&&"function"==typeof t&&e.push(t)}}return()=>{for(let t of e)t&&t()}},[t])};function Fd(){let{findColumnByDatabaseId:e}=xG(),{findColumn:t}=_w();return(0,cg.useCallback)(function(a){let n;let r=pf(a.groupBy.map(t=>e(t))),l=pf((a.verticalGroupBy||[]).map(t=>e(t)));if(0===l.length){let e=t("Status");e&&l.push(e)}let i=pf(a.sortBy.map(([t,a])=>{let n=e(t);if(n&&a)return{column:n,direction:a}}));{let t=new Set(pf(a.visibleFields.map(t=>e(t))));for(let e of i)t.add(e.column);n=Array.from(t)}let s=a.aggregationSettings?.sum??[],o=new Set(pf(s.map(t=>e(t))));return{id:a.id,number:a.number,name:a.name,filter:a.filter??"",viewType:vJ(a.layout),horizontalGroupByColumns:r,verticalGroupByColumns:l,sortByColumnsAndDirections:i,visibleFields:n,createdAt:a.createdAt,updatedAt:a.updatedAt,aggregationSettings:{hideItemsCount:a.aggregationSettings?.hideItemsCount??!1,sum:Array.from(o)},layoutSettings:{...a.layoutSettings,roadmap:a.layoutSettings.roadmap?{...a.layoutSettings.roadmap,markerFields:pf((a.layoutSettings.roadmap.markerFields??[]).map(t=>e(t))),dateFields:pf((a.layoutSettings.roadmap.dateFields??[]).map(t=>t===vG?t:e(t)))}:void 0}}},[e,t])}let Fu=(e,t)=>{if(t.type===v9.RemoveField){let a=new Set(e);return a.has(t.column.databaseId)?(a.delete(t.column.databaseId),Array.from(a)):e}return e},Fc=(e,t)=>{switch(t.type){case v9.RemoveField:case v9.HideField:{let a=e.findIndex(([e])=>e!==t.column.databaseId);if(-1===a)return e;return e.filter(([e])=>e!==t.column.databaseId)}default:return e}},Fm=(e,t)=>{switch(t.type){case v9.ShowField:{let a=new Set(e);if(a.has(t.column.databaseId))return e;return a.add(t.column.databaseId),Array.from(a)}case v9.RemoveField:case v9.HideField:{let a=new Set(e);if(!a.has(t.column.databaseId))return e;return a.delete(t.column.databaseId),Array.from(a)}case v9.MoveField:{let a=e.findIndex(e=>e===t.column.databaseId);if(a===t.newPosition)return e;let n=[...e];return -1!==a&&n.splice(a,1),n.splice(t.newPosition,0,t.column.databaseId),n}case v9.AddField:{let a=new Set(e);if(a.has(t.column.databaseId))return e;return a.add(t.column.databaseId),Array.from(a)}default:return e}},Fp=(e,t,a)=>{let n=new Set(e);return n.has(a)?(n.delete(a),Array.from(n)):e},Ff=(e,t)=>{switch(t.type){case v9.ToggleItemsCount:return{...e,hideItemsCount:!e?.hideItemsCount};case v9.RemoveField:{if(!e)return e;let{hideItemsCount:a,...n}=e;for(let e of Object.keys(n)){let a=e;n[a]=Fp(n[a]??[],a,t.column.databaseId)}return{hideItemsCount:a,...n}}case v9.RemoveFieldAggregation:{let a=e?.[t.fieldOperation]??[];return{...e,[t.fieldOperation]:Fp(a,t.fieldOperation,t.column.databaseId)}}case v9.AddFieldAggregation:{let a=e?.[t.fieldOperation]??[],n=new Set(a);if(n.has(t.column.databaseId))return e;return n.add(t.column.databaseId),{...e,[t.fieldOperation]:Array.from(n)}}default:return e}},Fh=(e,t)=>{switch(t.type){case v9.ToggleRoadmapMarkerFields:{let a=new Set(e.roadmap?.markerFields),n=new Set(a);if(n.has(t.field.databaseId)?n.delete(t.field.databaseId):n.add(t.field.databaseId),n.size===a.size)return e;return{...e,roadmap:{...e.roadmap,markerFields:[...n]}}}case v9.SetRoadmapDateFields:return{...e,roadmap:{...e.roadmap,dateFields:t.dateFields.map(e=>"none"===e?"none":e.databaseId)}};case v9.SetRoadmapZoomLevel:return{...e,roadmap:{...e.roadmap,zoomLevel:t.zoomLevel}};case v9.SetColumnWidths:return{...e,[t.viewType]:{...e[t.viewType],columnWidths:{...t.columnWidths}}};default:return e}},Fg=(e,t)=>{switch(t.type){case v9.SetFilter:return{...e,filter:t.filter};case v9.SetHorizontalGroupedBy:return{...e,groupBy:[t.column.databaseId]};case v9.SetVerticalGroupedBy:return{...e,verticalGroupBy:[t.column.databaseId]};case v9.SetSortedBy:return{...e,sortBy:[[t.column.databaseId,t.direction]]};case v9.ClearHorizontalGroupedBy:if(0===e.groupBy.length)return e;return{...e,groupBy:[]};case v9.ClearSortedBy:if(0===e.sortBy.length)return e;return{...e,sortBy:[]};case v9.SetViewType:return{...e,layout:v0(t.viewType),layoutSettings:{...t.layoutSettings?t.layoutSettings:e.layoutSettings}};case v9.ShowField:return{...e,visibleFields:Fm(e.visibleFields,t)};case v9.HideField:{let a=new Set(e.visibleFields);if(!a.has(t.column.databaseId))return e;return a.delete(t.column.databaseId),{...e,visibleFields:Fm(e.visibleFields,t),groupBy:Fu(e.groupBy,t),sortBy:Fc(e.sortBy,t)}}case v9.ToggleField:{let a=new Set(e.visibleFields);if(a.has(t.column.databaseId))return Fg(e,{type:v9.HideField,column:t.column,viewNumber:t.viewNumber});return Fg(e,{type:v9.ShowField,column:t.column,viewNumber:t.viewNumber,position:t.position})}case v9.MoveField:return{...e,visibleFields:Fm(e.visibleFields,t)};case v9.SaveViewName:if(e.name===t.name)return e;return{...e,name:t.name};case v9.AddField:return{...e,visibleFields:Fm(e.visibleFields,t)};case v9.RemoveField:return{...e,visibleFields:Fm(e.visibleFields,t),groupBy:Fu(e.groupBy,t),sortBy:Fc(e.sortBy,t)};case v9.UpdateView:return{...t.view,filter:t.view.filter??"",aggregationSettings:t.view.aggregationSettings??vW()};case v9.ToggleItemsCount:case v9.AddFieldAggregation:case v9.RemoveFieldAggregation:return{...e,aggregationSettings:Ff(e.aggregationSettings,t)};case v9.SetColumnWidths:case v9.ToggleRoadmapMarkerFields:case v9.SetRoadmapDateFields:case v9.SetRoadmapZoomLevel:return{...e,layoutSettings:Fh(e.layoutSettings,t)};default:return e}},Fy=(e,t)=>{switch(t.type){case v9.MoveField:case v9.ToggleField:case v9.HideField:case v9.ShowField:case v9.SetViewType:case v9.ClearSortedBy:case v9.SetSortedBy:case v9.SetHorizontalGroupedBy:case v9.ClearHorizontalGroupedBy:case v9.SetVerticalGroupedBy:case v9.SetFilter:case v9.ToggleItemsCount:case v9.AddFieldAggregation:case v9.RemoveFieldAggregation:case v9.SetRoadmapDateFields:case v9.ToggleRoadmapMarkerFields:case v9.SetRoadmapZoomLevel:case v9.SetColumnWidths:return{...e,localViewState:Fg(e.localViewState,t)};case v9.ResetViewState:return{id:e.serverViewState.id,name:e.serverViewState.name,number:e.serverViewState.number,serverViewState:e.serverViewState,localViewState:e.serverViewState};case v9.RemoveField:case v9.UpdateView:case v9.AddField:return{id:e.serverViewState.id,name:e.serverViewState.name,number:e.serverViewState.number,serverViewState:Fg(e.serverViewState,t),localViewState:Fg(e.localViewState,t)};case v9.SaveViewName:return{id:e.serverViewState.id,name:t.name,number:e.serverViewState.number,serverViewState:Fg(e.serverViewState,t),localViewState:Fg(e.localViewState,t)};case v9.SetLocalViewState:return{...e,localViewState:t.localViewState};default:return e}},Fx=(e,t)=>{switch(t.type){case v9.SetViewServerStates:{let a=Object.fromEntries(t.viewStates.map(t=>{let a;let n={...t,filter:t.filter??"",aggregationSettings:t.aggregationSettings??vW()},r=e[t.number];if(!r||(0,wK.Z)(r.localViewState,r.serverViewState))a=n;else{let{layout:e}=n;if(r.localViewState.layout===e&&Pe(e)){let t=Pt(e,n.layoutSettings);a=Object.keys(t).length>0?Pa(r.localViewState,e,t):r.localViewState}else a=r.localViewState}return[t.number,{id:t.id,number:t.number,name:t.name,localViewState:a,serverViewState:n}]}));for(let t of Object.values(e))a[t.number]||(a[t.number]={...t,isDeleted:!0});return a}case v9.UpdateView:{let a=e[t.view.number];if(!a)return e;return{...e,[t.view.number]:Fy(a,t)}}case v9.AddField:case v9.SaveViewName:case v9.MoveField:case v9.ToggleField:case v9.HideField:case v9.ShowField:case v9.SetViewType:case v9.ClearSortedBy:case v9.SetSortedBy:case v9.SetHorizontalGroupedBy:case v9.ClearHorizontalGroupedBy:case v9.SetVerticalGroupedBy:case v9.SetFilter:case v9.ResetViewState:case v9.ToggleItemsCount:case v9.AddFieldAggregation:case v9.RemoveFieldAggregation:case v9.SetRoadmapDateFields:case v9.ToggleRoadmapMarkerFields:case v9.SetRoadmapZoomLevel:case v9.SetColumnWidths:{let a=e[t.viewNumber];if(!a)return e;return{...e,[t.viewNumber]:Fy(a,t)}}case v9.AddView:{let a={...t.view,filter:t.view.filter??"",aggregationSettings:t.view.aggregationSettings??vW()};return{...e,[t.view.number]:{id:a.id,name:a.name,number:a.number,serverViewState:a,localViewState:a}}}case v9.RemoveField:return Object.entries(e).reduce((e,[a,n])=>(e[Number(a)]=Fy(n,t),e),{});case v9.DeleteView:{let{[t.viewNumber]:a,...n}=e;return n}case v9.SetLocalViewState:{let a=e[t.viewNumber];if(!a)return e;return{...e,[t.viewNumber]:Fy(a,t)}}case v9.SetViews:return t.views;default:return e}},Fb=(e,t)=>{switch(t.type){case v9.AddView:return{...e,views:Fx(e.views,t),currentViewNumber:t.view.number,viewsOrder:[...e.viewsOrder||[],t.view.number]};case v9.SetViewServerStates:{let a=Fx(e.views,t);return{...e,views:a,viewsOrder:t.viewStates.map(e=>e.number)}}case v9.SetLocalViewState:case v9.RemoveField:case v9.UpdateView:case v9.AddField:case v9.SaveViewName:case v9.MoveField:case v9.ToggleField:case v9.HideField:case v9.ShowField:case v9.SetViewType:case v9.ClearSortedBy:case v9.SetHorizontalGroupedBy:case v9.SetVerticalGroupedBy:case v9.SetSortedBy:case v9.ClearHorizontalGroupedBy:case v9.SetFilter:case v9.ResetViewState:case v9.ToggleItemsCount:case v9.AddFieldAggregation:case v9.RemoveFieldAggregation:case v9.SetRoadmapDateFields:case v9.ToggleRoadmapMarkerFields:case v9.SetRoadmapZoomLevel:case v9.SetColumnWidths:{let a=e.currentViewNumber;return"currentViewNumber"in t&&void 0!==t.currentViewNumber&&(a=t.currentViewNumber),{...e,views:Fx(e.views,t),currentViewNumber:a}}case v9.SetState:return{...e,...t.state};case v9.DeleteView:{let a;let n=Object.keys(e.views).map(e=>parseInt(e,10)).indexOf(t.viewNumber),r=Fx(e.views,t),l=Object.keys(r).map(e=>parseInt(e,10));return a=l.length>n?n:n-1,{...e,views:r,currentViewNumber:l[a],viewsOrder:(e.viewsOrder??[]).filter(e=>e!==t.viewNumber)}}case v9.SetViews:return{...e,views:Fx(e.views,t),currentViewNumber:t.currentViewNumber??e.currentViewNumber};case v9.GoToViewNumber:return{...e,currentViewNumber:t.viewNumber};case v9.ReorderView:{let a=(e.viewsOrder??[]).filter(e=>e!==t.viewNumber);if(!t.prevViewNumber)return{...e,viewsOrder:[...a,t.viewNumber]};let n=a.indexOf(t.prevViewNumber);return{...e,viewsOrder:[...a.slice(0,n),t.viewNumber,...a.slice(n)]}}default:h2(t)}},Fv=Symbol("historyAction");function Fw(e){for(let t of[ha,ht])if(t.matchFullPath(e))return!0;return!1}let Fk=()=>{let{findColumn:e}=_w(),t=Fd(),{getLayoutSettingsWithDefaults:a}=PC(),n=(0,cg.useCallback)(({initialViewData:t})=>{let n=Fw(window.location.pathname)?new URLSearchParams(window.location.search):new URLSearchParams,r=n.get(Tw),l=n.get(Tk),i=n.get(Ty),s=n.get(Tb),o=n.get(Tj),d=n.get(Tv),u=n.get(TC),c=n.get(TS),m={...t,filter:t.filter??"",aggregationSettings:t.aggregationSettings||vW()},p=(0,Fe.Z)(m);if(null!=r){let t=e(r);t?p.groupBy=[t.databaseId]:p.groupBy=[]}if(null!=l){let t=e(l);t?p.verticalGroupBy=[t.databaseId]:p.verticalGroupBy=[]}if(null!=i){let t=e(i);if(t){let e=n.get(Tx)??"asc";p.sortBy=[[t.databaseId,"desc"===e?"desc":"asc"]]}else p.sortBy=[]}if(null!=s&&(p.filter=s),null!=o)try{let t=JSON.parse(o);if(Array.isArray(t)){let a=pf(t.map(t=>e(t)?.databaseId));p.visibleFields=a}}catch(e){}if(d&&Object.values(vQ).includes(d)){let e=d===vQ.Roadmap,t=d===vQ.Board||d===vQ.Table;e&&p.layout!==vK.Roadmap&&d===vQ.Roadmap&&(p.layoutSettings=a(p.layoutSettings)),(t||e)&&(p.layout=v0(d))}if(p.layout===vK.Board||p.layout===vK.Table&&p.groupBy.length>0){if(null!=u)try{let e=JSON.parse(u);"boolean"==typeof e&&(p.aggregationSettings.hideItemsCount=e)}catch(e){}if(null!=c)try{let t=JSON.parse(c);if(Array.isArray(t)){let a=pf(t.map(t=>e(t)?.databaseId));p.aggregationSettings.sum=a}}catch(e){}}return p},[e,a]),r=M9(),l=(0,cg.useMemo)(()=>{let e=Fl(Fb,e=>{if(!e.currentViewNumber)return{currentView:void 0};let a=e.views[e.currentViewNumber];return a?{currentView:{...a,localViewStateDeserialized:t(a.localViewState),...M8(a)}}:{currentView:void 0}}),a=Fs(e,(e,t,{[Fv]:a})=>{e.currentView&&a?.navigate!==!1&&r(e.currentView,{replace:a?.replace})});return a},[t,r]),i=(0,cg.useCallback)((e,{currentViewNumber:t,sessionStorageViews:a})=>{let r={};for(let l of e){let e;let i={...l,filter:l.filter??"",aggregationSettings:l.aggregationSettings||vW()};if(l.number===t)e=n({initialViewData:i});else if(a?.[l.number]){let t=a[l.number];(0,ck.Z)(t,"session view data is defined"),e={...t,aggregationSettings:t.aggregationSettings??l.aggregationSettings??{}}}else e=i;r[l.number]={id:i.id,name:i.name,number:i.number,serverViewState:i,localViewState:e}}return r},[n]),[s,o]=(0,cg.useReducer)(l,null,function(){let e=cG("memex-views")??[],a=ha.matchFullPath(window.location.pathname),n=a&&a.params.viewNumber?parseInt(a.params.viewNumber,10):e[0]?.number,r=e.find(e=>e.number===n),l=i(e,{currentViewNumber:r?.number,sessionStorageViews:FS()}),s=e.map(e=>e.number);return r?{views:l,currentViewNumber:r.number,viewsOrder:s,currentView:{...gZ(l[r.number]),number:r.number,id:r.id,name:r.name,localViewStateDeserialized:t(gZ(l[r.number]).localViewState),...M8(gZ(l[r.number]))},[Fi]:[]}:{views:l,viewsOrder:s,[Fi]:[]}});Fo(s);let d=(0,cg.useCallback)(e=>{o({type:v9.SetLocalViewState,localViewState:n({initialViewData:e}),viewNumber:e.number,currentViewNumber:e.number,[Fv]:{navigate:!1}})},[n]),u=(0,cg.useCallback)((e,t)=>{o({views:i(e,{currentViewNumber:s.currentViewNumber}),currentViewNumber:t,type:v9.SetViews})},[i,s.currentViewNumber]);(0,cg.useEffect)(()=>{function e(){let e=ha.matchFullPath(window.location.pathname);if(!e?.params.viewNumber){let e=Object.keys(s.views).map(e=>parseInt(e,10)),t=s.views[Math.min(...e)];t&&d(t.serverViewState);return}let t=parseInt(e.params.viewNumber,10),a=s.views[t];a?d(a.serverViewState):o({type:v9.GoToViewNumber,viewNumber:void 0,[Fv]:{navigate:!1}})}return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[d,s.views]);let c=(0,cg.useMemo)(()=>{let e=(s.viewsOrder??[]).reduce((e,t,a)=>({...e,[t]:a}),{});return Object.values(s.views).map(e=>({...e,...M8(e)})).sort((t,a)=>(e[t.number]??0)-(e[a.number]??0))},[s.views,s.viewsOrder]);return(0,cg.useEffect)(()=>{let e=Object.fromEntries(Object.entries(s.views).map(([e,t])=>[e,t.localViewState]));FI(e)},[s.views]),{currentView:s.currentView,viewsMap:s.views,views:c,viewStateDispatch:o,setViews:u}};function Fj(e){for(let t of Object.values(e))try{vJ(t.layout)}catch(e){if(e instanceof EnumValueError)return!1}return!0}let FC="memex-views";function FS(){let e=Fn(FC);if(!e)return null;let t=JSON.parse(e);return Fj(t)?t:null}function FI(e){return Fr(FC,JSON.stringify(e))}function FN({children:e}){let t=f5(),{postStats:a}=v4(),{currentView:n,views:r,viewsMap:l,viewStateDispatch:i}=Fk(),{hasWritePermissions:s}=xQ(),o=M1(r,n),d=(0,cg.useCallback)((e,t)=>{i({type:v9.ReorderView,viewNumber:e,prevViewNumber:t})},[i]),u=(0,cg.useCallback)((e,t)=>{i({type:v9.GoToViewNumber,viewNumber:e}),t&&a({name:"view_open",memexProjectViewNumber:e,...t})},[a,i]),c=(0,cg.useCallback)(e=>{i({type:v9.AddView,view:e})},[i]),m=(0,cg.useCallback)(e=>{i({type:v9.UpdateView,view:e})},[i]),p=(0,cg.useCallback)(e=>{i({type:v9.DeleteView,viewNumber:e})},[i]),f=(0,cg.useCallback)(e=>{i({type:v9.SetViewServerStates,viewStates:e})},[i]),h=Rj({setCurrentViewNumber:u,addView:c,updateView:m,deleteView:p}),g=(0,cg.useCallback)(e=>{if("loading"===h.status.current.status)return;let t=h.perform({view:{}});return a({name:"view_create",memexProjectViewNumber:n?.number,...e}),t},[h,n?.number,a]),y=RS({setCurrentViewNumber:u,addView:c,updateView:m,deleteView:p}),x=RI({setCurrentViewNumber:u,addView:c,updateView:m,deleteView:p}),b=RC(),v=(0,cg.useCallback)((e,t)=>{i({type:v9.ResetViewState,viewNumber:e}),t&&a({name:"view_reset",memexProjectViewNumber:e,...t})},[a,i]),w=(0,cg.useCallback)(e=>{n&&n.isDeleted?p(n.number):n&&v(n.number),u(e)},[p,v,u,n]),k=Rj({setCurrentViewNumber:w,addView:c,updateView:m,deleteView:p}),j=(0,cg.useCallback)(async(e,t,n)=>{let r=l[e];if(r&&!r.isDeleted&&t!==r.name){let l=S0(r.serverViewState,vH);await b.perform({viewNumber:r.number,view:{...l,name:t,filter:r.serverViewState.filter??""}}),a({name:"view_rename",memexProjectViewNumber:e,...n}),"succeeded"===b.status.current.status&&i({type:v9.SaveViewName,viewNumber:e,name:t})}},[l,b,i,a]),C=(0,cg.useCallback)(async(e,t)=>{let n=l[e];if(!n||n.isDeleted)return;let r=S0(n.localViewState,vH),i=y.perform({viewNumber:e,view:r});a({name:"view_save",memexProjectViewNumber:e,...t}),await i},[l,y,a]),S=(0,cg.useCallback)(async(e,t,n)=>{let r=l[e];if(!r)throw Error("No view found");if(Object.keys(l).length>42)return;let i=M8(r),s=S0(r.localViewState,[...vH,"name"]);return a(i.isViewStateDirty?{name:"view_save_as_new",memexProjectViewNumber:e,...n}:{name:"view_duplicate",memexProjectViewNumber:e,...n}),k.perform({view:{...s,name:t}})},[l,k,a]),I=(0,xg.N)(),N=(0,cg.useCallback)(async(e,t,n)=>{let r=await I({title:"Delete view?",content:"Are you sure you want to delete this view?",confirmButtonContent:"Delete",confirmButtonType:"danger"}),i=l[e];if(r){if(i?.isDeleted){p(e),n?.();return}await x.perform({viewNumber:e}),a({name:"view_delete",memexProjectViewNumber:e,...t}),n?.()}},[I,l,x,a,p]),{isProjectViewRoute:T}=v7(),_=(0,cg.useCallback)(async(e,t,a,n)=>{let r=l[e];if(!r||r.isDeleted)return;let i=S0(r.serverViewState,vH);d(e,a);try{await b.perform({viewNumber:e,view:{...i,previousMemexProjectViewId:t}})}catch(t){d(e,n)}},[l,b,d]),R=pZ(n);(0,cg.useEffect)(function(){if(T)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){let{current:t}=R;t&&t.isViewStateDirty&&!t.isDeleted&&wy(e)===wf.META_S&&(e.preventDefault(),C(t.number,{ui:"keyboard shortcut"}))}},[R,T,C]),cU(()=>{if(!n)return null;let e=[];return(T&&n.isViewStateDirty&&!n.isDeleted&&(s&&e.push(["s","Save view","views_save",()=>C(n.number,{ui:vf})]),e.push(["r","Reset view","views_reset",()=>v(n.number,{ui:vf})])),r.length>1&&(T&&s&&e.push(["d","Delete view","views_delete",()=>N(n.number,{ui:vf})]),e.push(["g","Go to view...",r.reduce((e,a,r)=>(T&&a.number===n.number||e.push([`${r}`,`Go to ${a.name}`,"views_change",()=>{u(a.number,{ui:vf}),T||t(ha.generatePath({viewNumber:a.number}))}]),e),[])])),T&&r.length<42&&s&&(e.push(["n","New view","views_create",()=>g({ui:vf})]),e.push(["c",n.isViewStateDirty?"Save changes to new view":"Duplicate view","views_duplicate",()=>S(n.number,void 0,{ui:vf})])),0===e.length)?null:["v","View options...",e]},[g,n,N,S,s,T,t,v,C,u,r]);let{getFieldIdsFromFilter:P}=MY(),D=(0,cg.useMemo)(()=>{if(!n)return!0;if(0===o.length)return!1;let e=P(n.localViewStateDeserialized.filter),t=o.some(t=>e.has(t)),a=Boolean(o.find(e=>n.localViewStateDeserialized.horizontalGroupByColumns.some(t=>t.id===e))),r=Boolean(o.find(e=>n.localViewStateDeserialized.verticalGroupByColumns.some(t=>t.id===e&&t.id!==c9.Status))),l=Boolean(o.find(e=>n.localViewStateDeserialized.sortByColumnsAndDirections.some(t=>t.column.id===e)));return t||a||l||r},[n,P,o]),E=(0,cg.useMemo)(()=>n?M7(n):ht.generatePath(),[n]);return(0,cs.jsx)(v2.Provider,{value:(0,cg.useMemo)(()=>({views:r,viewsMap:l,viewStateDispatch:i,createView:h,currentView:n,duplicateCurrentViewState:S,setCurrentViewNumber:u,updateView:y,updateViewPriority:_,saveCurrentViewState:C,destroyView:x,isViewStateDirty:n?.isViewStateDirty??!1,resetViewState:v,createNewDefaultView:g,destroyCurrentView:N,renameView:j,missingRequiredColumnData:D,returnToViewLinkTo:E,updateViewServerStates:f}),[g,h,n,N,x,S,j,v,C,u,y,_,i,r,l,D,E,f]),children:e})}try{(rz=FN).displayName||(rz.displayName="ViewProvider")}catch{}let FT=(0,cg.memo)(function({children:e}){let{viewStateDispatch:t,currentView:a}=v5(),{getNextLayoutSettings:n}=PC(),{postStats:r}=v4(),l=(0,cg.useCallback)((e,a,l)=>{t({type:v9.SetViewType,viewType:a,viewNumber:e.number,layoutSettings:n(v0(a),e)}),r({name:vg,ui:l,context:a})},[r,t,n]),{isProjectViewRoute:i}=v7();return cU(()=>{if(!i||!a)return null;let e={[vQ.Table]:["t","Switch layout: Table","view.table",()=>l(a,vQ.Table,"command palette")],[vQ.Board]:["b","Switch layout: Board","view.board",()=>l(a,vQ.Board,"command palette")],[vQ.Roadmap]:["r","Switch layout: Roadmap","view.roadmap",()=>l(a,vQ.Roadmap,"command palette")],[vQ.List]:null},t=Object.entries(e).reduce((e,[t,n])=>(t!==a.localViewStateDeserialized.viewType&&null!==n&&e.push(n),e),[]);return["y","Switch layout...",t]},[a,i,l]),(0,cs.jsx)(we.Provider,{value:(0,cg.useMemo)(()=>({isViewTypeDirty:a?.isViewTypeDirty??!1,setViewType:l,viewType:a?.localViewStateDeserialized.viewType??vQ.Table}),[a?.isViewTypeDirty,a?.localViewStateDeserialized.viewType,l]),children:e})});try{(rU=FT).displayName||(rU.displayName="ViewTypeProvider")}catch{}let F_=(0,cg.createContext)(null),FR=()=>{let e=(0,cg.useContext)(F_);if(!e)throw Error("useVisibleFields must be used within a ViewProvider");return e};async function FP(e){let t=cQ("memex-column-delete-api-data");await fd(t.url,{method:"DELETE",body:e,token:t.token})}let FD=()=>{let{setAllColumns:e,allColumnsRef:t}=xH(),{findColumn:a}=_w(),n=(0,cg.useCallback)(async n=>{let r=a(n);if(r&&r.userDefined){let a=t.current.filter(e=>e.id!==r.id);e(a),SC(),await FP({memexProjectColumnId:r.id})}},[t,e,a]);return{destroyColumn:n}},FE=(0,cg.memo)(function({children:e}){let{currentView:t,viewStateDispatch:a}=v5(),{postStats:n}=v4(),{destroyColumn:r}=FD(),l=(0,cg.useCallback)(e=>(a({type:v9.RemoveField,column:e}),r(e.id.toString())),[r,a]),i=(0,cg.useCallback)((e,t)=>{a({type:v9.ShowField,viewNumber:e,column:t})},[a]),s=(0,cg.useCallback)((e,t)=>{a({type:v9.HideField,viewNumber:e,column:t})},[a]),o=(0,cg.useCallback)(e=>!!t&&Boolean(t.localViewStateDeserialized.visibleFields.find(t=>t.id===e.id)),[t]),d=(0,cg.useCallback)((e,t,r,l=vc)=>{n({name:o(t)?vp:"field_show",ui:l,memexProjectColumnId:t.id}),a({type:v9.ToggleField,viewNumber:e,column:t,position:r})},[o,n,a]),u=(0,cg.useCallback)((e,t,r)=>{n({name:"field_move",context:`position: ${r}`,memexProjectColumnId:t.id}),a({type:v9.MoveField,viewNumber:e,column:t,newPosition:r})},[a,n]);return(0,cs.jsx)(F_.Provider,{value:(0,cg.useMemo)(()=>({visibleFields:t?.localViewStateDeserialized.visibleFields??[],isVisibleFieldsDirty:t?.isVisibleFieldsDirty??!1,isFieldVisible:o,showField:i,hideField:s,moveField:u,toggleField:d,removeField:l}),[t?.isVisibleFieldsDirty,t?.localViewStateDeserialized.visibleFields,s,o,u,l,i,d]),children:e})});try{(rK=FE).displayName||(rK.displayName="VisibleFieldsProvider")}catch{}let FL=(0,cg.memo)(function({children:e}){return(0,cs.jsx)(FN,{children:(0,cs.jsx)(FT,{children:(0,cs.jsx)(wr,{children:(0,cs.jsx)(FE,{children:(0,cs.jsx)(R7,{children:(0,cs.jsx)(Mz,{children:(0,cs.jsx)(MB,{children:(0,cs.jsx)(R3,{children:(0,cs.jsx)(PD,{children:(0,cs.jsx)(PA,{children:(0,cs.jsxs)(TG,{children:[(0,cs.jsx)(MM,{}),e]})})})})})})})})})})})});try{(rW=FL).displayName||(rW.displayName="ViewsProvider")}catch{}let FA={ADMIN:"ADMIN",WRITE:"WRITE",DEFAULT:"DEFAULT"},FM=(e=FA.DEFAULT)=>{let{hasAdminPermissions:t,hasWritePermissions:a}=xQ();switch(e){case FA.ADMIN:return t;case FA.WRITE:return a;case FA.DEFAULT:return t||a}};function FF(e,t){return e?t:null}function FZ(e){let{isDotcomRuntime:t}=f1();return FF(t,e)}function FO(e){let{memex_automation_enabled:t}=c5();return FF(t,e)}function F$(e,t){return FF(FM(e),t)}function FV(e){return F$(FA.DEFAULT,e)}function FB(e){return F$(FA.ADMIN,e)}async function Fz(e){let t=cQ("memex-item-unarchive-api-data"),{memex_verified_fetch_for_memex_items_endpoints:a,memex_skip_json_parsing_if_invalid_response_and_content_found:n}=c5();a?await fu(t.url,{method:"PUT",body:e},n):await fd(t.url,{method:"PUT",body:e,token:t.token})}let FU=(0,cg.createContext)(null),FK=(0,cg.createContext)(null),FW=(0,cg.createContext)(null),FH=(0,cg.createContext)(null),FG=(0,cg.createContext)(null);async function Fq(e){let t=cQ("memex-archived-items-get-api-data"),a=new URL(t.url,window.location.origin);void 0!==e.perPage&&a.searchParams.set("per_page",e.perPage.toString()),e.visibleFields&&a.searchParams.set(Tj,JSON.stringify(e.visibleFields));let{data:n}=await fd(a);return n}function FQ({initialFields:e}){let[t,a]=(0,cg.useState)(new Set(e)),[n,r]=(0,cg.useState)(new Set),{getFieldIdsFromFilter:l}=MY(),i=(0,cg.useCallback)(e=>{let n=Array.from(l(e)),r=n.filter(e=>!t.has(e));r.length>0&&a(e=>new Set([...Array.from(e),...r]))},[l,t]),s=(0,cg.useCallback)(e=>{r(t=>new Set([...Array.from(t),...e]))},[]),o=(0,cg.useMemo)(()=>(0,wK.Z)(t,n),[t,n]),d=(0,cg.useMemo)(()=>Array.from(n),[n]),u=(0,cg.useMemo)(()=>Array.from(t),[t]);return(0,cg.useMemo)(()=>({loadedFields:d,requiredFields:u,addRequiredFieldsFromFilter:i,markFieldsAsLoaded:s,hasAllFieldsLoaded:o}),[i,o,d,s,u])}function FX({filter:e}){let t=yJ(()=>new Map),[a,n]=(0,cg.useState)("idle"),[r,l]=(0,cg.useState)(null),[i,s]=(0,cg.useState)(!1),{requiredFields:o,hasAllFieldsLoaded:d,addRequiredFieldsFromFilter:u,markFieldsAsLoaded:c}=FQ({initialFields:[c9.Title]}),{addItem:m,removeItems:p}=hT(),f=(0,cg.useCallback)(async e=>{try{n("loading");let{memexProjectItems:a,totalCount:r}=await Fq({visibleFields:e,perPage:i?1e4:500});for(let i of(c(e),l({archivedItems:a.map(e=>hy(e)),totalCount:r}),n("idle"),a))t.current.set(i.id,i)}catch(e){n("error")}},[t,i,c]),h=(0,cg.useCallback)(async()=>{try{s(!1),n("loading");let{memexProjectItems:e,totalCount:a}=await Fq({visibleFields:o,perPage:1e4}),r=e.map(e=>hy(e));for(let i of(l({archivedItems:r,totalCount:a}),n("idle"),s(!0),e))t.current.set(i.id,i);return r}catch(e){n("error")}},[t,o]),g=(0,cg.useCallback)(e=>{for(let a of e){let e=t.current.get(a);if(e){let{archived:t,...a}=e;m(hy(a))}t.current.delete(a)}l(t=>t?.archivedItems&&t.totalCount?{...t,totalCount:t.totalCount-e.length,archivedItems:t.archivedItems.filter(t=>!e.includes(t.id))}:t)},[m,t]),y=(0,cg.useCallback)(e=>{p(e.map(e=>e.id)),l(t=>t?.archivedItems&&t.totalCount?{...t,totalCount:t.totalCount+e.length,archivedItems:[...e,...t.archivedItems].sort((e,t)=>Md({id:e.id,archivedAt:e.archived.archivedAt},{id:t.id,archivedAt:t.archived.archivedAt}))}:t)},[p]);return(0,cg.useEffect)(()=>{d||"idle"!==a||f(o)},[d,f,o,a]),(0,cg.useEffect)(()=>{u(e)},[u,e]),{state:r,status:a,optimisticRemoveItems:g,optimisticRollbackRemoveItems:y,loadAllItemsStatus:a,loadAllItems:h}}function FY({children:e}){let[t,a]=(0,cg.useState)([]),{itemMatchesFilterQuery:n}=v6(),[r,l]=(0,cg.useState)(""),i=kq(r.trim()),{state:s,optimisticRemoveItems:o,optimisticRollbackRemoveItems:d,loadAllItems:u,loadAllItemsStatus:c}=FX({filter:i}),m=(0,cg.useCallback)(()=>{a([])},[]),p=(0,cg.useCallback)(e=>{let n=t.some(t=>t.id===e);if(n)a(t.filter(t=>t.id!==e));else{let t=s?.archivedItems?.find(t=>t.id===e);if(t?.contentType===mu.RedactedItem)return;t&&a(e=>[...e,t])}},[s?.archivedItems,t]),f=(0,cg.useCallback)(e=>{a(F3(e))},[]),h=(0,cg.useCallback)(e=>{let n=F3(e),r=t.length===n.length;r?a([]):a(n)},[t.length]),g=(0,cg.useMemo)(()=>new Set(t.map(e=>e.id)),[t]),y=(0,cg.useCallback)(e=>g.has(e),[g]),x=(0,cg.useCallback)(e=>{o(e),a(t=>t.filter(t=>!e.includes(t.id)))},[o]),{openRemoveConfirmationDialog:b}=Mg(void 0,x),v=(0,cg.useCallback)(()=>{b(t.map(e=>e.id),"archive page bulk action menu")},[b,t]),w=(0,cg.useCallback)((e,t)=>{b(e,t)},[b]),k=(0,cg.useCallback)(async e=>{let t=new Set(e.map(e=>e.id));o(Array.from(t)),a(e=>e.filter(e=>!t.has(e.id))),await Fz({memexProjectItemIds:Array.from(t)})},[o]),j=(0,cg.useCallback)(async e=>{d(e)},[d]),C=fx({request:k,rollback:j}),S=(0,cg.useMemo)(()=>i?s?.archivedItems?.filter(e=>n(e,yw(i)))??[]:s?.archivedItems??[],[i,s?.archivedItems,n]),I=(0,cg.useMemo)(()=>F3(S),[S]);return(0,cg.useEffect)(()=>{i&&m()},[m,i]),(0,cs.jsx)(FU.Provider,{value:(0,cg.useMemo)(()=>({archivedItems:s?.archivedItems,totalCount:s?.totalCount,loaded:null!==s,filteredItems:S,loadAllItemsStatus:c,loadAllItems:u}),[S,u,c,s]),children:(0,cs.jsx)(FK.Provider,{value:(0,cg.useMemo)(()=>({filteredItems:S,filterValue:r,deferredFilterValue:i,setFilterValue:l}),[i,r,S,l]),children:(0,cs.jsx)(FG.Provider,{value:(0,cg.useMemo)(()=>({selectedItems:t,selectableItems:I,selectItem:p,selectAllItems:f,toggleSelectAllItems:h,isSelected:y,clearSelectedItems:m}),[m,y,f,p,I,t,h]),children:(0,cs.jsx)(FW.Provider,{value:(0,cg.useMemo)(()=>({restoreItemsRequest:C}),[C]),children:(0,cs.jsx)(FH.Provider,{value:(0,cg.useMemo)(()=>({removeAllSelectedItems:v,removeItems:w}),[v,w]),children:e})})})})})}let FJ=()=>{let e=(0,cg.useContext)(FU);if(null===e)throw Error("useArchiveItems must be used within an ArchivedItemsContext");return e},F0=()=>{let e=(0,cg.useContext)(FW);if(null===e)throw Error("useRestoreArchiveItems must be used within an RestoreArchiveItemsContext");return e},F1=()=>{let e=(0,cg.useContext)(FG);if(null===e)throw Error("useSelectArchiveItems must be used within an SelectArchiveItemsContext");return e},F2=()=>{let e=(0,cg.useContext)(FH);if(null===e)throw Error("useRemoveArchiveItems must be used within an RemoveArchiveItemsContext");return e},F5=()=>{let e=(0,cg.useContext)(FK);if(null===e)throw Error("useFilterArchiveItems must be used within an FilterArchiveItemsContext");return e},F3=e=>e.filter(e=>e.contentType!==mu.RedactedItem);try{(rH=FY).displayName||(rH.displayName="ArchivedItemsProvider")}catch{}var F4=a(26003);function F6({size:e,color:t}){return`0 0 0 ${e} ${t}`}function F8({children:e}){return(0,cs.jsx)(cW.Z,{sx:{marginTop:3,bg:"canvas.subtle",border:"1px solid",borderColor:"border.default",borderTopLeftRadius:6,borderTopRightRadius:6},children:(0,cs.jsx)(cW.Z,{sx:{p:2,pl:4,pr:3,display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"50px"},children:e})})}try{(rG=F8).displayName||(rG.displayName="ArchiveHeaderWrapper")}catch{}function F7({projectItemLimit:e,canBulkRestore:t}){let{hasWritePermissions:a}=xQ(),{archivedItems:n,loaded:r,loadAllItemsStatus:l,loadAllItems:i,totalCount:s}=FJ(),{selectedItems:o,selectableItems:d,selectAllItems:u,toggleSelectAllItems:c}=F1(),{removeAllSelectedItems:m}=F2(),{restoreItemsRequest:p}=F0(),{deferredFilterValue:f}=F5(),{itemMatchesFilterQuery:h}=v6(),{setArchiveStatus:g}=hD(),y=(0,cg.useCallback)(async()=>{await p.perform(o,o),g()},[p,o,g]),x=(0,cg.useCallback)(()=>{c(d)},[c,d]),b=o.length===d.length&&d.length>0,v=0===o.length,w=o.length>0,k=!!n&&n.length>0,j=!!n&&!!s&&s>n.length,{primaryText:C,secondaryText:S,loadAllText:I,loadAllAction:N}=(0,cg.useMemo)(()=>{let e="loaded"===l||!j;return n&&s?e||w||f?!e&&w?{primaryText:`${o.length.toLocaleString()} selected`,secondaryText:"Only selecting results from most recently archived",loadAllText:"Select all",loadAllAction:async()=>{let e=await i();e&&u(e.filter(e=>h(e,yw(f))))}}:!e&&Boolean(f)?{primaryText:`${d.length.toLocaleString()} archived ${1===d.length?"item":"items"}`,secondaryText:"Only filtering on most recently archived",loadAllText:"Filter on all",loadAllAction:i}:e&&Boolean(f)?{primaryText:`${d.length.toLocaleString()} archived ${1===d.length?"item":"items"}`}:e&&w?{primaryText:`${o.length.toLocaleString()} selected`}:{primaryText:`${s.toLocaleString()} archived ${1===s?"item":"items"}`}:{primaryText:"Most recently archived",secondaryText:`of ${s.toLocaleString()} archived items`,loadAllText:"Show all",loadAllAction:i}:{primaryText:"0 archived items"}},[l,s,j,n,w,f,i,o.length,u,h,d.length]),T="loading"===l;return(0,cs.jsxs)(F8,{children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(cW.Z,{children:k?(0,cs.jsx)(yq.Z,{sx:{mr:3},onChange:x,"aria-label":"Toggle select all items",disabled:T||!a,...b||v?{checked:b}:{indeterminate:!0}}):null}),(0,cs.jsxs)(cW.Z,{children:[C?(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold"},children:C}):null,r&&k?(0,cs.jsxs)(cW.Z,{children:[S?(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted",mr:2},children:S}):null,I?(0,cs.jsx)(yH.Z,{as:"button",onClick:N,disabled:T,sx:{color:T?"primer.fg.disabled":void 0,"&&":{cursor:T?"default":"pointer"}},children:I}):null]}):null]})]}),r&&"loading"===l?(0,cs.jsx)(yG.Z,{size:"small"}):w?(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,cs.jsx)(xh.z,{leadingIcon:me.XHJ,variant:"danger",size:"small",onClick:m,children:"Delete from project"}),(0,cs.jsx)(xh.z,{size:"small",onClick:y,disabled:!t,children:t?"Restore":(0,cs.jsx)(w_.Z,{"aria-label":`This will exceed the ${e} project item limit`,children:"Restore unavailable"})})]}):null]})}try{(rq=F7).displayName||(rq.displayName="ArchiveHeader")}catch{}let F9={Found:"found",Empty:"empty",Loading:"loading"};function Ze(e){return{state:F9.Found,value:e}}let Zt={state:F9.Loading},Za={state:F9.Empty};function Zn(e){return"loading"===e.state}function Zr(e){return"empty"===e.state}function Zl(e){return"found"===e.state}let Zi=(0,cg.memo)(function({titleColumn:e}){if(!Zl(e)||!e)return null;switch(e.value.contentType){case mu.RedactedItem:return(0,cs.jsx)(me.mBM,{"aria-label":"Redacted item"});case mu.DraftIssue:return(0,cs.jsx)(mt.Z,{icon:me.aNF,sx:{color:"fg.muted"},"aria-label":"Draft issue"});case mu.Issue:case mu.PullRequest:return(0,cs.jsx)(xl,{title:e.value});default:h2(e.value)}});try{(rQ=Zi).displayName||(rQ.displayName="MemexItemIcon")}catch{}let Zs=cw.ZP.a`
  color: ${(0,ch.U2)("colors.fg.default")};
  overflow: hidden;
  text-align: left;
  white-space: nowrap;
  text-decoration: none;
  text-overflow: ellipsis;

  &.is-disabled {
    color: ${(0,ch.U2)("colors.fg.muted")};
  }

  &:hover {
    color: ${(0,ch.U2)("colors.accent.fg")};
  }
`;function Zo({model:e,currentValue:t,isDisabled:a,openPane:n}){let r=(0,cg.useRef)(null);k0(r);let l=(0,cg.useCallback)(t=>{!n||e instanceof RedactedItemModel||t.currentTarget instanceof Element&&"A"===t.currentTarget.tagName&&(t.metaKey||t.ctrlKey)||(n(e),t.preventDefault(),t.stopPropagation())},[e,n]),i=Zl(t)?m6(t.value):"";switch(e.contentType){case mu.RedactedItem:return(0,cs.jsx)(LW,{ref:r,isDisabled:a,children:i});case mu.DraftIssue:return(0,cs.jsx)(LW,{ref:r,sx:{"&:hover":{color:"accent.fg",cursor:"pointer",textDecoration:"underline"}},dangerousHtml:i,onClick:l,isDisabled:a});case mu.PullRequest:case mu.Issue:return(0,cs.jsx)(Zs,{ref:r,target:"_blank",rel:"noreferrer",href:e.content.url,className:a?"is-disabled":void 0,onClick:e.contentType===mu.Issue?l:void 0,tabIndex:-1,children:(0,cs.jsx)(y9,{children:i})});default:h2(e)}}try{(rX=Zo).displayName||(rX.displayName="InteractiveItemTitle")}catch{}let Zd=(0,cg.memo)(function({archivedItem:e,columnData:t,canRestore:a,projectItemLimit:n}){let{hasWritePermissions:r}=xQ(),{restoreItemsRequest:l}=F0(),{setArchiveStatus:i}=hD(),s=(0,cg.useCallback)(async()=>{let t=[e];await l.perform(t,t),i()},[e,l,i]),{selectItem:o,isSelected:d}=F1(),u=(0,cg.useCallback)(()=>{o(e.id)},[e,o]),{removeItems:c}=F2(),m=(0,cg.useCallback)(()=>{c([e.id],"archive page row action menu")},[e.id,c]),p=`item-title-${e.id}`,f=t.Title,h=f?Ze(f):Za,g=m8(f),y=e.contentType===mu.RedactedItem,x=y||!r;return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(cW.Z,{as:"label",sx:{pl:4,pt:2},children:(0,cs.jsx)(yq.Z,{sx:{alignSelf:"start"},"aria-labelledby":p,checked:!x&&d(e.id),onChange:x?void 0:u,disabled:x})}),(0,cs.jsx)(cW.Z,{sx:{pt:2,pl:3},children:(0,cs.jsx)(Zi,{titleColumn:h})}),(0,cs.jsxs)(cW.Z,{sx:{p:2,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:[(0,cs.jsxs)(cW.Z,{id:p,sx:{display:"flex",alignItems:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:[(0,cs.jsx)(Zo,{model:e,currentValue:h}),mq(g)&&(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,ml:2,display:"flex"},children:(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},children:[" #",g]})})]}),(0,cs.jsxs)(cW.Z,{sx:{color:"fg.muted",fontSize:0},children:["archived ",(0,cs.jsx)(DS.Z,{datetime:e.archived.archivedAt}),!y&&e.archived?.archivedBy?(0,cs.jsxs)(cs.Fragment,{children:[" by ",(0,cs.jsx)(mn.Z,{as:"span",sx:{color:"fg.default"},children:e.archived.archivedBy.login})]}):null]})]}),(0,cs.jsx)(cW.Z,{sx:{display:"flex",alignItems:"center",mr:3},children:x?null:(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{icon:me.Ui8,variant:"invisible","aria-label":"Open item actions",sx:{color:"fg.default"}})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsxs)(kL.S,{children:[(0,cs.jsxs)(kL.S.Item,{onSelect:s,disabled:!a,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.F_y,{})}),a?"Restore":(0,cs.jsxs)(cs.Fragment,{children:["Restore unavailable",(0,cs.jsxs)(kL.S.Description,{variant:"block",children:["This will exceed the ",n," project item limit"]})]})]}),(0,cs.jsxs)(kL.S.Item,{onSelect:m,variant:"danger",children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete from project"]})]})})]})})]})});try{(rY=Zd).displayName||(rY.displayName="ArchiveItem")}catch{}let Zu=(0,cg.memo)(function(){return(0,cs.jsxs)(yQ,{sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1,m:6},children:[(0,cs.jsx)(mt.Z,{icon:me.rKT,size:30,sx:{color:"fg.muted"}}),(0,cs.jsx)(mn.Z,{as:"h2",children:"There aren't any archived items"}),(0,cs.jsx)(mn.Z,{as:"p",sx:{color:"fg.muted"},children:"Archive items from a project view and they'll be shown here."})]})}),Zc=(0,cg.memo)(function(){return(0,cs.jsxs)(yQ,{sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1,m:6},children:[(0,cs.jsx)(mt.Z,{icon:me.rKT,size:30,sx:{color:"fg.muted"}}),(0,cs.jsx)(mn.Z,{as:"h2",children:"No results matched your filter"})]})}),Zm=(0,cg.memo)(function(){return(0,cs.jsx)(yQ,{sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1,m:6},children:(0,cs.jsx)(yG.Z,{})})});try{(rJ=Zu).displayName||(rJ.displayName="NoArchivedItems")}catch{}try{(r0=Zc).displayName||(r0.displayName="NoFilteredItems")}catch{}try{(r1=Zm).displayName||(r1.displayName="Loader")}catch{}let Zp={borderBottom:"1px solid",borderColor:"border.default","&:last-child":{borderBottom:"none"},display:"grid",gridTemplateColumns:"auto auto 1fr auto",flexShrink:0},Zf=(0,cg.memo)(function({children:e}){let t=(0,cg.useRef)(null),{isVisible:a,size:n}=y2({ref:t});return(0,cs.jsx)(cW.Z,{style:(0,cg.useMemo)(()=>({height:a?"unset":n,flexShrink:0}),[a,n]),ref:t,as:"li",sx:Zp,children:a?e:null})});try{(r2=Zf).displayName||(r2.displayName="ArchiveListItem")}catch{}let Zh={listStyleType:"none",display:"flex",flexDirection:"column",border:"1px solid",borderTop:0,borderColor:"border.default",borderRadius:6,borderTopRightRadius:0,borderTopLeftRadius:0,contentVisibility:"auto"},Zg=(0,cg.memo)(function({filteredItems:e,loaded:t,hasArchive:a,renderItem:n,sx:r}){return(0,cs.jsx)(cW.Z,{as:"ul",sx:{...Zh,...r},...(0,cK.f)("archived-item-list"),children:t?a?0===e.length?(0,cs.jsx)("li",{children:(0,cs.jsx)(Zc,{})}):(0,cs.jsx)(y1,{rootRef:null,sizeEstimate:55,children:e.map(e=>(0,cs.jsx)(Zf,{children:n(e)},e.id))}):(0,cs.jsx)("li",{children:(0,cs.jsx)(Zu,{})}):(0,cs.jsx)(cW.Z,{as:"li",...(0,cK.f)("archived-item-loader"),children:(0,cs.jsx)(Zm,{})})})});try{(r5=Zg).displayName||(r5.displayName="ArchiveList")}catch{}let Zy=[];function Zx(){let{archivedItems:e,loaded:t}=FJ(),{filterValue:a,setFilterValue:n,filteredItems:r}=F5(),{selectedItems:l}=F1(),{items:i}=h_(),s=f1().projectLimits.projectItemLimit,o=l.length+i.length>s,d=i.length+1>s,u=(0,cg.useCallback)(e=>(0,cs.jsx)(Zd,{archivedItem:e,columnData:e.columns,canRestore:!d,projectItemLimit:s}),[s,d]),c=(0,cg.useMemo)(()=>({items:e??Zy}),[e]),m=(0,cg.useRef)(null);return(0,cs.jsx)(F4.X,{sx:{pt:4},containerWidth:"large",rowGap:"condensed",children:(0,cs.jsxs)(F4.X.Content,{children:[(0,cs.jsxs)(cW.Z,{sx:{position:"sticky",top:-2,pt:5,mt:-5,backgroundColor:"canvas.default",zIndex:1},children:[(0,cs.jsx)(wu.Provider,{value:c,children:(0,cs.jsx)(ke,{inputRef:m,height:40,value:a,onChange:(0,cg.useCallback)(e=>n(e.target.value),[n]),onClearButtonClick:(0,cg.useCallback)(()=>{n("")},[n]),containerSx:(0,cg.useMemo)(()=>({zIndex:"1",borderRadius:2,height:40,boxShadow:e=>`${F6({size:"1px",color:e.colors.border.default})}, ${e.shadows.primer.shadow.inset}`,flexShrink:0,"&.is-focused":{boxShadow:e=>`${F6({size:"1px",color:e.colors.accent.emphasis})}, ${e.shadows.primer.shadow.focus}`},"&:focus-within":{boxShadow:e=>`${F6({size:"1px",color:e.colors.accent.emphasis})}, ${e.shadows.primer.shadow.focus}`},pl:"12px",pr:"12px",maxHeight:40}),[]),inputContainerSx:(0,cg.useMemo)(()=>({ml:2}),[]),filterCount:a.trim()?r.length:void 0,setValueFromSuggestion:n})}),(0,cs.jsx)(F7,{projectItemLimit:s,canBulkRestore:!o})]}),(0,cs.jsx)(Zg,{filteredItems:r,loaded:t,hasArchive:!!e&&e.length>0,renderItem:u})]})})}try{(r3=Zx).displayName||(r3.displayName="ArchiveView")}catch{}async function Zb(e={}){let t=cQ("memex-paginated-archived-items-get-api-data"),a=new URL(t.url,window.location.origin);e.after&&a.searchParams.set("after",e.after),e.q&&a.searchParams.set("q",e.q);let{data:n}=await fd(a);return n}let Zv=(0,Ro.r)({primaryKey:"archivedItems",queryFn:async({queryKey:[e,{after:t,q:a}]})=>Zb({after:t,q:a}),keepPreviousData:!0,staleTime:6e4,refetchOnMount:"always"}),Zw=e=>{let{nodes:t,...a}=e;return{...a,itemModels:e.nodes.map(e=>hy(e))}},Zk=(e={})=>Zv({variables:e,select:Zw});var Zj=a(25434);let ZC=()=>{let e=(0,cp.NL)(),t=(0,Zj.c)({mutationFn:Mf,onSuccess:()=>{let t=Zv.getKey();e.invalidateQueries(t)}});return t()},ZS=()=>{let e=(0,cp.NL)(),t=(0,Zj.c)({mutationFn:Fz,onSuccess:()=>{let t=Zv.getKey();e.invalidateQueries(t)}});return t()},ZI=(e,t)=>({type:"SET_NEXT_CURSOR",nextCursor:e,currentPageItemCount:t}),ZN=()=>({type:"SET_PREVIOUS_CURSOR"}),ZT=e=>({type:"SET_ITEM_SELECTION",itemSelection:e}),Z_=(e,t)=>{switch(t.type){case"SET_NEXT_CURSOR":{let a=e.previousCursors[e.previousCursors.length-1],n=e.previousCursors.concat({cursor:e.currentCursor,previousPagesItemCount:(a?a.previousPagesItemCount:0)+t.currentPageItemCount});return{...e,previousCursors:n,currentCursor:t.nextCursor,itemSelection:"all_on_server"===e.itemSelection?"all_on_server":[]}}case"SET_PREVIOUS_CURSOR":{let t=[...e.previousCursors],a=t.pop();return{...e,previousCursors:t,currentCursor:a?.cursor,itemSelection:"all_on_server"===e.itemSelection?"all_on_server":[]}}case"SET_DEBOUNCED_FILTER_VALUE":return{...e,debouncedFilterValue:t.debouncedFilterValue,previousCursors:[],currentCursor:void 0,itemSelection:[]};case"SET_ITEM_SELECTION":return{...e,itemSelection:t.itemSelection};default:return e}},ZR={currentCursor:void 0,previousCursors:[],debouncedFilterValue:"",itemSelection:[]};function ZP({children:e}){return(0,cs.jsx)(cW.Z,{sx:{bg:"canvas.subtle",border:"1px solid",borderColor:"border.default",borderBottomLeftRadius:6,borderBottomRightRadius:6},children:(0,cs.jsx)(cW.Z,{sx:{p:2,pl:4,pr:3,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50px"},children:e})})}function ZD({hasResults:e,onFetchNextPage:t,onFetchPreviousPage:a}){return e?(0,cs.jsx)(ZP,{children:(0,cs.jsx)(cW.Z,{sx:{display:"flex"},children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,cs.jsx)(xh.z,{disabled:!a,onClick:a,children:"Previous"}),(0,cs.jsx)(xh.z,{disabled:!t,onClick:t,children:"Next"})]})})}):null}try{(r4=ZP).displayName||(r4.displayName="ArchiveFooterWrapper")}catch{}try{(r6=ZD).displayName||(r6.displayName="PaginatedArchiveFooter")}catch{}function ZE({projectItemLimit:e,canBulkRestore:t,loaded:a,filteredItemCount:n,itemSelection:r,hasSelectedAllItemsInPage:l,hasMoreItemsOnServer:i,onToggleSelectAll:s,onRestoreSelectedItems:o,onRemoveSelectedItems:d,selectMatchingItemsOnServer:u,totalCount:c,previousPagesItemCount:m}){let{hasWritePermissions:p}=xQ();return(0,cs.jsxs)(F8,{children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(cW.Z,{children:n>0?(0,cs.jsx)(yq.Z,{sx:{mr:3},onChange:p?s:void 0,"aria-label":"Toggle select all items",disabled:!p,...r&&!l?{indeterminate:!0}:{checked:l}}):null}),(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)(ZA,{itemSelection:r,selectMatchingItemsOnServer:i&&l&&"all_on_server"!==r?u:void 0,totalCount:c,previousPagesItemCount:m,countForCurrentPage:n})})]}),a?(0,cs.jsx)(ZL,{projectItemLimit:e,canBulkRestore:t,itemSelection:r,onRestoreSelectedItems:o,onRemoveSelectedItems:d}):(0,cs.jsx)(yG.Z,{size:"small"})]})}function ZL({projectItemLimit:e,canBulkRestore:t,itemSelection:a,onRestoreSelectedItems:n,onRemoveSelectedItems:r}){return a?(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,cs.jsx)(xh.z,{leadingIcon:me.XHJ,variant:"danger",size:"small",onClick:r,children:"Delete from project"}),(0,cs.jsx)(xh.z,{size:"small",onClick:n,disabled:!t,children:t?"Restore":(0,cs.jsx)(w_.Z,{"aria-label":`This will exceed the ${e} project item limit`,children:"Restore unavailable"})})]}):null}function ZA({itemSelection:e,selectMatchingItemsOnServer:t,totalCount:a,previousPagesItemCount:n,countForCurrentPage:r}){return e?(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold"},children:"all_on_server"===e?fr.allSelectedMatchingItems(a):fr.selectedItems(e)}),t&&(0,cs.jsx)(yH.Z,{sx:{ml:2},as:"button",onClick:t,children:fr.selectAllMatchingItems(a)})]}):(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold"},children:0===r?fr.noArchivedItems:fr.itemCount(1+n,r+n,a)})})}try{(r8=ZE).displayName||(r8.displayName="PaginatedArchiveHeader")}catch{}try{(r7=ZL).displayName||(r7.displayName="ArchiveHeaderBulkActions")}catch{}try{(r9=ZA).displayName||(r9.displayName="ArchiveHeaderTitle")}catch{}let ZM=(0,cg.memo)(function({archivedItem:e,columnData:t,canRestore:a,projectItemLimit:n,isSelected:r,onToggleSelection:l,onRestoreItems:i,onRemoveItems:s}){let{hasWritePermissions:o}=xQ(),d=e.contentType===mu.RedactedItem,u=d||!o,c=`item-title-${e.id}`,m=t.Title,p=m?Ze(m):Za,f=m8(m),h=(0,cg.useCallback)(()=>{i([e.id])},[i,e.id]),g=(0,cg.useCallback)(()=>{s([e.id])},[s,e.id]);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(cW.Z,{as:"label",sx:{pl:4,pt:2},children:(0,cs.jsx)(yq.Z,{sx:{alignSelf:"start"},"aria-labelledby":c,checked:!u&&r,onChange:u?void 0:l,disabled:u})}),(0,cs.jsx)(cW.Z,{sx:{pt:2,pl:3},children:(0,cs.jsx)(Zi,{titleColumn:p})}),(0,cs.jsxs)(cW.Z,{sx:{p:2,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:[(0,cs.jsxs)(cW.Z,{id:c,sx:{display:"flex",alignItems:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:[(0,cs.jsx)(Zo,{model:e,currentValue:p}),mq(f)&&(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,ml:2,display:"flex"},children:(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},children:[" #",f]})})]}),(0,cs.jsxs)(cW.Z,{sx:{color:"fg.muted",fontSize:0},children:["archived ",(0,cs.jsx)(DS.Z,{datetime:e.archived.archivedAt}),!d&&e.archived?.archivedBy?(0,cs.jsxs)(cs.Fragment,{children:[" by ",(0,cs.jsx)(mn.Z,{as:"span",sx:{color:"fg.default"},children:e.archived.archivedBy.login})]}):null]})]}),(0,cs.jsx)(cW.Z,{sx:{display:"flex",alignItems:"center",mr:3},children:u?null:(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{icon:me.Ui8,variant:"invisible","aria-label":"Open item actions",sx:{color:"fg.default"}})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsxs)(kL.S,{children:[(0,cs.jsxs)(kL.S.Item,{onSelect:h,disabled:!a,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.F_y,{})}),a?"Restore":(0,cs.jsxs)(cs.Fragment,{children:["Restore unavailable",(0,cs.jsxs)(kL.S.Description,{variant:"block",children:["This will exceed the ",n," project item limit"]})]})]}),(0,cs.jsxs)(kL.S.Item,{onSelect:g,variant:"danger",children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete from project"]})]})})]})})]})});try{(le=ZM).displayName||(le.displayName="PaginatedArchiveItem")}catch{}let ZF={items:[]},ZZ=e=>({filteredItems:e?.itemModels??[],hasNextPage:e?.pageInfo.hasNextPage??!1,endCursor:e?.pageInfo.endCursor,totalCount:e?.totalCount??{value:0,isApproximate:!1}});function ZO(){let[e,t]=(0,cg.useReducer)(Z_,ZR),{data:a,isInitialLoading:n}=Zk({after:e.currentCursor,q:e.debouncedFilterValue}),{filteredItems:r,hasNextPage:l,endCursor:i,totalCount:s}=ZZ(a),o=e.previousCursors.length>0,d=(0,cg.useMemo)(()=>"all_on_server"===e.itemSelection?"all_on_server":new Set(e.itemSelection),[e.itemSelection]),u=(0,cg.useMemo)(()=>r.filter(e=>e.contentType!==mu.RedactedItem).map(e=>e.id),[r]),c=(0,cg.useCallback)(()=>{"all_on_server"===d||u.length===d.size?t(ZT([])):t(ZT(u))},[u,d]),m=(0,cg.useCallback)(()=>{t(ZT("all_on_server"))},[]),{items:p}=h_(),{findColumnByName:f}=SW(),h=f1().projectLimits.projectItemLimit,g=p.length+1<=h,y="all_on_server"===d?p.length+u.length<h:p.length+d.size<=h,x=(0,cg.useCallback)(e=>{if("all_on_server"===d)t(ZT(u.filter(t=>t!==e.id)));else{let a=new Set(d);a.has(e.id)?a.delete(e.id):a.add(e.id),t(ZT(Array.from(a)))}},[u,d]),{setArchiveStatus:b}=hD(),{mutateAsync:v}=ZS(),w=(0,cg.useCallback)(async a=>{await v({memexProjectItemIds:a}),"all_on_server"===e.itemSelection||e.itemSelection.length===u.length?t(ZT([])):t(ZT(e.itemSelection.filter(e=>!a.includes(e)))),b()},[v,u.length,b,e.itemSelection]),k=(0,cg.useCallback)(()=>{"all_on_server"===d||w(Array.from(d))},[w,d]),{mutateAsync:j}=ZC(),{confirmRemoveItems:C}=My(),S=(0,cg.useCallback)(async a=>{await C(a)&&(await j({memexProjectItemIds:a}),"all_on_server"===e.itemSelection||e.itemSelection.length===u.length?t(ZT([])):t(ZT(e.itemSelection.filter(e=>!a.includes(e)))),b())},[C,j,u.length,b,e.itemSelection]),I=(0,cg.useCallback)(()=>{"all_on_server"===d||S(Array.from(d))},[S,d]),N=(0,cg.useCallback)(e=>(0,cs.jsx)(ZM,{archivedItem:e,columnData:e.columns,canRestore:g,projectItemLimit:h,isSelected:"all_on_server"===d||d.has(e.id),onToggleSelection:()=>x(e),onRestoreItems:w,onRemoveItems:S}),[g,S,w,x,h,d]),[T,_]=(0,cg.useState)(""),R=kC(e=>t({type:"SET_DEBOUNCED_FILTER_VALUE",debouncedFilterValue:e}),225),P=(0,cg.useCallback)(e=>{_(e),R(e)},[R]),D=(0,cg.useCallback)(e=>P(e.target.value),[P]),E=(0,cg.useCallback)(()=>P(""),[P]),L=(0,cg.useCallback)(e=>{let t=f(e);return t&&("singleSelect"===t.dataType||"assignees"===t.dataType)?bT.ColumnAndValues:bT.None},[f]),A=(0,cg.useRef)(null),M=r.length>0||!!e.debouncedFilterValue,F=e.previousCursors[e.previousCursors.length-1],Z=F?F.previousPagesItemCount:0;return(0,cs.jsx)(F4.X,{sx:{pt:4},containerWidth:"large",rowGap:"condensed",children:(0,cs.jsxs)(F4.X.Content,{children:[(0,cs.jsxs)(cW.Z,{sx:{position:"sticky",top:-2,pt:5,mt:-5,backgroundColor:"canvas.default",zIndex:1},children:[(0,cs.jsx)(wu.Provider,{value:ZF,children:(0,cs.jsx)(ke,{inputRef:A,height:40,value:T,onChange:D,onClearButtonClick:E,containerSx:(0,cg.useMemo)(()=>({zIndex:"1",borderRadius:2,height:40,boxShadow:e=>`${F6({size:"1px",color:e.colors.border.default})}, ${e.shadows.primer.shadow.inset}`,flexShrink:0,"&.is-focused":{boxShadow:e=>`${F6({size:"1px",color:e.colors.accent.emphasis})}, ${e.shadows.primer.shadow.focus}`},"&:focus-within":{boxShadow:e=>`${F6({size:"1px",color:e.colors.accent.emphasis})}, ${e.shadows.primer.shadow.focus}`},pl:"12px",pr:"12px",maxHeight:40}),[]),inputContainerSx:(0,cg.useMemo)(()=>({ml:2}),[]),filterCount:void 0,setValueFromSuggestion:P,showColumnSuggestionIf:L})}),(0,cs.jsx)(ZE,{canBulkRestore:y,projectItemLimit:h,loaded:!n,filteredItemCount:r.length,itemSelection:"all_on_server"===d?"all_on_server":d.size,hasSelectedAllItemsInPage:"all_on_server"===d||d.size===u.length,hasMoreItemsOnServer:l||o,onToggleSelectAll:c,onRestoreSelectedItems:k,onRemoveSelectedItems:I,selectMatchingItemsOnServer:m,totalCount:s,previousPagesItemCount:Z})]}),(0,cs.jsx)(Zg,{filteredItems:r,loaded:!n,hasArchive:M,renderItem:N,sx:r.length>0?{borderRadius:0,borderBottom:0}:void 0}),(0,cs.jsx)(ZD,{hasResults:r.length>0,onFetchNextPage:l&&i?()=>t(ZI(i,r.length)):void 0,onFetchPreviousPage:o?()=>t(ZN()):void 0})]})})}try{(lt=ZO).displayName||(lt.displayName="PaginatedArchiveView")}catch{}function Z$(){let{memex_paginated_archive:e}=xO();return e?(0,cs.jsx)(cH,{...(0,cK.f)("paginated-archive-page"),sx:{scrollbarGutter:"stable both-edges",mb:0},children:(0,cs.jsx)(ZO,{})}):(0,cs.jsx)(cH,{...(0,cK.f)("archive-page"),sx:{scrollbarGutter:"stable both-edges",mb:0},children:(0,cs.jsx)(FY,{children:(0,cs.jsx)(Zx,{})})})}try{(la=Z$).displayName||(la.displayName="ArchivePage")}catch{}function ZV({localVersion:e,serverVersion:t}){let a=e.configuration,n=t.configuration,r=a.filter.trim()!==n.filter.trim(),l=a.type!==n.type,i=a.xAxis.dataSource.column!==n.xAxis.dataSource.column,s=a.xAxis.dataSource.sortOrder!==n.xAxis.dataSource.sortOrder,o=a.xAxis.groupBy?.column!==n.xAxis.groupBy?.column,d=a.xAxis.groupBy?.sortOrder!==n.xAxis.groupBy?.sortOrder,u=i||s||o||d,c=a.yAxis.aggregate.operation!==n.yAxis.aggregate.operation,m=!(0,wK.Z)(a.yAxis.aggregate.columns,n.yAxis.aggregate.columns),p=a.time?.period!==n.time?.period,f=a.time?.startDate!==n.time?.startDate,h=a.time?.endDate!==n.time?.endDate,g=p||f||h,y=l||u||c||m;return{isXAxisColumnDirty:i,isXAxisGroupByColumnDirty:o,isXAxisGroupBySortOrderDirty:d,isXAxisDirty:u,isYAxisAggregateOperationDirty:c,isYAxisAggregateColumnsDirty:m,isFilterDirty:r,isConfigurationDirty:y,isTimePeriodDirty:g,isDirty:y||r||g}}function ZB(e){return"time"===e.localVersion.configuration.xAxis.dataSource.column}function Zz(e){return e.number<=0}function ZU(e){let t=new URLSearchParams(e);return t.delete(Tv),t.delete(TR),t.delete(T_),t.delete(TP),t.delete(TD),t}function ZK(e){let t=new URLSearchParams(e);return t.delete(Tb),t.delete(Tv),t.delete(TR),t.delete(T_),t.delete(TP),t.delete(TD),t.delete(TI),t.delete(TN),t.delete(TT),t}let ZW={bar:"bar",column:"column",line:"line","stacked-area":"stacked-area","stacked-bar":"stacked-bar","stacked-column":"stacked-column"};function ZH(e){return e in ZW}let ZG={sum:"sum",count:"count",max:"max",min:"min",avg:"avg"};function Zq(e){return e in ZG}let ZQ=(0,cg.createContext)(null);function ZX(){let e=(0,cg.useContext)(ZQ);if(null===e)throw Error("useCharts can only be used inside a ChartStateProvider");return e}let ZY=(0,cg.createContext)(null),ZJ=(0,cg.memo)(function({children:e}){let[t,a]=(0,cg.useState)(!1),[n,r]=(0,cg.useState)(!1),l=(0,cg.useRef)(0),i=(0,cg.useCallback)(()=>{clearTimeout(l.current),r(!1),a(!0)},[]),s=(0,cg.useCallback)(()=>{r(!0),l.current=window.setTimeout(()=>{a(!1),r(!1)},300)},[]),o=(0,cg.useMemo)(()=>({openPane:i,closePane:s,isClosing:n,isOpen:t}),[i,s,n,t]);return(0,cs.jsx)(ZY.Provider,{value:o,children:e})}),Z0=()=>{let e=(0,cg.useContext)(ZY);if(null===e)throw Error("useInsightsConfigurationPane must be used within a InsightsConfigurationPaneProvider");return e};try{(ln=ZY).displayName||(ln.displayName="InsightsConfigurationPaneContext")}catch{}try{(lr=ZJ).displayName||(lr.displayName="InsightsConfigurationPaneProvider")}catch{}function Z1(e){let t=e.localVersion.configuration.filter,a=e.serverVersion.configuration.filter,{updateLocalChartConfiguration:n}=ZX(),r=(0,DC.Z)(),[l,i]=f6(),s=(0,cg.useRef)(null),o=(0,cg.useRef)(!1);(0,cg.useEffect)(()=>()=>{s.current&&window.clearTimeout(s.current)},[]);let[d,u]=(0,cg.useState)(()=>l.get(Tb)??t),c=(0,cg.useCallback)((t,a={immediate:!1})=>{function d(){let r=new URLSearchParams(l);t===e.serverVersion.configuration.filter?r.delete(Tb):r.set(Tb,t),n(e.number,{filter:t}),i(r,{replace:a.replace})}u(t),a.skipNextSyncFromExternalChange&&(o.current=!0),s.current&&window.clearTimeout(s.current),a.immediate?d():s.current=window.setTimeout(()=>{r()&&d()},200)},[l,e.serverVersion.configuration.filter,e.number,n,i,r]),m=pZ(c);(0,cg.useEffect)(function(){if(o.current)o.current=!1;else{let e=new URLSearchParams(window.location.search);m.current(e.get(Tb)??t,{immediate:!0,replace:!0})}},[t,m,e.number]);let p=(0,cg.useCallback)(()=>{m.current(a,{immediate:!0})},[a,m]);return{localFilterValue:d,setLocalFilterValueAndSyncToQueryParam:c,resetFilter:p,setLocalFilterValue:u}}function Z2(e){let t=kq(e),{items:a}=h_(),{itemMatchesFilterQuery:n}=v6(),r=(0,cg.useMemo)(()=>{let e=Boolean(t.trim());return e?a.filter(e=>n(e,yw(t))):null},[a,t,n]);return{filteredItems:r}}function Z5(e){let{localFilterValue:t,setLocalFilterValueAndSyncToQueryParam:a,resetFilter:n}=Z1(e),{filteredItems:r}=Z2(t),l=(0,cg.useRef)(null),i=t.trim(),s=(0,cg.useMemo)(()=>i?()=>{a("",{immediate:!0,skipNextSyncFromExternalChange:!0})}:void 0,[i,a]),o=(0,cg.useCallback)(e=>a(e,{immediate:!0,skipNextSyncFromExternalChange:!0}),[a]),d=(0,cg.useCallback)(e=>{a(e.target.value,{immediate:!1,skipNextSyncFromExternalChange:!0})},[a]);return{chart:e,filteredItems:r,filterValue:t,handleFilterValueChange:d,onClearButtonClick:s,setValueFromSuggestion:o,resetFilter:n,inputRef:l}}var Z3=a(31681);let Z4=["2W","1M","3M","max","custom"],Z6=(e,t)=>{let a=e.get(TI);return a&&Z4.includes(a)?a:t?.period??"2W"},Z8=e=>{let t=/^\d{4}-\d{2}-\d{2}$/;return!!e&&t.test(e)},Z7=(e,t)=>{let a=Z6(e,t),n={period:a};if("custom"===a){let a=e.get(TN)??t?.startDate,r=e.get(TT)??t?.endDate;Z8(a)&&Z8(r)?(n.startDate=a,n.endDate=r):n.period=t?.period??"2W"}return n};function Z9(e){let t=ZB(e),[a]=f6(),{time:n}=e.localVersion.configuration,{period:r,startDate:l,endDate:i}=Z7(a,n),{updateLocalChartConfiguration:s}=ZX();return(0,cg.useEffect)(()=>{t&&"custom"!==r&&s(e.number,{time:{period:r}})},[e.number,t,r,s]),(0,cg.useEffect)(()=>{t&&l&&i&&s(e.number,{time:{period:"custom",startDate:l,endDate:i}})},[e.number,t,l,i,s]),{endDate:i,period:r,startDate:l}}let Oe=["line","stacked-area"],Ot=(e,t)=>{let a=new Date;if(a.setDate(a.getDate()-1),new Date(e)>a)return 0;let n=new Date,r=(new Date(t).getTime()-n.getTime())/864e5;return Math.max(Math.ceil(r),0)};function Oa(e){let{startDate:t,endDate:a,period:n}=Z9(e),{memex_insights_forecasting:r}=xO();if(!r)return 0;let l=e.localVersion.configuration.type;return Oe.includes(l)&&t&&a&&"custom"===n?Ot(t,a):0}function On(e,t){let a=Z3.o3.fillMissing(e.rows),n=new Date;n.setDate(n.getDate()-42);let r=h5(n.toISOString()),l=a.filter(e=>h5(e[0])>=r),i=Z3.Yw.linearRegression.forecastAndAppend(l,t,{}).series,s=[...new Set([...a,...i])];return{...e,rows:s}}var Or=a(73418);function Ol(e,t,a){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,t,a)}function Oi({tagName:e,elementClass:t,events:a}){return Ol(e,t),(0,Or.L)({tagName:e,elementClass:t,react:cy,events:a,displayName:e})}let Os="bar-chart-memex-insights",Oo=Oi({tagName:Os,elementClass:Z3.bR});try{(ll=Oo).displayName||(ll.displayName="BarChart")}catch{}let Od="column-chart-memex-insights",Ou=Oi({tagName:Od,elementClass:Z3.yi});try{(li=Ou).displayName||(li.displayName="ColumnChart")}catch{}let Oc="insights-query-element-memex-with-opaque-error",Om=e=>e.setAttribute("error",""),Op=class InsightsQueryWithOpaqueError extends Z3.YI{constructor(...e){super(...e),this.renderError=(e,t)=>{super.renderError(e,t,{chartCallback:Om})}}},Of=Oi({tagName:Oc,elementClass:Op}),Oh=(0,cg.forwardRef)(function(e,t){let a=(0,cg.useRef)(null);(0,cg.useImperativeHandle)(t,()=>a.current);let n=(0,cg.useRef)(null);return(0,cg.useEffect)(()=>{let e=!0,t=a.current;return async function(){await window.customElements.whenDefined(Oc),n.current=window.setTimeout(()=>{t&&e&&t.executeQuery()})}(),()=>{e=!1,n.current&&window.clearTimeout(n.current)}},[e.authUrl,e.apiUrl,e.query,e.autoRender,e.options]),(0,cs.jsx)(Of,{...e,ref:a})});try{(ls=Of).displayName||(ls.displayName="ReactInsightsQuery")}catch{}try{(lo=Oh).displayName||(lo.displayName="AutoExecutingInsightsQuery")}catch{}try{(ld=Oh).displayName||(ld.displayName="AutoExecutingInsightsQuery")}catch{}let Og="line-chart-memex-insights",Oy=Oi({tagName:Og,elementClass:Z3.KB});try{(lu=Oy).displayName||(lu.displayName="LineChart")}catch{}let Ox="stacked-area-chart-memex-insights",Ob=Oi({tagName:Ox,elementClass:Z3.nf});try{(lc=Ob).displayName||(lc.displayName="StackedAreaChart")}catch{}function Ov(e,t){switch(e.dataType){case c7.SingleSelect:{let a=t[e.id]?.id,n=e.settings.options?.find(e=>e.id===a);return n?.name?[n.name]:[`${pX.noSuggestion} ${e.name}`]}case c7.Milestone:return t[c9.Milestone]?.title;case c7.Repository:return t[c9.Repository]?.nameWithOwner;case c7.Date:{let a=t[e.id];return mJ(a)}case c7.Number:{let a=t[e.id];return a?.value.toString()}case c7.Labels:return t.Labels?.map(e=>e.name);case c7.LinkedPullRequests:return t[c9.LinkedPullRequests]?.map(e=>e.number.toString());case c7.Assignees:return t[c9.Assignees]?.map(e=>e.login);case c7.Reviewers:return t[c9.Reviewers]?.map(e=>e.reviewer.name);case c7.Iteration:{let a=t[e.id]?.id,n=gp(e),r=n.find(e=>e.id===a);return r?.title}default:throw Error(`${e.dataType} column is not a supported chart data type`)}}function Ow(e,t){let a=Ov(e,t);return a&&0!==a.length?Array.isArray(a)?a:[a]:[`${pX.noSuggestion} ${e.name}`]}let Ok={[c7.Assignees]:{icon:me.t0Z,text:"Assignees"},[c7.SingleSelect]:{icon:me.FBI,text:"Single select",sortedAscendingDescription:`(${pX.sortSingleSelectAscending})`,sortedDescendingDescription:`(${pX.sortSingleSelectDescending})`},[c7.Title]:{icon:me.ASI,text:"Title"},[c7.Number]:{icon:me.yEv,text:"Number",sortedAscendingDescription:`(${pX.sortNumbersAscending})`,sortedDescendingDescription:`(${pX.sortNumbersDescending})`},[c7.Labels]:{icon:me.lO_,text:"Labels"},[c7.Repository]:{icon:me.H0r,text:"Repository"},[c7.Iteration]:{icon:me.H9J,text:"Iteration"},[c7.Milestone]:{icon:me.K37,text:"Milestone"},[c7.Date]:{icon:me.Que,text:"Date",sortedAscendingDescription:`(${pX.sortDatesAscending})`,sortedDescendingDescription:`(${pX.sortDatesDescending})`},[c7.LinkedPullRequests]:{icon:me.UWO,text:"Linked pull requests"},[c7.Reviewers]:{icon:me.t0Z,text:"Reviewers"},[c7.Text]:{icon:me.R1h,text:"Text"},[c7.Tracks]:{icon:me.nsG,text:"Tracks"},[c7.TrackedBy]:{icon:me.yMN,text:"Tracked by"}},Oj=e=>Ok[e].icon,OC=e=>Ok[e].text,OS=e=>Ok[e].sortedAscendingDescription??`(${pX.sortStringsAscending})`,OI=e=>Ok[e].sortedDescendingDescription??`(${pX.sortStringsDescending})`;function ON(e,t,a){t!==a?e.set(Tb,t):e.delete(Tb)}function OT(e,t,a){t===a?e.delete(Tv):e.set(Tv,t)}function O_(e,t,a){(0,wK.Z)(t,a)?(e.delete(TR),e.delete(T_)):(e.set(TR,`${t.dataSource.column}`),e.set(T_,t.groupBy?`${t.groupBy.column}`:""))}function OR(e,t,a){(0,wK.Z)(t,a)?(e.delete(TD),e.delete(TP)):(e.set(TD,t.aggregate.operation),e.set(TP,t.aggregate.columns?t.aggregate.columns.join(","):""))}function OP(e,t,a){!t||(0,wK.Z)(t,a)?(e.delete(TI),e.delete(TN),e.delete(TT)):"custom"===t.period?(e.set(TI,t.period),e.set(TN,t.startDate||""),e.set(TT,t.endDate||"")):(e.set(TI,t.period),e.delete(TN),e.delete(TT))}function OD(){let{hasUnlimitedSavedCharts:e}=RW(),t=(0,cg.useCallback)(t=>{let a=t.localVersion.configuration,n=t.serverVersion.configuration,r=new URLSearchParams;return e&&(OT(r,a.type,n.type),O_(r,a.xAxis,n.xAxis),OR(r,a.yAxis,n.yAxis)),ON(r,a.filter,n.filter),OP(r,a.time,n.time),r},[e]);return{getChartLinkParameters:t}}function OE(){let[e]=f6(),{hasUnlimitedSavedCharts:t}=RW(),a=(0,cg.useCallback)((a,n)=>{let r=n.serverVersion.configuration,l=new URLSearchParams(e);return t&&(a.type&&OT(l,a.type,r.type),a.xAxis&&O_(l,a.xAxis,r.xAxis),a.yAxis&&OR(l,a.yAxis,r.yAxis)),"string"==typeof a.filter&&ON(l,a.filter,r.filter),OP(l,a.time,r.time),l},[t,e]);return{getNextSearchParamsForConfigurationUpdate:a}}function OL(e){let[t,a]=f6(),{getNextSearchParamsForConfigurationUpdate:n}=OE(),r=(0,cg.useCallback)((r,{replace:l=!1}={})=>{let i=n(r,e);t.toString()!==i.toString()&&a(i,{replace:l})},[n,e,t,a]);return(0,cg.useMemo)(()=>({setNextChartParams:r}),[r])}let OA={flex:1,gridTemplateColumns:"min-content 1fr min-content",textAlign:"left",width:"100%","[data-component=buttonContent]":{flex:0}},OM={width:"353px"},OF={success:me.kD1,error:me.enX,warning:me.enX},OZ={success:"success.fg",error:"danger.fg",warning:"attention.fg"},OO=({children:e,validationStatus:t,sx:a})=>{let n=t?OF[t]:void 0,r=t?OZ[t]:void 0;return(0,cs.jsxs)(mn.Z,{sx:{marginTop:2,alignItems:"center",color:r,display:"flex",a:{color:"currentColor",textDecoration:"underline"},...a,fontSize:0},children:[n&&(0,cs.jsx)(cW.Z,{as:"span",sx:{display:"flex",mr:1},children:(0,cs.jsx)(n,{size:12,fill:"currentColor"})}),(0,cs.jsx)("span",{children:e})]})};try{(lm=OO).displayName||(lm.displayName="Validation")}catch{}let O$=e=>"count"!==e,OV=new Set([c7.Number]),OB=(e,t)=>`${p8.operationLabel[e]} ${t}`,Oz={count:{label:OB("count","items"),type:"count"},sum:{label:OB("sum","a field"),type:"sum"},avg:{label:OB("avg","a field"),type:"avg"},min:{label:OB("min","a field"),type:"min"},max:{label:OB("max","a field"),type:"max"}},OU=Object.values(Oz),OK=(e,t)=>e?.field.name??(t?p8.invalidFieldLabel:"None");function OW({chart:e}){let{setNextChartParams:t}=OL(e),{allColumns:a}=bD(),{updateLocalChartConfiguration:n}=ZX(),r=(0,cg.useMemo)(()=>a.filter(e=>OV.has(e.dataType)).map(e=>({label:e.name,icon:Oj(e.dataType),field:e})),[a]),l=(0,cg.useCallback)(a=>{let l={operation:a.type,columns:"count"===a.type?void 0:r[0]?.field.databaseId?[r[0].field.databaseId]:void 0},i={yAxis:{...e.localVersion.configuration.yAxis,aggregate:l}};n(e.number,i),t(i)},[r,e.localVersion.configuration.yAxis,e.number,t,n]),i=(0,cg.useCallback)(a=>{let r={yAxis:{...e.localVersion.configuration.yAxis,aggregate:{...e.localVersion.configuration.yAxis.aggregate,columns:a}}};n(e.number,r),t(r)},[e.localVersion.configuration.yAxis,e.number,t,n]),s=e.localVersion.configuration.yAxis.aggregate.columns||[],o=r.find(e=>s.includes(e.field.databaseId)),d=!o&&s.length>0,u=(0,cs.jsx)(OO,{validationStatus:"error",children:p8.invalidFieldErrorMessage}),c=OK(o,d),m=Oz[e.localVersion.configuration.yAxis.aggregate.operation];return(0,cs.jsxs)(cW.Z,{sx:{mb:4},children:[(0,cs.jsx)(mn.Z,{as:"label",sx:{display:"flex",mb:2},children:"Y-axis"}),(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{"aria-label":"Select Y-axis",sx:OA,children:m?.label??"None"}),(0,cs.jsx)(kA.P.Overlay,{sx:OM,children:(0,cs.jsx)(kL.S,{selectionVariant:"single",...(0,cK.f)("chart-y-axis-list"),children:OU.map((e,t)=>(0,cs.jsx)(kL.S.Item,{selected:m?.type===e.type,onSelect:()=>l(e),disabled:O$(e.type)&&0===r.length,children:e.label},t))})})]}),m&&O$(m.type)?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{"aria-label":"Select Y-axis field",sx:{...OA,mt:3,...d?{borderColor:"danger.emphasis"}:{}},leadingIcon:o?.icon,disabled:0===r.length,children:c}),(0,cs.jsx)(kA.P.Overlay,{sx:OM,children:(0,cs.jsx)(kL.S,{selectionVariant:"single",...(0,cK.f)("chart-y-axis-field-list"),children:r.map((e,t)=>(0,cs.jsxs)(kL.S.Item,{selected:o?.field.databaseId===e.field.databaseId,onSelect:()=>i([e.field.databaseId]),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(e.icon,{})}),e.field.name]},t))})})]}),d?u:null]}):null]})}try{(lp=OW).displayName||(lp.displayName="YAxisSelector")}catch{}function OH({memexChartOperation:e,values:t}){switch(e){case"sum":return t.reduce((e,t)=>e+t,0);case"avg":return 0===t.length?null:t.reduce((e,t)=>e+t,0)/t.length;case"min":return 0===t.length?null:Math.min(...t);case"max":return 0===t.length?null:Math.max(...t);default:throw Error(`Unknown memex chart operation: ${e}`)}}function OG({items:e,xAxisColumnModel:t,yAxisColumnModel:a,groupByColumnModel:n,memexChartOperation:r}){let l=new Map;for(let r of e){let e=r.columns,i=Ow(t,e),s=parseFloat(gZ(Ow(a,e)[0]));for(let t of i){let a=l.get(t)??new Map;l.get(t)||l.set(t,a);let r=Ow(n,e);for(let e of r){let t=a.get(e)??[];isNaN(s)||t.push(s),a.set(e,t)}}}let i=[];for(let[e,t]of l)for(let[a,n]of t)n.length>0&&i.push([e,OH({memexChartOperation:r,values:n}),a]);return i}function Oq({items:e,xAxisColumnModel:t,yAxisColumnModel:a,memexChartOperation:n}){let r=new Map;for(let n of e){let e=n.columns,l=Ow(t,e),i=parseFloat(gZ(Ow(a,e)[0]));for(let e of l){let t=r.get(e)||[];isNaN(i)||t.push(i),r.set(e,t)}}let l=[];for(let[e,t]of r)t.length>0&&l.push([e,OH({memexChartOperation:n,values:t})]);return l}function OQ(e,t){let a={};for(let n of e){let e=Ow(t,n.columns);for(let t of e)void 0===a[t]&&(a[t]=0),a[t]+=1}let n=[];for(let e of Object.keys(a))n.push([e,gZ(a[e])]);return n}function OX(e,t,a){let n={};for(let r of e){let e=Ow(t,r.columns);for(let t of e){void 0===n[t]&&(n[t]={});let e=Ow(a,r.columns);for(let a of e)n[t]?.[a]===void 0&&(gZ(n[t])[a]=0),gZ(n[t])[a]+=1}}let r=[];for(let e of Object.keys(n))for(let t of Object.keys(gZ(n[e])))r.push([e,gZ(gZ(n[e])[t]),t]);return r}function OY(e,t,a,n){let r=[{name:e?.name||"Unknown",dataType:"nvarchar"}];return t&&n&&"count"!==n?r.push({name:OB(n,t.name),dataType:"int"}):r.push({name:"Count",dataType:"int"}),a&&r.push({name:a.name||"Unknown",dataType:"nvarchar"}),r}function OJ(e,t){let{items:a}=h_(),{findColumnByDatabaseId:n}=xG(),r=e.xAxis.dataSource.column,l=e.xAxis.groupBy?.column,i=e.yAxis.aggregate?.columns?.[0],s=mq(r)?n(r):void 0,o=mq(l)?n(l):void 0,d=mq(i)?n(i):void 0,u=OY(s,d,o,e.yAxis.aggregate.operation),c=O0({items:null===t?a:t,xAxisColumnModel:s,yAxisColumnModel:d,groupByColumnModel:o,yAxisAggregate:e.yAxis.aggregate});return{series:{columns:u,rows:c,isSensitive:!1}}}function O0({items:e,xAxisColumnModel:t,yAxisColumnModel:a,groupByColumnModel:n,yAxisAggregate:r}){if(!t)return[];let l=IK(t),i=l?e.slice().sort((e,t)=>{let a=l(e,t,!1);if(0===a&&n){let r=n?IK(n):void 0,l=r?.(e,t,!1)??a;return l}return a}):e.slice();return"count"!==r.operation&&a?n?OG({items:i,xAxisColumnModel:t,yAxisColumnModel:a,groupByColumnModel:n,memexChartOperation:r.operation}):Oq({items:i,xAxisColumnModel:t,yAxisColumnModel:a,memexChartOperation:r.operation}):n?OX(i,t,n):OQ(i,t)}function O1({chartType:e,isLoading:t,series:a,...n}){switch(e){case"stacked-area":return(0,cs.jsx)(Ob,{...n,series:a,loading:t});case"line":return(0,cs.jsx)(Oy,{...n,series:a,loading:t});case"column":case"stacked-column":return(0,cs.jsx)(Ou,{...n,series:a,loading:t,chartStacked:"stacked-column"===e});case"bar":case"stacked-bar":return(0,cs.jsx)(Oo,{...n,series:a,loading:t,chartStacked:"stacked-bar"===e});default:h2(e)}}try{(lf=O1).displayName||(lf.displayName="ChartByType")}catch{}let O2=(0,cg.memo)(function({configuration:e,filteredItems:t,isLoading:a}){let{series:n}=OJ(e,t);return(0,cs.jsx)(O1,{chartType:e.type,isLoading:a,series:n})});try{(lh=O2).displayName||(lh.displayName="CurrentInsightsChart")}catch{}let O5=({icon:e,heading:t,content:a,children:n,...r})=>(0,cs.jsx)(cW.Z,{sx:{backgroundColor:e=>`${e.colors.canvas.subtle}`,maxWidth:(0,ch.U2)("sizes.large"),mx:"auto",display:"flex",flexDirection:"column",gap:"24px",borderRadius:"6px",p:5},...r,children:(0,cs.jsx)(x5,{icon:e,heading:t,content:a,children:n})});try{(lg=O5).displayName||(lg.displayName="BaseChartError")}catch{}let O3=()=>(0,cs.jsx)(O5,{heading:"This chart configuration is no longer valid",content:"A required field may have been deleted. You will need to delete and re-create this chart."});try{(ly=O3).displayName||(ly.displayName="ChartErrorFallback")}catch{}let O4=()=>{let{openPane:e}=Z0();return(0,cs.jsx)(O5,{...(0,cK.f)("chart-invalid-config-error"),heading:"This chart configuration is no longer valid",content:"A required field may have been deleted. Update the configuration or delete the chart.",children:(0,cs.jsx)(xh.z,{sx:{mt:2},onClick:e,children:"Update configuration"})})};try{(lx=O4).displayName||(lx.displayName="InvalidConfigError")}catch{}let O6=()=>(0,cs.jsx)(O5,{icon:me.KHo,heading:"This insight chart no longer exists",content:"Select another chart to view insights"});try{(lb=O6).displayName||(lb.displayName="MissingChartError")}catch{}let O8=(e,t,a)=>{switch(e){case"max":return new URLSearchParams({period:"max"});case"2W":return new URLSearchParams({period:"2W"});case"1M":return new URLSearchParams({period:"1M"});case"3M":return new URLSearchParams({period:"3M"});case"custom":return new URLSearchParams({period:"custom",start_date:t??"",end_date:a??""});default:h2(e)}},O7=(e,t,a)=>{let n=new Date;switch(n.setDate(n.getDate()-42),e){case"max":return new URLSearchParams({period:"max"});case"3M":return new URLSearchParams({period:"3M"});case"custom":if(t&&new Date(t)<n)return new URLSearchParams({period:"custom",start_date:t,end_date:a??""});return new URLSearchParams({period:"custom",start_date:h5(n.toISOString()),end_date:a??""});default:return new URLSearchParams({period:"custom",start_date:h5(n.toISOString()),end_date:a??""})}};async function O9(e,t,a,n,r){let l=`${cQ("memex-insights-query-api-data").url}?`;a?l+=O7(t,n,r):l+=O8(t,n,r);let{data:i}=await fd(l,{method:"POST",body:{options:e}});return i}function $e(e,t,a){let n=[...e];switch(t){case"2W":{let e=new Date;e.setDate(e.getDate()-14);let t=h5(e.toISOString());return n.filter(e=>h5(e[0])>=t)}case"1M":{let e=new Date;e.setMonth(e.getMonth()-1);let t=h5(e.toISOString());return n.filter(e=>h5(e[0])>=t)}case"3M":{let e=new Date;e.setMonth(e.getMonth()-3);let t=h5(e.toISOString());return n.filter(e=>h5(e[0])>=t)}case"custom":if(!a)return n;return n.filter(e=>e[0]>=a);case"max":return n;default:h2(t)}}let $t=(0,Ro.r)({primaryKey:"insights-query",queryFn:async({queryKey:[e,{options:t,period:a,getExtendedDataForForecasting:n,startDate:r,endDate:l}]})=>O9(t,a,n,r,l)}),$a=(0,cg.memo)(function({options:e,period:t,startDate:a,endDate:n,forecasting:r,chartType:l,getExtendedDataForForecasting:i}){let{isLoading:s,data:o}=$t({variables:{options:e,period:t,getExtendedDataForForecasting:i,startDate:a,endDate:n},select:(0,cg.useMemo)(()=>e=>{if(0===r)return e.data;let n=On(e.data,r).rows,l=$e(n,t,a);return{...e.data,rows:l}},[r,t,a])}),d=(0,cg.useMemo)(()=>0===r?{}:{"forecast-startdate":new Date().toISOString()},[r]);return!s&&o?(0,cs.jsx)(O1,{chartType:l,isLoading:!1,series:o,...d}):(0,cs.jsx)(Ob,{loading:!0})});try{(lv=$a).displayName||(lv.displayName="InsightsChartBuilder")}catch{}function $n(e){switch(e){case"stacked-area":return Ox;case"bar":return Os;case"line":return Og;case"column":return Od;case"stacked-column":return`${Od} ( chart-stacked )`;case"stacked-bar":return`${Os} ( chart-stacked )`;default:h2(e)}}function $r(e,t,a){let n=e?.xAxis?.groupBy?.column,r=n&&a(n),l=e?.yAxis?.aggregate?.columns?.[0],i=l&&a(l),s={includeArchived:!1};return i&&(s.aggregate={column:i.name,aggregationType:e.yAxis.aggregate.operation}),r&&(s.groupBy={column:r.name,dataType:r.dataType}),t&&(s.projectItemIds=t.map(e=>e.id)),s}let $l=(0,cg.memo)(function({endDate:e,filteredItems:t,isLoading:a,period:n,startDate:r,chart:l,forecasting:i}){let{memex_insights_forecasting_backend:s}=xO(),{findColumnByDatabaseId:o}=xG(),d=l.localVersion.configuration,u=(0,cg.useMemo)(()=>$r(d,t,o),[d,t,o]),c=cQ("insights-auth-and-config-api-data").url,m=`${cQ("memex-insights-query-api-data").url}?${O8(n,r,e)}`,p=l.localVersion.configuration.type,f=(0,cg.useMemo)(()=>{let e=[`--render ${$n(p)}`];return i>0&&e.push(`(
        data-forecast-type:linear
        data-forecast-buckets-in-future:${i}
      )`),e.join("\n")},[i,p]);return m?t&&0===t.length?(0,cs.jsx)(Ob,{series:null}):a?(0,cs.jsx)(Ob,{loading:!0}):s?(0,cs.jsx)($a,{options:u,period:n,startDate:r,endDate:e,forecasting:i,chartType:p,getExtendedDataForForecasting:i>0&&!t}):(0,cs.jsx)(Oh,{authUrl:c,apiUrl:m,query:f,options:u},f):null});try{(lw=$l).displayName||(lw.displayName="HistoricalInsightsChart")}catch{}let $i=e=>{let{updateChartName:t}=ZX(),[a,n]=Di(e.name),r=(0,cg.useCallback)(()=>{n(e.name)},[e.name,n]),l=(0,cg.useCallback)(async()=>{if(Zz(e))return;let n=a.trim();n!==e.name&&(n.length?await t.perform({chartNumber:e.number,chart:{name:n}}):r())},[e,a,t,r]);return{chartName:a,setLocalChartName:n,revertChartName:r,saveChartName:l}},$s=({showTooltip:e,text:t="",children:a})=>e?(0,cs.jsx)(w_.Z,{"aria-label":t,direction:"s",align:"right",children:a}):(0,cs.jsx)(cs.Fragment,{children:"children"}),$o=(0,cg.memo)(({chart:e,...t})=>{let{hasWritePermissions:a}=xQ(),{chartName:n,setLocalChartName:r,revertChartName:l,saveChartName:i}=$i(e),s=(0,cg.useRef)(null),o=(0,cg.useCallback)(e=>{r(e.target.value)},[r]),d=(0,cg.useCallback)(e=>{switch(e.key){case"Enter":i();break;case"Escape":e.stopPropagation(),l()}},[l,i]),u=Ds(d),c=(0,cg.useCallback)(()=>{s.current?.focus()},[]),m=(0,cg.useCallback)(()=>{document.hasFocus()&&i()},[i]),p=Rh();return(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,cs.jsx)($s,{showTooltip:a,text:"Rename",children:(0,cs.jsx)(cW.Z,{sx:{...a?{"&:focus-within":{boxShadow:"primary.shadow.focus",borderRadius:"2"},"&:hover:not(:focus-within)":{boxShadow:e=>`0 0 0 3px ${e.colors.border.default}`,borderRadius:"2"}}:{},px:1,mx:-1},children:a?(0,cs.jsx)(Rs.Z,{...p,children:(0,cs.jsx)(wF,{as:wO,...t,ref:s,autoComplete:"off",placeholder:p8.addInsightsChartNamePlaceholder,"aria-label":p8.addInsightsChartNamePlaceholder,value:n,onChange:o,onClick:c,onBlur:m,id:"insightsChartNameInput",...u,...(0,cK.f)("insights-chart-name")})}):(0,cs.jsx)(cW.Z,{sx:{fontSize:3,fontWeight:600},...(0,cK.f)("insights-chart-name"),children:n})})})})});$o.displayName="InsightsChartName";try{(lk=$s).displayName||(lk.displayName="ConditionalTooltip")}catch{}let $d=({onResize:e}={})=>{let t=Pz(),a=PV(t??null),n=pZ(e);return(0,cg.useLayoutEffect)(()=>{n.current?.(a)},[a,n]),a};function $u({chart:e,showUpsellDialog:t}){let{canCreateChart:a}=_b(),{updateLocalChartConfiguration:n,updateChartConfiguration:r,createChartConfiguration:l,resetLocalChangesForChartNumber:i}=ZX(),{closePane:s}=Z0(),o=f5(),d=ZV(e),[u,c]=f6(),m=(0,cg.useCallback)(async()=>{function n(){let e=ZK(new URLSearchParams(u));e.toString()!==u.toString()&&c(e,{replace:!0})}Zz(e)?a()?(await l.perform({chart:{configuration:e.localVersion.configuration}}),i(e.number),n(),"succeeded"===l.status.current.status&&o(hd.generatePath({insightNumber:l.status.current.data.chart.number}))):t():(await r.perform({chartNumber:e.number,chart:{configuration:e.localVersion.configuration}}),n()),s()},[e,s,u,c,a,l,i,o,t,r]),p=(0,cg.useCallback)(()=>{n(e.number,{...e.serverVersion.configuration,filter:e.localVersion.configuration.filter});let t=ZU(new URLSearchParams(u));u.toString()!==t.toString()&&c(t),s()},[e.localVersion.configuration.filter,e.number,e.serverVersion.configuration,s,u,c,n]);return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[(0,cs.jsx)(xh.z,{onClick:p,disabled:!d.isConfigurationDirty,...(0,cK.f)("insights-discard-changes"),children:"Discard changes"}),(0,cs.jsx)(xh.z,{variant:"primary",onClick:m,disabled:!d.isConfigurationDirty,...(0,cK.f)("insights-save-changes"),children:Zz(e)?"Save to new chart":"Save changes"})]})}try{(lj=$u).displayName||(lj.displayName="ActionButtons")}catch{}function $c(){return(0,cs.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,cs.jsxs)("g",{children:[(0,cs.jsx)("line",{x1:"1.75",y1:"0.75",x2:"1.75",y2:"15.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,cs.jsx)("rect",{x:"1",y:"3",width:"9",height:"3",rx:"1.5",fill:"currentColor"}),(0,cs.jsx)("rect",{x:"1",y:"7",width:"13",height:"3",rx:"1.5",fill:"currentColor"}),(0,cs.jsx)("rect",{x:"1",y:"11",width:"6",height:"3",rx:"1.5",fill:"currentColor"})]})})}try{(lC=$c).displayName||(lC.displayName="BarChartIcon")}catch{}function $m(){return(0,cs.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,cs.jsx)("line",{x1:"15.25",y1:"14.25",x2:"0.75",y2:"14.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),(0,cs.jsx)("rect",{x:"2.75",y:"6.75",width:"1.5",height:"7.5",rx:"0.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,cs.jsx)("rect",{x:"6.75",y:"4.75",width:"1.5",height:"9.5",rx:"0.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,cs.jsx)("rect",{x:"10.75",y:"9.75",width:"1.5",height:"4.5",rx:"0.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})]})}try{(lS=$m).displayName||(lS.displayName="ColumnChartIcon")}catch{}function $p(){return(0,cs.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,cs.jsx)("path",{d:"M0.75 14.25H0C0 14.6642 0.335786 15 0.75 15L0.75 14.25ZM0.75 13.25L0.281479 12.6643C0.103567 12.8067 0 13.0222 0 13.25H0.75ZM5.75 9.25L6.08541 8.57918L5.6562 8.36457L5.28148 8.66435L5.75 9.25ZM9.75 11.25L9.41459 11.9208C9.67891 12.053 9.99621 12.0176 10.2249 11.8305L9.75 11.25ZM15.25 6.75H16C16 6.46021 15.833 6.19635 15.5712 6.07225C15.3093 5.94815 14.9994 5.98602 14.7751 6.16953L15.25 6.75ZM15.25 14.25V15C15.6642 15 16 14.6642 16 14.25H15.25ZM1.5 14.25V13.25H0V14.25H1.5ZM1.21852 13.8357L6.21852 9.83565L5.28148 8.66435L0.281479 12.6643L1.21852 13.8357ZM5.41459 9.92082L9.41459 11.9208L10.0854 10.5792L6.08541 8.57918L5.41459 9.92082ZM10.2249 11.8305L15.7249 7.33047L14.7751 6.16953L9.27507 10.6695L10.2249 11.8305ZM14.5 6.75V14.25H16V6.75H14.5ZM15.25 13.5H0.75V15H15.25V13.5Z",fill:"currentColor"}),(0,cs.jsx)("path",{d:"M0.281479 8.91435C-0.0419677 9.17311 -0.0944088 9.64507 0.164348 9.96852C0.423106 10.292 0.895075 10.3444 1.21852 10.0857L0.281479 8.91435ZM5.75 5.5L6.08541 4.82918C5.82376 4.69835 5.50991 4.7316 5.28148 4.91435L5.75 5.5ZM9.75 7.5L9.41459 8.17082L9.87424 8.40065L10.2545 8.05496L9.75 7.5ZM15.7545 3.05496C16.061 2.77632 16.0836 2.30199 15.805 1.9955C15.5263 1.689 15.052 1.66641 14.7455 1.94504L15.7545 3.05496ZM1.21852 10.0857L6.21852 6.08565L5.28148 4.91435L0.281479 8.91435L1.21852 10.0857ZM5.41459 6.17082L9.41459 8.17082L10.0854 6.82918L6.08541 4.82918L5.41459 6.17082ZM10.2545 8.05496L15.7545 3.05496L14.7455 1.94504L9.2455 6.94504L10.2545 8.05496Z",fill:"currentColor"})]})}try{(lI=$p).displayName||(lI.displayName="StackedAreaChartIcon")}catch{}let $f={bar:{label:"Bar",type:"bar",icon:$c},column:{label:"Column",type:"column",icon:$m},line:{label:"Line",type:"line",icon:me.RIw},"stacked-area":{label:"Stacked area",type:"stacked-area",icon:$p},"stacked-bar":{label:"Stacked bar",type:"stacked-bar",icon:$c},"stacked-column":{label:"Stacked column",type:"stacked-column",icon:$m}},$h=Object.values($f);function $g({chart:e}){let{updateLocalChartConfiguration:t}=ZX(),{number:a,localVersion:{configuration:{type:n}}}=e,r=$f[n],{setNextChartParams:l}=OL(e),i=(0,cg.useCallback)(e=>{let n={type:e.type};t(a,n),l(n)},[t,a,l]);return(0,cs.jsxs)(cW.Z,{sx:{mb:4},children:[(0,cs.jsx)(mn.Z,{as:"label",sx:{display:"flex",mb:2},children:"Layout"}),(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{"aria-label":"Select layout",leadingIcon:r?.icon,sx:OA,children:r?.label??"None"}),(0,cs.jsx)(kA.P.Overlay,{sx:OM,children:(0,cs.jsx)(kL.S,{selectionVariant:"single",...(0,cK.f)("chart-layout-list"),children:$h.map((e,t)=>(0,cs.jsxs)(kL.S.Item,{selected:e.type===n,onSelect:()=>i(e),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(e.icon,{})}),e.label]},t))})})]})]})}try{(lN=$g).displayName||(lN.displayName="LayoutSelector")}catch{}let $y=new Set([c7.Iteration,c7.SingleSelect,c7.Milestone,c7.Repository,c7.Labels,c7.Assignees]),$x=new Set([c7.Iteration,c7.SingleSelect,c7.Repository,c7.Labels]),$b=new Set([c7.Milestone,c7.Assignees]),$v=(e,t)=>e?.label??(t?p8.invalidFieldLabel:"None"),$w={borderColor:"danger.emphasis"},$k=e=>({...OA,...e?$w:{}});function $j({chart:e}){let{allColumns:t}=bD(),{findColumnByName:a}=SW(),{updateLocalChartConfiguration:n}=ZX(),{setNextChartParams:r}=OL(e),l=gZ(a("Status")),{memex_historical_charts_on_assignees_milestones:i}=xO(),s=(0,cg.useCallback)(t=>{let a={xAxis:{...e.localVersion.configuration.xAxis,dataSource:{column:t.type},groupBy:"time"===t.type?{column:l.databaseId}:void 0},yAxis:"time"===t.type?{aggregate:{operation:"count"}}:e.localVersion.configuration.yAxis};n(e.number,a),r(a)},[l.databaseId,e.localVersion.configuration.xAxis,e.localVersion.configuration.yAxis,e.number,r,n]),o=(0,cg.useCallback)(t=>{if("time"===t)return;let a={xAxis:{...e.localVersion.configuration.xAxis,groupBy:null==t?void 0:{column:t}}};n(e.number,a),r(a)},[e.localVersion.configuration.xAxis,e.number,r,n]),d=(0,cg.useMemo)(()=>t.filter(e=>$y.has(e.dataType)).map(e=>({label:e.name,icon:Oj(e.dataType),type:e.databaseId,category:"field"})).concat({label:"Time",type:"time",icon:me.Que,category:"historical"}).sort((e,t)=>e.label.localeCompare(t.label)),[t]),u=(0,cg.useMemo)(()=>{let e=new Set([...$x,...i?$b:[]]);return t.filter(t=>e.has(t.dataType)).map(e=>({label:e.name,icon:Oj(e.dataType),type:e.databaseId,category:"field"})).sort((e,t)=>e.label.localeCompare(t.label))},[t,i]),c=d.find(t=>t.type===e.localVersion.configuration.xAxis.dataSource.column),m=!c&&!!e.localVersion.configuration.xAxis.dataSource.column,p=$v(c,m),f=(0,cg.useMemo)(()=>d.filter(e=>"historical"===e.category),[d]),h=(0,cg.useMemo)(()=>d.filter(e=>"field"===e.category),[d]),g=(0,cg.useMemo)(()=>ZB(e)?u:d.filter(e=>!("time"===e.type||e.type===c?.type)),[e,u,c?.type,d]),y=g.find(t=>t.type===e.localVersion.configuration.xAxis.groupBy?.column),x=!y&&!!e.localVersion.configuration.xAxis.groupBy?.column,b=$v(y,x),v=(0,cs.jsx)(OO,{validationStatus:"error",children:p8.invalidFieldErrorMessage}),{isInsightsEnabled:w,isInsightsPreview:k}=RW();return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(cW.Z,{sx:{mb:4},children:[(0,cs.jsx)(mn.Z,{as:"label",sx:{display:"flex",mb:2},children:"X-axis"}),(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{"aria-label":"Select X-axis",leadingIcon:c?.icon,sx:$k(m),children:p}),(0,cs.jsx)(kA.P.Overlay,{sx:OM,children:(0,cs.jsxs)(kL.S,{selectionVariant:"single",...(0,cK.f)("chart-x-axis-list"),children:[w&&(0,cs.jsx)(kL.S.Group,{title:"Historical",children:f.map((e,t)=>(0,cs.jsxs)(kL.S.Item,{selected:c?.type===e.type,onSelect:()=>s(e),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(e.icon,{})}),e.label,k&&(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(w_.Z,{"aria-label":"This is a preview feature",direction:"nw",children:(0,cs.jsx)(me.uOV,{})})})]},t))}),(0,cs.jsx)(kL.S.Group,{title:w?"Fields":"",children:h.map((e,t)=>(0,cs.jsxs)(kL.S.Item,{selected:c?.type===e.type,onSelect:()=>s(e),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(e.icon,{})}),e.label]},t))})]})})]}),m?v:null]}),(0,cs.jsxs)(cW.Z,{sx:{mb:4},children:[(0,cs.jsx)(mn.Z,{as:"label",sx:{display:"flex",mb:2},children:"Group by (optional)"}),(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{"aria-label":"Select X-axis group by",leadingIcon:y?.icon,sx:$k(x),children:b}),(0,cs.jsx)(kA.P.Overlay,{sx:OM,children:(0,cs.jsxs)(kL.S,{selectionVariant:"single",...(0,cK.f)("chart-x-axis-group-by-list"),children:[(0,cs.jsx)(kL.S.Item,{selected:void 0===e.localVersion.configuration.xAxis.groupBy,onSelect:()=>o(null),children:"None"}),g.map((t,a)=>(0,cs.jsxs)(kL.S.Item,{selected:e.localVersion.configuration.xAxis.groupBy?.column===t.type,onSelect:()=>o(t.type),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(t.icon,{})}),t.label]},a))]})})]}),x?v:null]})]})}try{(lT=$j).displayName||(lT.displayName="XAxisSelector")}catch{}let $C=({chart:e,showUpsellDialog:t})=>(0,cs.jsxs)("div",{children:[(0,cs.jsxs)(cW.Z,{sx:{px:4},children:[(0,cs.jsx)($g,{chart:e}),(0,cs.jsx)($j,{chart:e}),(0,cs.jsx)(OW,{chart:e})]}),(0,cs.jsx)(cW.Z,{sx:{p:4,borderTop:"1px solid",borderColor:"border.default"},children:(0,cs.jsx)($u,{chart:e,showUpsellDialog:t})})]}),$S=({chart:e,showUpsellDialog:t})=>{let a=(0,cg.useRef)(null),n=(0,cg.useRef)(null),{closePane:r,isOpen:l}=Z0();return l?(0,cs.jsx)(PM.Z,{initialFocusRef:n,returnFocusRef:a,onEscape:r,onClickOutside:r,children:(0,cs.jsxs)($I,{initialFocusRef:n,children:[(0,cs.jsxs)(cW.Z,{sx:{px:4,py:3,display:"flex",justifyContent:"space-between"},children:[(0,cs.jsx)(be.Z,{sx:{fontSize:2},children:"Configure chart"}),(0,cs.jsx)(ww.h,{"aria-label":"Close configuration pane",variant:"invisible",icon:me.b0D,sx:{px:2},onClick:r,...(0,cK.f)("side-panel-button-close")})]}),(0,cs.jsx)($C,{chart:e,showUpsellDialog:t})]})}):null},$I=({initialFocusRef:e,children:t})=>{let a=$d(),{isClosing:n}=Z0(),{containerRef:r}=(0,bd.P)({disabled:!!n,initialFocusRef:e});return(0,cs.jsx)(cW.Z,{ref:r,sx:{display:"flex",flexDirection:"column",overflow:"hidden",position:"fixed",bottom:"0",right:"0",width:400,height:a.clientHeight,backgroundColor:"canvas.default",boxShadow:"shadow.large",borderLeft:"1px solid",borderColor:"border.default",":focus":{outline:"none"}},tabIndex:-1,...(0,cK.f)("insights-configuration-pane"),children:t})};try{(l_=$C).displayName||(l_.displayName="InsightsConfigurationPaneForm")}catch{}try{(lR=$S).displayName||(lR.displayName="InsightsConfigurationPane")}catch{}let $N="40px",$T=({filteredItems:e,filterValue:t,handleFilterValueChange:a,onClearButtonClick:n,setValueFromSuggestion:r,onSaveChanges:l,onResetChanges:i,inputRef:s})=>{let{items:o}=h_(),d=(0,cg.useMemo)(()=>({items:o}),[o]);return(0,cs.jsx)(wu.Provider,{value:d,children:(0,cs.jsx)(ke,{inputRef:s,height:"40px",value:t,onChange:a,onClearButtonClick:n,containerSx:{zIndex:"1",borderRadius:2,flexBasis:$N,boxShadow:e=>`${F6({size:"1px",color:e.colors.border.default})}, ${e.shadows.primer.shadow.inset}`,flexShrink:0,"&.is-focused":{boxShadow:e=>`${F6({size:"1px",color:e.colors.accent.emphasis})}, ${e.shadows.primer.shadow.focus}`},"&:focus-within":{boxShadow:e=>`${F6({size:"1px",color:e.colors.accent.emphasis})}, ${e.shadows.primer.shadow.focus}`},pl:"12px",pr:"12px",maxHeight:$N},inputContainerSx:{ml:2},setValueFromSuggestion:r,filterCount:e?e.length:null,onSaveChanges:l,onResetChanges:i})})};try{(lP=$T).displayName||(lP.displayName="InsightsFilters")}catch{}function $_(){let[e,t]=(0,cg.useState)(!1),{postStats:a}=v4(),n=(0,cg.useCallback)(()=>{t(!0),a({name:"insights_upsell_dialog_open"})},[a]),r=(0,cg.useCallback)(()=>t(!1),[]),l=(0,cg.useCallback)(()=>e?(0,cs.jsx)($R,{hideDialog:r}):null,[r,e]);return{showDialog:n,InsightsUpsellDialog:l}}function $R({hideDialog:e}){let{savedChartsLimit:t}=RW(),a=Rp("insightsChartLimitDialog","banner"),{postStats:n}=v4();return(0,cs.jsxs)(k8.V,{"aria-labelledby":"insights-chart-limits-dialog-title",onClose:()=>e(),width:"xlarge",role:"alertdialog",renderHeader:()=>(0,cs.jsx)(cW.Z,{sx:{backgroundImage:`url(${a})`,backgroundRepeat:"no-repeat",backgroundPosition:"left",backgroundSize:"100%",height:"142px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"}}),footerButtons:[{content:p8.upsellDialogCancelButton,onClick:()=>e()},{as:"a",buttonType:"primary",content:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(mt.Z,{icon:me.Pfi,sx:{mr:1}}),p8.upsellDialogUpgradePlanButton]}),href:"https://github.com/pricing",sx:{ml:3},target:"_blank",rel:"noreferrer",onClick:()=>n({name:"insights_upsell_dialog_upgrade_click"})}],children:[(0,cs.jsx)(mn.Z,{id:"insights-chart-limits-dialog-title",sx:{fontSize:4,fontWeight:"bold",my:3,px:3},children:p8.upsellDialogTitle}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",mt:2,px:3},children:[(0,cs.jsx)(mn.Z,{children:p8.planUpgradeText(t)}),(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold",mt:2},children:p8.upsellDialogSubtitle}),(0,cs.jsx)($P,{text:p8.upsellDialogBullet1}),(0,cs.jsx)($P,{text:p8.upsellDialogBullet2}),(0,cs.jsx)($P,{text:p8.upsellDialogBullet3})]})]})}function $P({text:e}){return(0,cs.jsxs)(cW.Z,{sx:{mt:2},children:[(0,cs.jsx)(mt.Z,{sx:{mr:2,color:"success.fg"},icon:me.nQG})," ",(0,cs.jsx)(mn.Z,{children:e})]})}try{(lD=InsightsUpsellDialog).displayName||(lD.displayName="InsightsUpsellDialog")}catch{}try{(lE=$R).displayName||(lE.displayName="UpsellDialog")}catch{}try{(lL=$P).displayName||(lL.displayName="UpsellDialogChecklistItem")}catch{}let $D=({startDate:e,endDate:t})=>{let[a,n]=f6(),r=(0,cg.useMemo)(()=>{let a=(0,pK.Z)(e??""),n=(0,pK.Z)(t??"");return(0,mo.Z)(a)&&(0,mo.Z)(n)?{from:a,to:n}:null},[t,e]),l=(0,cg.useCallback)(e=>{if(!e)return;let t=new URLSearchParams(a);t.set(TI,"custom"),t.set(TN,(0,Am.Z)(e.from,{representation:"date"})),t.set(TT,(0,Am.Z)(e.to,{representation:"date"})),n(t)},[n,a]),i=null!==r;return(0,cs.jsx)(Ac.Mt,{variant:"range",value:r,onChange:l,placeholder:"Custom range",anchor:({children:e,...t})=>(0,cs.jsxs)(xh.z,{variant:"invisible",sx:{fontWeight:"normal",bg:i?"btn.outline.selectedBg":"transparent",color:i?"btn.outline.selectedText":"fg.default",":hover":{bg:i?"btn.outline.selectedBg":"transparent",boxShadow:e=>F6({size:"1px",color:e.colors.btn.outline.hoverBorder})}},...(0,cK.f)("insight-custom-date-picker"),...t,children:[(0,cs.jsx)(me.Que,{}),(0,cs.jsx)(mn.Z,{sx:{px:2},children:e}),(0,cs.jsx)(me.v4q,{})]})})};try{(lA=$D).displayName||(lA.displayName="InsightCustomDatePicker")}catch{}var $E=a(90009);let $L=(0,cg.forwardRef)(function({activeClassName:e,...t},a){return(0,cs.jsx)(f3,{...t,ref:a})}),$A=(0,cg.forwardRef)(function({activeClassName:e,...t},a){return(0,cs.jsx)(f4,{...t,ref:a})});try{(lM=LinkWithoutActiveClassNamePassThrough).displayName||(lM.displayName="LinkWithoutActiveClassNamePassThrough")}catch{}try{(lF=$A).displayName||(lF.displayName="NavLinkWithoutActiveClassName")}catch{}let $M=[{value:"2W"},{value:"1M"},{value:"3M"},{text:"Max",value:"max"}];function $F({periodValue:e,selected:t,children:a}){let n=(0,cx.TH)(),r=(0,cg.useMemo)(()=>{let t=new URLSearchParams(n.search);return t.set(TI,e),t.delete(TN),t.delete(TT),{pathname:n.pathname,search:t.toString()}},[e,n.pathname,n.search]);return(0,cs.jsx)($E.Z.Link,{as:$L,to:r,selected:t,sx:{borderRadius:6,px:"10px",fontWeight:400,mr:"4px",minHeight:"30px",border:"none","&:first-of-type":{borderLeft:"none"},...t?{}:{"&:hover":{backgroundColor:"transparent",boxShadow:e=>`${F6({size:"1px",color:e.colors.border.default})}, ${e.shadows.primer.shadow.inset}`}}},children:a},e)}function $Z({period:e}){return(0,cs.jsx)($E.Z,{"aria-label":"Main",sx:{"> div:first-child":{marginBottom:0}},children:(0,cs.jsx)($E.Z.Links,{children:$M.map((t,a)=>(0,cs.jsx)($F,{periodValue:t.value,selected:e===t.value||!e&&0===a,children:t.text??t.value},t.value))})})}try{(lZ=$F).displayName||(lZ.displayName="PeriodNavigationLink")}catch{}try{(lO=$Z).displayName||(lO.displayName="PeriodNavigation")}catch{}let $O=(0,cg.memo)(function(){let e=(0,cx.UO)(),{getChartConfigurationByNumber:t}=_b(),a=t(e.insightNumber?Number(e.insightNumber):0);if(!a)return(0,cs.jsx)(O6,{});let n=(0,cs.jsx)(O3,{});return(0,cs.jsx)(ErrorBoundary,{fallback:n,children:(0,cs.jsx)($B,{chart:a})},a.number)}),$$={minWidth:"100%",minHeight:"200px",aspectRatio:["4/3","4/3","16 / 9"],maxWidth:"100%",[`& ${Oc}`]:{width:"100%",display:"block",height:"100%"},[`& ${Os},
    & ${Og},
    & ${Od},
    & ${Ox}`]:{width:"100%",display:"block",height:"100%",border:"1px solid",borderColor:"border.default",borderRadius:2,p:5},"& .redaction_msg":{ml:"unset !important"}},$V={width:"100%",height:"100%"},$B=(0,cg.memo)(function({chart:e}){let{updateChartConfiguration:t}=ZX(),[a,n]=f6(),{filteredItems:r,filterValue:l,handleFilterValueChange:i,onClearButtonClick:s,setValueFromSuggestion:o,resetFilter:d,inputRef:u}=Z5(e),{endDate:c,period:m,startDate:p}=Z9(e),f=Oa(e),{openPane:h}=Z0(),{isLoading:g,isValid:y}=M3(e.localVersion.configuration),x=(0,cg.useCallback)(async()=>{if(Zz(e))return;await t.perform({chartNumber:e.number,chart:{configuration:{...e.localVersion.configuration,filter:l}}});let r=new URLSearchParams(a);r.delete(Tb),n(r,{replace:!0})},[e,l,a,n,t]),b=ZV(e),v=Zz(e),w=ZB(e),{InsightsUpsellDialog:k,showDialog:j}=$_();return(0,cs.jsxs)(cW.Z,{sx:{maxWidth:(0,ch.U2)("sizes.large"),mx:"auto",display:"flex",flexDirection:"column",gap:"24px"},children:[(0,cs.jsxs)(be.Z,{...(0,cK.f)("insights-header"),as:"h2",sx:{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:"border.muted",fontSize:4,fontWeight:"normal",pb:2,display:"flex",justifyContent:"space-between"},children:[v?e.name:(0,cs.jsx)($o,{chart:e}),(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)(xh.z,{leadingIcon:me.vdY,onClick:h,...(0,cK.f)("insights-configuration-pane-button-open"),children:"Configure"})})]}),e.description?(0,cs.jsxs)(mn.Z,{sx:{fontSize:1},children:[e.description," "]}):null,(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,cs.jsx)(cW.Z,{sx:{display:"flex",width:"100%",mr:w?3:0,height:"40px"},children:(0,cs.jsx)($T,{inputRef:u,filteredItems:r,filterValue:l,handleFilterValueChange:i,onClearButtonClick:s,setValueFromSuggestion:o,onSaveChanges:!v&&b.isFilterDirty?x:void 0,onResetChanges:b.isFilterDirty?d:void 0})}),w?(0,cs.jsx)(w_.Z,{"aria-label":"Only project items currently matching filter criteria are charted over time",direction:"sw",wrap:!0,children:(0,cs.jsx)(mt.Z,{icon:me.szr,sx:{color:"fg.subtle"}})}):null]}),y?(0,cs.jsxs)(cs.Fragment,{children:[w?(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,cs.jsx)($Z,{period:m}),(0,cs.jsx)($D,{startDate:p,endDate:c})]}):null,(0,cs.jsx)(cW.Z,{sx:$$,children:(0,cs.jsx)(cW.Z,{sx:$V,children:w?(0,cs.jsx)($l,{chart:e,isLoading:g,filterValue:l,period:m,startDate:p,endDate:c,filteredItems:r,forecasting:f}):(0,cs.jsx)(O2,{configuration:e.localVersion.configuration,isLoading:g,filterValue:l,filteredItems:r})})})]}):(0,cs.jsx)(O4,{}),(0,cs.jsx)($S,{chart:e,showUpsellDialog:j}),(0,cs.jsx)(k,{})]})});try{(l$=$O).displayName||(l$.displayName="InsightsChartView")}catch{}try{(lV=$B).displayName||(lV.displayName="InsightChartContent")}catch{}function $z(e,t){let a={};for(let n of e){let e=t(n),r=a[e]??(a[e]=[]);r.push(n)}return a}function $U(e,t){let{0:a=[],1:n=[]}=$z(e,e=>t(e)?0:1);return[a,n]}let $K=(0,cg.memo)(function({children:e,isDirty:t,hideDirtyState:a=!1,tooltipDirection:n="e",...r}){let l=a?{}:{height:"10px",width:"10px",backgroundColor:"accent.emphasis",top:"-1px",right:"-3px",borderRadius:"100%",boxShadow:e=>`0 0 0 2px ${e.colors.canvas.overlay}`,flex:"none",...r.sx},i={...r,direction:n,"aria-label":"Unsaved changes",title:""};return e?(0,cs.jsxs)(cW.Z,{sx:{position:"relative"},children:[e,t&&(0,cs.jsx)(w_.Z,{...i,sx:{...l,position:"absolute"}})]}):t?(0,cs.jsx)(w_.Z,{...i,sx:{...l,position:"relative"}}):null});try{(lB=$K).displayName||(lB.displayName="PotentiallyDirty")}catch{}let $W=(0,cg.memo)(function({to:e,isActive:t,children:a,isDirty:n,leadingVisual:r=null,trailingVisual:l=null,...i}){return(0,cs.jsxs)(kE,{to:e,isActive:t,end:!0,...i,children:[r?(0,cs.jsx)(kL.S.LeadingVisual,{children:r}):null,(0,cs.jsxs)(cW.Z,{sx:{position:"relative",display:"flex",alignItems:"center",gap:2},children:[a,!t&&n?(0,cs.jsx)($K,{isDirty:!0,hideDirtyState:!1,sx:{position:"static"},...(0,cK.f)("my-chart-navigation-item-dirty")}):null]}),l?(0,cs.jsx)(kL.S.TrailingVisual,{children:l}):null]})});try{(lz=$W).displayName||(lz.displayName="ChartLink")}catch{}let $H=({chart:e})=>{let{isDirty:t,isConfigurationDirty:a}=ZV(e),[,n]=f6(),[r,l]=(0,cg.useState)(!1),i=(0,cg.useRef)(null),{hasWritePermissions:s}=xQ(),{chartName:o,setLocalChartName:d,revertChartName:u,saveChartName:c}=$i(e),{showDialog:m,InsightsUpsellDialog:p}=$_(),f=(0,cg.useCallback)(e=>{l(e),e||c()},[c]),h=(0,cg.useCallback)(e=>{e.target.setSelectionRange(0,e.target.value.length)},[]),g=(0,cg.useCallback)(e=>{e.defaultPrevented||d(e.target.value)},[d]),y=(0,cg.useCallback)(e=>{"Enter"===e.key&&(l(!1),c()),"Escape"===e.key&&(l(!1),u(),e.preventDefault())},[c,u]),x=Ds(y),b=(0,cg.useRef)(null);(0,cg.useEffect)(()=>{!r&&b.current&&(b.current.focus(),b.current=null)},[r]);let{canCreateChart:v}=_b(),{destroyChartConfiguration:w,createChartConfiguration:k,updateChartConfiguration:j,resetLocalChangesForChartNumber:C}=ZX(),S=f5(),I=(0,xg.N)(),{getChartLinkTo:N}=_b(),T=Zz(e),_=!T,R=s&&_,P=(0,cg.useCallback)(async t=>{t.preventDefault(),t.stopPropagation(),!T&&await I({title:"Delete chart?",content:`Are you sure you want to delete "${e.name}"?`,confirmButtonContent:"Delete",confirmButtonType:"danger"})&&(await w.perform(e.number),"succeeded"===w.status.current.status&&S(N(0).url))},[e.name,e.number,T,I,w,N,S]),D=(0,cg.useCallback)(async t=>{t.preventDefault(),t.stopPropagation();let a=e.number;v()?(await k.perform({chart:{configuration:e.localVersion.configuration}}),"succeeded"===k.status.current.status&&S(hd.generatePath({insightNumber:k.status.current.data.chart.number})),C(a)):m()},[v,e.localVersion.configuration,e.number,k,S,C,m]),E=(0,cg.useCallback)(async t=>{t.preventDefault(),t.stopPropagation(),T||(await j.perform({chartNumber:e.number,chart:{configuration:{...e.localVersion.configuration}}}),n(ZK(new URLSearchParams(window.location.search))))},[e.localVersion.configuration,e.number,T,n,j]),L=(0,cg.useCallback)(async t=>{t.preventDefault(),t.stopPropagation(),C(e.number),n(ZK(new URLSearchParams(window.location.search)))},[e.number,C,n]),{openPane:A}=Z0(),M=Rh();return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)($K,{tooltipDirection:"w",isDirty:t,hideDirtyState:!s,...t?(0,cK.f)("chart-options-dirty"):void 0,children:(0,cs.jsx)(ww.h,{...(0,cK.f)("chart-options-button"),ref:i,"aria-haspopup":"true","aria-expanded":r,icon:me.AS7,onClick:(0,cg.useCallback)(e=>{e.preventDefault(),l(e=>!e)},[]),sx:{display:"flex",alignItems:"center",justifyContent:"center",ml:1,px:0,py:0,pt:"2px",height:18,width:18,"& svg":{verticalAlign:"top!important"}},"aria-label":"Chart options"})}),(0,cs.jsx)(kA.P,{open:r,onOpenChange:f,anchorRef:i,children:(0,cs.jsx)(kA.P.Overlay,{sx:{zIndex:3},returnFocusRef:b,width:"medium",children:(0,cs.jsxs)(kL.S,{children:[R&&(0,cs.jsx)(cW.Z,{as:"li",sx:{listStyleType:"none"},children:(0,cs.jsx)(Rs.Z,{...M,sx:{display:"block",px:2},children:(0,cs.jsx)(wE.Z,{value:o,tabIndex:-1,sx:{my:2},"aria-label":"Chart name",placeholder:"Chart name",onClick:e=>{e.preventDefault()},onChange:g,onFocus:h,...x})})}),(0,cs.jsxs)(kL.S.Item,{onSelect:A,...(0,cK.f)("chart-options-open-configure"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)($K,{isDirty:a,children:(0,cs.jsx)(me.vdY,{})})}),"Configure"]}),(0,cs.jsxs)(kL.S.Item,{onSelect:D,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.cRd,{})}),t?"Save changes to new chart":"Duplicate chart"]}),T?null:(0,cs.jsxs)(kL.S.Item,{variant:"danger",onSelect:P,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete chart"]}),t?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kL.S.Divider,{}),(0,cs.jsxs)(kL.S.Group,{sx:{"& > ul":{display:"flex"}},children:[s&&_?(0,cs.jsx)(kL.S.Item,{onSelect:E,...(0,cK.f)("view-options-menu-save-changes-button"),sx:{flex:"auto",color:"accent.fg",borderRight:"1px solid",borderColor:"border.default",borderRadius:0,my:-2,mx:0,py:3,textAlign:"center",fontWeight:"normal","&:hover":{bg:"canvas.inset"}},children:"Save changes"}):null,(0,cs.jsx)(kL.S.Item,{onSelect:L,...(0,cK.f)("chart-options-menu-reset-changes-button"),sx:{flex:"auto",color:"fg.muted",borderRadius:0,my:-2,mx:0,py:3,textAlign:"center",fontWeight:"normal","&:hover":{bg:"canvas.inset"}},children:"Discard changes"})]})]}):null]})})}),(0,cs.jsx)(p,{})]})};try{(lU=$H).displayName||(lU.displayName="InsightsChartOptions")}catch{}let $G=(0,cg.memo)(function(){let{getCreateChartRequest:e,canCreateChart:t}=_b(),{createChartConfiguration:a}=ZX(),n=f5(),{showDialog:r,InsightsUpsellDialog:l}=$_();return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(l,{}),(0,cs.jsx)(xh.z,{...(0,cK.f)("add-chart-button"),onClick:(0,cg.useCallback)(async()=>{let l=e();if(t()){if(await a.perform(l),"succeeded"===a.status.current.status){let e=a.status.current.data;n(hd.generatePath({insightNumber:e.chart.number}))}}else r()},[e,t,a,n,r]),sx:{ml:2,mt:2},leadingIcon:me.pOD,children:p8.sideNavNewChartButton})]})});function $q(e,t){return e.name.localeCompare(t.name)}let $Q=({chartConfiguration:e,isActiveChart:t,isInsightsPreview:a})=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[a&&ZB(e)?(0,cs.jsx)(w_.Z,{"aria-label":p8.sideNavPreviewFeatureTooltip,direction:"nw",children:(0,cs.jsx)(me.uOV,{})}):null,t?(0,cs.jsx)($H,{chart:e}):null]}),$X=()=>{let e=(0,cx.UO)(),{chartConfigurations:t,getChartLinkTo:a}=_b(),{isInsightsPreview:n,isInsightsEnabled:r}=RW(),{postStats:l}=v4(),i=e.insightNumber?Number(e.insightNumber):0,{defaultCharts:s,myCharts:o}=(0,cg.useMemo)(()=>{let[e,a]=$U(Object.values(t),Zz);return{defaultCharts:e.sort($q),myCharts:a.sort($q)}},[t]),d=(0,cg.useCallback)((e,t)=>{l({name:"insights_chart_navigation",context:JSON.stringify({chartNumber:e,...t})})},[l]);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(kP.$,{sx:{"& > ul":{pt:0}},...(0,cK.f)("insights-side-nav"),children:[(0,cs.jsx)(kP.$.Group,{title:p8.sideNavDefaultCharts,children:s.map(e=>{let t=0===i,r=ZV(e),l=$f[e.localVersion.configuration.type].icon;return(0,cg.createElement)($W,{...(0,cK.f)("default-chart-navigation-item"),key:e.number,isDirty:r.isDirty,to:a(e.number).url,isActive:t,leadingVisual:(0,cs.jsx)(l,{}),trailingVisual:(0,cs.jsx)($Q,{chartConfiguration:e,isActiveChart:t,isInsightsPreview:n}),onClick:a=>{t?a.preventDefault():d(e.number,e.localVersion.configuration)}},e.name)})}),(0,cs.jsx)(kP.$.Group,{title:p8.sideNavCustomCharts,children:o.map(e=>{let t=i===e.number,r=ZV(e),l=$f[e.localVersion.configuration.type].icon;return(0,cg.createElement)($W,{...(0,cK.f)("my-chart-navigation-item"),key:e.number,to:a(e.number).url,isActive:t,isDirty:r.isDirty,leadingVisual:(0,cs.jsx)(l,{}),trailingVisual:(0,cs.jsx)($Q,{chartConfiguration:e,isActiveChart:t,isInsightsPreview:n}),onClick:a=>{t?a.preventDefault():d(e.number,e.localVersion.configuration)}},e.name)})})]}),(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)($G,{})}),n&&r&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kL.S.Divider,{sx:{mt:3}}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",color:"fg.muted",px:3,py:2},children:[(0,cs.jsx)(cW.Z,{sx:{mt:"2px"},children:(0,cs.jsx)(me.uOV,{})}),(0,cs.jsx)(cW.Z,{sx:{fontSize:1,ml:2},children:p8.sideNavPreviewFeatureText})]})]})]})};try{(lK=$G).displayName||(lK.displayName="AddChartButton")}catch{}try{(lW=$Q).displayName||(lW.displayName="ChartItemTrailingVisual")}catch{}try{(lH=$X).displayName||(lH.displayName="InsightsSideNav")}catch{}let $Y=(0,cg.memo)(function({children:e}){return(0,cs.jsxs)(F4.X,{containerWidth:"full",sx:{height:"100%",padding:0,m:0,[`& > ${cW.Z}`]:{minHeight:"100%"}},children:[(0,cs.jsx)(F4.X.Pane,{position:"start",sx:{padding:[3,null,null,4],borderRight:"1px solid",borderColor:"border.subtle"},children:(0,cs.jsx)($X,{})}),(0,cs.jsx)(F4.X.Content,{width:"large",sx:{padding:[3,null,null,4]},children:e})]})});try{(lG=$Y).displayName||(lG.displayName="InsightsLayout")}catch{}function $J(){return(0,cs.jsx)(cH,{...(0,cK.f)("insights-page"),children:(0,cs.jsx)(ZJ,{children:(0,cs.jsx)($Y,{children:(0,cs.jsx)(cx.j3,{})})})})}try{(lq=$J).displayName||(lq.displayName="InsightsPage")}catch{}function $0(e,t){let a=pZ(e),n=pZ(t);(0,cg.useEffect)(()=>{let e=e=>{document.body.contains(e.target)&&(a.current.some(t=>t.current?.contains(e.target))||n.current())};return addEventListener("click",e,!0),()=>{removeEventListener("click",e,!0)}},[a,n])}async function $1(e){let t=cQ("memex-collaborators-api-data"),{data:a}=await fd(t.url,e);return a}async function $2(e){let t=cQ("memex-remove-collaborators-api-data"),{data:a}=await fd(t.url,{method:"DELETE",body:e,token:t.token});return a}async function $5({role:e,collaborators:t}){let a=cQ("memex-add-collaborators-api-data"),{data:n}=await fd(a.url,{method:"POST",body:{permission:fY.get(e),collaborators:t},token:a.token});return n}async function $3(e){let t=cQ("memex-get-organization-access-api-data"),{data:a}=await fd(t.url,e);return{role:a.role??a.permission}}async function $4({role:e}){let t=cQ("memex-update-organization-access-api-data");await fd(t.url,{method:"PUT",body:{permission:fY.get(e)},token:t.token})}function $6(e){return"user"===e.actor_type?e.login:e.slug}let $8=e=>`${e.actor_type}/${e.id}`,$7=(0,Ro.r)({primaryKey:"organization-access",queryFn:({signal:e})=>$3({signal:e}),initialData:{role:fq.None}}),$9=()=>$7({select:(0,cg.useMemo)(()=>e=>fJ.get(e.role)??fG.None,[])}),Ve=()=>{let e=(0,cp.NL)();return(0,cg.useCallback)(()=>e.prefetchQuery({queryKey:$7.getKey(),queryFn:$7.queryFn}),[e])},Vt=()=>{let e=(0,cp.NL)();return(0,PK.D)({mutationFn:$4,onMutate:({role:t})=>{e.setQueriesData({queryKey:$7.getKey()},{role:fY.get(t)??fq.None})},onSettled:()=>{e.invalidateQueries({queryKey:$7.getKey()})}})},Va=(0,Ro.r)({primaryKey:"all-collaborators",queryFn:({signal:e})=>$1({signal:e})});function Vn(e){return new Set(e.collaborators.map(e=>$8(e)))}let Vr=()=>Va({select:Vn}),Vl=e=>new Map(e.collaborators.map(e=>[$8(e),e])),Vi=()=>Va({select:Vl}),Vs=()=>{let e=(0,cp.NL)();return(0,cg.useCallback)(()=>e.prefetchQuery({queryKey:Va.getKey(),queryFn:Va.queryFn}),[e])},Vo=(0,Zj.c)({mutationFn:$2}),Vd=()=>{let e=(0,cp.NL)();return Vo({onMutate:({collaborators:t})=>{e.setQueriesData({queryKey:Va.getKey()},e=>e?{collaborators:e.collaborators.filter(e=>!t.includes($8(e)))}:e)},onSettled:()=>{e.invalidateQueries({queryKey:Va.getKey()})}})},Vu=(0,Zj.c)({mutationFn:$5}),Vc=()=>{let e=(0,cp.NL)();return Vu({onMutate:({collaborators:t,role:a})=>{e.setQueriesData({queryKey:Va.getKey()},e=>{if(!e)return e;let n=new Set(t),r={collaborators:e.collaborators.map(e=>n.has($8(e))?{...e,role:fY.get(a)??fq.None,isUpdated:!0}:e)};return r})},onSettled:()=>{e.invalidateQueries({queryKey:Va.getKey()})}})};async function Vm({query:e},t){let a=cQ("memex-suggested-collaborators-api-data"),n=new URL(a.url,window.location.origin);n.searchParams.set("q",e);let{data:r}=await fd(n,t);return r}function Vp(e,t){return t.query.trim().replace(/^@/,"").length>0}let Vf=(0,Ro.r)({primaryKey:"suggested-collaborators",queryFn:({queryKey:[,e],signal:t})=>Vm(e,{signal:t}),enabled:Vp}),Vh=e=>{let{data:t}=Vr(),a=(0,cg.useCallback)(e=>e.suggestions.map(e=>{if("user"in e){let a="user";return{...e.user,isCollaborator:t?.has($8({id:e.user.id,actor_type:a}))??!1,actor_type:a}}if("team"in e){let a="team";return{...e.team,isCollaborator:t?.has($8({id:e.team.id,actor_type:a}))??!1,actor_type:a}}h2(e)}),[t]);return Vf({...e,select:a})};function Vg({login:e,id:t,onRemove:a,avatarUrl:n}){return(0,cs.jsxs)(cW.Z,{sx:{m:1,pl:"2px",pr:1,pt:"2px",pb:"2px",display:"flex",borderRadius:"20px",bg:"accent.subtle",flexDirection:"row",alignItems:"center"},...(0,cK.f)(`collaborator-pill-${e}`),children:[(0,cs.jsx)(bL.Z,{loading:"lazy",alt:e,src:n,sx:{mr:1}}),(0,cs.jsx)(mn.Z,{sx:{mr:1,color:"accent.fg"},children:e}),(0,cs.jsx)(xh.z,{variant:"invisible",onClick:()=>a(),sx:{p:0,height:"auto"},children:(0,cs.jsx)(me.b0D,{})})]},t)}try{(lQ=Vg).displayName||(lQ.displayName="CollaboratorPill")}catch{}let Vy=({displayName:e,selected:t,onClose:a,role:n,description:r,handleOnClick:l})=>{let i=(0,cg.useCallback)(()=>{l(n)},[l,n]);return(0,cs.jsxs)(kL.S.Item,{tabIndex:0,selected:t,onClick:i,onKeyDown:e=>{"Enter"===e.key&&(i(),a())},...(0,cK.f)(`collaborators-role-dropdown-item-${n}`),children:[e,(0,cs.jsx)(kL.S.Description,{variant:"block",children:r})]})},Vx=[{value:fG.Admin,displayName:pl(fG.Admin.toString()),description:p4.collaboratorDropDownAdmin},{value:fG.Write,displayName:pl(fG.Write.toString()),description:p4.collaboratorDropDownWrite},{value:fG.Read,displayName:pl(fG.Read.toString()),description:p4.collaboratorDropDownRead}];function Vb({align:e="inside-right",roles:t=Vx,selectedRoles:a,isOrganizationRole:n=!1,handleOnClick:r,handleDropDownButtonClick:l}){let[i,s]=(0,cg.useState)(!1),o=a.length>1?"Mixed":pl(a[0]??""),d=a.length>0?new Set(a.map(e=>pl(e))):new Set;return(0,cs.jsx)(cW.Z,{sx:{position:"relative"},children:(0,cs.jsxs)(kA.P,{open:i,onOpenChange:e=>s(e),...(0,cK.f)("collaborators-role-dropdown"),children:[(0,cs.jsxs)(kA.P.Button,{onClick:l,...(0,cK.f)("collaborators-role-dropdown-button"),children:[n?null:(0,cs.jsx)("span",{style:{fontWeight:400},children:"Role: "}),o]}),(0,cs.jsx)(kA.P.Overlay,{anchorSide:e,children:(0,cs.jsx)(kL.S,{selectionVariant:"single",children:t.map(e=>(0,cs.jsx)(Vy,{role:e.value,description:e.description,displayName:e.displayName,onClose:()=>s(!1),selected:d.has(e.displayName),handleOnClick:e=>{r(e)}},e.value))})})]})})}try{(lX=Vy).displayName||(lX.displayName="CollaboratorRoleDropDownItem")}catch{}try{(lY=Vb).displayName||(lY.displayName="CollaboratorRoleDropDown")}catch{}let Vv=({collaboratorsAddedCount:e,setInvitationRequestState:t})=>{let a=pO(()=>t(Do.None),5e3);return(0,cg.useEffect)(()=>{a()},[a]),(0,cs.jsxs)(cW.Z,{...(0,cK.f)("success-message"),children:[(0,cs.jsx)(mt.Z,{icon:me.nQG,sx:{ml:3,color:"success.fg"}}),(0,cs.jsxs)(mn.Z,{children:[" ",e," successfully added "]})]})},Vw=()=>(0,cs.jsxs)(cW.Z,{...(0,cK.f)("failure-message"),children:[(0,cs.jsx)(mt.Z,{icon:me.wNq,sx:{ml:3,color:"danger.fg"}}),(0,cs.jsx)(mn.Z,{children:" Unable to add some users "})]}),Vk="add-collaborators-suggestions-list",Vj=[],VC=[],VS=()=>{let e=(0,cg.useRef)(null),t=(0,cg.useRef)(null),a=(0,cg.useRef)(null),{projectOwner:n}=f1(),[r,l]=(0,cg.useState)(!1),[i,s]=(0,cg.useState)(!1),[o,d]=(0,cg.useState)(fG.Write),[u,c]=(0,cg.useState)(Vj),[m,p]=(0,cg.useState)(Do.None),[f,h]=(0,cg.useState)(""),[g,y]=(0,cg.useState)(""),x=kq(g.startsWith("@")?g.trim().slice(1):g.trim()),{data:b=VC}=Vh({variables:{query:x}});$0([a,e],()=>s(!1));let v=(0,cg.useCallback)(e=>{c(t=>{let a=t.filter(t=>$8(t)!==$8(e));return a.length===t.length?t:a})},[]),w=(0,cg.useCallback)(e=>{let t=new Set(e);c(e=>{let a=[];for(let n of e)t.has(`${$8(n)}`)&&a.push(n);return a})},[c]),k=e=>{let t=b.find(t=>$8(t)===e);t&&c(e=>{let a=e.some(e=>$8(e)===$8(t));return a?e:[...e,t]})},j=t=>{t.isCollaborator||(s(!1),y(""),k($8(t)),e.current?.focus())},C=(0,cg.useCallback)(({target:e})=>{y(e.value)},[]),S=(0,cg.useCallback)(()=>{s(!0),l(!0)},[s,l]),I=(0,cg.useCallback)(()=>{l(!1)},[l]),N=(0,cg.useCallback)(e=>{if("Backspace"===e.key&&""===g&&u.length>0){let e=u[u.length-1];e&&v(e)}m!==Do.None&&(p(Do.None),h(""))},[m,g,u,v]),{addToast:T}=pU(),{mutate:_}=Vc(),R=(0,cg.useCallback)(()=>{if(0!==u.length)return _({role:o,collaborators:u.map(e=>$8(e))},{onSuccess:({failed:e})=>{if(e.length>0)p(Do.Failed),w(e);else{y("");let e=u.length;h(`${e} ${1===e?"user":"users"}`),p(Do.Successful),c(Vj)}},onError:e=>{T({type:pj.error,message:e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"Failed to update collaborators"})}})},[T,u,o,_,w]);(0,cg.useLayoutEffect)(()=>{let e=x.startsWith("@")?x.substring(1,x.length):x,t=e.length>0;s(t)},[x]);let P=(0,cg.useCallback)(e=>{v(e),m!==Do.None&&p(Do.None)},[p,m,v]),D=n&&"organization"===n.type?p4.addCollaboratorPlaceholderOrgProject:p4.addCollaboratorPlaceholderUserProject,E=b.length>0&&x.length>0&&i;return(0,cs.jsx)(cW.Z,{sx:{flexDirection:"column",flexGrow:1,display:"flex"},...(0,cK.f)("add-collaborators"),children:(0,cs.jsxs)(br.Z,{sx:{mb:5,alignItems:"stretch"},children:[(0,cs.jsx)(br.Z.Label,{visuallyHidden:!0,children:"Add Collaborators"}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",my:2},children:[(0,cs.jsx)(be.Z,{as:"h3",sx:{fontSize:4,fontWeight:"normal"},children:"Invite collaborators"}),(0,cs.jsx)(cW.Z,{children:(0,cs.jsxs)("div",{"aria-live":"polite",children:[m===Do.Successful&&(0,cs.jsx)(Vv,{setInvitationRequestState:p,collaboratorsAddedCount:f}),m===Do.Failed&&(0,cs.jsx)(Vw,{})]})})]}),(0,cs.jsxs)(cW.Z,{sx:{flexDirection:"row",alignItems:"flex-start",flexWrap:"nowrap",display:"flex"},children:[(0,cs.jsxs)(cW.Z,{ref:t,onClick:()=>e.current?.focus(),sx:{flex:1,width:"100%",display:"flex",boxShadow:r?e=>`0 0 0 2px ${e.colors.accent.fg}`:void 0,flexDirection:"row",borderRadius:2,borderWidth:"1px",borderStyle:"solid",borderColor:r?"accent.emphasis":"border.default"},children:[(0,cs.jsx)(mt.Z,{icon:me.Tk0,sx:{m:2,color:"fg.muted"}}),(0,cs.jsxs)(cW.Z,{sx:{flexDirection:"row",display:"flex",flex:1,flexWrap:"wrap",cursor:"text"},children:[u.map(e=>{let t=$8(e);return(0,cs.jsx)(Vg,{avatarUrl:e.avatarUrl,login:$6(e),id:t,onRemove:()=>P(e)},t)}),(0,cs.jsx)(wO,{role:"combobox","aria-haspopup":"listbox","aria-expanded":E,"aria-autocomplete":"list","aria-controls":Vk,"aria-label":D,style:{flex:1,width:"auto",display:"inline"},autoComplete:"off",value:g,ref:e,onChange:C,onFocus:S,onBlur:I,onKeyDown:N,placeholder:D,id:"add-collaborators-input",...(0,cK.f)("add-collaborators-input")}),E&&(0,cs.jsx)(b9,{testId:Vk,listRef:a,controllingElementRef:e,xOriginEdgeAlign:"left",style:{width:"400px"},items:b.map(e=>({renderItem:()=>(0,cs.jsx)(VI,{suggestion:e}),key:e.id,value:$6(e),asHTML:!0,onSelect:()=>j(e),testId:`collaborator-suggestion-item-${$6(e)}`}))})]})]}),(0,cs.jsx)(cW.Z,{sx:{mx:2},children:(0,cs.jsx)(Vb,{selectedRoles:[o],handleOnClick:d})}),(0,cs.jsx)(xh.z,{variant:"primary",onClick:R,...(0,cK.f)("add-collaborators-invite-button"),children:"Invite"})]})]})})};function VI({suggestion:e}){let t=$6(e);return(0,cs.jsxs)("span",{children:[(0,cs.jsx)(bL.Z,{loading:"lazy",alt:t,src:e.avatarUrl,sx:{mr:1}}),(0,cs.jsxs)(mn.Z,{sx:{color:e.isCollaborator?"fg.muted":"fg.default"},children:[e.name," ",(0,cs.jsx)(mn.Z,{sx:{color:"fg.subtle",mx:1},children:t})]}),e.isCollaborator&&(0,cs.jsx)(mn.Z,{sx:{color:"fg.subtle",fontSize:12},children:"\xb7 Already a collaborator"})]})}try{(lJ=Vv).displayName||(lJ.displayName="AddCollaboratorSuccess")}catch{}try{(l0=Vw).displayName||(l0.displayName="AddCollaboratorError")}catch{}try{(l1=VS).displayName||(l1.displayName="AddCollaborators")}catch{}try{(l2=VI).displayName||(l2.displayName="CollabSuggestionItem")}catch{}let VN=(0,cg.createContext)(null),VT=()=>{let e=(0,cg.useContext)(VN);if(!e)throw Error("useCollaboratorsFilter must be used inside the Provider");return e},V_={Role:"role",Type:"type"},VR=({children:e})=>{let t=(0,cg.useMemo)(()=>/(admin|read|write)/gi,[]),a=(0,cg.useMemo)(()=>/(user|team)/gi,[]),n=(0,cg.useCallback)((e,t)=>{let a=RegExp(`\\b${t}:\\b\\S+`,"gi");return e.replace(a,"").replace(/\s\s+/g," ").trim()},[]),[r,l]=(0,cg.useState)(""),[i,s]=(0,cg.useState)([]),[o,d]=(0,cg.useState)(fG.None),[u,c]=(0,cg.useState)(fQ.None),m=e=>{d(fG.None),c(fQ.None),s(e.split(" ")),l(e)},p=(0,cg.useCallback)(e=>{let n=yn(e);if(n.fieldFilters.length){let r=n.fieldFilters.filter(e=>e[0]===V_.Role),l=n.fieldFilters.filter(e=>e[0]===V_.Type),i=!r||1!==r.length,s=!l||1!==l.length;if(i&&s){m(e);return}{let n=!0;if(!i){let e=r[0]?.[1]??"",a=1===e.length&&e[0]?.match(t);a&&(d(e[0]),n=!1)}if(!s){let e=l[0]?.[1],t=e?.length===1&&e[0]?.match(a);t&&(c(e[0]),n=!1)}if(n){m(e);return}}}else d(fG.None),c(fQ.None);s(n.searchTokens),l(e)},[t,a,d]),f=(0,cg.useCallback)((e,l)=>{let i=l===V_.Role?r.match(t):r.match(a);if((e=e.toLocaleLowerCase())===fG.None||e===fQ.None&&l===V_.Type){p(`${n(r,l)}`);return}i&&0!==i.length?i.length>1?p(`${n(r,l)} ${l}:${e}`):p(r.replace(i[0],`${e}`)):p(`${r.trimEnd()} ${l}:${e}`)},[r,t,a,p,n]),h=(0,cg.useCallback)(e=>{d(e),f(e.toLowerCase(),V_.Role)},[d,f]),g=(0,cg.useCallback)(e=>{c(e),f(e.toLowerCase(),V_.Type)},[f,c]),y=(0,cg.useCallback)(e=>{let t=$6(e);if(0===i.length&&o===fG.None&&u===fQ.None)return!0;let a=o&&o!==fG.None&&e.role!==fY.get(o.toLowerCase()),n=!!(u&&u!==fQ.None&&u!==e.actor_type);return!a&&!n&&(!(i.length>0)||!!t&&gO(i,t.toLowerCase())||!!e.name&&gO(i,e.name.toLowerCase()))},[o,i,u]),x=(0,cg.useMemo)(()=>({query:r,setQuery:p,roleFilter:o,typeFilter:u,setTypeFilter:g,setRoleFilter:h,match:y}),[r,p,o,h,u,g,y]);return(0,cs.jsx)(VN.Provider,{value:x,children:e})};try{(l5=VR).displayName||(l5.displayName="CollaboratorsFilterProvider")}catch{}function VP(e){let t=e.membersCount,a=1===t?`${t} member`:`${t} members`;return`@${e.slug} \u{2022} ${a}`}function VD(e,t){let a="";return"user"===e.actor_type&&(a=`/${e.login}`),"team"===e.actor_type&&(a=t?`/orgs/${t.login}/teams/${e.slug}`:""),a}function VE(e,t){return"user"===e.actor_type?`/users/${e.login}/hovercard`:"team"===e.actor_type&&t?.type==="organization"?`/orgs/${t.login}/teams/${e.slug}/hovercard`:void 0}let VL={padding:3,marginTop:"-1px",borderTopColor:"border.default",borderTopStyle:"solid",borderTopWidth:1,borderRadius:"0 0 6px 6px"},VA={padding:3,listStyleType:"none",marginTop:"-1px",borderTopColor:"border.muted",borderTopStyle:"solid",borderTopWidth:1},VM=({collaborator:e,isLastItem:t,isSelected:a,onCheckboxChange:n,onDropDownClick:r,onRemoveButtonClick:l})=>{let{projectOwner:i}=f1(),s=t?VL:VA,o=fJ.get(e.role)??fG.None,d=e.isUpdated?VF:cW.Z,u="team"===e.actor_type?VP(e):$6(e);return(0,cs.jsx)(d,{sx:s,...(0,cK.f)(`collaborators-row-${u}`),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flex:"auto",alignItems:"center"},children:[(0,cs.jsx)(cW.Z,{sx:{mr:3},children:(0,cs.jsx)("input",{type:"checkbox","aria-label":a?p1.unselectCollaborator(u):p1.selectCollaborator(u),checked:a,name:$8(e),onChange:n,...(0,cK.f)(`collaborators-checkbox-${u}`)})}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",flex:"auto"},children:[(0,cs.jsx)(bL.Z,{loading:"lazy",alt:u,src:e.avatarUrl,size:32,sx:{mr:3},"data-hovercard-type":e.actor_type,"data-hovercard-url":VE(e,i)}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,cs.jsx)(yH.Z,{"data-hovercard-type":e.actor_type,"data-hovercard-url":VE(e,i),sx:{cursor:"pointer",textDecoration:"none",fontWeight:"bold"},href:VD(e,i),children:e.name}),(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},...(0,cK.f)("collaborator-login"),children:u})]})]}),(0,cs.jsx)(Vb,{selectedRoles:[o],handleOnClick:t=>r(t,new Set([$8(e)]))}),(0,cs.jsx)(xh.z,{variant:"invisible",onClick:()=>l(new Set([$8(e)])),...(0,cK.f)(`remove-collaborator-${u}`),sx:{color:"fg.muted",border:"1px solid",borderColor:"transparent",boxShadow:"none","&:hover:not([disabled]), &:focus:not([disabled])":{color:"btn.danger.text",border:"1px solid",borderColor:"btn.border"},marginLeft:2},"aria-label":pX.removeTitle,children:pX.removeTitle})]})},e.id)},VF=(0,cw.ZP)(cW.Z)`
  animation: fadeOut 2s ease-out;

  @keyframes fadeOut {
    from {
      background: ${(0,ch.U2)("colors.neutral.subtle")};
    }
    to {
      background: ${(0,ch.U2)("colors.canvas.default")};
    }
  }
`,VZ=(0,cg.memo)(VM);try{(l3=VM).displayName||(l3.displayName="CollaboratorsListItemComponent")}catch{}try{(l4=VF).displayName||(l4.displayName="FadedRow")}catch{}try{(l6=VZ).displayName||(l6.displayName="CollaboratorsListItem")}catch{}let VO=["Read","Write","Admin"],V$=["User","Team"],VV=new Map([[fq.Reader,"Read"],[fq.Writer,"Write"],[fq.Admin,"Admin"]]),VB=new Map,Vz=(0,cg.memo)(function({userCount:e,teamCount:t,showError:a,selectedCollaboratorIds:n,onCheckBoxChange:r,onDropDownItemClick:l,onRemoveButtonClick:i,onDropDownButtonClick:s}){let{data:o=VB}=Vi(),d=new Set;for(let e of n){if(d.size===VO.length)break;let t=o.get(e);if(t){let e=VV.get(t.role);e&&d.add(e)}else n.delete(e)}let u=(0,cg.useRef)(null),{typeFilter:c}=VT(),m=VU(c,{userCount:e,teamCount:t});(0,cg.useLayoutEffect)(()=>{u.current&&(u.current.indeterminate=0!==n.size&&n.size<m)},[n,m]);let p="";p=1!==e?`${e} members`:`${e} member`,t&&(0===e&&(p=""),p+=(e?", ":"")+(t>1?`${t} teams`:`${t} team`));let f=n.size;return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(cW.Z,{sx:VK,children:[(0,cs.jsx)(cW.Z,{sx:{display:"flex",alignItems:"center",flex:"1 1 0"},children:(0,cs.jsx)(cW.Z,{sx:{mr:2},children:(0,cs.jsxs)(br.Z,{id:"collaborators-checkbox-bulk",children:[(0,cs.jsx)(yq.Z,{name:"collaborators-checkbox-bulk",ref:u,onChange:r,checked:f>0&&f===m,...(0,cK.f)("collaborators-checkbox-bulk")}),(0,cs.jsxs)(br.Z.Label,{sx:{color:"fg.muted",fontWeight:"normal"},children:[(0,cs.jsx)(b7,{children:"Select all collaborators. "}),(0,cs.jsx)(mn.Z,{...(0,cK.f)("collaborators-table-counter"),children:f>0?`${f} selected`:p})]})]})})}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,cs.jsx)("div",{"aria-live":"polite",children:f>1&&a&&(0,cs.jsx)(VW,{})}),(0,cs.jsx)(cW.Z,{...(0,cK.f)("collaborators-header-dropdown"),children:f>1?(0,cs.jsx)(VH,{selectedRoles:Array.from(d),collaboratorIds:n,onDropDownItemClick:l,onDropDownButtonClick:s}):(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(Vq,{}),(0,cs.jsx)(VQ,{})]})}),f>1&&(0,cs.jsx)(xh.z,{sx:{ml:2,"&:hover:not([disabled]), &:focus:not([disabled])":{color:"btn.danger.text"}},onClick:()=>i(n),...(0,cK.f)("collaborators-remove-bulk"),children:pX.removeTitle})]})]}),(0,cs.jsx)(cW.Z,{sx:{p:3},children:(0,cs.jsx)(VG,{})})]})});function VU(e,t){let a={[fQ.User]:t.userCount,[fQ.Team]:t.teamCount,[fQ.None]:t.userCount+t.teamCount};return a[e]}let VK={display:"flex",flexWrap:"wrap",alignItems:"center",padding:3,margin:"-1px -1px 0",backgroundColor:"canvas.subtle",borderColor:"border.default",borderStyle:"solid",borderWidth:1,borderTopLeftRadius:2,borderTopRightRadius:2};function VW(){return(0,cs.jsxs)(cW.Z,{...(0,cK.f)("failure-message"),sx:{mr:2},children:[(0,cs.jsx)(mt.Z,{icon:me.wNq,sx:{mr:1,color:"danger.fg"}}),(0,cs.jsx)(mn.Z,{children:"Something went wrong"})]})}function VH(e){return(0,cs.jsx)(Vb,{selectedRoles:e.selectedRoles,handleOnClick:t=>e.onDropDownItemClick(t,e.collaboratorIds),handleDropDownButtonClick:e.onDropDownButtonClick,...(0,cK.f)("collaborators-header-role-picker")})}let VG=()=>{let{query:e,setQuery:t}=VT(),{projectOwner:a}=f1(),[n,r]=Di(e),l=(0,cg.useRef)(),i=e=>{let a=e.target.value;r(a),l.current&&l.current.cancel(),l.current=(0,fb.Z)(()=>t(a),200),l.current()};return(0,cs.jsx)(cW.Z,{sx:{flex:"1 1 100%"},...(0,cK.f)("filter-collaborators"),children:(0,cs.jsx)(wE.Z,{placeholder:a&&"organization"===a.type?p4.collaboratorFilterPlaceholderOrgProject:p4.collaboratorFilterPlaceholderUserProject,value:n,contrast:!0,onChange:i,...(0,cK.f)("filter-collaborators-input"),sx:{width:"100%"}})})},Vq=()=>{let{typeFilter:e,setTypeFilter:t}=VT(),[a,n]=(0,cg.useState)(!1),r=(0,cg.useCallback)(e=>{t(e)},[t]),l=(0,cg.useCallback)((e,t)=>{r(t?fQ.None:e)},[r]);return(0,cs.jsxs)(kA.P,{open:a,onOpenChange:e=>n(e),children:[(0,cs.jsx)(kA.P.Button,{...(0,cK.f)("collaborators-header-type-filter-button"),children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"Type"})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsx)(kL.S,{selectionVariant:"single",...(0,cK.f)("collaborators-header-type-filter-menu"),children:V$.map(t=>(0,cs.jsx)(VX,{onClickHandler:l,onClose:()=>n(!1),value:t,filter:e},t))})})]})},VQ=()=>{let{roleFilter:e,setRoleFilter:t}=VT(),[a,n]=(0,cg.useState)(!1),r=(0,cg.useCallback)(e=>{t(e)},[t]),l=(0,cg.useCallback)((e,t)=>{r(t?fG.None:e)},[r]);return(0,cs.jsxs)(kA.P,{open:a,onOpenChange:e=>n(e),children:[(0,cs.jsx)(kA.P.Button,{...(0,cK.f)("collaborators-header-role-filter-button"),sx:{ml:2},children:(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"Role"})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsx)(kL.S,{selectionVariant:"single",...(0,cK.f)("collaborators-header-role-filter-menu"),children:VO.map(t=>(0,cs.jsx)(VX,{onClickHandler:l,onClose:()=>n(!1),value:t,filter:e},t))})})]})},VX=({filter:e,value:t,onClickHandler:a,onClose:n})=>{let r=(0,cg.useMemo)(()=>t.toLowerCase()===e?.toLowerCase(),[t,e]),l=(0,cg.useCallback)(()=>{a(t,r)},[a,t,r]);return(0,cs.jsx)(kL.S.Item,{tabIndex:0,onClick:l,onKeyDown:e=>{"Enter"===e.key&&(l(),n())},selected:r,...(0,cK.f)(`filter-${t.toLowerCase()}`),children:t},t)};try{(l8=Vz).displayName||(l8.displayName="CollaboratorsTableHeader")}catch{}try{(l7=Vz).displayName||(l7.displayName="CollaboratorsTableHeader")}catch{}try{(l9=VW).displayName||(l9.displayName="ErrorMessage")}catch{}try{(ie=VH).displayName||(ie.displayName="RoleBulkSetDropdown")}catch{}try{(it=VG).displayName||(it.displayName="CollaboratorsFilterInput")}catch{}try{(ia=Vq).displayName||(ia.displayName="CollaboratorsFilterTypeDropdown")}catch{}try{(ir=VQ).displayName||(ir.displayName="CollaboratorsFilterRoleDropdown")}catch{}try{(il=VX).displayName||(il.displayName="FilterDropdownItem")}catch{}let VY=({allCollaboratorActorIdentifiers:e})=>{let[t,a]=(0,cg.useState)(()=>new Set),n=new Set(t);for(let a of t)e.has(a)||n.delete(a);return n.size!==t.size&&a(n),[t,a]},VJ={[fq.Admin]:3,[fq.Writer]:2,[fq.Reader]:1,[fq.None]:0};function V0(e){return e.slice().sort((e,t)=>{let a=VJ[t.role]-VJ[e.role];if(0!==a)return a;let n=$6(e),r=$6(t);return n.localeCompare(r)})}let V1={collaborators:[]},V2=()=>{let{data:e=V1,isLoading:t,isError:a}=Va(),n=(0,cg.useMemo)(()=>new Set(e.collaborators.map($8)),[e]),{mutateAsync:r}=Vd(),{mutateAsync:l}=Vc(),i=(0,xg.N)(),[s,o]=(0,cg.useState)(Do.None),{query:d,match:u}=VT(),c=(0,cg.useMemo)(()=>e.collaborators.filter(u),[u,e]),[m,p]=VY({allCollaboratorActorIdentifiers:n}),f=(0,cg.useCallback)(async(e,t)=>{let{actorIds:a,role:n}=e,{loggedInUser:r}=f1(),l=`user/${r?.id}`,s=!1;if(r?.id&&(s=a.has(l)),s){if(await i({title:"Remove yourself as admin?",content:"Are you sure you want to remove yourself as Admin? You will lose access to Settings",confirmButtonContent:"Remove",confirmButtonType:"danger"})){let{failed:e}=await t({collaborators:Array.from(a),role:n});if(e.length>0&&a.size>1&&e.includes(l))o(Do.Failed);else{let e=window.location.pathname.substring(0,window.location.pathname.indexOf("/settings"));window.location.assign(e)}}}else{let{failed:e}=await t({role:n,collaborators:Array.from(a)});e.length>0&&a.size>1&&o(Do.Failed)}},[i]),h=async e=>{o(Do.None),await f({actorIds:e},e=>r(e,{onError:e=>{g({type:pj.error,message:e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"Failed to remove collaborators"})}}))},{addToast:g}=pU(),y=async(e,t)=>{o(Do.None),await f({role:e,actorIds:t},async({collaborators:e,role:t})=>{if(!t)throw Error("you must specify a Role to assign to the selected collaborators");return l({collaborators:e,role:t},{onError:e=>{g({type:pj.error,message:e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"Failed to update collaborators"})}})})},x=()=>{o(Do.None)},b=(0,cg.useCallback)(({target:{name:e,checked:t}})=>{p(a=>{let r=new Set(a);return t&&void 0!==n.has(e)?r.add(e):r.delete(e),r})},[n,p]),v=(0,cg.useCallback)(e=>{e.target.checked?p(new Set(c.map($8))):p(new Set)},[c,p]),[{length:w},{length:k}]=(0,cg.useMemo)(()=>$U(e.collaborators,e=>"user"===e.actor_type),[e.collaborators]),j=V0(c).map((e,t)=>(0,cs.jsx)(VZ,{collaborator:e,isLastItem:t===c.length-1,isSelected:m.has($8(e)),onCheckboxChange:b,onDropDownClick:y,onRemoveButtonClick:h},`collaborator-row-${e.id}-${e.role}`));return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(be.Z,{as:"h3",sx:{mb:2,fontSize:4,fontWeight:"normal"},children:"Manage access"}),(0,cs.jsxs)(cW.Z,{...(0,cK.f)("collaborators-table"),sx:{borderRadius:2,border:"1px solid",borderColor:"border.subtle",bg:"canvas.default"},"data-team-hovercards-enabled":!0,children:[(0,cs.jsx)(Vz,{userCount:w,teamCount:k,selectedCollaboratorIds:m,showError:s===Do.Failed,onCheckBoxChange:v,onDropDownItemClick:y,onRemoveButtonClick:h,onDropDownButtonClick:x}),t?(0,cs.jsx)(cW.Z,{sx:{justifyContent:"center",my:4,display:"flex"},children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,cs.jsx)(cW.Z,{sx:{mb:2},children:(0,cs.jsx)(yG.Z,{size:"medium"})}),(0,cs.jsx)("span",{children:"Loading collaborators..."})]})}):a?(0,cs.jsx)(V4,{type:V5.Error}):0===j.length?d.length>0?(0,cs.jsx)(V4,{type:V5.Filtering}):(0,cs.jsx)(V4,{type:V5.NoCollaborators}):j]})]})},V5={Error:"error",NoCollaborators:"no-collaborators",Filtering:"filtering"},V3=new Map([[V5.Error,{title:"An error has occurred.",message:"Please try again later."}],[V5.NoCollaborators,{title:"You don't have any collaborators yet.",message:"Add a collaborator to see them here."}],[V5.Filtering,{title:"No collaborators found.",message:"Try to change or remove some filters to see results."}]]);function V4({type:e}){let t=V3.get(e);if(!t)throw Error("invalid blankslate type");return(0,cs.jsxs)(cW.Z,{className:"blankslate",...(0,cK.f)(`collaborators-table-blankslate-${e}`),children:[(0,cs.jsx)("h3",{...(0,cK.f)("collaborators-table-empty-title"),children:t.title}),(0,cs.jsx)("p",{...(0,cK.f)("collaborators-table-empty-message"),children:t.message})]})}let V6=(0,cg.memo)(V2);try{(ii=V2).displayName||(ii.displayName="CollaboratorsTableComponent")}catch{}try{(is=V4).displayName||(is.displayName="BlankSlateMessage")}catch{}try{(io=V6).displayName||(io.displayName="CollaboratorsTable")}catch{}let V8=()=>{let{isPublicProject:e}=_O(),{projectOwner:t,isOrganization:a}=f1(),n=t?.name?.toLowerCase(),{data:r=fG.None,error:l,refetch:i,status:s}=$9(),{mutate:o,status:d}=Vt(),u=(0,cg.useRef)(null);return(0,cg.useEffect)(()=>{u.current?.focus()},[]),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexWrap:"wrap"},...(0,cK.f)("privacy-settings"),children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderRadius:2,flex:1,p:3,mr:a?2:0},...(0,cK.f)("privacy-settings-manage-visibility"),children:[(0,cs.jsxs)(cW.Z,{sx:{mb:3},children:[(0,cs.jsxs)(cW.Z,{sx:{mb:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,cs.jsx)(be.Z,{as:"h2",sx:{mr:2,fontSize:2,fontWeight:"semibold"},children:e?"Public project":"Private project"}),(0,cs.jsx)(mt.Z,{icon:e?me.n9J:me.mBM,sx:{color:"fg.muted"}})]}),(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:e?"This project is public and visible to anyone.":"Only those with access to this project can view it."})]}),(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)(xh.z,{ref:u,as:f3,to:hl.generatePath(),...(0,cK.f)("privacy-settings-manage-access-link"),children:"Manage"})})]}),a&&(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderRadius:2,flex:1,padding:3},...(0,cK.f)("privacy-settings-organization-access"),children:[(0,cs.jsxs)(cW.Z,{sx:{mb:3},children:[(0,cs.jsxs)(cW.Z,{sx:{mb:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,cs.jsx)(be.Z,{as:"h2",sx:{mr:2,fontSize:2,fontWeight:"semibold"},children:"Base role"}),(0,cs.jsx)(mt.Z,{icon:me.w9Q,sx:{color:"fg.muted"}})]}),(0,cs.jsx)(V7,{owner:n,organizationAccessRole:r})]}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:[l?(0,cs.jsx)(xh.z,{disabled:!0,trailingIcon:me.AS7,...(0,cK.f)("collaborators-role-dropdown-button"),children:pl(r)}):(0,cs.jsx)(Be,{organizationAccessRole:r,updateOrganizationAccessRole:o}),(0,cs.jsx)("div",{"aria-live":"polite",...(0,cK.f)("org-access-update-status"),children:(0,cs.jsx)(V9,{orgAccessRoleRequestStatus:s,orgAccessRequestUpdateState:d,refetchOrganizationAccessRole:i})})]})]})]})};function V7({owner:e,organizationAccessRole:t}){return t===fG.Admin?(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:p4.privacySettingsAdmin}):t===fG.Write?(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},children:["Everyone in the organization can see and edit this project.",(0,cs.jsx)(yH.Z,{rel:"noopener noreferrer",target:"_blank",href:`https://github.com/orgs/${e}/people?query=role%3Aowner`,sx:{mx:1},underline:!0,children:"Owners"}),"are admins of this project."]}):t===fG.Read?(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},children:["Everyone in the organization can see this project.",(0,cs.jsx)(yH.Z,{rel:"noopener noreferrer",target:"_blank",href:`https://github.com/orgs/${e}/people?query=role%3Aowner`,sx:{mx:1},underline:!0,children:"Owners"}),"are admins of this project."]}):(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},children:["Only those with direct access and"," ",(0,cs.jsx)(yH.Z,{rel:"noopener noreferrer",target:"_blank",href:`https://github.com/orgs/${e}/people?query=role%3Aowner`,sx:{mr:1},underline:!0,children:"owners"}),"can see this project. Owners are also admins of this project."]})}function V9({orgAccessRoleRequestStatus:e,orgAccessRequestUpdateState:t,refetchOrganizationAccessRole:a}){return"error"===t||"error"===e?(0,cs.jsxs)(cW.Z,{...(0,cK.f)("initial-org-access-request-failure-message"),sx:{ml:2},children:[(0,cs.jsx)(mt.Z,{icon:me.wNq,sx:{mr:1,color:"danger.fg"}}),(0,cs.jsx)(mn.Z,{children:"Something went wrong."})," ",(0,cs.jsx)(yH.Z,{as:"button",onClick:()=>a(),children:"Try again"})]}):"success"===t?(0,cs.jsxs)(cW.Z,{...(0,cK.f)("org-access-request-success-message"),sx:{ml:2},children:[(0,cs.jsx)(mt.Z,{icon:me.nQG,sx:{mr:1,color:"success.fg"}}),(0,cs.jsx)(mn.Z,{children:"Changes saved"})]}):null}function Be({organizationAccessRole:e,updateOrganizationAccessRole:t}){return(0,cs.jsx)(Vb,{align:"inside-left",roles:[...Vx,{value:fG.None,displayName:pl(fG.None.toString()),description:p4.collaboratorDropDownNone}],isOrganizationRole:!0,selectedRoles:[e],handleOnClick:a=>{a!==e&&t({role:a})}})}try{(id=V8).displayName||(id.displayName="PrivacySettings")}catch{}try{(iu=V7).displayName||(iu.displayName="SelectedRoleText")}catch{}try{(ic=V9).displayName||(ic.displayName="Status")}catch{}try{(im=Be).displayName||(im.displayName="OrgAccessDropdown")}catch{}let Bt=()=>{let{hasAdminPermissions:e}=xQ();return e?(0,cs.jsxs)(cW.Z,{sx:{flexDirection:"column",flexGrow:1,display:"flex",paddingBottom:5},...(0,cK.f)("access-settings"),children:[(0,cs.jsx)(be.Z,{as:"h2",sx:{mb:3,fontSize:4,fontWeight:"normal"},children:"Who has access"}),(0,cs.jsx)(V8,{}),(0,cs.jsx)(VS,{}),(0,cs.jsx)(VR,{children:(0,cs.jsx)(V6,{})})]}):(0,cs.jsx)(f9,{})};try{(ip=Bt).displayName||(ip.displayName="AccessSettingsView")}catch{}var Ba=a(7621),Bn=a(111);function Br(e){let t=(0,cg.useRef)(null),a=(0,cg.useRef)(null),n=(0,cg.useRef)(null),r=(0,cg.useRef)({x:e.bufferX??[0,0],y:e.bufferY??[0,0]}),l="x"===e.axis,i="y"===e.axis,s=(0,cg.useMemo)(()=>(0,Bn.Z)(()=>{let t=e.scrollRef?.current;if(!t)return;let a=t.getBoundingClientRect(),n=a.width/2-a.width*(e.deadZoneRatioX??.1)/2,l=a.height/2-a.height*(e.deadZoneRatioY??.1)/2;r.current={x:e.bufferX??[n,n],y:e.bufferY??[l,l]}},50),[e.scrollRef,e.deadZoneRatioX,e.deadZoneRatioY,e.bufferX,e.bufferY]);(0,cg.useEffect)(()=>((void 0===e.bufferX||void 0===e.bufferY)&&(s(),addEventListener("resize",s)),()=>{removeEventListener("resize",s)}),[e.bufferX,e.bufferY,s]),(0,cg.useEffect)(()=>{(void 0!==e.bufferX||void 0!==e.bufferY)&&(r.current={x:e.bufferX??[0,0],y:e.bufferY??[0,0]})},[e.bufferX,e.bufferY]);let o=(0,cg.useCallback)(()=>{t.current&&cancelAnimationFrame(t.current),t.current=null,a.current=null,n.current=null},[]),d=(0,cg.useCallback)(()=>{let r=e.scrollRef?.current;r&&(a.current&&!l&&(r.scrollTop+=a.current*e.strength),n.current&&!i&&(r.scrollLeft+=n.current*e.strength),t.current=requestAnimationFrame(d))},[l,i,e.scrollRef,e.strength]),u=(0,cg.useCallback)(()=>{t.current&&o()},[o]),c=(0,cg.useCallback)(l=>{let i=e.scrollRef?.current;if(!e.active||!i){o();return}let s=i.getBoundingClientRect();a.current=Bl({mousePos:l.clientY,containerStart:s.top,containerEnd:s.bottom,ease:e.ease,buffer:r.current.y}),n.current=Bl({mousePos:l.clientX,containerStart:s.left,containerEnd:s.right,ease:e.ease,buffer:r.current.x}),null==a.current&&null==n.current&&o(),t.current||d()},[e.active,e.ease,e.scrollRef,o,d]);(0,cg.useEffect)(()=>(addEventListener("mousemove",c),addEventListener("mouseup",u),()=>{removeEventListener("mousemove",c),removeEventListener("mouseup",u)}),[c,u])}function Bl({mousePos:e,containerStart:t,containerEnd:a,ease:n,buffer:r}){let l=Array.isArray(r)?r[0]:r,i=Array.isArray(r)?r[1]:r,s=t+l,o=a-i;return e<s?Bi(-((s-Math.max(e,t))/l),n):e>o?Bi((Math.min(e,a)-o)/i,n):null}function Bi(e,t){return t?e<0?-t(-e):t(e):e}function Bs(e={}){let t=(0,cg.useRef)(e.start??0),a=(0,cg.useCallback)(()=>{let e=t.current;return t.current+=1,e},[]);return a}let Bo=[],Bd=({ui:e,column:t,onChangeCallback:a})=>{let[n,r]=Di(()=>t?.settings.options??Bo),[l,i]=Di(()=>t?.settings.options??Bo),s=(0,cg.useCallback)(()=>{r(l)},[l,r]),o=(0,cg.useCallback)(()=>{i(n)},[n,i]),{postStats:d}=v4(),u=(0,cg.useCallback)((a,n)=>{d({name:a,ui:e,context:n,memexProjectColumnId:t?.id})},[t?.id,d,e]),c=(0,cg.useCallback)(({dragMetadata:e,dropMetadata:t,side:n})=>{e.id!==t?.id&&(r(a=>{let r=gZ(a.find(({id:t})=>t===e.id));return a.reduce((e,a)=>(a.id===r.id||(a.id!==t?.id?e.push(a):"before"===n?e.push(r,a):"after"===n&&e.push(a,r)),e),[])}),a?.(),u("settings_field_order"))},[r,a,u]),m=Bs({start:1}),p=(0,cg.useCallback)(e=>{let t=[...n,{...e,id:pc(m())}];r(t),u("settings_field_add",`${pX.newOptionsCount}: ${t.length}`),a?.()},[n,m,r,u,a]),f=(0,cg.useCallback)(e=>{r(t=>t.map(t=>t.id===e.id?e:t)),a?.()},[r,a]),h=n.length>1,g=(0,cg.useCallback)(e=>{if(h){let t=n.filter(t=>t.id!==e);r(t),a?.(),u("settings_field_delete",`${pX.newOptionsCount}: ${t.length}`)}},[h,n,r,a,u]);return{options:n,persistedOptions:l,commitMutations:o,revertMutations:s,onDrop:c,canRemoveOption:h,addOption:p,updateOption:f,removeOption:g}};function Bu(e,t,a){let n=new Set(t.map(e=>e.id)),r=new Set("options"in e.settings?e.settings.options.filter(e=>!n.has(e.id)).map(e=>e.id):void 0),l=0;for(let t of a){let a=t[e.id],n=a?.id;r.has(n)&&l++}return l}function Bc(e,t,a){let n=new Set,r=new Set(t.iterations?.map(e=>e.id)),l=new Set(t.completedIterations?.map(e=>e.id));if("configuration"in e.settings){for(let t of e.settings.configuration.iterations)r.has(t.id)||n.add(t.id);for(let t of e.settings.configuration.completedIterations){let e=!l.has(t.id),a=e&&r.has(t.id);e&&!a&&n.add(t.id)}}let i=0;for(let t of a){let a=t[e.id],r=a?.id;n.has(r)&&i++}return i}async function Bm(e){let t=cQ("memex-column-option-create-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}async function Bp(e){let t=cQ("memex-column-option-delete-api-data"),{data:a}=await fd(t.url,{method:"DELETE",body:e,token:t.token});return a}async function Bf(e){let t=cQ("memex-column-update-api-data"),{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}async function Bh(e){let t=cQ("memex-column-option-update-api-data"),{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}function Bg(e){return e.filter(e=>e.name.length>0)}let By={color:"GRAY",description:"",name:""},Bx=()=>{let{updateColumnEntry:e}=_k(),{updateColumnValues:t}=MW(),a=(0,cg.useCallback)(async(a,n)=>{let r={...a.settings,options:Bb(n)};SC();let{memexProjectColumn:l}=await Bf({memexProjectColumnId:a.id,settings:r});if(l?.settings){let{settings:t}=l;e(xV({...a,settings:t}))}l&&t(l)},[e,t]),n=(0,cg.useCallback)((t,a)=>{let{options:n}=a.settings??{};if(n){let a={...t.settings,options:n};e(xV({...t,settings:a}))}},[e]),r=(0,cg.useCallback)(async(e,t)=>{if(!t.name)return;let{memexProjectColumn:a}=await Bm({memexProjectColumnId:e.id,option:t});n(e,a)},[n]),l=(0,cg.useCallback)(async(e,t,a=!1)=>{if(void 0!==t.name&&""===t.name.trim())return;let r=e.settings.options.find(e=>e.id===t.id);if(!r)return;let l=e.settings.options.map(e=>e.id===t.id?{...e,...t,nameHtml:t.name??e.nameHtml,descriptionHtml:t.description??e.descriptionHtml}:e);if(n(e,{settings:{options:l}}),a)return;let i={id:t.id,color:t.color,description:t.description,name:t.name},{memexProjectColumn:s}=await Bh({memexProjectColumnId:e.id,option:i});n(e,s)},[n]),i=(0,cg.useCallback)(async(e,t)=>{let a=e.settings.options.findIndex(e=>e.id===t.id),r=e.settings.options[a];if(null!=t.position&&r&&e.settings.options){let l=[...e.settings.options];l.splice(a,1),l.splice(t.position-1,0,r),n(e,{settings:{options:l}})}let{memexProjectColumn:l}=await Bh({memexProjectColumnId:e.id,option:t});n(e,l)},[n]),s=(0,cg.useCallback)(async(e,t)=>{let{memexProjectColumn:a}=await Bp({memexProjectColumnId:e.id,option:t});n(e,a)},[n]);return{addColumnOption:r,moveColumnOption:i,updateOptions:a,updateColumnOption:l,destroyColumnOption:s}};function Bb(e){return Bg(e).map(({id:e,color:t,description:a,name:n})=>({id:pu(e)?"":e,color:t,description:a,name:n}))}let Bv=(e,t)=>{let{postStats:a}=v4(),{updateOptions:n}=Bx(),{perform:r,status:l}=fx({request:(0,cg.useCallback)(async()=>{await n(e,t),a({name:vj,ui:vC,memexProjectColumnId:e.id})},[e,t,a,n]),showErrorToast:!1});return{updateColumnOptions:r,updateColumnOptionsStatus:l}},Bw=()=>{let e=(0,xg.N)();return(0,cg.useCallback)(async t=>0!==t.values.length&&e({title:p1.deleteValuesTitle(t.field.dataType,t.values.length),content:(0,cs.jsx)(Bj,{...t}),confirmButtonContent:"Delete",confirmButtonType:"danger"}),[e])},Bk=({children:e})=>(0,cs.jsxs)(fV.Z,{variant:"danger",as:"p",sx:{p:2},children:[(0,cs.jsx)(b7,{children:"Warning: "}),e]}),Bj=({field:e,values:t,affectedItems:a,affectedWorkflows:n})=>{let r=p1.deleteValuesIntro(e.dataType,e.name,t.length),l=a>0?p1.deleteValuesAffectedItemsWarning(e.dataType,t.length,a):null,i=n>0?p5.deleteValuesAffectedWorkflowsWarning(e.dataType,t.length,n):null;return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)("p",{children:[r," ",(0,cs.jsx)("strong",{children:p1.cannotBeUndone})]}),l&&(0,cs.jsx)(Bk,{children:l}),i&&(0,cs.jsx)(Bk,{children:i})]})};try{(ih=Bk).displayName||(ih.displayName="Warning")}catch{}try{(ig=Bj).displayName||(ig.displayName="Content")}catch{}let BC=({externalColumn:e})=>{let{postStats:t}=v4(),{items:a}=h_(),n=a.map(e=>e.columns),[r,l]=(0,cg.useState)(e),{findLoadedFieldIds:i}=_v(),s=pO(()=>{m(Do.None),o.current=null},3e3),o=(0,cg.useRef)();if(void 0===r)throw Error("Column is undefined");let d=i().includes(r.id),{loadColumnsWithItemColumnValues:u}=M5();(0,cg.useEffect)(()=>{d||u([r.id])},[d,r.id,u]);let[c,m]=(0,cg.useState)(Do.None),p=(0,cg.useCallback)(()=>{_(!0),m(Do.None)},[m]),{options:f,persistedOptions:h,commitMutations:g,revertMutations:y,onDrop:x,addOption:b,canRemoveOption:v,removeOption:w,updateOption:k}=Bd({column:r,onChangeCallback:p,ui:vC}),{workflowsUsingMissingColumnOption:j}=yK(),C=(0,cg.useMemo)(()=>j(r.databaseId,f.map(e=>e.id)).length,[r.databaseId,f,j]),S=(0,cg.useMemo)(()=>Bu(r,f,n),[r,f,n]),{updateColumnOptions:I,updateColumnOptionsStatus:N}=Bv(r,f),[T,_]=(0,cg.useState)(!1);(0,cg.useEffect)(()=>{T||l(e)},[e,T]);let R=(0,cg.useRef)(pX.genericErrorMessage),P=(0,cg.useCallback)(async()=>{g(),await I(),"succeeded"===N.current.status?(_(!1),m(Do.Successful),o.current&&o.current.cancel(),o.current=s()):"failed"===N.current.status&&m(Do.Failed)},[g,s,I,N]),D=Bw(),E=(0,cg.useCallback)(async()=>{let e=C+S>0,a=r.id===c9.Status&&f.every(e=>""===e.name.trim());if(a)R.current=pX.statusFieldEmptyError,m(Do.Failed);else if(e){S>0&&t({name:"settings_data_loss_single_select_warning",context:JSON.stringify({columnId:r.id,affectedOptionsUsedCount:S})});let e=await D({field:r,values:h.filter(e=>!f.some(t=>t.id===e.id)).map(e=>e.name),affectedItems:S,affectedWorkflows:C});e?(t({name:"settings_data_loss_single_select_save",context:JSON.stringify({columnId:r.id,affectedOptionsUsedCount:S})}),await P()):(t({name:"settings_data_loss_single_select_cancel",context:JSON.stringify({columnId:r.id,affectedOptionsUsedCount:S})}),y(),_(!1),m(Do.None))}else await P()},[C,S,r,f,D,h,t,P,y]);(0,cg.useEffect)(()=>{T&&E()},[T,E]);let L=(0,cg.useMemo)(()=>h,[h]);return{commitState:c,options:L,onDrop:x,addOption:b,canRemoveOption:v,removeOption:w,updateOption:k,areColumnValuesLoaded:d,optionsChanged:T,saveSingleSelectOptions:E,errorMessage:R}},BS=e=>{let{offsetWidth:t}=PV(e),a=cc.Fg().theme?.breakpoints,n=(0,cg.useMemo)(()=>a?.map(e=>parseInt(e.match(/(\d+)px/)?.[1]??"",10))??[],[a]),r=n.findIndex(e=>(t??0)<e);return e=>e[Math.min(r,e.length-1)]},BI=(e,t)=>{let a=(0,cg.useRef)(!1);(0,cg.useEffect)(()=>{a.current&&!e&&t.current?.focus(),a.current=e},[e,t])};var BN=a(24178),BT=a(17791),B_=a(39742),BR=a(5359);let BP=({value:e,onChange:t,label:a})=>{let n=(0,cg.useId)(),r=e=>{let a=e.target.value;bO(a)&&t(a)};return(0,cs.jsxs)("fieldset",{children:[(0,cs.jsx)(mn.Z,{as:"legend",sx:{fontWeight:"bold",mb:2},children:a}),(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:bA.map(t=>(0,cs.jsx)(BD,{name:n,color:t,onChange:r,selected:e===t},t))})]})},BD=({color:e,onChange:t,selected:a,name:n})=>{let{fg:r,bg:l}=bZ(e),i=(e[0]??"")+e.slice(1).toLowerCase();return(0,cs.jsx)(w_.Z,{role:"presentation","aria-label":i,direction:"s",children:(0,cs.jsxs)(cW.Z,{as:"label",sx:{p:2,background:a?r:l,color:a?"canvas.default":r,borderRadius:2,lineHeight:0,":has(:focus-visible)":{outlineWidth:"2px",outlineStyle:"solid",outlineColor:"accent.fg",outlineOffset:"1px"}},children:[(0,cs.jsx)(BR.Z,{name:n,value:e,checked:a,onChange:t,sx:{clipPath:"circle(0)",position:"absolute",outline:"none !important"}}),(0,cs.jsx)(b7,{children:i}),a?(0,cs.jsx)(me.kD1,{}):(0,cs.jsx)(me.J$M,{})]})})};try{(iy=BP).displayName||(iy.displayName="ColorPicker")}catch{}try{(ix=BD).displayName||(ix.displayName="ColorOption")}catch{}let BE=e=>{"Enter"===e.key&&py(e)&&e.currentTarget.requestSubmit()},BL=({initialOption:e,onSave:t,onCancel:a})=>{let[n,r]=(0,cg.useState)(!1),[l,i]=(0,cg.useReducer)((e,t)=>(r(!1),{...e,...t}),e),s=(0,cg.useRef)(null),o=e=>{e.preventDefault(),t({...l,name:jf(l.name),description:jf(l.description)})},d=e=>{e.preventDefault(),r(!0)};(0,cg.useEffect)(()=>s.current?.focus(),[]);let u=(0,cg.useRef)(null);return(0,BN.t)({containerRef:u,onClickOutside:e=>e.preventDefault()}),(0,cs.jsx)(k8.V,{title:"Edit option",onClose:a,width:"medium",ref:u,renderBody:()=>(0,cs.jsxs)(cW.Z,{as:"form",onSubmit:o,onInvalid:d,onKeyDown:BE,onBlur:e=>e.stopPropagation(),sx:{display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,cs.jsxs)(k8.V.Body,{sx:{display:"flex",flexDirection:"column",gap:3,overflowY:"auto"},children:[(0,cs.jsx)(BF,{option:l}),(0,cs.jsx)(BA,{ref:s,value:l.name,onChange:e=>i({name:e}),showValidation:n}),(0,cs.jsx)(BP,{value:l.color,onChange:e=>i({color:e}),label:"Color"}),(0,cs.jsx)(BM,{value:l.description,onChange:e=>i({description:e}),showValidation:n})]}),(0,cs.jsx)(k8.V.Footer,{children:(0,cs.jsx)(k8.V.Buttons,{buttons:[{type:"button",onClick:a,content:"Cancel"},{type:"submit",content:"Save",buttonType:"primary"}]})})]})})},BA=(0,cg.forwardRef)(({value:e,onChange:t,showValidation:a},n)=>{let r=a&&""===e.trim(),l=Rh();return(0,cs.jsxs)(br.Z,{required:!0,children:[(0,cs.jsx)(br.Z.Label,{children:"Label text"}),(0,cs.jsx)(Rs.Z,{...l,sx:{width:"100%"},children:(0,cs.jsx)(wE.Z,{ref:n,value:e,onChange:e=>t(e.target.value),block:!0,name:"Label text",validationStatus:r?"error":void 0,"aria-invalid":r,pattern:".*\\S+.*"})}),r&&(0,cs.jsx)(br.Z.Validation,{variant:"error",children:"Label text is required"})]})});BA.displayName="NameInput";let BM=({value:e,onChange:t})=>{let a=f1().projectLimits.singleSelectDescriptionMaxLength,n=(0,cg.useRef)(null),r=(0,B_.A)({minHeightLines:0,maxHeightLines:12,elementRef:n,value:e}),l=Rh();return(0,cs.jsxs)(br.Z,{children:[(0,cs.jsx)(br.Z.Label,{children:"Description"}),(0,cs.jsx)(Rs.Z,{...l,sx:{width:"100%"},children:(0,cs.jsx)(BT.ZP,{ref:n,value:e,onChange:e=>t(e.target.value),block:!0,name:"Description",maxLength:a,sx:{"& textarea":{...r,resize:"vertical"}}})}),(0,cs.jsx)(br.Z.Caption,{children:"Visible in group headers and value pickers"})]})},BF=({option:e})=>(0,cs.jsxs)(cW.Z,{as:"figure",sx:{p:3,borderRadius:2,m:0,display:"flex",alignItems:"center",justifyContent:"center",bg:"canvas.subtle"},children:[(0,cs.jsx)(b7,{as:"figcaption",children:"Preview"}),(0,cs.jsx)(Li,{option:e})]});try{(ib=BL).displayName||(ib.displayName="SingleSelectOptionModal")}catch{}try{(iv=BM).displayName||(iv.displayName="DescriptionInput")}catch{}try{(iw=BF).displayName||(iw.displayName="LabelPreview")}catch{}let BZ=({options:e,onAddOption:t,onUpdateOption:a,onRemoveOption:n,canRemoveOption:r,sx:l})=>{let{projectLimits:{singleSelectColumnOptionsLimit:i}}=f1(),s=(0,cg.useRef)(null),o=e.length>=i,d=e=>s.current?.querySelector(`input[data-option-index='${e}']`),u=(a=By)=>{t(a),setTimeout(()=>d(e.length)?.focus())},[c,m]=(0,cg.useState)(null),p=BS(c);return(0,cs.jsxs)(cW.Z,{sx:{borderStyle:"solid",borderWidth:p([0,1]),borderColor:"border.default",borderRadius:2,...l},ref:m,children:[(0,cs.jsx)(cW.Z,{as:"ol",ref:s,sx:{listStyle:"none"},children:e.slice(0,i).map((e,t)=>(0,cs.jsx)(BV,{option:e,index:t,enableOptionRemoval:r,onRemove:()=>n(e.id),onChange:a,breakpoint:p},e.id))}),(0,cs.jsx)(cW.Z,{sx:{p:p([0,3]),pt:p([2,3])},children:o?(0,cs.jsx)(fV.Z,{variant:"warning",sx:{p:2},children:pX.singleSelectOptionLimitWarning(i)}):(0,cs.jsx)(BO,{onCreate:u})})]})},BO=({onCreate:e})=>{let[t,a]=(0,cg.useState)(""),n=""!==t.trim(),r=()=>{n&&(e({...By,name:jf(t)}),a(""))},l=e=>{"Enter"===e.key&&(e.preventDefault(),r())},i=Ds(l),s=Rh();return(0,cs.jsxs)(cW.Z,{as:"fieldset",sx:{display:"flex",gap:2},onSubmit:r,children:[(0,cs.jsx)(b7,{as:"legend",children:"Add option"}),(0,cs.jsxs)(br.Z,{sx:{flex:1},children:[(0,cs.jsx)(br.Z.Label,{visuallyHidden:!0,children:"Label text"}),(0,cs.jsx)(Rs.Z,{...s,sx:{width:"100%"},children:(0,cs.jsx)(wE.Z,{block:!0,value:t,onChange:e=>a(e.target.value),placeholder:"Add option\u2026",autoComplete:"false",...i})})]}),(0,cs.jsx)(xh.z,{onClick:r,disabled:!n,children:"Add"})]})},B$=(0,cw.ZP)(cW.Z)`
  position: relative;

  &:after,
  &:before {
    content: '';
    display: none;
    position: absolute;
    left: 0;
    right: 0;
    background-color: ${(0,ch.U2)("colors.accent.emphasis")};
    height: ${(0,ch.U2)("space.1")};
    border: 0;
    border-radius: 6px;
    z-index: 12;
  }

  body.is-dragging &.show-sash-singleSelectItem.show-sash-after {
    &:after {
      display: block;
      bottom: 0;
      transform: translateY(50%);
    }
  }

  body.is-dragging &.show-sash-singleSelectItem.show-sash-before {
    &:before {
      display: block;
      top: 0;
      transform: translateY(-50%);
    }
  }
`;function BV({option:e,index:t,enableOptionRemoval:a,onRemove:n,onChange:r,breakpoint:l}){let i=(0,cg.useRef)(null),s=(0,cg.useMemo)(()=>({id:e.id}),[e.id]),o=E5({dragID:e.id,dragType:"singleSelectItem",dragIndex:t,dragRef:i,metadata:s}),[d,u]=(0,cg.useState)(!1),c=(0,cg.useRef)(null);return BI(d,c),(0,cs.jsxs)(B$,{as:"li",ref:i,sx:{px:l([0,3]),py:l([1,3]),borderBottomStyle:"solid",borderBottomColor:"border.default",borderBottomWidth:l([0,1]),display:"flex",flexDirection:"row",alignItems:"center"},...o.props,children:[(0,cs.jsx)(cW.Z,{sx:{p:1,color:"fg.muted",cursor:"grab"},...o.handle.props,children:(0,cs.jsx)(me.T2z,{})}),(0,cs.jsx)(Li,{option:e}),(0,cs.jsx)(y9,{sx:{flex:1,px:2,color:"fg.subtle",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",m:0},as:"p",children:e.description}),(0,cs.jsx)(ww.h,{icon:me.vdY,variant:"invisible",size:"small",onClick:()=>u(!0),sx:{color:"fg.muted"},"aria-label":"Edit option",ref:c}),a&&(0,cs.jsx)(ww.h,{icon:me.b0D,variant:"invisible",size:"small",onClick:n,sx:{color:"fg.muted"},"aria-label":"Remove option"}),d&&(0,cs.jsx)(BL,{initialOption:e,onCancel:()=>u(!1),onSave:e=>{u(!1),r(e)}})]},e.id)}try{(ik=BZ).displayName||(ik.displayName="SingleSelectForm")}catch{}try{(ij=BO).displayName||(ij.displayName="NewItemCreator")}catch{}try{(iC=B$).displayName||(iC.displayName="BoxWithDropSash")}catch{}try{(iS=BV).displayName||(iS.displayName="SingleSelectItem")}catch{}let BB={opacity:0},Bz={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0,transition:"opacity 300ms ease-in-out"},exited:{opacity:0},unmounted:{opacity:0}},BU=({column:e})=>{let{commitState:t,options:a,onDrop:n,addOption:r,canRemoveOption:l,removeOption:i,updateOption:s,errorMessage:o}=BC({externalColumn:e}),{isDragging:d}=E4(),u=(0,cg.useRef)(null),c=(0,cg.useRef)(null);Br({active:d,scrollRef:u,strength:10});let m=E3({dropID:"singleSelectDrop",dropType:"singleSelectItem",dropRef:u,onDrop:n}),p=t===Do.Failed?Dg:{};return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(be.Z,{as:"h3",sx:{fontSize:1,mt:4,mb:2},children:"Options"}),(0,cs.jsx)(cW.Z,{ref:u,...m.props,children:(0,cs.jsx)(BZ,{options:a,onAddOption:r,onUpdateOption:s,onRemoveOption:i,canRemoveOption:l,sx:p})}),(0,cs.jsx)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Ba.ZP,{in:t===Do.Successful,nodeRef:c,timeout:500,children:e=>(0,cs.jsxs)(mn.Z,{sx:{pl:2,mt:2},ref:c,style:{...BB,...Bz[e]},children:[(0,cs.jsx)(Dh,{status:Do.Successful}),(0,cs.jsx)(mn.Z,{sx:{ml:2},...(0,cK.f)("column-settings-saved-message"),children:"Saved!"})]})}),t===Do.Failed&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Dh,{status:Do.Failed}),(0,cs.jsx)(mn.Z,{sx:{ml:2},...(0,cK.f)("single-select-options-error-box"),children:o.current})]})]})})]})};try{(iI=BU).displayName||(iI.displayName="SingleSelectOptions")}catch{}let BK=new Set([c9.Status]);function BW(e){return e.userDefined||BK.has(e.id)}let BH=()=>{let{itemsRef:e}=S$(),t=(0,cg.useCallback)(t=>{let a=e.current.filter(e=>null!=e.columns[t]);return a.length},[e]);return{getCountOfItemsWithColumnValue:t}},BG=()=>{let{updateColumnEntry:e}=_k(),t=(0,cg.useCallback)((t,a)=>!!t.userDefined&&t.name!==a&&(e(xV({...t,name:a})),!0),[e]),a=(0,cg.useCallback)(async(e,a)=>{t(e,a)&&(SC(),await Bf({memexProjectColumnId:e.id,name:a}))},[t]);return{setName:t,updateName:a}},Bq=()=>{let{updateColumnValues:e}=MW(),{updateColumnEntry:t}=_k(),a=(0,cg.useCallback)(async(a,n)=>{if(a.dataType!==c7.Iteration)return;let r=a.settings.configuration;if(!r)return;let l=n.iterations||r.iterations,i=n.completedIterations||r.completedIterations,s={duration:r.duration,startDay:r.startDay,...n,iterations:BQ(l),completedIterations:BQ(i)};SC();let{memexProjectColumn:o}=await Bf({memexProjectColumnId:a.id,settings:{configuration:s}});if(o?.settings){let{settings:e}=o;t(xV({...a,settings:e}))}o&&e(o)},[t,e]);return{updateIterationConfiguration:a}};function BQ(e){return e.map(e=>S0(e,["titleHtml"]))}function BX(){let{title:e}=_4(),t=(0,cg.useContext)(v2);return(0,cs.jsxs)(mn.Z,{sx:{ml:2},...(0,cK.f)("column-settings-saved-message"),children:["Changes saved. Return to"," ",t?(0,cs.jsx)(yH.Z,{as:f3,to:t.returnToViewLinkTo,style:{cursor:"pointer"},tabIndex:0,...(0,cK.f)("return-to-project-link"),children:e}):e,"."]})}try{(iN=BX).displayName||(iN.displayName="ColumnSettingsSavedMessage")}catch{}var BY=a(29422);function BJ(e,{duration:t,selectedStartDate:a},n){if(e.length<=0)throw Error("A title is required to create iterations");if(n<0)throw Error("Count cannot be a negative number");if(0===n)return{iterations:[],completedIterations:[]};let r=a,l=[],i=[];for(let a=1;a<=n;a++)(0,h6.Z)((0,mi.Z)(r,t),new Date)?i.unshift({title:`${e} ${a}`,startDate:go(r),duration:t}):l.push({title:`${e} ${a}`,startDate:go(r),duration:t}),r=(0,mi.Z)(r,t);return{iterations:l,completedIterations:i}}let B0=/[A-Za-z ]*/;function B1(e,t,a,n,r){let l,i;let{iterations:s,completedIterations:o}=e,d=n?gL(n):e.duration,u=gf(e),c=gb(e);if(u.length>0&&c){let e=(0,pK.Z)(c.startDate);l=a??(0,BY.Z)(e,{days:d});let n=c.title.replace(t,"").replace(B0,"").trim(),r=parseInt(n,10);isNaN(r)&&(r=u.length),i=`${t} ${r+1}`}else i=`${t} 1`,l=a??new Date;let m={id:r??"",duration:d,title:i,titleHtml:i,startDate:go(l)},p=s.slice(),f=o.slice();return(0,h6.Z)((0,mi.Z)(l,d),new Date)?f.unshift(m):p.push(m),n?{iterations:p,completedIterations:f,duration:d}:{iterations:p,completedIterations:f}}function B2(e,{id:t}){return e.filter(e=>e.id!==t)}function B5(e,t){let a=-1!==e.completedIterations.findIndex(e=>e.id===t.id);if(a)return{completedIterations:B2(e.completedIterations,t)};let n=-1!==e.iterations.findIndex(e=>e.id===t.id);return n?{iterations:B2(e.iterations,t)}:{}}function B3(e,t){let a=gd(e).endDate,n=(0,pK.Z)(t.startDate);return Math.max((0,gt.Z)(a,n)+1,0)}function B4(e,t,a,n){let r=gf(e).sort(gx),l=r.findIndex(({id:e})=>e===t.id);if(-1===l)return{};let i=(0,gt.Z)(ga(t),ga(gZ(r[l]))),s=i<0&&a||i>0&&!n?i:0,[o,d]=[r.slice(0,l),r.slice(l+1)],u=[...o,t];for(let e of d){let t=gZ(u.at(-1)),a=0===s&&n?B3(t,e):s;u.push(0!==a?gP(e,a):e)}return gg(u)}function B6(e,t){return B4(e,t,!1,!0)}function B8(e,t,a,n){let r={...t,duration:(0,gt.Z)((0,pK.Z)(n.startDate),(0,pK.Z)(t.startDate))},l={...e,...B4(e,r,!1,!0)},i={...a,startDate:go((0,mi.Z)(ga(n),1))};return B4(l,i,!0,!1)}let B7="inMemoryIteration",B9=0,ze=({column:e,fieldName:t,serverConfiguration:a,onUpdate:n})=>{let{postStats:r}=v4(),[l,i]=(0,cg.useState)("active"),[s,o]=(0,cg.useState)(a),[d,u]=(0,cg.useState)(!1),c=(0,cg.useCallback)(e=>{o(e),u(!0)},[]),{items:m}=h_(),p=m.map(e=>e.columns),{findLoadedFieldIds:f}=_v(),h=f().includes(e.id),{loadColumnsWithItemColumnValues:g}=M5();(0,cg.useEffect)(()=>{h||g([e.id])},[h,e.id,g]);let y=(0,cg.useMemo)(()=>({...s,iterations:zn(s.iterations),completedIterations:zn(s.completedIterations)}),[s]),x=(0,cg.useMemo)(()=>Bc(e,y,p),[e,y,p]),b=_c(a);(0,cg.useEffect)(()=>{d||a===b||o(a)},[d,a,b]);let v=(0,cg.useMemo)(()=>gv(s),[s]),w=(0,cg.useMemo)(()=>gE(s.duration),[s.duration]),{perform:k,status:j}=fx({request:(0,cg.useCallback)(async()=>{await n(y)},[y,n]),showErrorToast:!1}),C="active"===l,[S,I]=(0,cg.useState)("idle"),N=(0,cg.useCallback)(async()=>{I("loading"),await k();let e=j.current.status;"failed"!==e&&u(!1),I(e)},[k,j]),T=Bw(),_=(0,cg.useCallback)(async()=>{if(x>0){r({name:"settings_data_loss_iteration_warning",context:JSON.stringify({columnId:e.id,affectedIterationOptionsUsedCount:x})});let t=await T({field:e,values:a.iterations.filter(e=>!s.iterations.some(t=>t.id===e.id)).map(e=>e.title),affectedItems:x,affectedWorkflows:0});t?(r({name:"settings_data_loss_iteration_save",context:JSON.stringify({columnId:e.id,affectedIterationOptionsUsedCount:x})}),await N()):r({name:"settings_data_loss_iteration_cancel",context:JSON.stringify({columnId:e.id,affectedIterationOptionsUsedCount:x})})}else N()},[x,r,e,T,a.iterations,s.iterations,N]),R=(0,cg.useCallback)(e=>{if(0===Object.entries(e).length)return;I("idle");let t={...s,...e};c(t)},[s,c]),P=(0,cg.useCallback)(e=>R(B5(s,e)),[s,R]),D=(0,cg.useCallback)((e,a)=>{let n=B1(s,t,e,a,`${B7}-${++B9}`);R(n)},[s,t,R]),E=(0,cg.useCallback)(e=>R(B6(s,e)),[s,R]),L=(0,cg.useCallback)(e=>R(B6(s,gP(e,s.duration))),[s,R]),A=(0,cg.useCallback)((e,t,a)=>R(B8(s,e,t,a)),[R,s]),M=(0,cg.useCallback)(()=>{c(a),I("idle")},[a,c]),F=(0,cg.useMemo)(()=>za(a,s),[a,s]),Z=(0,cg.useMemo)(()=>F.filter(e=>!e.originalIsCompleted&&e.originalIteration?.startDate!==e.localIteration?.startDate).length,[F]);return{allRowData:F,areColumnValuesLoaded:h,hasUnsavedChanges:d,isActiveTab:C,selectedTab:l,setSelectedTab:i,handleRemoveIteration:P,handleCreateIteration:D,handleChangeIteration:E,handleAddBreak:L,handleChangeBreak:A,handleReset:M,handleSaveChanges:_,countPushedActiveIterations:Z,localConfiguration:s,minimumStartDate:v,defaultDuration:w,requestStatus:S}},zt=e=>t=>[t.id,[t,e]];function za(e,t){let a=new Map([...e.completedIterations.map(zt(!0)),...e.iterations.map(zt(!1))]);return gf(t).sort(gx).map(pw).map(([e,t])=>{let[n,r]=a.get(t.id)??[void 0,void 0],[l]=(e&&a.get(e.id))??[void 0];return{localIteration:t,localPreviousIteration:e,breakExistsBefore:void 0!==e&&gR(e,t),originalIteration:n,originalIsCompleted:r,originalPreviousIteration:l}})}function zn(e){return e.map(e=>e.id.startsWith(B7)?{...e,id:""}:e)}function zr({onClick:e,removeTopPadding:t}){return(0,cs.jsx)(cW.Z,{sx:{p:2,position:"absolute",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",zIndex:1,justifyContent:"flex-end",pr:"20%","&:not(:hover):not(:focus-within) > :not(:hover)":{opacity:0}},children:(0,cs.jsx)(cW.Z,{sx:{p:3,position:"absolute",pt:t?0:void 0,mt:t?3:void 0},children:(0,cs.jsx)(CQ.Z,{sx:{color:"fg.muted",backgroundColor:"canvas.default",cursor:"pointer",":hover":{color:"accent.fg"}},onClick:e,as:"button",type:"button",...(0,cK.f)("add-break-button"),children:"Insert break"})})})}try{(iT=zr).displayName||(iT.displayName="AddBreakButton")}catch{}var zl=a(59319);let zi=e=>e,zs=({originalValue:e="",updatedValue:t="",renderUpdatedValue:a=zi,renderOriginalValue:n=zi,sx:r,testId:l})=>(0,cs.jsx)(mn.Z,{sx:{mr:2,...r??{}},...l?(0,cK.f)(l):{},children:e===t?(0,cs.jsx)(mn.Z,{children:a(t)}):(0,cs.jsxs)(cs.Fragment,{children:[e&&(0,cs.jsx)(cs.Fragment,{children:(0,cs.jsx)(mn.Z,{as:"del",sx:{color:"fg.subtle",textDecoration:"line-through"},...(0,cK.f)("original-value"),children:n(e)})}),e&&t&&(0,cs.jsx)(mn.Z,{sx:{mr:2},children:" "}),t&&(0,cs.jsx)(mn.Z,{as:"ins",sx:{textDecoration:"none"},...(0,cK.f)("updated-value"),children:a(t)})]})});try{(i_=zs).displayName||(i_.displayName="DiffValue")}catch{}let zo={display:"flex",flexDirection:"row",position:"relative",padding:3};function zd({onClick:e}){return(0,cs.jsx)(ww.h,{icon:me.XHJ,sx:{border:"none",boxShadow:"none",minWidth:"16px",p:0,ml:"auto",bg:"transparent",color:"fg.muted",":hover":{bg:"transparent",boxShadow:"none"}},"aria-label":"Remove item",onClick:e,...(0,cK.f)("delete-iteration")})}function zu({value:e,onChange:t}){let[a,n]=Di(e),r=()=>n(e),l=(0,cg.useRef)(null),i=()=>{let n=jf(a.trim());n?n!==e&&t?.(n):r()},s=Ds(e=>{if("Enter"===e.key)i();else{if("Escape"!==e.key)return;r()}e.preventDefault(),setTimeout(()=>l.current?.blur(),10)}),o=Rh();return(0,cs.jsx)(cW.Z,{onClick:()=>l.current?.focus(),sx:{px:1,ml:-1,display:"inline-block",borderRadius:"2",cursor:"text","&:focus-within":{boxShadow:"primer.shadow.focus"},"&:hover:not(:focus-within)":{boxShadow:e=>`0 0 0 3px ${e.colors.border.default}`}},children:(0,cs.jsx)(Rs.Z,{...o,children:(0,cs.jsx)(wF,{as:wO,autoComplete:"off",value:a,onChange:e=>n(e.target.value),onBlur:i,"aria-label":"Edit iteration name",ref:l,...s,...(0,cK.f)("iteration-title")})})})}function zc({value:e,onChange:t,minDate:a}){let n=e=>{e&&t(gT(e))},r=(0,cg.useMemo)(()=>gN(e),[e]);return(0,cs.jsx)(Ac.Mt,{variant:"range",value:r,onChange:n,view:"2-month",minDate:a,confirmation:!0,confirmUnsavedClose:!0,anchor:t=>(0,cs.jsx)(yH.Z,{muted:!0,...t,sx:{color:"inherit"},as:"button","aria-label":"Edit date range",...(0,cK.f)("iteration-or-break-dates"),children:gc(e)})})}function zm({localTitle:e="",originalTitle:t="",localInterval:a,localPreviousInterval:n,originalInterval:r,labelType:l,onRemove:i,onTitleChange:s,onIntervalChange:o,children:d}){let u=e!==t||!(0,wK.Z)(a,r),c=(0,cg.useMemo)(()=>n?(0,mi.Z)((0,pK.Z)(n.startDate),n.duration):(0,zl.Z)(new Date,1),[n]);return(0,cs.jsxs)(cW.Z,{as:"li",sx:{listStyle:"none","&:not(:last-child)":{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"border.muted"}},children:[d,(0,cs.jsxs)(cW.Z,{sx:{...zo,backgroundColor:"break"===l?"canvas.subtle":"canvas.default",boxShadow:e=>u?`2px 0 0 ${e.colors.accent.fg} inset`:void 0},children:[(0,cs.jsx)(Aw,{labelType:l,sx:{pt:e?"2px":void 0}}),(0,cs.jsxs)(cW.Z,{sx:{flexDirection:"column",display:"flex",alignItems:"flex-start",gap:1},children:[(e||t)&&(0,cs.jsx)(cW.Z,{sx:{flexDirection:"row",display:"flex",justifyContent:"space-between"},children:(0,cs.jsx)(zs,{sx:{fontWeight:600,fontSize:2},originalValue:t,updatedValue:e,testId:"iteration-title-diff",renderUpdatedValue:t=>(0,cs.jsx)(zu,{value:e,onChange:s})})}),(0,cs.jsx)(cW.Z,{sx:{flexDirection:"row",display:"flex",justifyContent:"space-between"},children:(0,cs.jsx)(zs,{originalValue:gc(r),updatedValue:gc(a),testId:"iteration-dates-diff",renderOriginalValue:()=>(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(mn.Z,{sx:{fontWeight:600},children:gm(r)}),"\xa0\xa0",(0,cs.jsx)(mn.Z,{children:gc(r)})]}),renderUpdatedValue:()=>(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(mn.Z,{sx:{fontWeight:600},children:gm(a)}),"\xa0\xa0",(0,cs.jsx)(zc,{value:a,onChange:o,minDate:c})]})})})]}),(0,cs.jsx)(zd,{onClick:i})]})]})}try{(iR=zd).displayName||(iR.displayName="DeleteButton")}catch{}try{(iP=zu).displayName||(iP.displayName="TitleInput")}catch{}try{(iD=zc).displayName||(iD.displayName="IntervalDatePicker")}catch{}try{(iE=zm).displayName||(iE.displayName="IterationRowSkeleton")}catch{}function zp({onChange:e,localPreviousIteration:t,localNextIteration:a,originalPreviousIteration:n,originalNextIteration:r}){let l=g_(t,a);if(!l)return(0,cs.jsx)(cs.Fragment,{});let i=g_(n,r);return(0,cs.jsx)(zm,{localInterval:l,originalInterval:i,localPreviousInterval:t,labelType:"break",onRemove:()=>e({...l,duration:0}),onIntervalChange:e})}try{(iL=zp).displayName||(iL.displayName="IterationBreakRow")}catch{}function zf({iteration:e,onRemove:t,onChange:a,originalIsCompleted:n=!1,previousIteration:r,originalIteration:l,children:i}){let s=(0,cg.useMemo)(()=>!(0,wK.Z)(e,l),[e,l]),o=gI(e,s?void 0:n);return(0,cs.jsx)(zm,{localTitle:e.title,originalTitle:l?.title,localInterval:e,originalInterval:l,localPreviousInterval:r,labelType:o,onRemove:t,onTitleChange:t=>a({...e,title:t}),onIntervalChange:t=>a({...e,...t}),children:i})}try{(iA=zf).displayName||(iA.displayName="IterationRow")}catch{}var zh=a(82197);let zg=["days","weeks"];function zy(e){return new Map(zg.map(t=>[t,{children:gA(e,t),key:t,...(0,cK.f)(`duration-${t}-menu-item`)}]))}function zx(e){return Number.isNaN(e)?{isValid:!1}:e<1?{isValid:!1,message:pX.iterationDurationQtyLow(1)}:e>99?{isValid:!1,message:pX.iterationDurationQtyHigh(99)}:{isValid:!0}}function zb(e){switch(e.key){case"e":case"-":case".":case"+":e.preventDefault()}}function zv({value:e,onChange:t,onValidChange:a}){let n=(0,cg.useMemo)(()=>zx(e.quantity),[e.quantity]);(0,cg.useEffect)(()=>a?.(n.isValid),[a,n.isValid]);let r=a=>{let n=a.target.valueAsNumber;t({...e,quantity:n})},l=a=>{a&&t({...e,units:a.key})},i=bQ("iteration-duration"),s=bQ("duration-quantity-validation-message"),o=(0,cg.useMemo)(()=>{let t=zy(e.quantity);return Array.from(t.values())},[e.quantity]);return(0,cs.jsxs)(cW.Z,{sx:{flexGrow:1,alignItems:"center",display:"flex"},role:"group","aria-label":pX.iterationDurationLabel,"aria-labelledby":i,children:[(0,cs.jsxs)(cW.Z,{sx:{position:"relative"},children:[(0,cs.jsx)(wE.Z,{type:"number",min:1,max:99,step:1,required:!0,value:Number.isNaN(e.quantity)?"":e.quantity,onChange:r,onKeyDown:zb,"aria-invalid":!n.isValid,"aria-describedby":n.message&&s,"aria-label":"Duration quantity",sx:{"&.error":{borderColor:"danger.emphasis",boxShadow:"none"},mr:2,"& > input":{textAlign:"center",pr:.5,pl:.5,width:"5ch"}},className:n.isValid?"":"error",...(0,cK.f)("duration-quantity-input"),id:"duration-quantity-input"}),(0,cs.jsx)(zh.v,{message:n.message,id:s,testId:"duration-quantity-validation-message"})]}),(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{sx:{flex:1,gridTemplateColumns:"min-content 1fr min-content","[data-component=text]":{textAlign:"left"},"[data-component=buttonContent]":{flex:0}},"aria-label":"Units",...(0,cK.f)("duration-units-button"),children:(0,cs.jsx)(mn.Z,{sx:{flex:1,textAlign:"left"},...(0,cK.f)("duration-units-value"),children:e.units})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsx)(kL.S,{selectionVariant:"single",children:o.map(t=>(0,cg.createElement)(kL.S.Item,{...t,key:t.key,selected:t.key===e.units,onSelect:()=>l(t)}))})})]})]})}try{(iM=zv).displayName||(iM.displayName="IterationDurationInput")}catch{}function zw({duration:e,onDurationChange:t,startDate:a,onStartDateChange:n,minStartDate:r,onValidChange:l}){let i=e=>{if(!e)throw Error("Start date cannot be null/undefined.");n(e)};return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(br.Z,{id:"iteration-start-date",sx:{mb:2},children:[(0,cs.jsx)(br.Z.Label,{children:pX.iterationStartDateLabel}),(0,cs.jsx)(Ac.Mt,{"aria-label":pX.iterationStartDateLabel,variant:"single",value:a,onChange:i,minDate:r,showTodayButton:!1,anchorSx:{width:"100%",'[data-component="buttonContent"]':{flex:0}}})]}),(0,cs.jsxs)(br.Z,{id:"duration-quantity-input",sx:{alignItems:"initial"},children:[(0,cs.jsx)(br.Z.Label,{children:pX.iterationDurationLabel}),(0,cs.jsx)(zv,{value:e,onChange:t,onValidChange:l})]})]})}try{(iF=zw).displayName||(iF.displayName="NewIterationOptions")}catch{}function zk({onCreate:e,defaultDuration:t,minimumStartDate:a}){let[n,r]=(0,cg.useState)(!1),[l,i]=(0,cg.useState)(!0),[s,o]=(0,cg.useState)(t),[d,u]=(0,cg.useState)(a);(0,cg.useEffect)(()=>u(e=>(0,h6.Z)(e,a)?a:e),[a]);let c=()=>{o(t),u(a),i(!0)},m=()=>{r(!1)},p=()=>{c(),r(!0)},f=t=>{t.preventDefault(),m(),e(d,s)};return(0,cs.jsxs)(j0.Z,{sx:{display:"flex"},children:[(0,cs.jsx)(xh.z,{size:"small",onClick:()=>e(a,t),leadingIcon:me.pOD,sx:{display:"flex",alignItems:"center"},...(0,cK.f)("add-default-iteration-button"),children:"Add iteration"}),(0,cs.jsx)(DA.w,{renderAnchor:e=>(0,cs.jsx)(xh.z,{trailingIcon:me.AS7,size:"small",sx:{lineHeight:"22px"},...(0,cK.f)("add-custom-iteration-button"),...e,children:"More options"}),width:"medium",open:n,onOpen:p,onClose:m,focusZoneSettings:{bindKeys:DE.Qw.Tab},align:"end",overlayProps:{...(0,cK.f)("custom-iteration-modal"),"aria-label":"Add new iteration configuration",role:"dialog",sx:{overflow:"visible"}},children:(0,cs.jsxs)("form",{onSubmit:f,children:[(0,cs.jsx)(cW.Z,{sx:{p:3,borderBottom:"1px solid",borderColor:"border.muted"},children:(0,cs.jsx)(zw,{startDate:d,onStartDateChange:u,duration:s,onDurationChange:o,onValidChange:i,minStartDate:a})}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"flex-end",p:3,pt:2,pb:2,gap:2},children:[(0,cs.jsx)(xh.z,{size:"small",onClick:m,...(0,cK.f)("cancel-add-custom-iteration"),type:"button",children:"Cancel"}),(0,cs.jsx)(xh.z,{variant:"primary",size:"small",type:"submit",disabled:!l,...(0,cK.f)("save-add-custom-iteration"),children:"Add"})]})]})})]})}try{(iZ=zk).displayName||(iZ.displayName="NewIterationModalButton")}catch{}let zj=(0,cw.ZP)("button")`
  background: transparent;
  border: none;
  padding: ${(0,ch.U2)("space.3")};
  color: ${e=>e.selected?(0,ch.U2)("colors.fg.default"):e.disabled?(0,ch.U2)("colors.fg.subtle"):(0,ch.U2)("colors.fg.muted")};
  font-weight: ${e=>e.selected?(0,ch.U2)("fontWeights.semibold"):"inherit"};
  cursor: ${e=>e.disabled&&!e.selected?"not-allowed":"pointer"};
`;function zC({selectedTab:e,setSelectedTab:t,configuration:a,addButtonProps:n,disabled:r=!1,tabpanelId:l}){let i=a.iterations.length,s=a.completedIterations.length;return(0,cs.jsx)(cW.Z,{children:(0,cs.jsxs)(cW.Z,{sx:{...zo,bg:"canvas.subtle",p:0,alignItems:"center"},children:[(0,cs.jsxs)("div",{role:"tablist","aria-disabled":r,children:[(0,cs.jsxs)(zj,{role:"tab",selected:"active"===e,"aria-controls":"active"===e?l:void 0,...(0,cK.f)("active-iterations"),onClick:()=>{r||t("active")},"aria-label":"Active iterations","aria-disabled":r,disabled:r,children:[(0,cs.jsx)(mt.Z,{icon:me.T39,sx:{color:"inherit",mr:2},"aria-label":"Active iterations"}),(0,cs.jsxs)(mn.Z,{children:[i," Active"]})]},"active"),(0,cs.jsxs)(zj,{role:"tab",selected:"completed"===e,"aria-controls":"completed"===e?l:void 0,...(0,cK.f)("completed-iterations"),onClick:()=>{r||t("completed")},"aria-label":"Completed iterations","aria-disabled":r,disabled:r,children:[(0,cs.jsx)(mt.Z,{icon:me.rKT,sx:{color:"inherit",mr:2},"aria-label":"Completed iterations"}),(0,cs.jsxs)(mn.Z,{children:[s," Completed"]})]},"completed")]}),"active"===e&&(0,cs.jsx)(cW.Z,{sx:{ml:"auto",mr:3},children:(0,cs.jsx)(zk,{...n})})]})})}try{(iO=zj).displayName||(iO.displayName="StyledButton")}catch{}try{(i$=zC).displayName||(i$.displayName="IterationsHeader")}catch{}function zS({isActiveTab:e}){return(0,cs.jsxs)(cW.Z,{sx:{width:"100%",p:6,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,cs.jsx)(mn.Z,{as:"h3",sx:{color:"fg.default"},children:e?p1.noIterationsTitle:p1.noCompletedIterationsTitle}),(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:e?p1.noIterationsDescription:p1.noCompletedIterationsDescription})]})}try{(iV=zS).displayName||(iV.displayName="NoIterationsPlaceholder")}catch{}function zI({column:e,fieldName:t,serverConfiguration:a,onUpdate:n}){let{allRowData:r,areColumnValuesLoaded:l,hasUnsavedChanges:i,isActiveTab:s,selectedTab:o,setSelectedTab:d,handleRemoveIteration:u,handleCreateIteration:c,handleChangeIteration:m,handleAddBreak:p,handleChangeBreak:f,handleReset:h,handleSaveChanges:g,countPushedActiveIterations:y,localConfiguration:x,minimumStartDate:b,defaultDuration:v,requestStatus:w}=ze({column:e,fieldName:t,serverConfiguration:a,onUpdate:n}),k=(0,cg.useRef)(null),j=x.iterations.length,C=(0,cg.useRef)(j),S=x.completedIterations.length,I=(0,cg.useRef)(S);(0,cg.useEffect)(()=>{k.current&&(j<=C.current&&S<=I.current||k.current.scrollIntoView({behavior:"smooth"}))},[j,S]),(0,cg.useEffect)(()=>{C.current=j,I.current=S});let N=(0,cg.useMemo)(()=>r.filter(({originalIsCompleted:e})=>"completed"===o?e:!e).map(({localIteration:e,localPreviousIteration:t,originalIteration:a,originalIsCompleted:n,originalPreviousIteration:r,breakExistsBefore:l},i)=>(0,cs.jsxs)(cg.Fragment,{children:[l?(0,cs.jsx)(zp,{onChange:a=>f(gZ(t),e,a),localNextIteration:e,localPreviousIteration:gZ(t),originalNextIteration:a,originalPreviousIteration:r}):null,(0,cs.jsx)(zf,{iteration:e,originalIsCompleted:n,onRemove:()=>u(e),onChange:m,previousIteration:t,originalIteration:a,children:l?null:(0,cs.jsx)(zr,{onClick:()=>p(e),removeTopPadding:0===i})})]},e.id)),[r,o,p,m,u,f]),T=bQ("iteration-field-options");return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(cW.Z,{sx:{width:"100%",borderRadius:"6px",borderColor:"border.default",borderStyle:"solid",borderWidth:"1px",overflow:"hidden",position:"relative",mt:4},children:[(0,cs.jsx)(zC,{configuration:x,selectedTab:o,setSelectedTab:d,addButtonProps:{minimumStartDate:b,defaultDuration:v,onCreate:c},disabled:i,tabpanelId:T}),(0,cs.jsx)("div",{role:"tabpanel",id:T,children:N.length>0?(0,cs.jsx)("ol",{"aria-label":"completed"===o?"Completed iterations":"Active iterations",children:N}):(0,cs.jsx)(zS,{isActiveTab:s})}),"completed"===o&&y>0&&(0,cs.jsx)(fV.Z,{sx:{border:"none",borderRadius:0},...(0,cK.f)("active-changes-notice"),children:p1.willPushActiveIterations(y)})]}),(0,cs.jsx)("div",{ref:k}),(0,cs.jsxs)(cW.Z,{sx:{gap:2,my:3,display:"flex",alignItems:"center"},children:[(0,cs.jsx)(xh.z,{variant:"primary",disabled:!i||"loading"===w||!l,onClick:()=>g(),...(0,cK.f)("iteration-field-settings-save"),children:pX.saveChanges}),(0,cs.jsx)(xh.z,{disabled:!i||"loading"===w,onClick:()=>h(),...(0,cK.f)("iteration-field-settings-reset"),children:pX.reset}),(0,cs.jsxs)(cW.Z,{sx:{pl:1},children:[(0,cs.jsx)(Dh,{status:w}),"succeeded"===w?(0,cs.jsx)(BX,{}):"failed"===w?(0,cs.jsx)(mn.Z,{sx:{ml:2},children:pX.genericErrorMessage}):null]})]})]})}try{(iB=zI).displayName||(iB.displayName="IterationFieldOptions")}catch{}let zN=({column:e})=>{let{updateIterationConfiguration:t}=Bq(),a=(0,cg.useCallback)(async a=>{await t(e,a)},[e,t]);return(0,cs.jsx)(zI,{column:e,fieldName:e.name,serverConfiguration:e.settings.configuration,onUpdate:a},e.id)};try{(iz=zN).displayName||(iz.displayName="IterationConfigurationView")}catch{}let zT=()=>{let{allColumns:e}=bD(),{fieldId:t}=(0,cx.UO)(),a=f5(),n=(0,cg.useMemo)(()=>e.filter(e=>BW(e)),[e]),r=(0,cg.useMemo)(()=>void 0!==t?n.find(e=>`${e.id}`===t):void 0,[n,t]),{postStats:l}=v4(),{updateName:i}=BG(),s=(0,cg.useCallback)(async e=>{r&&e!==r.name&&(await i(r,e),l({name:"settings_field_rename",ui:"settings",context:`new name: ${e}, original name: ${r.name}`,memexProjectColumnId:r.id}))},[r,l,i]),{localValue:o,isError:d,isSuccess:u,inputProps:c}=Dd({initialValue:r?.name??"",commitFn:s}),m=d?Dg:{},p=()=>0===o.length?pX.requiredFieldErrorMessage:pX.genericErrorMessage,f=Rh();if(!r)return(0,cs.jsx)(zP,{});let h=Oj(r.dataType);return(0,cs.jsxs)(cW.Z,{sx:{flexDirection:"column",flex:1,display:"flex"},...(0,cK.f)(`column-settings-${r.name}`),children:[(0,cs.jsxs)(be.Z,{as:"h2",sx:{borderBottomColor:"border.muted",borderBottomStyle:"solid",borderBottomWidth:"1px",fontSize:4,fontWeight:"normal",pb:2,mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.name," field settings",r.userDefined?(0,cs.jsx)(z_,{column:r,numberOfColumns:n.length,onDeleteColumn:()=>{let e=n.findIndex(e=>e.id===r.id);a(hi.generatePath({fieldId:gZ(n[Math.max(0,e-1)]).id}),{replace:!0})}}):null]}),(0,cs.jsx)(cW.Z,{sx:{pb:2,mb:2},children:(0,cs.jsxs)(br.Z,{children:[(0,cs.jsx)(br.Z.Label,{htmlFor:"column-name",children:"Field name"}),r.userDefined?(0,cs.jsx)(cs.Fragment,{children:(0,cs.jsxs)(cW.Z,{sx:{flexDirection:"row",alignItems:"center",flexWrap:"wrap",display:"flex"},children:[(0,cs.jsx)(Rs.Z,{...f,sx:{display:"block",width:248,flex:"0 1 248px"},children:(0,cs.jsx)(wE.Z,{id:"column-name",name:"column-name",block:!0,value:o,...c,sx:{...m},...(0,cK.f)("change-column-name-input")},r.id)}),u&&(0,cs.jsx)(Df,{}),d&&(0,cs.jsx)(Dp,{caret:"top-left",message:p()})]})}):(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(cW.Z,{sx:{flexDirection:"row",alignItems:"center",flexWrap:"wrap",mb:2,display:"flex"},children:(0,cs.jsx)(wE.Z,{id:"column-name",name:"column-name","aria-describedby":"column-name-description",disabled:!0,sx:{flex:"0 1 248px",...m},value:r.name})}),(0,cs.jsxs)(br.Z.Caption,{id:"column-name-description",children:[r.name," fields are created by GitHub and cannot be renamed."]})]})]})}),(0,cs.jsxs)(cW.Z,{children:[(0,cs.jsx)(cW.Z,{sx:{fontWeight:"bold",mb:1},children:"Field type"}),(0,cs.jsx)(xh.z,{leadingIcon:h,disabled:!0,children:OC(r.dataType)})]}),(0,cs.jsx)(zR,{column:r})]})},z_=({column:e,numberOfColumns:t,onDeleteColumn:a})=>{let[n,r]=(0,cg.useState)(!1);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(xh.z,{variant:"danger",onClick:()=>r(!0),children:"Delete Field"}),(0,cs.jsx)(zE,{numberOfColumns:t,columnModel:e,isDialogOpen:n,setIsDialogOpen:r,onDeleteColumn:a})]})},zR=(0,cg.memo)(function({column:e}){switch(e.dataType){case c7.Iteration:return(0,cs.jsx)(zN,{column:e});case c7.SingleSelect:return(0,cs.jsx)(E1,{children:(0,cs.jsx)(BU,{column:e})});default:return null}}),zP=(0,cg.memo)(function(){return(0,cs.jsxs)(yQ,{sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1,my:3},children:[(0,cs.jsx)(mt.Z,{icon:me.wNq,size:30,sx:{color:"danger.fg"}}),(0,cs.jsx)(mn.Z,{as:"h2",children:"This field no longer exists"}),(0,cs.jsx)(mn.Z,{as:"p",sx:{color:"fg.muted"},children:"Select another field to view settings."})]})}),zD=({columnModel:e})=>{let{getCountOfItemsWithColumnValue:t}=BH(),a=t(e.id),n=yK().workflows.filter(t=>t.actions.some(t=>t.arguments.fieldId===e.databaseId)).length,r=pX.deleteField(e.name),l=a>0||n>0;if(!l)return(0,cs.jsxs)(cs.Fragment,{children:[r,"."]});let i=a>0,s=n>0,o=(0,cs.jsxs)(cs.Fragment,{children:["and remove its data from"," ",i?(0,cs.jsxs)("strong",{children:[a," ",1!==a?"items":"item"]}):null,i&&s?" and ":null,s?(0,cs.jsxs)("strong",{children:[n," ",1!==n?"workflows":"workflow"]}):null,"."]});return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)("p",{children:[r," ",o]}),(0,cs.jsx)("p",{children:(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold"},children:"Permanently delete data from this project?"})})]})},zE=({isDialogOpen:e,columnModel:t,numberOfColumns:a,setIsDialogOpen:n,onDeleteColumn:r})=>{let{currentView:l}=v5(),{removeField:i}=FR(),{postStats:s}=v4(),{groupedByColumn:o,clearGroupedBy:d}=R6(),u=(0,cg.useCallback)(()=>{let{id:e,name:n,dataType:u}=t,c=l&&o?.id===e;c&&d(l.number),i(t),s({name:"settings_field_delete",ui:"settings",context:`name: ${n}, dataType: ${u}, total fields: ${a}`,memexProjectColumnId:e}),r?.()},[t,r,a,l,o?.id,i,s,d]),c=(0,cg.useCallback)(e=>{n(!1),"confirm"===e&&u()},[u,n]);return e?(0,cs.jsx)(xg.U,{onClose:c,title:pX.deleteFieldDialogTitle,confirmButtonContent:"Delete field and data",confirmButtonType:"danger",children:(0,cs.jsx)(zD,{columnModel:t})}):null};try{(iU=zT).displayName||(iU.displayName="ColumnSettingsView")}catch{}try{(iK=Icon).displayName||(iK.displayName="Icon")}catch{}try{(iW=z_).displayName||(iW.displayName="DeleteField")}catch{}try{(iH=zR).displayName||(iH.displayName="ConfigurationOptions")}catch{}try{(iG=zP).displayName||(iG.displayName="NoFieldFound")}catch{}try{(iq=zD).displayName||(iq.displayName="BodyText")}catch{}try{(iQ=zE).displayName||(iQ.displayName="DeleteFieldDialog")}catch{}async function zL(){let e=cQ("memex-reindex-items-api-data"),{memex_verified_fetch_for_memex_items_endpoints:t,memex_skip_json_parsing_if_invalid_response_and_content_found:a}=c5();if(t){let{data:t}=await fu(e.url,{method:"POST"},a);return t}{let{data:t}=await fd(e.url,{method:"POST",token:e.token});return t}}async function zA(){SC();let e=cQ("memex-delete-api-data"),{memex_verified_fetch_for_memex_endpoints:t,memex_skip_json_parsing_if_invalid_response_and_content_found:a}=c5();if(t){let{data:t}=await fu(e.url,{method:"DELETE"},a);return t}{let{data:t}=await fd(e.url,{method:"DELETE",token:e.token});return t}}let zM=()=>{let{perform:e,status:t}=fx({request:zA,showErrorToast:!0}),a=(0,cg.useCallback)(async()=>{await e(),"succeeded"===t.current.status&&window.location.assign(t.current.data.redirectUrl)},[e,t]);return{deleteMemex:a,status:t}},zF=()=>{let{setProject:e}=_j(),t=(0,cg.useCallback)(async t=>{let a=await Rx({closed:t});e(a.memexProject)},[e]);return{toggleMemexClose:t}},zZ=()=>{let{setProject:e}=_j(),t=(0,cg.useCallback)(async t=>{let a=await Rx({public:t});e(a.memexProject)},[e]);return{toggleMemexPublic:t}},zO=()=>{let e=_O(),{setProject:t}=_j(),a=(0,cg.useCallback)(async a=>{if(e.isTemplate===a)return;let n=await Rx({isTemplate:a});t(n.memexProject)},[e.isTemplate,t]);return{updateIsTemplate:a}},z$=({children:e})=>(0,cs.jsx)(zU,{children:e}),zV=({footerButtons:e})=>(0,cs.jsx)(zH,{children:(0,cs.jsx)(k8.V.Buttons,{buttons:e??[]})}),zB=({title:e,onClose:t,dialogLabelId:a})=>{let n=(0,cg.useCallback)(()=>{t("close-button")},[t]);return(0,cs.jsxs)(zK,{children:[(0,cs.jsx)(zW,{id:a,children:e}),(0,cs.jsx)(k8.V.CloseButton,{onClose:n})]})},zz=({children:e,confirmButtonContent:t="OK",onClose:a,title:n})=>{let r=(0,cg.useCallback)(()=>{a("confirm")},[a]),l={content:t,onClick:r};return(0,cs.jsx)(k8.V,{title:n,role:"alertdialog",width:"medium",onClose:a,footerButtons:[l],renderBody:z$,renderFooter:zV,renderHeader:zB,children:e})},zU=(0,cw.ZP)(cW.Z)`
  font-size: ${(0,ch.U2)("fontSizes.1")};
  padding: 0 ${(0,ch.U2)("space.3")} ${(0,ch.U2)("space.3")} ${(0,ch.U2)("space.3")};
  color: ${(0,ch.U2)("colors.fg.muted")};
  flex-grow: 1;
`,zK=cw.ZP.header`
  padding: ${(0,ch.U2)("space.2")};
  display: flex;
  flex-direction: row;
`,zW=(0,cw.ZP)(cW.Z)`
  font-size: ${(0,ch.U2)("fontSizes.3")};
  font-weight: ${(0,ch.U2)("fontWeights.bold")};
  padding: 6px ${(0,ch.U2)("space.2")};
  flex-grow: 1;
`,zH=(0,cw.ZP)(cW.Z)`
  display: flex;
  margin: 0 ${(0,ch.U2)("space.3")} ${(0,ch.U2)("space.3")} ${(0,ch.U2)("space.3")};

  button {
    font-size: ${(0,ch.U2)("fontSizes.1")};
    flex: 1 1 0;
    padding: 5px ${(0,ch.U2)("space.3")};
  }
`;try{(iX=z$).displayName||(iX.displayName="SingleConfirmBody")}catch{}try{(iY=zV).displayName||(iY.displayName="SingleConfirmFooter")}catch{}try{(iJ=zB).displayName||(iJ.displayName="SingleConfirmHeader")}catch{}try{(i0=zz).displayName||(i0.displayName="AlertDialog")}catch{}try{(i1=zU).displayName||(i1.displayName="StyledAlertBody")}catch{}try{(i2=zW).displayName||(i2.displayName="StyledAlertTitle")}catch{}try{(i5=zH).displayName||(i5.displayName="StyledAlertFooter")}catch{}let zG=e=>(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(zB,{...e}),(0,cs.jsx)(fV.Z,{variant:"warning",full:!0,sx:{mb:2},children:p1.deleteProjectWarning})]}),zq=({children:e})=>(0,cs.jsx)(mn.Z,{sx:{fontWeight:"bold"},children:e});function zQ({onClose:e,onConfirm:t,projectName:a,draftIssueCount:n}){let r=(0,cg.useRef)(null),[l,i]=(0,cg.useState)("");return(0,cg.useEffect)(()=>{r.current?.focus()},[]),(0,cs.jsxs)(k8.V,{title:p1.deleteProjectTitle,width:"large",renderBody:z$,renderHeader:zG,onClose:e,role:"alertdialog",children:[(0,cs.jsxs)(mn.Z,{as:"p",children:["This action ",(0,cs.jsx)(zq,{children:"cannot"})," be undone. This will permanently delete the"," ",(0,cs.jsx)(zq,{children:a})," project, saved views, custom fields and associated values, and Insights data."]}),n?(0,cs.jsxs)(mn.Z,{as:"p",children:["This will also delete"," ",(0,cs.jsxs)(zq,{children:[n," draft issue",n>1?"s":""]})," ","that ",n>1?"were":"was"," created in this project."]}):null,(0,cs.jsx)(mn.Z,{as:"p",children:"This will not delete issues or pull requests themselves."}),(0,cs.jsxs)(mn.Z,{as:"p",children:["Please type ",(0,cs.jsx)(zq,{children:a})," to confirm."]}),(0,cs.jsxs)("form",{onSubmit:t,...(0,cK.f)("confirm-delete-form"),children:[(0,cs.jsx)(wE.Z,{"aria-label":p1.deleteProjectInputLabel,ref:r,block:!0,onChange:e=>i(e.target.value),value:l,sx:{mb:3},...(0,cK.f)("confirm-delete-input")}),(0,cs.jsx)(k8.V.Buttons,{buttons:[{content:p1.deleteProjectConfirmation,buttonType:"danger",disabled:l!==a,type:"submit",sx:{width:"100%"}}]})]})]})}try{(i3=zq).displayName||(i3.displayName="BoldText")}catch{}try{(i4=zQ).displayName||(i4.displayName="DeleteProjectDialog")}catch{}function zX({children:e,showDivider:t}){return(0,cs.jsx)(cW.Z,{sx:{justifyItems:"center",p:3,display:"flex",...t?{borderBottomColor:"border.muted",borderBottomStyle:"solid",borderBottomWidth:"1px"}:{borderBottom:"unset"}},children:e})}function zY({title:e,description:t}){return(0,cs.jsxs)(cW.Z,{sx:{flex:"auto"},children:[(0,cs.jsx)(be.Z,{as:"h3",sx:{mb:1,fontSize:1},children:e}),(0,cs.jsx)(mn.Z,{sx:{fontSize:1},children:t})]})}function zJ({children:e}){return(0,cs.jsx)(cW.Z,{sx:{display:"flex",alignItems:"center"},children:e})}try{(i6=zX).displayName||(i6.displayName="ProjectSettingsCard")}catch{}try{(i8=zY).displayName||(i8.displayName="ProjectSettingsCardHeader")}catch{}try{(i7=zJ).displayName||(i7.displayName="ProjectSettingsCardBody")}catch{}function z0({onClose:e}){let t=(0,cg.useRef)(null);(0,cg.useEffect)(()=>{t.current?.focus()},[]);let a=(0,cg.useCallback)(()=>{e("cancel")},[e]),n=(0,cg.useCallback)(()=>{e("confirm")},[e]);return(0,cs.jsx)(k8.V,{onClose:e,"aria-labelledby":"header-id",title:"Are you sure?",width:"small",footerButtons:[{content:(0,cs.jsx)("span",{children:"Cancel"}),onClick:a,buttonType:"normal"},{content:(0,cs.jsx)("span",{children:"Remove"}),onClick:n,buttonType:"danger"}],children:(0,cs.jsx)(mn.Z,{children:"Remove this project as a template? It will no longer be able to be used to start new projects."})})}try{(i9=z0).displayName||(i9.displayName="RemoveTemplateDialog")}catch{}let z1=({projectName:e})=>0===e.trim().length?pX.projectNameRequired:pX.genericErrorMessage;function z2(){let{isClosed:e,isPublicProject:t,isTemplate:a}=_O(),{isOrganization:n,projectOwner:r}=f1(),{hasAdminPermissions:l,canChangeProjectVisibility:i}=xQ(),{toggleMemexClose:s}=zF(),{toggleMemexPublic:o}=zZ(),[d,u]=(0,cg.useState)(""),{postStats:c}=v4(),[m,p]=(0,cg.useState)(!1),{updateIsTemplate:f}=zO(),[h,g]=(0,cg.useState)(!1),[y,x]=(0,cg.useState)(""),{deleteMemex:b}=zM(),{memex_paginated_archive:v,memex_org_templates:w}=xO(),k=v&&l,j=(0,cg.useCallback)(e=>{e.preventDefault(),b()},[b]),C=(0,cg.useCallback)(async e=>{await s(e)},[s]),S=(0,cg.useCallback)(async e=>{try{t!==e&&(await o(e),u("success"))}catch{u("error")}},[o,t]),I=(0,cg.useCallback)(()=>{d&&u("")},[d,u]),{title:N}=_4(),{updateTitle:T}=Rb(),_=h_().items,R=(0,cg.useMemo)(()=>_.filter(e=>"DraftIssue"===e.contentType).length,[_]),{localValue:P,isError:D,isSuccess:E,inputProps:L}=Dd({initialValue:N,commitFn:e=>T(e)}),A=(0,cg.useCallback)(e=>{c({name:e?vA:vL,ui:"settings"})},[c]),M=(0,cg.useCallback)(e=>{c({name:e?vO:vZ,ui:v$})},[c]),F=(0,cg.useMemo)(()=>i&&t?p1.projectIsPublic:i?p1.projectIsPrivate:n?p1.organizationOwnedProjectVisibilityRestriction:p1.userOwnedProjectVisibilityRestriction,[i,t,n]),Z=Rh(),O=e=>{"confirm"===e&&$(!a),g(!1)},$=(0,cg.useCallback)(async e=>{try{a!==e&&(await f(e),x("success"))}catch{x("error")}},[f,a]);return(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"column",flexGrow:1},...(0,cK.f)("general-settings"),children:[(0,cs.jsx)(be.Z,{as:"h2",sx:{borderBottomColor:"border.muted",borderBottomStyle:"solid",borderBottomWidth:"1px",fontSize:4,fontWeight:"normal",pb:2,mb:2},children:"Project settings"}),(0,cs.jsxs)(br.Z,{sx:{mb:5},id:RX,children:[(0,cs.jsx)(br.Z.Label,{children:"Project name"}),(0,cs.jsx)(Rs.Z,{...Z,children:(0,cs.jsx)(wE.Z,{value:P,...L,sx:{...D?Dg:{},"& > input":{padding:"6px 8px"},width:320},trailingVisual:E?Df:void 0})}),D&&(0,cs.jsx)(br.Z.Validation,{variant:"error",...(0,cK.f)("project-name-error-message"),children:z1({projectName:P})})]}),(0,cs.jsx)(Dj,{onSaveStats:A,editModeOff:!0}),(0,cs.jsx)(cW.Z,{sx:{mb:5},...(0,cK.f)("readme-edit"),children:(0,cs.jsx)(Dy,{onSaveStats:M,editModeOff:!0})}),w&&n&&l&&(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"column",width:"100%",borderColor:"border.default",borderWidth:"1px",borderStyle:"solid",borderRadius:2,padding:"16px",mb:4},...(0,cK.f)("make-template-button"),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsxs)(cW.Z,{sx:{flexGrow:1},children:[(0,cs.jsx)(cW.Z,{sx:{fontWeight:"bold"},id:"make-template-label",children:"Make Template"}),(0,cs.jsxs)(mn.Z,{as:"p",sx:{color:"fg.muted",m:0},id:"make-template-description",children:["Make this project a template that can be used by members of the ",(0,cs.jsx)("b",{children:r?.login})," ","organization to create new projects from."]}),(0,cs.jsxs)("div",{children:["success"===y&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Df,{}),(0,cs.jsx)(mn.Z,{sx:{ml:1},children:"Changes saved"})]}),"error"===y&&(0,cs.jsx)(mn.Z,{sx:{color:"danger.fg"},children:"Something went wrong"})]})]}),(0,cs.jsx)(xy.Z,{"aria-labelledby":"make-template-label","aria-describedby":"make-template-description",disabled:e,onClick:()=>{a||$(!a),g(a)},checked:a})]})}),h&&(0,cs.jsx)(z0,{isOpen:h,onClose:e=>{O(e)}}),(0,cs.jsx)(be.Z,{as:"h3",sx:{fontSize:4,mb:2,fontWeight:"normal"},children:"Danger zone"}),(0,cs.jsx)(cW.Z,{sx:{borderColor:"danger.emphasis",borderWidth:"1px",borderStyle:"solid",borderRadius:2,mb:4},children:(0,cs.jsxs)(cW.Z,{sx:{justifyItems:"center",display:"flex",flexDirection:"column"},children:[l&&(0,cs.jsxs)(zX,{showDivider:!0,children:[(0,cs.jsxs)(cW.Z,{sx:{flex:"auto"},children:[(0,cs.jsx)(be.Z,{as:"h3",id:"visibilityHeading",sx:{fontSize:1,mb:1},children:"Visibility"}),(0,cs.jsx)(mn.Z,{sx:{fontSize:1},...(0,cK.f)("project-visibility-text"),children:F})]}),(0,cs.jsx)(zJ,{children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexWrap:"wrap-reverse",justifyContent:"flex-end"},children:[(0,cs.jsx)(cW.Z,{sx:{pt:2},children:(0,cs.jsxs)("div",{"aria-live":"polite",...(0,cK.f)("project-visibility-update-status"),children:["success"===d&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Df,{}),(0,cs.jsx)(mn.Z,{sx:{ml:1},children:"Changes saved"})]}),"error"===d&&(0,cs.jsx)(mn.Z,{sx:{color:"danger.fg"},children:"Something went wrong"})]})}),(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{...(0,cK.f)("project-visibility-button"),sx:{position:"relative",ml:"16px",px:3},onClick:I,"aria-describedby":"visibilityHeading",leadingIcon:t?me.n9J:me.mBM,disabled:!i,children:t?"Public":"Private"}),(0,cs.jsx)(kA.P.Overlay,{anchorSide:"inside-right",children:(0,cs.jsxs)(kL.S,{selectionVariant:"single",children:[(0,cs.jsxs)(kL.S.Item,{onSelect:()=>S(!1),selected:!t,sx:{alignItems:"flex-start"},children:["Private",(0,cs.jsx)(kL.S.Description,{variant:"block",children:"You choose who can read, write, and admin this project."})]},"private"),(0,cs.jsxs)(kL.S.Item,{onSelect:()=>S(!0),selected:t,sx:{alignItems:"flex-start"},children:["Public",(0,cs.jsx)(kL.S.Description,{variant:"block",children:"Everyone on the internet has read access to this project. You choose who has write and admin access."})]},"public")]})})]})]})})]}),(0,cs.jsx)(zX,{showDivider:l,children:e?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(zY,{title:"Re-open project",description:"Re-opening a project will add it to the list of open projects."}),(0,cs.jsx)(zJ,{children:(0,cs.jsx)(xh.z,{...(0,cK.f)("reopen-project-button"),onClick:()=>C(!1),children:"Re-open this project"})})]}):(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(zY,{title:"Close project",description:"Closing a project will disable its workflows & remove it from the list of open projects."}),(0,cs.jsx)(zJ,{children:(0,cs.jsx)(xh.z,{variant:"danger",...(0,cK.f)("close-project-button"),onClick:()=>C(!0),children:"Close this project"})})]})}),l&&(0,cs.jsxs)(zX,{showDivider:k,children:[(0,cs.jsx)(zY,{title:"Delete project",description:"Once you delete a project, there is no going back. Please be certain."}),(0,cs.jsx)(zJ,{children:(0,cs.jsx)(xh.z,{variant:"danger",...(0,cK.f)("delete-project-button"),onClick:()=>p(!0),children:"Delete this project"})})]}),k&&(0,cs.jsxs)(zX,{children:[(0,cs.jsx)(zY,{title:"Resync Elasticsearch index for this project",description:"Resyncing the Elasticsearch index will reindex items and field values for this project."}),(0,cs.jsx)(zJ,{children:(0,cs.jsx)(xh.z,{variant:"danger",...(0,cK.f)("resync-project-es-index-button"),onClick:()=>zL(),children:"Resync Elasticsearch index"})})]})]})}),m&&(0,cs.jsx)(zQ,{onClose:()=>p(!1),projectName:P,onConfirm:j,draftIssueCount:R})]})}try{(se=z2).displayName||(se.displayName="GeneralSettingsView")}catch{}let z5=()=>{let e=bP();return{reservedColumnNames:e.reservedColumnNames}},z3=e=>({isValid:!1,message:e.trim()}),z4=({allColumns:e,reservedColumnNames:t},a)=>{let n=a.trim();if(!n)return z3(pX.titleCannotBeBlank);let r=!e.some(({name:e})=>z6(e,n));if(!r)return z3(pX.titleHasAlreadyBeenTaken);let l=t.some(e=>0===e.trim().localeCompare(n,void 0,{sensitivity:"accent"}));if(l)return z3(pX.titleIsReserved);let i=n.includes(":");return i?z3(pX.titleContainsReservedColonCharacter):{isValid:!0,message:""}},z6=(e,t)=>{let a=e.replace(/ /g,"-"),n=t.replace(/ /g,"-");return 0===a.localeCompare(n,void 0,{sensitivity:"accent"})};async function z8(e){let t=cQ("memex-column-create-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}let z7=()=>{let{postStats:e}=v4(),{setAllColumns:t,allColumnsRef:a}=xH(),{updateLoadedColumns:n}=T4(),r=(0,cg.useCallback)(async r=>{let l={name:r.name,dataType:r.type,settings:r.settings};SC();let i=await z8({memexProjectColumn:l}),s=i.memexProjectColumn;n(s.id);let o=xV(s),d=a.current.findIndex(e=>e.id===s.id)>-1;d&&e({name:"existing_column_found",id:s.id});let u=d?[...a.current.filter(e=>e.id!==s.id),o]:[...a.current,o];return t(u),{newColumn:o}},[n,a,t,e]);return{addColumn:r}},z9=()=>{let{viewStateDispatch:e,viewsMap:t}=v5(),a=RC(),{addColumn:n}=z7(),r=(0,cg.useCallback)(async({request:r,viewNumber:l})=>{let{newColumn:i}=await n(r);if(l){let n=t[l];(0,ck.Z)(n,"View must exist");let r={...n.serverViewState,visibleFields:n.serverViewState.visibleFields.concat(i.databaseId)};await a.perform({viewNumber:n.number,view:S0(r,vH)}),"succeeded"===a.status.current.status&&e({type:v9.AddField,column:i,viewNumber:l})}return i},[n,a,e,t]),l=fx({request:r});return{addField:l}};function Ue(e){return`${pX.newField}${e>0?` ${e+1}`:""}`}let Ut=e=>e.preventDefault(),Ua=(0,cg.memo)(function({setOpen:e,isOpen:t,onSave:a,anchorRef:n,limitedTypes:r}){let{allColumns:l}=bD(),i=l.filter(e=>e.userDefined).length,s=Ue(i),{currentView:o}=v5(),[d,u]=Di(s,{isPropUpdateDisabled:t}),c=(0,cg.useRef)(null),m=(0,cg.useRef)(null),{reservedColumnNames:p}=z5(),{clientHeight:f}=$d({}),h=(0,cg.useMemo)(()=>{if(!f)return"unset";if(!n.current)return f;let e=window.pageYOffset+n.current.getBoundingClientRect().top;return f-e},[n,f]),{options:g,onDrop:y,addOption:x,updateOption:b,removeOption:v,canRemoveOption:w}=Bd({ui:vS}),{addField:k}=z9(),j=(0,cg.useMemo)(()=>[{leadingVisual:Oj(c7.Text),text:OC(c7.Text),key:"Dropdown-text",type:c7.Text,onMouseDown:Ut,...(0,cK.f)("column-type-text")},{leadingVisual:Oj(c7.Number),text:OC(c7.Number),key:"Dropdown-number",type:c7.Number,onMouseDown:Ut,...(0,cK.f)("column-type-number")},{leadingVisual:Oj(c7.Date),text:OC(c7.Date),key:"Dropdown-date",type:c7.Date,onMouseDown:Ut,...(0,cK.f)("column-type-date")},{leadingVisual:Oj(c7.SingleSelect),text:OC(c7.SingleSelect),key:"Dropdown-singleselect",type:c7.SingleSelect,onMouseDown:Ut,...(0,cK.f)("column-type-single-select")},{leadingVisual:Oj(c7.Iteration),text:OC(c7.Iteration),key:"Dropdown-iteration",type:c7.Iteration,onMouseDown:Ut,...(0,cK.f)("column-type-iteration")}],[]),C=r&&r.length?j.filter(e=>r.includes(e.type)):j,[S,I]=(0,cg.useState)(()=>gZ(C[0]).type),[N,T]=(0,cg.useState)(gZ(C[0])),_=(0,cg.useCallback)(()=>{u(s)},[s,u]),R=(0,cg.useCallback)(e=>{if(e){if(d===s){if(e.type===c7.Iteration){let e=l.filter(e=>e.userDefined&&e.name.startsWith("Iteration")).length;u(pX.newIterationField(e>0?` ${e+1}`:""))}else _()}T(e),I(e.type)}},[l,s,_,u,d]),P=(0,cg.useMemo)(()=>(0,zl.Z)(new Date,1),[]),[D,E]=(0,cg.useState)(new Date),[L,A]=(0,cg.useState)(gF),[M,F]=(0,cg.useState)(!0),Z=(0,cg.useCallback)((e,t)=>{switch(t){case c7.SingleSelect:{let a=Bg(g).map(({id:e,...t})=>t);return{name:e,type:t,settings:a.length>0?{options:a}:{}}}case c7.Iteration:{let a=gL(L),n=0!==D.getDay()?D.getDay():7,{iterations:r,completedIterations:l}=BJ(e,{duration:a,selectedStartDate:D},3);return{name:e,type:t,settings:{configuration:{startDay:n,duration:a,iterations:r,completedIterations:l}}}}case c7.Number:case c7.Text:case c7.Date:return{name:e,type:t,settings:void 0};default:h2(t)}},[D,g,L]);(0,cg.useEffect)(()=>{t&&m.current?.scrollIntoView()},[t]);let O=(0,cg.useCallback)(e=>{u(jf(e.currentTarget.value))},[u]),$={size:"small",type:"button"},V=(0,cg.useCallback)(()=>S!==c7.SingleSelect||Bg(g).length>0,[g,S]),{isValid:B,message:z}=z4({allColumns:l,reservedColumnNames:p},d),U=V()&&B,K=(0,cg.useCallback)(()=>{e(!1)},[e]),{postStats:W}=v4(),H=(0,cg.useCallback)(async()=>{if(!U)return;K();let e=Z(d,S);await k.perform({request:e,viewNumber:o?.number}),"succeeded"===k.status.current.status&&a(k.status.current.data),W({name:vj,ui:vS,memexProjectColumnId:k.status.current.data?.id})},[U,K,Z,d,S,k,o?.number,W,a]),G=(0,cg.useCallback)(e=>{"Enter"===e.key?(H(),e.preventDefault()):"Escape"===e.key&&(K(),e.preventDefault())},[K,H]),q=Ds(G),Q=(0,cg.useRef)(null),{isDragging:X}=E4();Br({active:X,scrollRef:Q,strength:10});let Y=E3({dropID:"singleSelectDrop",dropType:"singleSelectItem",dropRef:Q,onDrop:y}),J=Oj(S),ee=g.length,et=(0,cg.useRef)(g.length);(0,cg.useEffect)(()=>{Q.current&&(ee<=et.current||(Q.current.scrollTop=Q.current.scrollHeight))},[ee]),(0,cg.useEffect)(()=>{et.current=ee});let ea=Rh();return t?(0,cs.jsx)(DA.w,{anchorRef:n,renderAnchor:null,open:t,onClose:K,width:"medium",overlayProps:{...(0,cK.f)("add-column-menu"),initialFocusRef:c,role:"dialog","aria-label":"Create a new field configuration",sx:h?{maxHeight:h,overflowY:"auto",overflowX:"visible"}:{overflow:"visible"}},focusZoneSettings:{bindKeys:DE.Qw.Tab},children:(0,cs.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,cs.jsxs)(cW.Z,{ref:Q,...Y.props,children:[(0,cs.jsxs)(br.Z,{required:!0,sx:{p:3,pb:0,mb:2,position:"relative"},children:[(0,cs.jsx)(br.Z.Label,{children:"Field name"}),(0,cs.jsx)(Rs.Z,{...ea,sx:{width:"100%"},children:(0,cs.jsx)(wE.Z,{...q,onFocus:e=>e.currentTarget.select(),value:d,className:B?"":"error",onChange:O,ref:c,"aria-invalid":!B,...(0,cK.f)("add-column-name-input"),validationStatus:B?void 0:"error"})}),!B&&(0,cs.jsx)(br.Z.Validation,{variant:"error",children:z})]}),(0,cs.jsxs)(br.Z,{id:"add-column-type",sx:{px:3,mb:2},children:[(0,cs.jsx)(br.Z.Label,{children:"Field type"}),(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Button,{"aria-label":"Type",sx:{width:"100%",pr:2,gridTemplateColumns:"min-content 1fr min-content","[data-component=text]":{textAlign:"left"},"[data-component=buttonContent]":{flex:0}},id:"add-column-type",...(0,cK.f)("add-column-type"),children:(0,cs.jsxs)(cW.Z,{sx:{flexGrow:1,alignItems:"center",display:"flex"},children:[(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)(mt.Z,{icon:J,sx:{mr:1,color:"fg.muted"}})}),(0,cs.jsx)(cW.Z,{children:N.text})]})}),(0,cs.jsx)(kA.P.Overlay,{children:(0,cs.jsx)(kL.S,{selectionVariant:"single",children:C.map((e,t)=>(0,cs.jsxs)(kL.S.Item,{selected:N===e,onSelect:()=>R(e),...e,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(e.leadingVisual,{})}),e.text]},t))})})]})]}),S===c7.SingleSelect&&(0,cs.jsxs)(cW.Z,{sx:{px:3,pt:2,flexWrap:"wrap"},as:"fieldset",children:[(0,cs.jsx)(cW.Z,{sx:{fontWeight:"bold"},as:"legend",children:"Options"}),(0,cs.jsx)(BZ,{options:g,canRemoveOption:w,onAddOption:x,onUpdateOption:b,onRemoveOption:v})]}),S===c7.Iteration&&(0,cs.jsxs)(cW.Z,{sx:{px:3,pt:2,flexWrap:"wrap"},as:"fieldset",children:[(0,cs.jsx)(cW.Z,{sx:{fontWeight:"bold"},as:"legend",children:"Options"}),(0,cs.jsx)(cW.Z,{sx:{pl:2},children:(0,cs.jsx)(zw,{duration:L,onDurationChange:A,onValidChange:F,startDate:D,onStartDateChange:E,minStartDate:P})})]}),(0,cs.jsxs)(cW.Z,{sx:{justifyContent:"flex-end",px:3,py:2,mt:4,borderTop:"1px solid",borderColor:"border.muted",display:"flex",backgroundColor:e=>`${e.colors.canvas.default}`},children:[(0,cs.jsx)(xh.z,{...$,onClick:K,children:"Cancel"}),(0,cs.jsx)(xh.z,{variant:"primary",...(0,cK.f)("add-column-modal-save"),...$,onClick:H,disabled:!U||!M,sx:{ml:1},children:"iteration"===S?"Save and create":"Save"})]})]})})}):null}),Un=(0,cg.memo)(function(e){return(0,cs.jsx)(E1,{children:(0,cs.jsx)(Ua,{...e})})});try{(st=Ua).displayName||(st.displayName="AddColumnModalInner")}catch{}try{(sa=SelectedIcon).displayName||(sa.displayName="SelectedIcon")}catch{}try{(sn=Un).displayName||(sn.displayName="AddColumnModal")}catch{}let Ur=(0,cg.memo)(function(){let{allColumns:e}=bD(),{hasAdminPermissions:t}=xQ(),{postStats:a}=v4(),[n,r]=(0,cg.useState)(!1),l=(0,cg.useRef)(null),i=f5();return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(kP.$,{...(0,cK.f)("settings-side-nav"),children:[(0,cs.jsxs)(kE,{end:!0,to:hl.generatePath(),...(0,cK.f)("general-settings-item"),onClick:e=>{a({name:"settings_open",ui:vk,context:`${e.type}: ${e.currentTarget.tagName}`})},children:[(0,cs.jsx)(kP.$.LeadingVisual,{children:(0,cs.jsx)(me.UG6,{})}),"Project settings"]}),t&&(0,cs.jsxs)(kE,{to:hs.generatePath(),...(0,cK.f)("manage-access-item"),children:[(0,cs.jsx)(kP.$.LeadingVisual,{children:(0,cs.jsx)(me.t0Z,{})}),"Manage access"]}),(0,cs.jsxs)(kP.$.Group,{sx:{position:"relative",minWidth:220},title:"Custom fields",children:[(0,cs.jsxs)(kL.S.Item,{ref:l,sx:{color:"accent.fg",position:"absolute",top:0,right:0,width:"auto",py:1},onSelect:()=>r(e=>!e),children:[(0,cs.jsx)(kL.S.LeadingVisual,{sx:{color:"inherit"},children:(0,cs.jsx)(me.pOD,{})}),"New field"]}),(0,cg.useMemo)(()=>e.filter(e=>BW(e)).map(e=>{let t=Oj(e.dataType);return(0,cs.jsxs)(kE,{to:{pathname:hi.generatePath({fieldId:encodeURIComponent(e.id)})},onClick:t=>{a({name:vw,ui:vk,memexProjectColumnId:e.id,context:`${t.type}: ${t.currentTarget.tagName}`})},...(0,cK.f)(`ColumnSettingsItem{id: ${e.name}}`),children:[(0,cs.jsx)(kP.$.LeadingVisual,{children:(0,cs.jsx)(t,{})}),e.name]},e.id)}),[e,a])]})]}),(0,cs.jsx)(Un,{isOpen:n,setOpen:r,anchorRef:l,onSave:(0,cg.useCallback)(e=>{i(hi.generatePath({fieldId:e.id}))},[i])},e.length)]})});try{(sr=Ur).displayName||(sr.displayName="SettingsSideNav")}catch{}try{(sl=Icon).displayName||(sl.displayName="Icon")}catch{}let Ul=()=>(0,cs.jsxs)(F4.X,{containerWidth:"full",sx:{height:"100%",padding:0,m:0,[`& > ${cW.Z}`]:{minHeight:"100%"}},children:[(0,cs.jsx)(F4.X.Pane,{position:"start",sx:{padding:[3,null,null,4],borderRight:"1px solid",borderColor:"border.subtle"},children:(0,cs.jsx)(Ur,{})}),(0,cs.jsx)(F4.X.Content,{width:"large",sx:{padding:[3,null,null,4]},children:(0,cs.jsx)(cx.j3,{})})]});try{(si=Ul).displayName||(si.displayName="SettingsView")}catch{}function Ui(){return(0,cs.jsx)(cH,{...(0,cK.f)("settings-page"),children:(0,cs.jsx)(Ul,{})})}try{(ss=Ui).displayName||(ss.displayName="SettingsPage")}catch{}let Us='#__primerPortalRoot__, [id$="-portal-root"], [id^="__omnibarPortalRoot__"]';function Uo(){let e=[...document.querySelectorAll(Us)],t=e.some(e=>e.childNodes.length>0);return e&&t}function Ud(e){return!!e&&null!==e.closest(Us)}function Uu(e){let t=(0,cg.useRef)({horizontalScrollbarSize:null,verticalScrollbarSize:null}),a=(0,cg.useCallback)(t=>{let{current:a}=e;if(!a)return()=>void 0;let n=new ResizeObserver(t);return n.observe(a),()=>{n.unobserve(a),n.disconnect()}},[e]);return(0,cg.useSyncExternalStore)(a,()=>{let{current:a}=e;if(!a)return t.current;let n=a?a.offsetHeight-a.clientHeight:null,r=a?a.offsetWidth-a.clientWidth:null,l={horizontalScrollbarSize:n,verticalScrollbarSize:r};return(0,wK.Z)(t.current,l)||(t.current=l),t.current})}function Uc(e){e.stopPropagation(),e.preventDefault()}function Um(e,t){t===wf.META_ARROW_LEFT||t===wf.META_ARROW_RIGHT||t===wf.ARROW_LEFT||t===wf.ARROW_RIGHT?e.stopPropagation():Uc(e)}function Up(e,t){let a=Uf(t);return a.action&&e(a.action),a}function Uf(e){let t=wy(e),a=null;switch(t){case wf.META_HOME:a=Np({y:Nx.First,x:Nx.First,focusType:Ny.Focus});break;case wf.SHIFT_ARROW_UP:case wf.SHIFT_ARROW_DOWN:break;case wf.ARROW_UP:a=Np({y:Nx.Previous,focusType:Ny.Focus});break;case wf.META_ARROW_UP:a=Np({y:Nx.First,focusType:Ny.Focus});break;case wf.ARROW_DOWN:a=Np({y:Nx.Next,focusType:Ny.Focus});break;case wf.META_ARROW_DOWN:a=Np({y:Nx.Last,focusType:Ny.Focus});break;case wf.ARROW_LEFT:a=Np({x:Nx.Previous,focusType:Ny.Focus});break;case wf.META_ARROW_LEFT:a=Np({x:Nx.First,focusType:Ny.Focus});break;case wf.ARROW_RIGHT:a=Np({x:Nx.Next,focusType:Ny.Focus});break;case wf.META_ARROW_RIGHT:a=Np({x:Nx.Last,focusType:Ny.Focus});break;case wf.META_END:a=Np({x:Nx.Last,y:Nx.Last,focusType:Ny.Focus})}return{keyAsShortcut:t,action:a}}let Uh=(0,cg.createContext)(null);function Ug({children:e}){let{showInput:t}=k3(),a=(0,cg.useCallback)(()=>{t()},[t]);return(0,cs.jsx)(Uh.Provider,{value:(0,cg.useMemo)(()=>({setShowFindInProject:a}),[a]),children:e})}function Uy(){let e=(0,cg.useContext)(Uh);if(!e)throw Error("useBoardFindInProject must be used within a BoardFindInProject");return e}try{(so=Uh).displayName||(so.displayName="BoardFindInProject")}catch{}try{(sd=Ug).displayName||(sd.displayName="BoardFindInProjectProvider")}catch{}var Ux=a(94184),Ub=a.n(Ux),Uv=a(10160);let Uw=(e,t,a)=>{let[n,r]=(0,cg.useState)(t);return a&&e in a?[a[e],j1.Z,!0]:[n,r,!1]},Uk=e=>{let[t,a,n]=Uw("isOpen",!1,e),r=(0,cg.useRef)(!1),l=n?j1.Z:()=>{a(!0)},i=n?j1.Z:()=>{!1===r.current&&a(!1)},s=(0,cg.useCallback)(()=>n?j1.Z:()=>{r.current=!1},[n]),o=n?j1.Z:()=>{r.current=!0};return{isOpen:t,setIsOpen:a,itemOnMouseDown:o,inputOnBlur:i,inputOnFocus:l,onResetListInteraction:s}};function Uj(e){let t=(0,cg.useRef)(null);return e??t}let UC=1,US=(e,t,a,n)=>{if(a?.[n]){let t=a[n];"function"==typeof t&&t(e)}t(e)},UI=(e,t)=>{let[a,n]=Uw("inputValue","",e),{isOpen:r,setIsOpen:l,inputOnBlur:i,inputOnFocus:s,itemOnMouseDown:o,onResetListInteraction:d}=Uk(e),u=(0,cg.useRef)(null),c=(0,cg.useRef)(e.items),m=(0,cg.useRef)(),p=(0,cg.useRef)(e.onSelectedItemChange),f=(0,cg.useRef)(UC++),h=(0,cg.useRef)(`combobox-input-${f.current}`),g=(0,cg.useRef)(`combobox-list-${f.current}`),y=Uj(t);c.current!==e.items&&(c.current=e.items),p.current!==e.onSelectedItemChange&&(p.current=e.onSelectedItemChange);let x=(0,cg.useCallback)(e=>{if(c.current){let t=c.current[e];t&&p.current(t),d(),y.current&&y.current.focus(),l(!1)}},[d,l,y]),b=(0,cg.useCallback)(e=>{let t=e.target.getAttribute("data-list-index");t&&x(parseInt(t))},[x]);(0,cg.useEffect)(()=>{r?m.current?.start():m.current?.stop()},[r]);let v=pZ(b);(0,cg.useEffect)(()=>{let e=u.current;if(y.current&&u.current){m.current=new Uv.Z(y.current,u.current);let t=e=>{v.current(e)};return u.current.addEventListener("combobox-commit",t),function(){m.current?.destroy(),e?.removeEventListener("combobox-commit",t)}}},[y,v]),(0,cg.useEffect)(()=>{r?m.current?.start():m.current?.stop()},[r]);let w=e=>{n(e.target.value),r||l(!0)},k=e=>({ref:y,id:h.current,type:"text",value:a,onFocus:t=>{US(t,s,e,"onFocus")},onBlur:t=>{US(t,i,e,"onBlur")},onChange:t=>{US(t,w,e,"onChange")}}),j=()=>({ref:u,id:g.current}),C=(e,t,a)=>({role:"option",id:`combobox-${f.current}-item-${t}`,"data-list-index":t,onMouseDown:e=>{US(e,o,a,"onMouseDown")}}),S=()=>{y.current&&u.current&&(m.current?.clearSelection(),m.current?.navigate(1))};return{inputValue:a,setInputValue:n,getInputProps:k,getListProps:j,getItemProps:C,isOpen:r,selectFirstItem:S}};function UN(){let[e,t]=(0,cg.useState)({current:null}),a=(0,cg.useCallback)(a=>{e.current!==a&&t({current:a})},[e]);return[e,a]}function UT(e,t,a,n,r){let[l,i]=(0,cg.useState)("left"),[s,o]=(0,cg.useState)("top"),d=(0,cg.useCallback)(()=>{if(!e?.current||!t.current)return;let{top:a,left:n,xAlign:d,yAlign:u,hasContentDimensions:c}=bX({originRef:e,contentRef:t,alignment:{xAlign:r?.xAlign??l,yAlign:r?.yAlign??s,yTopOffset:0}});t.current.style.top=`${a}px`,t.current.style.left=`${n}px`,!l&&c&&i(d),!s&&c&&o(u)},[e,t,l,s,r]);return(0,cg.useLayoutEffect)(()=>{a||(i(void 0),o(void 0)),d();let e=new ResizeObserver(d);return e.observe(document.documentElement),()=>{e.unobserve(document.documentElement),e.disconnect()}},[d,a,...n]),{adjustPickerPosition:d}}let U_=(0,cw.ZP)("ul")`
  width: ${e=>`calc(100vw - ${e.offsetX??52}px)`};
  max-height: ${e=>`calc(100vh - ${e.offsetY??60}px)`};
  overflow-y: auto;

  padding: 0;
  margin: 0;
  list-style: none;
  background: ${(0,ch.U2)("colors.canvas.default")};
  border: 1px solid ${(0,ch.U2)("colors.border.default")};
  border-radius: ${(0,ch.U2)("radii.2")};
  box-shadow: ${(0,ch.U2)("shadows.shadow.medium")};
  position: absolute;
  z-index: 100;
  font-size: 12px;

  @media (min-width: ${(0,ch.U2)("breakpoints.0")}) {
    width: auto;
    min-width: 400px;
  }

  ${ma.Z};
`,UR=(0,cw.ZP)("li")`
  cursor: pointer;
  display: block;
  font-size: ${(0,ch.U2)("fontSizes.0")};
  padding: ${(0,ch.U2)("space.2")};
  &:first-child {
    border-top-left-radius: ${(0,ch.U2)("radii.2")};
    border-top-right-radius: ${(0,ch.U2)("radii.2")};
  }
  &[aria-selected='true'] {
    color: ${(0,ch.U2)("colors.fg.default")};
    text-decoration: none;
    background: ${(0,ch.U2)("colors.canvas.subtle")};
  }
`;try{(su=U_).displayName||(su.displayName="PickerList")}catch{}try{(sc=UR).displayName||(sc.displayName="PickerItem")}catch{}var UP=a(40212);let UD=(0,cs.jsxs)(cs.Fragment,{children:["You can use ",(0,cs.jsx)(UP.u,{format:"full",keys:"Control+Space"})," to add an item"]}),UE=({focusedPlaceholder:e,inputHasFocus:t,unfocusedPlaceholder:a,value:n,descriptionId:r})=>""===n&&(t||a)?(0,cs.jsx)(cW.Z,{sx:{position:"absolute",height:"100%",display:"flex",alignItems:"center",paddingLeft:"20px"},children:(0,cs.jsxs)(mn.Z,{sx:{fontSize:1,color:"fg.muted"},children:[!t&&(0,cs.jsx)("span",{"aria-hidden":!0,children:a}),(0,cs.jsx)("span",{id:r,hidden:!t,children:e})]})}):null;try{(sm=UD).displayName||(sm.displayName="DefaultOmnibarPlaceholder")}catch{}try{(sp=UE).displayName||(sp.displayName="OmnibarPlaceholder")}catch{}let UL=({isOpen:e,inputRef:t,renderInput:a,newItemAttributes:n,onCloseSuggestions:r})=>{let[l,i]=UN(),s=T7(),o=(0,cg.useMemo)(()=>{let e=[];return s?e.push({icon:me.hEv,title:"Create new issue",action:"createIssue"}):e.push({icon:me.aNF,title:"Create a draft",action:"createDraft"}),e.push({icon:me.H0r,title:"Add item from repository",shortcutIcon:me.LZ3,action:"openSidePanel",shortcutContent:(0,cs.jsx)(mt.Z,{icon:me.LZ3,sx:{color:"fg.muted"}})}),e},[s]),d=UZ(t),u=t=>{switch(t.key){case"Escape":r("");break;case"ArrowDown":case"ArrowUp":e&&t.stopPropagation()}},{openPaneBulkAdd:c}=TY(),m=(0,cg.useCallback)(e=>{if(e)switch(e.action){case"createDraft":(0,yX.flushSync)(()=>{r("")}),t.current?.focus();break;case"createIssue":s&&(r(""),s({},n));break;case"openSidePanel":r(""),c("omnibar_discovery_suggestions_ui",void 0,"Add item from repository"!==e.title?e.title:void 0,n)}},[r,c,t,n,s]),{getInputProps:p,getListProps:f,getItemProps:h}=UI({items:o,onSelectedItemChange:m,isOpen:e},t),g=(0,cg.useCallback)(()=>{(0,yX.flushSync)(()=>{r(t.current?.value)}),t.current?.focus()},[r,t]),y=(0,cg.useId)();return(0,cs.jsxs)(UA,{ref:i,children:[(0,cs.jsx)(UE,{focusedPlaceholder:pX.newItemPlaceholder,inputHasFocus:!0,value:t.current?.value,descriptionId:y}),a({...p({onChange:g}),fontSize:1,pl:"12px",lineHeight:1.5,"aria-label":pX.newItemPlaceholderAriaLabel,"aria-describedby":y,autoFocus:!0,autoComplete:"off",onKeyDown:u}),(0,cs.jsx)(UM,{...f(),containerRef:l,isOpen:e,items:o,getItemProps:h,itemOnMouseDown:m,"aria-label":pX.newItemPlaceholderAriaLabel,coordinates:d})]})},UA=cw.ZP.div`
  position: relative;
  width: 100%;
  cursor: text;
  display: flex;
`;UA.displayName="ItemPickerRelative";let UM=(0,cg.forwardRef)(({items:e,getItemProps:t,itemOnMouseDown:a,isOpen:n,containerRef:r,coordinates:l,...i},s)=>{let o=(0,cg.useRef)(null);(0,bq.z)(s,o);let{adjustPickerPosition:d}=UT(r,o,n,[l,e],{yAlign:"bottom"});return(0,cs.jsx)(b3,{onMount:d,children:(0,cs.jsx)("div",{role:"dialog","aria-label":"Discovery suggestions",children:(0,cs.jsx)(U_,{...i,...(0,cK.f)("discovery-suggestions"),ref:o,hidden:!n||!e.length,sx:{p:[null,0],width:[null,"300px"],maxWidth:[null,"300px"]},children:n&&e.map((n,r)=>(0,cs.jsxs)(cg.Fragment,{children:[(0,cs.jsx)(UR,{style:{padding:14},value:n.title,...(0,cK.f)("issue-picker-item"),...t(n,r,{onMouseDown:()=>a(n)}),children:(0,cs.jsxs)(cW.Z,{sx:{justifyContent:"space-between",overflow:"hidden",flex:1,display:"flex"},children:[(0,cs.jsxs)("span",{children:[(0,cs.jsx)(mt.Z,{icon:n.icon,sx:{ml:2,color:"fg.muted"}}),(0,cs.jsx)(mn.Z,{sx:{ml:2,color:"fg.muted",fontSize:1},children:n.title})]}),(0,cs.jsx)("span",{style:{display:"flex",alignItems:"center"},children:n.shortcutContent})]})}),r!==e.length&&(0,cs.jsx)(kL.S.Divider,{sx:{margin:0}})]},r++))})})})});UM.displayName="SuggestedItemList";let UF=e=>{let t=new ResizeObserver(e);return t.observe(document.documentElement),()=>{t.unobserve(document.documentElement),t.disconnect()}};function UZ(e){let t=(0,cg.useRef)({top:0,left:0});return(0,cg.useSyncExternalStore)(UF,()=>{let a=t.current;if(e.current){let{top:n,left:r}=e.current.getBoundingClientRect();(n!==a.top||r!==a.left)&&(t.current={top:n,left:r})}return t.current})}try{(sf=UL).displayName||(sf.displayName="DiscoverySuggestions")}catch{}let UO=({items:e,onSelectedItemChange:t,textExpanderOnChange:a,expansionKey:n="#",...r},l)=>{let{inputOnBlur:i,isOpen:s,setIsOpen:o,itemOnMouseDown:d,onResetListInteraction:u}=Uk(),c=e=>{e.target.value.startsWith(n)?(s||o(!0),a(e.target.value.substr(1))):o(!1)},m=e=>{u(),o(!1),t(e)},{getInputProps:p,selectFirstItem:f,inputValue:h,getItemProps:g,...y}=UI({items:e,isOpen:s,onSelectedItemChange:m,...r},l),x=e=>{h.startsWith(n)&&o(!0)};(0,cg.useEffect)(()=>{h.startsWith(n)?o(!0):o(!1)},[h,o,n]);let b=e=>{let t=t=>{e?.onChange?.(t),c(t)},a=t=>{e?.onFocus?.(t),x(t)},n=t=>{e?.onBlur?.(t),i(t)};return p({onChange:t,onBlur:n,onFocus:a})},v=(e,t,a)=>{let n=e=>{a&&a.onMouseDown&&a.onMouseDown(e),d()};return g(e,t,{...a,onMouseDown:n})};return(0,cg.useEffect)(()=>{s&&f()},[s,e,f]),{...y,isOpen:s,selectFirstItem:f,getInputProps:b,getItemProps:v,inputValue:h,textExpanderValue:h.startsWith(n)?h.substr(1):""}},U$={paddingLeft:"12px"},UV={display:"flex",alignItems:"center",flexGrow:1,overflow:"hidden",padding:"12px",position:"relative"},UB=(0,cg.forwardRef)((e,t)=>{let{sx:a,editing:n,disallowSelection:r,...l}=e,i=Nl(),s=n?U$:{},o={...UV,height:`${i}px`,...a,userSelect:r?"none":"auto",...s};return(0,cs.jsx)(cW.Z,{ref:t,sx:o,...l})});UB.displayName="BaseCell";let Uz=({text:e,chunks:t,...a})=>(0,cs.jsx)(mn.Z,{...a,children:t.map(t=>{let a=e.substr(t.startIndex,t.endIndex-t.startIndex);return t.highlight?(0,cs.jsx)(UU,{children:a},t.startIndex.toString()):a})}),UU=cw.ZP.mark`
  background-color: ${(0,ch.U2)("colors.searchKeyword.hl")};
  color: inherit;
  font-weight: ${(0,ch.U2)("fontWeights.bold")};
`;try{(sh=Uz).displayName||(sh.displayName="HighlightedText")}catch{}let UK=(0,cg.forwardRef)(({isOpen:e,loading:t,repositories:a,getItemProps:n,positionDataMap:r,inputRef:l,...i},s)=>{let o=(0,cg.useRef)(null);(0,bq.z)(s,o);let{adjustPickerPosition:d}=UT(l,o,e,[t]),u=bQ("__omnibarPortalRoot__");return(0,cs.jsx)(b3,{id:u,onMount:d,children:(0,cs.jsx)("div",{role:"dialog","aria-label":"Repository suggestions",children:(0,cs.jsx)(U_,{...i,...(0,cK.f)("repo-searcher-list"),className:`repo-searcher-list omnibar-picker ${e&&(t||a.length)?"visible":"hidden"}`,ref:o,hidden:!e||!t&&!a.length,children:t?(0,cs.jsx)(cW.Z,{sx:{justifyContent:"center",my:4,display:"flex"},children:(0,cs.jsx)(yG.Z,{size:"medium"})}):a.map((e,t)=>(0,cg.createElement)(UW,{...n(e,t),...(0,cK.f)("repo-searcher-item"),positionData:r.get(e),key:e.id,repository:e}))})})})});UK.displayName="RepoList";let UW=({repository:e,positionData:t,...a})=>{let{projectOwner:n}=f1(),r=t?.chunks??[],l=e.nameWithOwner.split("/")[0],i=l?.toLowerCase()!==n?.login.toLowerCase()?l:"";return(0,cs.jsxs)(UR,{...a,children:[(0,cs.jsx)(bg,{repository:e}),(0,cs.jsx)(mn.Z,{sx:{ml:2},children:i?`${i}/`:""}),(0,cs.jsx)(Uz,{text:e.name,chunks:r})]})};try{(sg=UW).displayName||(sg.displayName="RepoItem")}catch{}let UH=({onRepositorySelected:e,text:t,setText:a,onItemSelected:n,inputRef:r,renderInput:l,defaultPlaceholder:i,isFocused:s,isDisabled:o})=>{let{suggestRepositories:d}=bh(),[u,c]=(0,cg.useState)(!1),[m,p]=(0,cg.useState)(),[f,h]=(0,cg.useState)(),[g,y]=(0,cg.useState)(new WeakMap),x=(0,cg.useRef)(),b=(0,cg.useRef)(!0),[v,w]=(0,cg.useState)(!!s),k=(0,cg.useCallback)(e=>{let t=e.reduce((e,t)=>(e.set(t,{chunks:[{startIndex:0,endIndex:t.name.length,highlight:!1}]}),e),new WeakMap);h(e),y(t),c(!1)},[h,y]),j=(0,cg.useCallback)(e=>{a(e.target.value)},[a]),C=(0,cg.useCallback)(async e=>{let t=e?await bc(e):void 0;r.current?.value!=="#"&&k(t?.repositories??m??[])},[k,m,r]),S=(0,cg.useCallback)(e=>{x.current&&x.current.cancel(),x.current=(0,fb.Z)(()=>C(e),200),c(!0),x.current()},[x,C,c]),I=t=>{e(t)},N=e=>{!e&&m&&k(m),e&&S(e)},{getInputProps:T,getListProps:_,getItemProps:R,isOpen:P}=UO({textExpanderOnChange:N,items:f||[],onSelectedItemChange:I,inputValue:t},r),{navigationDispatch:D}=Tc(),E=(0,cg.useCallback)(async e=>{if(e.target instanceof HTMLInputElement||e.target instanceof HTMLInputElement){let r=e.target;switch(e.key){case"Enter":a(""),e.preventDefault(),n(t);break;case"Tab":e.shiftKey||P||!(t.length>0)||(e.preventDefault(),await n(t),a(""),requestAnimationFrame(()=>{w(!1),D(N7({x:Nx.Second,y:Nx.Last,focusType:Ny.Focus}))}));break;case"Escape":P&&(a(""),e.stopPropagation());break;case"ArrowLeft":(0!==r.selectionStart||0!==r.selectionEnd)&&(e.nativeEvent.preventFocusChange=!0);break;case"ArrowRight":(r.selectionStart!==r.value.length||r.selectionEnd!==r.value.length)&&(e.nativeEvent.preventFocusChange=!0);break;case"ArrowDown":case"ArrowUp":P&&e.stopPropagation()}}},[P,t,a,n,D]),L=Ds(E);(0,cg.useEffect)(()=>{let e=async()=>{if(void 0===m){c(!0);let e=await d();p(e),r?.current?.value==="#"&&k(e)}};b.current&&(b.current=!1,e())},[m,p,d,r,k]);let A=(0,cg.useCallback)(()=>{o||w(!0)},[o]),M=(0,cg.useCallback)(()=>{o||w(!1)},[o]),F=(0,cg.useId)(),Z=o?(0,cs.jsx)(UB,{"aria-disabled":"true",sx:{cursor:"not-allowed",pl:"20px"},children:i}):l({...T({onChange:j,onFocus:A,onBlur:M}),pl:"12px",fontSize:1,lineHeight:1.5,"aria-label":pX.newItemPlaceholderAriaLabel,"aria-describedby":F,"aria-keyshortcuts":"Control+Space",autoComplete:"off",value:t,...L});return(0,cs.jsxs)(cW.Z,{sx:{width:"100%",cursor:"text",display:"flex",position:"relative"},children:[(0,cs.jsx)(UE,{descriptionId:F,focusedPlaceholder:pX.newItemPlaceholder,inputHasFocus:v,unfocusedPlaceholder:i,value:r.current?.value}),Z,(0,cs.jsx)(UK,{..._(),inputRef:r,"aria-label":pX.newItemPlaceholderAriaLabel,isOpen:P,loading:u,positionDataMap:g,getItemProps:R,repositories:f||[]})]})};try{(sy=UH).displayName||(sy.displayName="RepoSearcher")}catch{}let UG=Math.floor(44.4),Uq=Math.floor(14.8),UQ=({item:e,...t})=>(0,cs.jsx)(UR,{...t,children:(0,cs.jsxs)(cW.Z,{sx:{alignItems:"center",overflow:"hidden",flex:"1",display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,mr:2,display:"flex"},children:(0,cs.jsx)(xr,{type:e.type,state:e.state,stateReason:e?.stateReason,isDraft:!!e.isDraft})}),(0,cs.jsx)(mn.Z,{children:e.title}),(0,cs.jsx)(mn.Z,{sx:{ml:1,color:"fg.muted"},children:`#${e.number}`})]})});try{(sx=UQ).displayName||(sx.displayName="SuggestedItemOption")}catch{}let UX="add_multiple_items",UY="create_issue",UJ=(0,cg.forwardRef)(({loading:e,items:t,getItemProps:a,isOpen:n,itemOnMouseDown:r,containerRef:l,...i},s)=>{let o=(0,cg.useRef)(null);(0,bq.z)(s,o);let{adjustPickerPosition:d}=UT(l,o,n,[e,t]),{theme:u}=(0,cc.Fg)(),c=bQ("__omnibarPortalRoot__");return(0,cs.jsx)(b3,{id:c,onMount:d,children:(0,cs.jsx)("div",{"aria-label":"Suggestions",role:"dialog",children:(0,cs.jsx)(U_,{...i,...(0,cK.f)("issue-picker-list"),ref:o,className:`issue-picker-list omnibar-picker ${n&&(e||t.length)?"visible":"hidden"}`,hidden:!n||!e&&!t.length,children:e?(0,cs.jsx)(cW.Z,{sx:{justifyContent:"center",my:4,display:"flex"},children:(0,cs.jsx)(yG.Z,{size:"medium"})}):t.map((e,t)=>e.type===UY?(0,cs.jsx)(UR,{style:{borderTop:"1px solid",borderColor:u?.colors.border.muted},...a(e,t,{onMouseDown:t=>r(t,e)}),...(0,cK.f)("create-new-issue"),children:(0,cs.jsxs)(cW.Z,{sx:{alignItems:"center",overflow:"hidden",flex:"1",display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,mr:2,display:"flex"},children:(0,cs.jsx)(mt.Z,{icon:me.wl8,sx:{color:"fg.muted"}})}),(0,cs.jsxs)(mn.Z,{sx:{flexGrow:1},children:["Create new issue"," ",e.title?(0,cs.jsxs)(cs.Fragment,{children:['"',(0,cs.jsx)(mn.Z,{sx:{fontWeight:600},children:e.title}),'"']}):null]})]})},"create"):e.type===UX?(0,cs.jsx)(UR,{...a(e,t,{onMouseDown:t=>r(t,e)}),...(0,cK.f)("add-multiple-items"),children:(0,cs.jsxs)(cW.Z,{sx:{alignItems:"center",overflow:"hidden",flex:"1",display:"flex"},children:[(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,mr:2,display:"flex"},children:(0,cs.jsx)(mt.Z,{icon:me.H0r,sx:{color:"fg.muted"}})}),(0,cs.jsxs)(mn.Z,{sx:{flexGrow:1},children:["Add items from ",(0,cs.jsx)(mn.Z,{sx:{fontWeight:600},children:e.repository.nameWithOwner})]}),(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,ml:2,display:"flex"},children:(0,cs.jsx)(mt.Z,{icon:me.LZ3,sx:{color:"fg.muted"}})})]})},"multiple"):(0,cs.jsx)(UQ,{item:e,...a(e,t,{onMouseDown:t=>r(t,e)}),...(0,cK.f)("issue-picker-item")},e.number))})})})});UJ.displayName="SuggestedItemList";let U0=({repository:e})=>(0,cs.jsxs)(cW.Z,{sx:{alignItems:"center",display:"flex"},...(0,cK.f)("repo-searcher-selected-repo"),children:[(0,cs.jsx)(mn.Z,{sx:{fontSize:1,mr:0,color:"fg.subtle"},children:"repo:"}),(0,cs.jsx)(mn.Z,{sx:{fontSize:1,color:"accent.fg",mr:2},children:e.name})]});try{(sb=U0).displayName||(sb.displayName="SelectedRepositoryPill")}catch{}let U1=({onItemSelected:e,onRemovePicker:t,onFilterTextChanged:a,inputRef:n,renderInput:r,loading:l,filteredItems:i,repository:s})=>{let{isOpen:o,setIsOpen:d,inputOnBlur:u,itemOnMouseDown:c,onResetListInteraction:m,inputOnFocus:p}=Uk(),f=(0,cg.useRef)(null),{navigationDispatch:h}=Tc(),g=null!==T7(),[y,x]=(0,cg.useState)(),b=(0,cg.useMemo)(()=>{let e=Array.from(i);return g&&e.push({type:UY,title:y,repository:s}),i.length>1&&e.push({type:UX,title:y,repository:s}),e},[i,g,y,s]),v=(0,cg.useCallback)(async t=>{m(),e(t),N(""),x(""),I()},[b,m]),w=e=>{x(e.target.value),a(e.target.value)},{getInputProps:k,getListProps:j,getItemProps:C,inputValue:S,selectFirstItem:I,setInputValue:N}=UI({items:b,onSelectedItemChange:v,isOpen:o},n);(0,cg.useEffect)(()=>{o&&I()},[o,b,I]);let T=e=>{switch(e.key){case"Backspace":S||(e.preventDefault(),t());break;case"Escape":t(),e.stopPropagation();break;case"ArrowDown":case"ArrowUp":o&&e.stopPropagation();break;case"Tab":t(),requestAnimationFrame(()=>{h(N7({x:Nx.Second,y:Nx.Last,focusType:Ny.Focus}))})}},_=(0,cg.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),c()},[c]),R=(0,cg.useCallback)(()=>{d(!1)},[d]);return(0,cs.jsxs)("div",{ref:f,onBlur:R,style:{position:"relative",width:"100%",cursor:"text",display:"flex"},children:[r({...k({onFocus:p,onBlur:u,onChange:w}),fontSize:1,lineHeight:1.5,placeholder:pX.newItemFindIssuePlaceholder(g),"aria-label":pX.newItemFindIssuePlaceholder(g),autoFocus:!0,autoComplete:"off",onKeyDown:T}),(0,cs.jsx)(UJ,{...j(),containerRef:f,isOpen:o,loading:l,items:b,getItemProps:C,itemOnMouseDown:_,"aria-label":pX.newItemFindIssuePlaceholder(g)})]})};U1.displayName="SuggestedItemPicker";let U2=(0,cg.memo)(function(e){let{repository:t,filteredItemIds:a=[],newItemAttributes:n,inputRef:r,onItemSelected:l,onRemovePicker:i,renderInput:s,...o}=e,[d,u]=(0,cg.useState)(!0),{refresh:c,items:m,removeItem:p}=fT(u),{openPaneBulkAdd:f}=TY(),h=(0,cg.useMemo)(()=>m?m.filter(e=>!a.includes(e.id)):[],[a,m]),g=(0,cg.useCallback)(e=>c(t.id,e),[c,t]),y=T7(),x=(0,cg.useCallback)(async e=>{u(!0),e.type===UX?f("omnibar_add_item_suggestions_ui",t,e.title,n):e.type===UY?y?.({issueTitle:e.title,repo:Sk(e.repository.nameWithOwner)},n):(await l(e),await c(t.id,"",!0),p(e)),u(!1)},[t,f,n,l,c,p,y]);return(0,cg.useEffect)(()=>{g("")},[g]),(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(cW.Z,{...o,sx:{flexShrink:0,display:"flex",...o.sx},children:(0,cs.jsx)(U0,{repository:t})}),(0,cs.jsx)(U1,{onRemovePicker:i,onItemSelected:x,inputRef:r,renderInput:s,loading:d,filteredItems:h,onFilterTextChanged:g,repository:t})]})});U2.displayName="SuggestionsForRepository";let U5="69px",U3=(0,cg.forwardRef)(({onAddItem:e,newItemAttributes:t,scrollRef:a,...n},r)=>{let{addToast:l}=pU(),{createMemexItem:i}=T6(),s=(0,cg.useCallback)((a,n,r,l,s)=>(e?.(t),i({contentType:a.type,content:{id:a.id,repositoryId:n},memexProjectColumnValues:r,localColumnValues:l,previousMemexProjectItemId:s})),[i,t,e]),o=(0,cg.useCallback)((n,r,s,o)=>{e?.(t);let d=n.trim();return d?i({contentType:mu.DraftIssue,content:{title:jf(d)},memexProjectColumnValues:r,localColumnValues:s,previousMemexProjectItemId:o}).then(e=>(t?.setField?.dataType===c7.TrackedBy&&e.contentType!==mu.Issue&&(l({message:fa.addedUnsupportedItemToast,type:pj.warning}),a?.current?.scrollTo({left:0,top:a.current?.scrollHeight,behavior:"smooth"})),e)):Promise.resolve(null)},[l,i,t,e,a]);return(0,cs.jsx)(U4,{onAddItem:s,onAddDraftItem:o,newItemAttributes:t,...n,ref:r})});U3.displayName="OmnibarInternal";let U4=(0,cg.forwardRef)(({onAddItem:e,onAddDraftItem:t,onInputFocus:a,filteredItemIds:n,newItemAttributes:r,isFixed:l,defaultPlaceholder:i,disabled:s,childElementRole:o,...d},u)=>{let c=(0,cg.useRef)(null);(0,bq.z)(u,c);let[m,p]=(0,cg.useState)(!1),[f,h]=(0,cg.useState)(!1),{navigationDispatch:g}=Tc(),y=(0,cg.useCallback)(()=>{c.current?.focus()},[c]),x=Ub()({"is-focused":m,"is-fixed":l}),b=Ub()({"is-focused":m,"is-disabled":s}),{isTemplatesDialogOpen:v,showTemplateDialog:w,isModalDismissed:k,setIsModalDismissed:j}=RR(),{viewType:C}=wt();(0,cg.useEffect)(()=>{j(!1)},[j]),(0,cg.useEffect)(()=>{C===vQ.Table&&k&&h(!0)},[v,C,w,h,k]);let S=(0,cg.useCallback)(()=>{h(!1),p(!1)},[h]),I=(0,cg.useCallback)(e=>{e.preventDefault(),h(!f)},[f,h]),N=(0,cg.useCallback)(()=>{a&&a(),p(!0)},[a]),T=(0,cg.useCallback)(()=>{g(N8())},[g]);return(0,cs.jsxs)(U8,{className:x,onClick:y,...(0,cK.f)("omnibar"),...d,children:[(0,cs.jsx)(cW.Z,{role:o,sx:{height:"100%",padding:"3px 1px 3px 3px"},children:(0,cs.jsx)(ww.h,{"aria-label":pX.createNewItemOrAddExistingIssueAriaLabel,className:b,onClick:I,onFocus:T,disabled:s,...(0,cK.f)("new-item-button"),icon:me.pOD,variant:"invisible",size:"small",sx:{height:"100%",color:"fg.subtle"}})}),(0,cs.jsx)(cW.Z,{role:o,className:x,sx:{display:"flex",flex:"auto","&.is-focused":{boxShadow:e=>`inset 0 0 0 2px ${e.colors.accent.emphasis}`,borderRadius:"2px"},"&.is-fixed":{boxShadow:e=>`inset 1px 0 0 0 ${e.colors.border.default}`},"&.is-focused.is-fixed":{boxShadow:e=>`inset 1px 0 0 0 ${e.colors.accent.muted}`}},children:(0,cs.jsx)(U7,{ref:c,isFocused:m,filteredItemIds:n,showDiscoveryMenu:f,setShowDiscoveryMenu:h,onAddItem:e,onAddDraftItem:t,newItemAttributes:r,onFocus:N,onBlur:S,defaultPlaceholder:i,disabled:s})})]})});U4.displayName="BaseOmnibar";let U6=cw.F4`
  0% {opacity: 0;}
  100% {opacity: 1;}
`,U8=(0,cw.ZP)(cW.Z)`
  align-items: stretch;
  display: flex;
  flex: auto;
  height: ${37}px;
  max-height: ${37}px;

  &.is-fixed {
    animation: ${U6} 0.25s ease-in;
    height: ${45}px;
    max-height: ${45}px;
    width: 100%;

    background-color: ${(0,ch.U2)("colors.canvas.overlay")};
    box-shadow: inset -1px 0 0 0 ${(0,ch.U2)("colors.border.default")},
      inset 1px 0 0 0 ${(0,ch.U2)("colors.border.default")}, inset 0px 1px 0 0 ${(0,ch.U2)("colors.border.default")},
      inset 0px -1px 0 0 ${(0,ch.U2)("colors.border.default")}, ${(0,ch.U2)("shadows.shadow.medium")};
    border-radius: 6px;

    &.is-focused {
      box-shadow: inset 0 0 0 2px ${(0,ch.U2)("colors.accent.emphasis")};
    }
  }
`,U7=(0,cg.forwardRef)(({onAddItem:e,onAddDraftItem:t,onFocus:a,onBlur:n,filteredItemIds:r=[],isFocused:l,showDiscoveryMenu:i,setShowDiscoveryMenu:s,newItemAttributes:o,defaultPlaceholder:d,disabled:u},c)=>{let m=(0,cg.useRef)(null),{clearCachedSuggestions:p}=bh(),f=T1({updateAction:o&&o.setField||void 0,previousItemId:o?.previousItemId,onAddItem:e,onAddDraftItem:t}),[h,g]=(0,cg.useState)(""),[y,x]=(0,cg.useState)(null),b=(0,cg.useCallback)(e=>{(0,yX.flushSync)(()=>{x(e),g("")}),m.current?.focus()},[]),v=(0,cg.useCallback)((e="")=>{g(e),x(null)},[]);(0,cg.useImperativeHandle)(c,()=>({focus:()=>m.current?.focus(),blur:()=>m.current?.blur(),isInputElement:e=>e===m.current}),[]);let w=(0,cg.useCallback)(async e=>(p(),(0,yX.flushSync)(()=>{g("")}),e===UX)?void 0:"string"==typeof e?f(e):e?.type!==UX&&e?.type!==UY&&y?f({...e,repositoryId:y.id}):void 0,[y,p,f]),k=(0,cg.useCallback)(e=>{let t=t=>{e.onFocus&&e.onFocus(t),a&&a()},r=t=>{e.onBlur&&e.onBlur(t),n&&n()},{width:l,size:i,...s}=e;return(0,cs.jsx)(wO,{...s,ref:m,sx:{color:"fg.default",paddingLeft:"20px"},onFocus:t,onBlur:r,className:u?"is-disabled":void 0,...(0,cK.f)("repo-searcher-input")})},[u,n,a]),j=(0,cg.useCallback)(e=>{s&&(s(!1),void 0!==e&&(0,yX.flushSync)(()=>{v(e)}),m.current?.focus())},[s,v]),C=(0,cg.useCallback)(()=>{(0,yX.flushSync)(()=>{x(null)}),m.current?.focus()},[]),S=m.current?.value;return S||y||!i?y?(0,cs.jsx)(U2,{onRemovePicker:C,filteredItemIds:r,newItemAttributes:o,onItemSelected:w,repository:y,inputRef:m,renderInput:k,sx:{alignItems:"center",pl:3}}):(0,cs.jsx)(UH,{onItemSelected:w,inputRef:m,isFocused:l,isDisabled:u,renderInput:k,defaultPlaceholder:d,text:h,setText:g,onRepositorySelected:b}):(0,cs.jsx)(UL,{isOpen:!0,inputRef:m,renderInput:k,newItemAttributes:o,onCloseSuggestions:j})});U7.displayName="OmnibarInput";try{(sv=U8).displayName||(sv.displayName="StyledOmnibar")}catch{}let U9=({verticalScrollbarSize:e,isFixed:t,horizontalScrollbarSize:a,effectiveTableHeight:n,disableBlur:r})=>{let l={alignItems:"center",pl:"12px",width:e?`calc(100% - ${e}px)`:"100%",right:e?`${e}px`:"",pointerEvents:"none",">:first-child":{pointerEvents:"all"}};return t?{...l,backdropFilter:r?"unset":"blur(12px)",pb:a?0:"12px",position:"absolute",bottom:a?`${a}px`:0,pr:e?0:"12px"}:{...l,backgroundColor:"canvas.default",pb:"1px",position:"absolute",top:`${n}px`,height:"37px",borderBottom:"1px solid",borderBottomColor:"border.default",boxShadow:"shadow.medium"}},Ke=(0,cg.forwardRef)(({horizontalScrollbarSize:e,disableBlur:t,verticalScrollbarSize:a,isFixed:n,effectiveTableHeight:r,sx:l,children:i,...s},o)=>(0,cs.jsx)(cW.Z,{...s,ref:o,sx:{display:"flex",zIndex:10,...U9({isFixed:n,verticalScrollbarSize:a,horizontalScrollbarSize:e,effectiveTableHeight:r,disableBlur:t}),...l},...(0,cK.f)("omnibar-container"),children:i}));Ke.displayName="OmnibarContainer";let Kt=(0,cg.forwardRef)(({horizontalScrollbarSize:e,children:t},a)=>{let n=e??12;return(0,cs.jsx)(Ka,{ref:a,sx:{bottom:e?`${n}px`:0},...(0,cK.f)("omnibar-drawer"),children:t})});Kt.displayName="OmnibarDrawer";let Ka=(0,cw.ZP)(cW.Z)`
  position: absolute;
  width: 100%;
  pointer-events: none;
`;try{(sw=Ka).displayName||(sw.displayName="StyledOmnibarDrawer")}catch{}let Kn=(0,cg.memo)((0,cg.forwardRef)(({onClick:e},t)=>{let a=(0,cg.useRef)(null),n=(0,cg.useRef)(null),[r,l]=(0,cg.useReducer)(e=>e+1,0),[i,s]=(0,cg.useState)(!1),{dragType:o}=E4(),{orderedTokenizedFilters:d,insertFilter:u}=wn(),{groupedByColumn:c}=Ik(),{postStats:m}=v4(),{projectLimits:{singleSelectColumnOptionsLimit:p}}=f1();$0([n],()=>{s(!1)}),(0,cg.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s(!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]);let[f,h]=(0,cg.useMemo)(()=>{let e=Ig(c),t=c?.name.toLowerCase(),a=d.filter(e=>"field"===e.type&&e.field===t),{included:n,excluded:r}=Kr(a),l=e.filter(e=>e.id!==Ip).length,i=e.filter(e=>e.id!==Ip).map(e=>({id:e.id,text:e.name,selected:Kl(e,n,r)}));return[i,l]},[c,d]),[g,y]=$U(f,e=>e.selected);(0,cg.useEffect)(()=>{r>0&&a.current&&a?.current?.scrollIntoView()},[r]);let x=(0,cg.useCallback)(e=>{if(c?.name){let{dataType:t,databaseId:a,name:n}=c;u(n.toLocaleLowerCase(),e),l(),m({name:"board_column_plus_show",context:JSON.stringify({dataType:t,databaseId:a,name:n})})}},[l,c,u,m]),b=(0,cg.useCallback)(e=>{if(c?.name){let{dataType:t,databaseId:a,name:n}=c;u(`-${n.toLocaleLowerCase()}`,e),l(),m({name:"board_column_plus_hide",context:JSON.stringify({dataType:t,databaseId:a,name:n})})}},[l,c,u,m]),v=(0,cg.useCallback)(()=>{s(!0)},[]);return"column"===o?null:(0,cs.jsx)(cW.Z,{sx:{pr:4,minWidth:"170px",display:"flex"},ref:a,children:i?(0,cs.jsx)(cW.Z,{sx:{borderColor:"border.default",borderWidth:0,borderStyle:"solid",borderRadius:"5px",boxShadow:wD("shadows.overlay.shadow"),height:"100%"},ref:n,children:(0,cs.jsxs)(kL.S,{sx:{width:"max-content",overflowY:"auto",height:"100%"},role:"menu",...(0,cK.f)("add-new-column-menu"),children:[(0,cs.jsx)(kL.S.Group,{children:(0,cs.jsxs)(kL.S.Item,{"aria-label":"Add a new column to the board",role:"option",as:"button",onSelect:e,disabled:c?.dataType==="singleSelect"&&h>=p,ref:t,...(0,cK.f)("add-new-column-menu-plus-button"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.pOD,{})}),"New Column"]},"new-column-button")}),g.length>0&&(0,cs.jsx)(kL.S.Group,{selectionVariant:"multiple",title:"Visible column(s)",children:g.map(e=>(0,cs.jsx)(kL.S.Item,{selected:!0,onSelect:()=>b(e.text),role:"option",sx:{div:{display:"block",maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},...(0,cK.f)(`board-visibility-column-${e.text.toLocaleLowerCase()}`),children:e.text},e.text))}),y.length>0&&(0,cs.jsx)(kL.S.Group,{selectionVariant:"multiple",title:"Hidden column(s)",children:y.map(e=>(0,cs.jsx)(kL.S.Item,{selected:!1,onSelect:()=>x(e.text),role:"option",sx:{div:{display:"block",maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},...(0,cK.f)(`board-visibility-column-${e.text.toLocaleLowerCase()}`),children:e.text},e.text))})]})}):(0,cs.jsx)("span",{children:(0,cs.jsx)(ww.h,{icon:me.pOD,"aria-label":"Add a new column to the board",onClick:v,size:"large",...(0,cK.f)("add-new-column-button")})})})}));function Kr(e){return e.reduce((e,t)=>{if("field"===t.type)for(let a of yo(t.value))e[t.exclude?"excluded":"included"].add(a);return e},{included:new Set,excluded:new Set})}function Kl(e,t,a){let n=Ix(e);return!(t.size>0&&!gV(Array.from(t),n)||gV(Array.from(a),n))}Kn.displayName="AddNewColumnOption";let Ki=(0,cg.memo)(function({handleSearchButtonClick:e,onInputKeyDown:t,onButtonKeyDown:a,dispatchInputFocusEvent:n,navigationFocus:r,setShowFindInProject:l,containerSx:i}){let{currentView:s,isViewStateDirty:o,saveCurrentViewState:d,resetViewState:u}=v5(),{hasWritePermissions:c}=xQ(),{query:m,setQuery:p,isSearchVisible:f,searchInputRef:h,clearSearchQuery:g,addSpaceToQuery:y}=wn(),{memex_find_in_project:x}=xO(),b=(0,cg.useRef)(null),v=(0,cg.useRef)();(0,cg.useImperativeHandle)(h,()=>b.current);let[w,k]=Di(m);(0,cg.useEffect)(()=>{let e=r&&r?.type==="search-input";e&&h.current?.focus()},[r,h]);let j=(0,cg.useCallback)(()=>{E.current?.classList.add("is-focused"),n&&n()},[n]),C=()=>{E.current?.classList.remove("is-focused")},S=(0,cg.useCallback)(e=>{s&&(k(e),v.current&&v.current.cancel(),v.current=(0,fb.Z)(()=>p(s.number,e),200),v.current())},[s,k,p]),I=(0,cg.useCallback)(e=>{S(e.target.value)},[S]),N=wx(x&&!!l);(0,cg.useEffect)(()=>{function e(e){let t=wy(e);if(t===N){if(e.defaultPrevented)return;e.stopPropagation(),e.preventDefault(),j(),y()}else if(x&&t===wf.META_F){if(e.defaultPrevented)return;e.stopPropagation(),e.preventDefault(),l&&l(!0)}}return addEventListener("keydown",e),()=>removeEventListener("keydown",e)},[y,j,x,l,N]);let{items:T}=h_(),{matchesSearchQuery:_}=wn(),R=T.filter(_).length,P=(0,cg.useCallback)(async()=>{s&&await d(s.number,{ui:vh})},[s,d]),D=(0,cg.useCallback)(async()=>{s&&u(s.number,{ui:vh})},[s,u]),E=(0,cg.useRef)(null),L=(0,cg.useCallback)(()=>{s&&g(s.number)},[g,s]),A=(0,cg.useCallback)(()=>{y(),E.current?.classList.add("is-focused")},[y]),M=(0,cg.useMemo)(()=>({items:T}),[T]);return(0,cs.jsx)(wu.Provider,{value:M,children:(0,cs.jsx)(ke,{height:"37px",onContainerClick:A,containerRef:E,visible:f,onFilterIconButtonClick:e,value:w,onChange:I,onInputKeyDown:t,onBlur:C,onFocus:j,inputRef:b,filterCount:m.length>0?R:null,onClearButtonClick:L,onClearButtonKeyDown:a,onResetChanges:o?D:void 0,onSaveChanges:c&&!s?.isDeleted&&o?P:void 0,setValueFromSuggestion:S,shortcut:N,containerSx:i})})});Ki.displayName="BaseProjectViewFilterInput";let Ks=()=>{let{navigationDispatch:e}=Nv(),t=(0,cg.useCallback)(t=>{e(NN(t))},[e]),a=(0,cg.useCallback)(()=>{e(N_())},[e]);return{enableOmnibar:t,disableOmnibar:a}},Ko=(0,cg.memo)(function(){let{navigationDispatch:e}=Nv(),{state:{focus:t,previousFocus:a}}=Nb(),n=(0,cg.useCallback)(()=>{e(NT())},[e]),{itemsGroupedByField:r,groupByFieldOptions:l}=IH(),{enableOmnibar:i}=Ks(),s=(0,cg.useCallback)(t=>{if(a&&wy(t)===wf.ESCAPE){e(NS());return}let n=!1;for(let t=0;t<l.length;t++){let a=l[t];(0,ck.Z)(a,"Option must exist");let i=a.id,s=r[i];if(s&&s.length>0){let a=s[0]?.id;if(!a)return;e(NC(t,a)),n=!0;return}}n||(i(),t.preventDefault(),t.stopPropagation())},[a,e,i,r,l]),{setShowFindInProject:o}=Uy(),d=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.ESCAPE:case wf.ARROW_DOWN:s(e);return}},[s]),u=(0,cg.useCallback)(e=>{if(wy(e)===wf.ARROW_DOWN){s(e);return}},[s]);return(0,cs.jsx)(Ki,{handleSearchButtonClick:void 0,onInputKeyDown:d,onButtonKeyDown:u,dispatchInputFocusEvent:n,navigationFocus:t,setShowFindInProject:o})});try{(sk=Ko).displayName||(sk.displayName="BoardFilterInput")}catch{}let Kd={loaded:"loaded",missing:"missing",loading:"loading"};function Ku(){let[e,t]=(0,cg.useState)(!1),{missingRequiredColumnData:a}=v5();return((0,cg.useEffect)(()=>{if(!a)return;let e=!0,n=window.setTimeout(()=>{e&&t(!0)},300);return()=>{e=!1,window.clearTimeout(n)}},[a]),(0,cg.useEffect)(()=>{!a&&e&&t(!1)},[e,a]),e&&a)?{loadingState:Kd.loading}:a?{loadingState:Kd.missing}:{loadingState:Kd.loaded}}let Kc=({aggregates:e,hideItemsCount:t,itemsCount:a,counterSx:n})=>(0,cs.jsxs)(cs.Fragment,{children:[!t&&(0,cs.jsx)(wC.Z,{sx:n,...(0,cK.f)("column-items-counter"),children:a}),e.map(e=>(0,cg.createElement)(CQ.Z,{sx:n,...(0,cK.f)(`column-sum-${e.name}`),key:`aggregate-sum-${e.name}`,children:[e.name,": ",e.sum]}))]});try{(sj=Kc).displayName||(sj.displayName="AggregateLabels")}catch{}let Km={Up:"up",Down:"down"};var Kp=a(90174);async function Kf(e){let t=cQ("memex-item-update-bulk-api-data"),{memex_verified_fetch_for_memex_items_endpoints:a}=c5();if(a){let{data:a}=await fu(t.url,{method:"PUT",body:e});return a}{let{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}}let Kh=()=>{let{setColumnValue:e}=SU(),{setItemData:t}=SB(),a=(0,cg.useCallback)(async a=>{let n=[],r=[];for(let{item:t,update:l}of a){let a=fL(l);if(!a)continue;let i=S_(l,t);e(t,a),r.push({item:t,update:i});let s=fF(l);if(!s)continue;let o={id:t.id,memexProjectColumnValues:[s]};n.push(o)}try{SC();let{memexProjectItems:e}=await Kf({memexProjectItems:n});for(let a of e)t(a);return r}catch(t){for(let{item:t,update:a}of r)e(t,fL(a));throw t}},[e,t]),n=(0,Kp.U)(a,!0),r=(0,cg.useCallback)(async(e,t)=>{let r=e.map(e=>({item:e,update:t})),l=await a(r);return async()=>{await n(l)}},[a,n]);return{bulkUpdateColumnValues:r}},Kg=()=>{let{bulkUpdateColumnValues:e}=Kh(),{addToast:t}=pU(),a=async(a,n)=>{let r=await e(a,n);a.length>1&&n.dataType!==c7.Repository&&t({message:`${a.length} items updated`,type:"success",action:{text:"Undo",handleClick:()=>r()},keepAlive:!0})};return{bulkUpdateItems:a}};function Ky(e){switch(e.dataType){case c7.Assignees:return{id:c9.Assignees,dataType:e.dataType};case c7.Date:return{id:e.id,dataType:e.dataType};case c7.Iteration:{let t=gp(e);return{id:e.id,dataType:e.dataType,allIterations:t}}case c7.Labels:return{id:c9.Labels,dataType:e.dataType};case c7.LinkedPullRequests:return{id:c9.LinkedPullRequests,dataType:e.dataType};case c7.Milestone:return{id:c9.Milestone,dataType:e.dataType};case c7.Number:return{id:e.id,dataType:e.dataType};case c7.Repository:return{id:c9.Repository,dataType:e.dataType};case c7.Reviewers:return{id:c9.Reviewers,dataType:e.dataType};case c7.SingleSelect:if(mq(e.id)||e.id===c9.Status){let t=e.settings.options||[];return{id:e.id,dataType:e.dataType,options:t}}return null;case c7.Text:return{id:e.id,dataType:e.dataType};case c7.Title:return{id:c9.Title,dataType:e.dataType};case c7.Tracks:return{id:c9.Tracks,dataType:e.dataType};case c7.TrackedBy:return{id:c9.TrackedBy,dataType:e.dataType};default:h2(e)}}function Kx(e,t){let a;t.contentRepositoryId&&(a=t.contentRepositoryId);let n=Ky(e);if(n)return{repositoryId:a,column:n,row:t}}let Kb=e=>{if(!e.column.columnModel)return;let t=Kx(e.column.columnModel,e.row.original);if(!t)return;let a=Kw(t);if(a)return{...a,columnId:t.column.id,itemId:t.row.id}},Kv=(e,t)=>{let a=Kx(e,t);if(!a)return;let n=Kw(a);if(n)return{...n,columnId:a.column.id,itemId:a.row.id}},Kw=e=>{let{column:t,row:a}=e;switch(t.dataType){case c7.Title:{let e=a.columns[c9.Title];if(!e||e.contentType===mu.RedactedItem)return;return{text:e.value.title.raw,dataType:c7.Title,value:{title:e.value.title}}}case c7.Assignees:{let e=a.columns.Assignees;if(a.contentType===mu.RedactedItem||!e||0===e.length)return;return{text:e.map(e=>e.name).join(", "),dataType:c7.Assignees,value:e,repositoryId:a.contentRepositoryId}}case c7.Labels:{if(a.contentType===mu.DraftIssue||a.contentType===mu.RedactedItem)return;let e=a.columns.Labels;if(!e||0===e.length)return;return{text:e.map(e=>e.name).join(", "),dataType:c7.Labels,value:e,repositoryId:a.contentRepositoryId}}case c7.Milestone:{if(a.contentType===mu.DraftIssue||a.contentType===mu.RedactedItem)return;let e=a.columns.Milestone;if(!e)return;return{text:e.title,dataType:c7.Milestone,value:e,repositoryId:a.contentRepositoryId}}case c7.Repository:{let e=a.columns.Repository;if(!e)return;return{text:e.nameWithOwner,dataType:c7.Repository,value:e}}case c7.Tracks:{let e=a.columns.Tracks;if(!e)return;return{text:pX.progressCount({percent:m9(e),total:e.total}),dataType:c7.Tracks,value:e}}case c7.TrackedBy:{let e=a.columns["Tracked by"];if(!e||0===e.length)return;return{text:e.map(f_).join(", "),dataType:c7.TrackedBy,value:e||[]}}case c7.Text:{let e=a.columns[t.id],n=mW(e);if(!n)return;return{text:n.raw,dataType:c7.Text,value:n}}case c7.Number:{let e=a.columns[t.id],n=mH(e);if(!n)return;return{text:n.value.toString(),dataType:c7.Number,value:n}}case c7.Date:{let e=a.columns[t.id],n=mJ(e),r=mY(e);if(!n||!r)return;return{text:n,dataType:c7.Date,value:r}}case c7.Iteration:{let e=a.columns[t.id],n=e?.id,r=t.allIterations.find(e=>e.id===n),l=r?.title;if(!l||!e)return;return{text:l,dataType:c7.Iteration,value:e}}case c7.SingleSelect:{let e=a.columns[t.id],n=e?.id,r=t.options.find(e=>e.id===n),l=mG(e),i=r?.name;if(!i||!l)return;return{text:i,dataType:c7.SingleSelect,value:l}}case c7.Reviewers:{let e=a.columns.Reviewers;if(!e||0===e.length)return;return{text:e.map(e=>e.reviewer.name).join(", "),dataType:c7.Reviewers,value:e||[]}}case c7.LinkedPullRequests:{let e=a.columns["Linked pull requests"];if(!e||0===e.length)return;return{text:e.map(e=>e.url).join(", "),dataType:c7.LinkedPullRequests,value:e}}default:h2(t)}};function Kk(e,t,a=""){return e+=""!==a?`"${a}"`:a,t||(e+=","),e}function Kj(e){let t=e.map(e=>e.name),a="";for(let[e,n]of t.entries())a=Kk(a,e===t.length-1,n);return a+"\n"}let KC=(e,t)=>{if(0===e.length)return;let a=Kj(t);for(let n of e){for(let e=0;e<t.length;e++){let r=t[e];if(r){let l=Kv(r,n.original);a=Kk(a,e===t.length-1,l?.text)}}a+="\n"}return a},KS={LabelWrongRepo:"LabelWrongRepo",AssigneeWrongRepo:"AssigneeWrongRepo",MilestoneWrongRepo:"MilestoneWrongRepo",IsDraft:"IsDraft",DataTypeMismatch:"DataTypeMismatch",IterationNotFound:"IterationNotFound"},KI=(e,t,a,n,r,l)=>{let i=e.column.columnModel;if(!i)return;let s=Kx(i,e.row.original);if(!s)return;let{repositoryId:o,column:d,row:u}=s;switch(l&&(r?0===r.length&&(r[0]=u):r=[u]),i.dataType){case c7.Assignees:{if("string"==typeof t||t.dataType!==c7.Assignees)return;if(l){for(let e of r)if((e.contentType===mu.Issue||e.contentType===mu.PullRequest)&&(!o||t.repositoryId!==o))return KS.AssigneeWrongRepo}else if((u.contentType===mu.Issue||u.contentType===mu.PullRequest)&&(!o||t.repositoryId!==o))return KS.AssigneeWrongRepo;let e=t.value,i={dataType:c7.Assignees,value:e};l?n(r,i):a(u,i);return}case c7.Date:{if("string"==typeof t||t.dataType!==c7.Date)return;let e=t.value,s={dataType:c7.Date,memexProjectColumnId:i.id,value:{value:e.value}};l?n(r,s):a(u,s);return}case c7.Iteration:{if("string"==typeof t)return;let e=null;if(t.dataType===c7.Iteration&&t.columnId===d.id){let a=t.value;e=a.id}else if(t.dataType===c7.Text){let a=t.value;if(!i)return;let n=a.raw.trim().toLowerCase(),r=gp(i).find(e=>e.title.trim().toLowerCase()===n);if(!r)return;e=r.id}if(!e)return;let s={dataType:c7.Iteration,memexProjectColumnId:i.id,value:{id:e}};l?n(r,s):a(u,s);return}case c7.Labels:{if("string"==typeof t||t.dataType!==c7.Labels)return;if(l){for(let e of r)if(e.contentType===mu.DraftIssue)return KS.IsDraft}else if(u.contentType===mu.DraftIssue)return KS.IsDraft;if(!o||t.repositoryId!==o)return KS.LabelWrongRepo;let e=t.value,i={dataType:c7.Labels,value:e};l?n(r,i):a(u,i);return}case c7.Milestone:{if("string"==typeof t||t.dataType!==c7.Milestone)return;if(l){for(let e of r)if(e.contentType===mu.DraftIssue)return KS.IsDraft}else if(u.contentType===mu.DraftIssue)return KS.IsDraft;if(!o||t.repositoryId!==o)return KS.MilestoneWrongRepo;let e=t.value;if(!e)return;let i={dataType:c7.Milestone,value:e};l?n(r,i):a(u,i);return}case c7.Number:{let e=null;if("string"==typeof t){if(!t||isNaN(e=parseFloat(t)))return}else if(t.dataType===c7.Number){let a=t.value;e=a.value}else if(t.dataType===c7.Text&&(!t.text||isNaN(e=parseFloat(t.text))))return;if(null===e)return;let s={dataType:c7.Number,memexProjectColumnId:i.id,value:{value:e}};l?n(r,s):a(u,s);return}case c7.SingleSelect:{if("string"==typeof t)return;let e=null;if(t.dataType===c7.SingleSelect&&t.columnId===d.id){let a=t.value;e=a.id}else if(t.dataType===c7.Text){let a=t.value,n=i.settings.options,r=a.raw.trim().toLowerCase(),l=n.find(e=>e.name.trim().toLowerCase()===r);if(!l)return;e=l.id}if(!e)return;let s={dataType:c7.SingleSelect,memexProjectColumnId:i.id,value:{id:e}};l?n(r,s):a(u,s);return}case c7.Text:{let e={dataType:c7.Text,memexProjectColumnId:i.id,value:"string"==typeof t?t:t.text};l?n(r,e):a(u,e);return}}};function KN(e,t){if(0===e.length)return;let a=Kj(t),n=t.length-1;for(let r of e){let e=r.columns;for(let[r,l]of t.entries()){let t;switch(l.dataType){case c7.Title:t=m6(e.Title);break;case c7.Assignees:{let a=e.Assignees;a&&(t=a.map(e=>e.name).join(", "));break}case c7.Repository:{let a=e.Repository;t=a?a.nameWithOwner:"";break}case c7.Milestone:t=e.Milestone?.title;break;case c7.Date:{let a=e[l.id];t=mJ(a);break}case c7.Text:{let a=e[l.id];t=a?.raw;break}case c7.Number:{let a=e[l.id];t=a?.value.toString();break}case c7.Labels:{let a=e.Labels;t=a&&a?.length>0?a.map(e=>e.name).join(", "):"";break}case c7.Iteration:{let a=e[l.id]?.id,n=l.settings.configuration.iterations.find(e=>e.id===a);t=n?.title;break}case c7.SingleSelect:{let a=e[l.id]?.id,n=l.settings.options.find(e=>e.id===a);t=n?.name;break}case c7.Reviewers:{let a=e.Reviewers;t=a&&a?.length>0?a.map(e=>e.reviewer.name).join(", "):"";break}case c7.LinkedPullRequests:{let a=e["Linked pull requests"];t=a&&a?.length>0?a.map(e=>e.url).join(", "):"";break}case c7.Tracks:{let a=e.Tracks;t=a?pX.progressCount({percent:m9(a),total:a.total}):"";break}case c7.TrackedBy:{let a=e["Tracked by"];t=a&&a?.length>0?a.map(f_).join(", "):"";break}default:h2(l)}a=Kk(a,r===n,t)}a+="\n"}return a}let KT={UPDATE_CLIPBOARD:"UPDATE_CLIPBOARD",CLEAR_CLIPBOARD:"CLEAR_CLIPBOARD"},K_={type:"empty"},KR=(e,t)=>{switch(t.type){case KT.CLEAR_CLIPBOARD:return K_;case KT.UPDATE_CLIPBOARD:return{type:"populated",value:t.state};default:return e}},KP=e=>(0,cg.useReducer)(KR,e),KD=()=>{let e=(0,cg.createContext)({state:K_,clipboardDispatch:()=>void 0});e.displayName="CopyPaste";let t=(0,cg.memo)(function({children:t}){let[a,n]=KP(K_),r=(0,cg.useMemo)(()=>({state:a,clipboardDispatch:n}),[a,n]);return(0,cs.jsx)(e.Provider,{value:r,children:t})}),a=()=>{let{memex_bulk_actions:t}=xO(),{updateItem:a}=LZ(),{state:n,clipboardDispatch:r}=(0,cg.useContext)(e),{visibleFields:l}=FR(),{addToast:i}=pU(),s=(0,cg.useCallback)(()=>{r({type:KT.CLEAR_CLIPBOARD})},[r]),o=(0,cg.useCallback)(e=>{let t=Kb(e);t&&(r({type:KT.UPDATE_CLIPBOARD,state:t}),navigator.clipboard.writeText(t.text))},[r]),d=(0,cg.useCallback)(e=>{let t=KC(e,l);t&&navigator.clipboard.writeText(t)},[l]),{bulkUpdateItems:u}=Kg(),c=(0,cg.useCallback)(async(e,r)=>{if("empty"===n.type)return;if(!n.value.text||!n.value.dataType)try{n.value.text=await navigator.clipboard.readText()}catch(e){}let l=n.value.dataType&&n.value.columnId?KI(e,n.value,a,u,r,t):KI(e,n.value.text,a,u,r,t);if(l)switch(l){case KS.LabelWrongRepo:return i({message:pX.unableToPasteLabelsBetweensRepos,type:pj.warning});case KS.AssigneeWrongRepo:return i({message:pX.unableToPasteAssigneesBetweensRepos,type:pj.warning});case KS.MilestoneWrongRepo:return i({message:pX.unableToPasteMilestonesBetweensRepos,type:pj.warning});case KS.IsDraft:return i({message:pX.unableToPasteOnDraftIssue,type:pj.warning});case KS.DataTypeMismatch:return i({message:pX.unableToPasteMismatchedDataTypes,type:pj.warning});case KS.IterationNotFound:return i({message:pX.iterationNotFound,type:pj.warning})}},[i,u,n,t,a]),m=(0,cg.useCallback)(e=>{if("empty"!==n.type)return n.value.columnId?.toString()===e.column.id&&n.value.itemId===e.row.original.id},[n]),p=(0,cg.useCallback)(e=>{let t=KN(e,l);t&&navigator.clipboard.writeText(t)},[l]);return{copyCell:o,copyRows:d,paste:c,clearClipboard:s,isCellCopySource:m,copyCards:p}};return{CopyPasteContext:e,CopyPasteProvider:t,useCopyPaste:a}},{CopyPasteProvider:KE,useCopyPaste:KL}=KD();try{(sC=KE).displayName||(sC.displayName="CopyPasteProvider")}catch{}let KA=e=>{let t=KM();return t(e)};function KM(){let{hasColumnData:e}=MK();return t=>e(t)}var KF=a(27999);let KZ=(0,ch.U2)("colors.neutral.subtle"),KO=(0,ch.U2)("colors.neutral.muted"),K$=cw.F4`
  from {
    background-position: -200px 0;
  }

  to {
    background-position: 200px 0;
  }
`,KV=cw.iv`
  background-image: linear-gradient(
    to right,
    ${KZ} 0%,
    ${KO} 40%,
    ${KZ} 50%,
    ${KZ} 100%
  );
  background-color: ${(0,ch.U2)("colors.border.muted")};
  background-size: 200px 50px;
  animation: ${K$} 1.5s linear infinite;
`,KB=cw.ZP.div`
  display: inline-block;
  width: ${e=>e.minWidth+Math.floor(Math.random()*(e.maxWidth-e.minWidth))}px;
  height: 4px;
  border-radius: 6px;
  ${KV}
  ${KF.space}
`,Kz=cw.ZP.div`
  --width: ${e=>e.minWidth+Math.floor(Math.random()*(e.maxWidth-e.minWidth))}px;
  display: inline-block;
  width: var(--width);
  height: 14px;
  border-radius: 100px;
  ${KV}
  ${KF.space}
`,KU=cw.ZP.div`
  display: inline-block;
  width: 20px;
  height: 20px;
  border-radius: 20px;
  ${KV}
  ${KF.space}
`,KK={zIndex:0},KW=({assignee:e,...t})=>{let{toggleFilter:a}=wn(),n=(0,cg.useCallback)(t=>{t.shiftKey||t.metaKey||a("assignee",e.login)},[a,e.login]),r=(0,cg.useCallback)(t=>{"Enter"===t.key&&a("assignee",e.login)},[a,e.login]),l=(0,cg.useRef)(null),[i,s]=EE({contentRef:l,"aria-label":e.login});return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(bL.Z,{...t,ref:l,loading:"lazy",sx:{...t.sx,cursor:"pointer"},onClick:n,onKeyDown:r,tabIndex:0,role:"button",alt:e.login,src:e.avatarUrl,"aria-label":e.login,...i}),s]})};function KH(e,t={reverse:!1}){if(0===e.length)return"none";let a=e.map(e=>e.login);return ps(t.reverse?a.reverse():a)}let KG={all:"unset",m:0,p:0},Kq=({assignees:e,alignRight:t=!1,sx:a,wrapperSx:n,...r})=>{let l=KA(c9.Assignees);return void 0===e||0===e.length?null:l?(0,cs.jsxs)(cW.Z,{as:"figure",...r,sx:{...KG,...n},children:[(0,cs.jsxs)(b7,{as:"figcaption",children:["Assignees: ",KH(e,{reverse:t})]}),(0,cs.jsx)(LK.Z,{alignRight:t,sx:{...KK,...a},children:e.map(e=>(0,cs.jsx)(KW,{assignee:e},e.id))})]}):(0,cs.jsx)(KU,{})};try{(sS=KW).displayName||(sS.displayName="ClickableAvatar")}catch{}try{(sI=Kq).displayName||(sI.displayName="AssigneeStack")}catch{}let KQ=()=>(0,cs.jsx)(UP.u,{keys:"delete"}),KX=()=>wg()?null:(0,cs.jsx)(UP.u,{keys:"e"}),KY={TOGGLE_SELECTED:"TOGGLE_SELECTED",TOGGLE_ALL_SELECTED:"TOGGLE_ALL_SELECTED",EXPAND_COLUMN_SELECTION:"EXPAND_COLUMN_SELECTION",EXPAND_COLUMN_SELECTION_VIA_KEYS:"EXPAND_COLUMN_SELECTION_VIA_KEYS",SELECT_ALL_CYCLE:"SELECT_ALL_CYCLE",INIT:"INIT"},KJ=(e,t)=>({type:KY.TOGGLE_SELECTED,itemId:e,state:t}),K0=e=>({type:KY.TOGGLE_ALL_SELECTED,state:e}),K1=e=>({type:KY.INIT,state:e}),K2=(e,t,a)=>({type:KY.EXPAND_COLUMN_SELECTION,anchorColumnIndex:e,anchorId:t,targetId:a}),K5=(e,t,a)=>({type:KY.EXPAND_COLUMN_SELECTION_VIA_KEYS,anchorColumnIndex:e,anchorId:t,direction:a}),K3=e=>({type:KY.SELECT_ALL_CYCLE,columnIndex:e}),K4=()=>{let e=(0,cg.createContext)({state:{selected:{}},selectionDispatch:()=>void 0}),t=()=>{let t=(0,cg.useContext)(e);return t},a=(0,cg.memo)(function({initialState:t,metaRef:a,children:n}){let[r,l]=Wt(t,a),i=(0,cg.useMemo)(()=>({state:r,selectionDispatch:l}),[r,l]);return(0,cs.jsx)(e.Provider,{value:i,children:n})});return{CardSelectionContext:e,CardSelectionProvider:a,useCardSelectionDispatch:t}},K6=(e,t)=>{let a=t.state,n=e.selected[t.itemId]??!1,r=void 0!==a?a:!n;return{selected:{...e.selected,[t.itemId]:r}}},K8=(e,t)=>{if(!0!==t.state)return{selected:{}};{let t=e.current.cardGrid.reduce((e,t)=>e.concat(t.items),[]),a={selected:{}};return t.map(e=>a.selected[e.id]=!0),a}},K7=(e,t,a)=>{let n=t.current.cardGrid[a.anchorColumnIndex]?.items??[],r=n.findIndex(e=>e.id===a.anchorId),l=n.findIndex(e=>e.id===a.targetId);if(!(r>-1)||!(l>-1))return e;{let t=[];if(l<r?t=n.slice(l,r+1):l>r&&(t=n.slice(r,l+1)),!t.length)return e;{let e={selected:{}};for(let a of t)e.selected[a.id]=!0;return e}}},K9=(e,t,a)=>{let n=t.current.cardGrid[a.anchorColumnIndex]?.items??[],r=n.reduce((e,t,a)=>(e[t.id]=a,e),{}),l=r[a.anchorId];if(void 0===l)return e;{let{selected:t}=e,i=Object.keys(t).filter(e=>t[e]&&void 0!==r[e]).sort((e,t)=>(r[e]??0)-(r[t]??0)),s=r[gZ(i[0])]??l,o=r[gZ(i[i.length-1])]??l,d=a.direction===Km.Up,u=a.direction===Km.Down,c=[];if(i.length<=1?d?c=n.slice(s-1,s+1):u&&(c=n.slice(s,s+2)):l<o?d?c=n.slice(s,o):u&&(c=n.slice(s,o+2)):d&&0!==s?c=n.slice(s-1,l+1):u&&(c=n.slice(s+1,l+1)),!c.length)return e;{let e={selected:{}};return c.map(t=>e.selected[t.id]=!0),e}}},We=(e,t,a)=>{let n=Object.keys(e.selected).filter(t=>!0===e.selected[t]),r=0;t.current.cardGrid.map(e=>r+=e.items.length);let l=t.current.cardGrid[a.columnIndex]?.items??[],i=0===n.length||n.length<l.length,s=n.length===r,o=l.every(e=>n.includes(e.id.toString()));if(i){let e={selected:{}};return l.map(t=>e.selected[t.id]=!0),e}return s?{selected:{}}:o?K8(t,K0(!0)):e},Wt=(e,t)=>{let a=(e,a)=>{switch(a.type){case KY.TOGGLE_SELECTED:return K6(e,a);case KY.TOGGLE_ALL_SELECTED:return K8(t,a);case KY.EXPAND_COLUMN_SELECTION:return K7(e,t,a);case KY.EXPAND_COLUMN_SELECTION_VIA_KEYS:return K9(e,t,a);case KY.SELECT_ALL_CYCLE:return We(e,t,a);case KY.INIT:return a.state;default:return e}};return(0,cg.useReducer)(a,e)},{CardSelectionProvider:Wa,useCardSelectionDispatch:Wn}=K4();try{(sN=CardSelectionContext).displayName||(sN.displayName="CardSelectionContext")}catch{}try{(sT=Wa).displayName||(sT.displayName="CardSelectionProvider")}catch{}let Wr=(e,t,a)=>{let{selectionDispatch:n,state:{selected:r}}=Wn(),{findMemexItem:l}=SV(),{navigationDispatch:i,stateRef:s}=Nv(),o=(0,cg.useCallback)((e,t)=>{n(KJ(e,t))},[n]),d=(0,cg.useCallback)(e=>{n(K0(e))},[n]),u=(0,cg.useCallback)(e=>{d(!1),o(e,!0)},[d,o]),c=(0,cg.useCallback)(()=>{n(K1({selected:{}}))},[n]),m=(0,cg.useCallback)((e,t,a)=>{n(K2(e,t,a))},[n]),p=(0,cg.useCallback)(e=>{if(s.current?.focus?.type==="coordinate"){let{x:t,y:a}=s.current.focus.details;n(K5(t,a,e))}},[s,n]),f=(0,cg.useMemo)(()=>Object.keys(r).reduce((e,t)=>{let a=parseInt(t,10);return r[t]&&l(a)?.contentType!==mu.RedactedItem&&e.push(a),e},[]),[l,r]),h=(0,cg.useCallback)(n=>{if(!e||e.contentType===mu.RedactedItem||n.defaultPrevented)return;let l=t?.current?.contains(n.target);if(!l){if(n.shiftKey&&s.current?.focus?.type==="coordinate"){let{x:t,y:a}=s.current.focus.details;m(t,a,e.id)}else if(py(n)&&s.current?.focus?.type==="coordinate"){let t=0===Object.keys(r).filter(e=>!0===r[e]).length;if(t){let{y:e}=s.current.focus.details;o(e,!0)}o(e.id),void 0!==a&&i(NC(a,e.id))}else Uo()||c()}n.stopPropagation()},[a,t,m,s,e,i,c,r,o]),g=(0,cg.useCallback)(()=>{void 0!==a&&n(K3(a))},[a,n]);return{expandColumnSelectionViaKeys:p,onCardClick:h,resetSelection:c,filteredSelectedCardIds:f,selectSingleCard:u,state:r,toggleAllSelected:d,toggleCardSelected:o,selectAllCycle:g}},Wl=()=>(0,cs.jsx)(cW.Z,{sx:{width:"16px",height:"16px",bg:"border.muted",borderRadius:10,borderWidth:"0",borderStyle:"solid",borderColor:"border.default"}}),Wi=(0,cg.memo)(function({item:e,columnData:t,archiveItem:a,removeItem:n,contextMenuRef:r,...l}){let i=t.Assignees,{postStats:s}=v4(),o=(0,cg.useRef)(null),[d,u]=(0,cg.useState)(!1),{hasWritePermissions:c}=xQ(),m=null,p=(0,cs.jsx)(Kq,{assignees:i,alignRight:!0,...(0,cK.f)("board-card-assignees")}),f=t.Title;if(!f)return null;switch(f.contentType){case mu.RedactedItem:m=(0,cs.jsx)(Ws,{contextMenuRef:r,Icon:(0,cs.jsx)(mt.Z,{icon:me.mBM,sx:{color:"fg.muted"}}),Title:(0,cs.jsx)(cW.Z,{sx:{width:"48px",height:"4px",bg:"border.muted",borderRadius:1,borderWidth:"0",borderStyle:"solid",borderColor:"border.default"}}),Avatars:(0,cs.jsx)(Wl,{}),item:e,disableContextMenu:!0,removeItem:n});break;case mu.DraftIssue:{let t=()=>s({name:vl,ui:"card-context-menu",memexProjectItemId:e.id});m=(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Ws,{ref:o,contextMenuRef:r,Icon:(0,cs.jsx)(mt.Z,{icon:me.aNF,"aria-label":"Draft issue",sx:{color:"fg.muted"}}),Title:(0,cs.jsx)(mn.Z,{sx:{fontSize:0,color:"fg.muted"},children:"Draft"}),Avatars:p,item:e,convertToIssue:()=>u(!0),removeItem:n,archiveItem:a,disableContextMenu:!c}),(0,cs.jsx)(MS,{anchorRef:o,isOpen:d,item:e,onOpenChange:e=>u(e),onSuccess:t,...(0,cK.f)("card-menu-repo-picker")})]});break}case mu.Issue:case mu.PullRequest:{let l=t.Repository?.name;m=(0,cs.jsx)(Ws,{ref:o,contextMenuRef:r,Icon:(0,cs.jsx)(xl,{title:f,size:16}),Title:(0,cs.jsxs)(mn.Z,{sx:{fontSize:0,color:"fg.muted"},children:[l," #",f.value.number]}),Avatars:p,item:e,archiveItem:a,removeItem:n,disableContextMenu:!c})}}return m?(0,cs.jsx)(cW.Z,{...l,children:m}):null}),Ws=(0,cg.forwardRef)(({Icon:e,Title:t,Avatars:a,disableContextMenu:n,archiveItem:r,convertToIssue:l,removeItem:i,contextMenuRef:s,item:o},d)=>(0,cs.jsxs)(cW.Z,{sx:{display:"flex",justifyContent:"space-between"},ref:d,children:[(0,cs.jsx)(Wu,{Icon:e,Title:t,item:o,disableContextMenu:n,archiveItem:r,convertToIssue:l,removeItem:i,contextMenuRef:s}),(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexShrink:0,justifyContent:"flex-end",alignItems:"center"},children:a})]}));Ws.displayName="HeaderInternal";let Wo=(0,cw.ZP)(cW.Z)`
  user-select: none;
  cursor: default;
  display: flex;

  &:not(.js-disable-context-menu):not(.js-context-menu-open) .js-context-menu-trigger {
    /* if we switch this to display: none or visibility: hidden,
    we will not be able to focus the menu button with the Tab key or ESC key when closing  the menu
    because of the event loop rendering process */
    opacity: 0;
  }

  .js-context-menu-trigger:hover > div,
  &.js-context-menu-open .js-context-menu-trigger > div {
    background-color: ${(0,ch.U2)("colors.canvas.subtle")};
  }
`,Wd={ARCHIVE_ITEM:"archive-item",DELETE_FROM_PROJECT:"delete-from-project"},Wu=({Icon:e,Title:t,contextMenuRef:a,item:n,convertToIssue:r,archiveItem:l,removeItem:i,disableContextMenu:s})=>{let[o,d]=(0,cg.useState)(!1),{filteredSelectedCardIds:u,state:c}=Wr(),m=n.contentType!==mu.RedactedItem&&c[n.id],p=Ub()({"js-disable-context-menu":s,"js-context-menu-open":o});return(0,cs.jsxs)(Wo,{sx:{height:"24px",alignItems:"center"},className:p,children:[(0,cs.jsx)(cW.Z,{sx:{mr:1},children:e}),t,!s&&(0,cs.jsx)(cW.Z,{sx:{mr:0},className:"js-context-menu-trigger",children:(0,cs.jsxs)(kA.P,{open:o,onOpenChange:d,anchorRef:a,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{variant:"invisible",icon:me.Ui8,...(0,cK.f)("card-context-menu-trigger"),"aria-label":"More actions",sx:{ml:1,color:"fg.muted",width:"24px",height:"24px",padding:0}})}),(0,cs.jsx)(kA.P.Overlay,{anchorSide:"inside-right",children:(0,cs.jsxs)(kL.S,{children:[r?(0,cs.jsxs)(kL.S.Item,{onSelect:r,...(0,cK.f)("card-context-menu-convert-to-issue"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.hEv,{})}),"Convert to issue"]}):null,l?(0,cs.jsxs)(kL.S.Item,{id:Wd.ARCHIVE_ITEM,onSelect:()=>l?.(vR),...(0,cK.f)("card-context-menu-archive-item"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.rKT,{})}),m&&u.length>1?`Archive ${u.length} selected items`:"Archive",(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(KX,{})})]}):null,(0,cs.jsxs)(kL.S.Item,{id:Wd.DELETE_FROM_PROJECT,variant:"danger",onSelect:()=>i(vR),...(0,cK.f)("card-context-menu-delete"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),m&&u.length>1?`Delete ${u.length} selected items from project`:"Delete from project",(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(KQ,{})})]})]})})]})})]})};try{(s_=Wl).displayName||(s_.displayName="RedactedAvatar")}catch{}try{(sR=Wi).displayName||(sR.displayName="Header")}catch{}try{(sP=Wo).displayName||(sP.displayName="StyledIconAndTitle")}catch{}try{(sD=Wu).displayName||(sD.displayName="IconAndTitle")}catch{}let Wc={fontSize:1},Wm=({item:e})=>{let t=e.columns,a=m6(t.Title),n=(0,cg.useRef)(null);k0(n);let r={"&:hover":{textDecoration:"underline",color:"accent.fg"}};switch(e.contentType){case mu.RedactedItem:return(0,cs.jsx)(y9,{ref:n,sx:Wc,children:a});case mu.DraftIssue:case mu.Issue:return(0,cs.jsx)(Wf,{item:e,ref:n});case mu.PullRequest:return a?(0,cs.jsx)(yH.Z,{ref:n,href:e.content.url,target:"_blank",rel:"noreferrer",onClick:e=>e.stopPropagation(),sx:{code:{fontFamily:"fonts.mono",fontSize:0},color:"fg.default",textAlign:"left",fontSize:1,...r},...(0,cK.f)("card-title-external-link"),children:(0,cs.jsx)(y9,{children:a})}):null}},Wp=(0,cg.memo)(Wm);Wp.displayName="Title";let Wf=(0,cg.forwardRef)(({item:e},t)=>{let a=e.getTitle(),{openPane:n}=T0(),r="#";e.contentType===mu.Issue&&(r=e.getUrl());let l=(0,cg.useCallback)(t=>{(t.metaKey||t.ctrlKey)&&e.contentType!==mu.DraftIssue||(n(e),t.preventDefault())},[e,n]);return(0,cs.jsx)(yH.Z,{role:"button",href:r,target:"_blank",rel:"noreferrer",onClick:l,...(0,cK.f)("card-side-panel-trigger"),children:(0,cs.jsx)(y9,{ref:t,sx:{code:{fontFamily:"fonts.mono",fontSize:0},color:"fg.default","&:hover":{cursor:"pointer",color:"accent.fg",textDecoration:"underline"}},children:a})})});Wf.displayName="SidePanelLink";try{(sE=Wm).displayName||(sE.displayName="TitleFunc")}catch{}let Wh=(0,cw.ZP)(cW.Z)`
  &:hover {
    border-color: ${(0,ch.U2)("colors.border.default")};
  }

  &:focus-within :not(.js-disable-context-menu).js-context-menu-trigger,
  &:focus :not(.js-disable-context-menu).js-context-menu-trigger,
  &:hover :not(.js-disable-context-menu).js-context-menu-trigger {
    opacity: unset;
  }

  &:focus,
  &.suspended-focus {
    outline: none;
    border-color: ${(0,ch.U2)("colors.accent.emphasis")};
    box-shadow: 0 0 0 1px ${(0,ch.U2)("colors.accent.emphasis")};
  }

  &.selected:not(:focus, .suspended-focus) {
    outline: none;
    border-color: ${(0,ch.U2)("colors.accent.emphasis")};
  }
`,Wg=(0,cw.ZP)(cW.Z)`
  flex-wrap: wrap;
  display: flex;
  gap: 4px;
  margin-top: 8px;
`,Wy=(0,cw.ZP)(Wh)`
  position: relative;

  &:after,
  &:before {
    content: '';
    display: none;
    position: absolute;
    width: 100%;
    background-color: ${(0,ch.U2)("colors.accent.emphasis")};
    height: ${(0,ch.U2)("space.1")};
    border: 0;
    border-radius: 6px;
    z-index: 12;
  }

  body.is-dragging &.show-sash-card.show-sash-after {
    &:after {
      bottom: -7px;
      display: block;
    }
  }

  body.is-dragging &.show-sash-card.show-sash-before {
    &:before {
      top: -7px;
      display: block;
    }
  }

  body.is-dragging &.show-sash-card.show-sash-before:first-child {
    &:before {
      top: 0;
    }
  }
`,Wx=(0,cg.memo)((0,cg.forwardRef)(function({item:e,index:t,column:a,columnIndex:n,onMouseDown:r,focusType:l,verticalScrollbarSize:i,isDragDisabled:s,...o},d){let u=(0,cg.useContext)(cw.Ni),c=(0,cg.useRef)(null),m=(0,cg.useRef)(null),p=(0,cg.useRef)(null);(0,bq.z)(d,p);let{isVisible:f,size:h}=y2({ref:p}),{navigationDispatch:g,stateRef:y}=Nv(),{expandColumnSelectionViaKeys:x,filteredSelectedCardIds:b,onCardClick:v,resetSelection:w,selectSingleCard:k,selectAllCycle:j,state:C}=Wr(e,m,n),{clearClipboard:S,copyCards:I}=KL(),{openPane:N}=T0(),{supportedItemTypes:T}=TY(),_=e.contentType===mu.RedactedItem,R=!_&&!!C[e.id],{hasWritePermissions:P}=xQ(),{findMemexItem:D}=SV(),E=(0,cg.useCallback)(()=>{g(NC(n,e.id))},[n,e,g]),L=(0,cg.useCallback)(()=>{g(NI(t,n,e.id,D))},[g,t,n,e.id,D]),{openRemoveConfirmationDialog:A}=Mg(void 0,L,E),{openArchiveConfirmationDialog:M}=Mp(void 0,L,E),F=(0,cg.useCallback)(t=>{let a=R&&b.length>1?b:[e.id],n=a.every(e=>{let t=D(e);return!!t&&Mo(t.contentType)});n&&M(a,t)},[R,b,e.id,D,M]),Z=(0,cg.useCallback)(t=>{let a=R&&b.length>1?b:[e.id];A(a,t)},[b,R,e.id,A]),O=(0,cg.useCallback)(()=>{let t=R&&b.length>1?b.reduce((e,t)=>{let a=D(t);return a&&e.push(a),e},[]):[e];I(t)},[R,b,e,D,I]),$=f?"unset":`${h}px`,V=(0,cg.useMemo)(()=>({...o.sx,borderRadius:2,borderColor:u.colors.border.muted,borderWidth:"1px",borderStyle:"solid",boxShadow:u.shadows.shadow.medium,height:$,"&:hover":{cursor:_?"not-allowed":s?"default":"grab"}}),[o.sx,u.colors.border.muted,u.shadows.shadow.medium,$,_,s]);(0,cg.useEffect)(()=>{l===Ny.Focus&&p.current&&(p.current.focus(),p.current.scrollIntoView({block:"nearest",inline:"nearest"}))},[l,p]);let B=(0,cg.useCallback)(t=>{let a=y.current?.focus?.type==="coordinate";if(t.shiftKey||py(t)&&a)return t.preventDefault();if(l!==Ny.Edit){let a=Wb(p,t);a?(t.stopPropagation(),g(NC(n,e.id,Ny.Suspended))):(g(NC(n,e.id)),r&&r(t))}},[y,l,g,n,e.id,r]),z=(0,cg.useCallback)(t=>{let a=t.target;if(l===Ny.Focus&&"INPUT"!==a.nodeName){let a=Up(g,t);if(a.action)w(),Uc(t);else if((a.keyAsShortcut===wf.DELETE||a.keyAsShortcut===wf.BACKSPACE)&&P&&e.contentType!==mu.RedactedItem)Z(vP),Uc(t);else if(a.keyAsShortcut===wf.ARCHIVE)F(vP),Uc(t);else if(a.keyAsShortcut===wf.SHIFT_ARROW_UP||a.keyAsShortcut===wf.SHIFT_ARROW_DOWN){let e=a.keyAsShortcut===wf.SHIFT_ARROW_UP?Km.Up:Km.Down;x(e),Uc(t)}else a.keyAsShortcut===wf.SHIFT_SPACE&&e.contentType!==mu.RedactedItem?k(e.id):a.keyAsShortcut===wf.SPACE&&T.has(e.contentType)?N(e):a.keyAsShortcut===wf.META_A?(j(),Uc(t)):a.keyAsShortcut===wf.ESCAPE?(S(),w()):a.keyAsShortcut===wf.META_C&&P&&e.contentType!==mu.RedactedItem?O():a.keyAsShortcut===wf.TAB&&(g(N_()),w())}},[l,g,P,e,T,w,Z,F,x,k,N,j,S,O]),U=(0,cg.useCallback)(()=>{ND(y.current,e.id,n)||document.activeElement!==c.current||g(NC(n,e.id))},[y,n,g,e.id]),K=(0,cg.useCallback)(e=>{if(!e.relatedTarget){w(),g(N_());return}l===Ny.Suspended&&p.current&&(p.current.contains(document.activeElement)||document.activeElement===document.body)&&e.preventDefault()},[l,w,g]);return(0,cs.jsx)(Wy,{...(0,cK.f)("board-view-column-card"),sx:{...V,flexDirection:"column",flexShrink:0,mb:2,overflow:"visible"},ref:p,"data-board-card-id":e.id,"data-hovercard-subject-tag":hb(e),tabIndex:0,onMouseDown:B,onClick:v,onFocus:U,onBlur:K,onKeyDown:z,className:Ub()({"suspended-focus":l===Ny.Suspended,selected:R}),...o,"data-test-card-is-selected":R||void 0,"data-test-card-is-focused":l===Ny.Focus||void 0,children:f?(0,cs.jsx)(Ww,{item:e,archiveItem:F,removeItem:Z,contextMenuRef:m,verticalScrollbarSize:i}):null})}));function Wb(e,t){if(e.current){let a=t.target.closest("[data-suspend-card-focus]");return null!=a&&e.current.contains(a)}return!1}Wx.displayName="Card";let Wv=(0,cg.memo)(function(e){let t=(0,cg.useRef)(null),{item:a,index:n,column:r,isDragDisabled:l}=e,{resetSelection:i}=Wr(),s=(0,cg.useMemo)(()=>({id:a.id}),[a.id]),o=(0,cg.useCallback)(()=>{i()},[i]),d=E5({dragID:String(a.id),dragType:"card",dragRef:t,dragIndex:n,dragOrigin:r,metadata:s,disable:l,onDragStart:o}),u=(0,cg.useMemo)(()=>({transition:"transform 150ms"}),[]),c=l?{}:d.handle.props;return(0,cs.jsx)(Wx,{ref:t,style:u,...e,...c,...d.props})}),Ww=(0,cg.memo)(function({item:e,archiveItem:t,removeItem:a,contextMenuRef:n,verticalScrollbarSize:r}){let{groupedByColumnId:l}=Ik(),{visibleFields:i}=FR(),{state:s}=Wr(),o=i.filter(e=>e.id!==l&&(e.userDefined||e.id===c9.Labels||e.id===c9.Milestone||e.id===c9.LinkedPullRequests||e.id===c9.Reviewers||e.id===c9.Status||e.id===c9.Tracks||e.id===c9.TrackedBy)),d=o.length>0,u=e.contentType===mu.RedactedItem,c=!u&&!!s[e.id],m=e.columns;return(0,cs.jsxs)(cW.Z,{sx:{borderRadius:2,borderWidth:"0",pt:2,pb:"12px",lineHeight:1.3,backgroundColor:e=>`${c?e.colors.accent.subtle:e.colors.canvas.overlay}`,borderStyle:"solid",borderColor:e=>`${e.colors.border.default}`,color:e=>`${u?e.colors.fg.muted:e.colors.fg.default}`},children:[(0,cs.jsxs)(cW.Z,{sx:{px:"12px"},children:[(0,cs.jsx)(Wi,{...(0,cK.f)("board-card-header"),item:e,columnData:m,mb:1,archiveItem:t,removeItem:a,contextMenuRef:n}),(0,cs.jsx)(Wp,{item:e})]}),d&&(0,cs.jsx)(cW.Z,{sx:{px:"12px",mt:1},children:(0,cs.jsx)(Wg,{...(0,cK.f)("card-labels"),children:o.map(t=>(0,cs.jsx)(LS,{field:t,item:e,columnData:m,verticalScrollbarSize:r},t.id))})})]})});try{(sL=Wh).displayName||(sL.displayName="CardBase")}catch{}try{(sA=Wg).displayName||(sA.displayName="CustomFieldsBox")}catch{}try{(sM=Wy).displayName||(sM.displayName="CardBaseWithSash")}catch{}try{(sF=Wv).displayName||(sF.displayName="DraggableCard")}catch{}try{(sZ=Ww).displayName||(sZ.displayName="CardInternalContent")}catch{}let Wk=()=>(0,cs.jsx)(cW.Z,{sx:{content:"",display:"block",width:"100%",backgroundColor:"accent.emphasis",height:wD("space.1"),border:"0",borderRadius:2,zIndex:12}});try{(sO=Wk).displayName||(sO.displayName="EmptyColumnSash")}catch{}let Wj=(0,cg.createContext)(null),WC=({groupByFieldId:e,children:t})=>{let{updateAndReorderItem:a}=LZ(),n=(0,cg.useCallback)(async(t,n,r,l)=>{let i=l?{dataType:c7.SingleSelect,memexProjectColumnId:e,value:{id:l===Ip?"":l}}:void 0,s=null!=n?{overItemId:n,side:r}:void 0,o=LV(i,s);o&&await a(t,o,{})},[a,e]),r=(0,cg.useMemo)(()=>({moveCard:n}),[n]);return(0,cs.jsx)(Wj.Provider,{value:r,children:t})};function WS(){let e=(0,cg.useContext)(Wj);if(null==e)throw Error("useBoardCardActions must be used within a BoardCardActionsContext");return e}try{(s$=Wj).displayName||(s$.displayName="BoardCardActionsContext")}catch{}let WI="24px",WN={fontSize:2,fontWeight:"bold"};function WT(e,t){return e?{boxShadow:"primer.shadow.focus",borderRadius:"2px"}:t?{"&:focus-within":{boxShadow:"primary.shadow.focus",borderRadius:"2"},"&:hover:not(:focus-within)":{boxShadow:e=>`0 0 0 3px ${e.colors.border.default}`,borderRadius:"2"}}:{}}let W_=(0,cg.memo)(({option:e,isEditing:t,setIsEditing:a,onNameChange:n,isUserEditable:r,initialFocus:l,placeholder:i})=>{let[s,o]=Di(e.name),d=(0,cg.useRef)(null),u=(0,cg.useRef)(null),c=(0,cg.useRef)(t);(0,cg.useEffect)(()=>{t&&u.current?.focus()},[t]);let m=(0,cg.useRef)(l);(0,cg.useEffect)(()=>{m.current&&d.current?.focus()},[]),(0,cg.useEffect)(()=>{!t&&c.current&&d.current?.focus(),c.current=t},[t]);let p=b2(),f=(0,cg.useCallback)(e=>{o(e.currentTarget.value)},[o]),h=(0,cg.useCallback)(()=>{r&&(o(e.name),a(!0))},[r,e.name,a,o]),g=(0,cg.useCallback)(()=>{o(e.name),a(!1)},[e.name,a,o]),y=(0,cg.useCallback)(()=>{n(s),g()},[s,n,g]),x=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.ESCAPE:t&&g();return;case wf.ENTER:t?y():h();return}},[t,h,g,y]),b=Ds(x),v=WT(t,r),w=Rh();return(0,cs.jsx)(cW.Z,{ref:d,onClick:h,onKeyDown:t?void 0:x,tabIndex:r?0:-1,...(0,cK.f)("board-view-column-title-text"),sx:{...v,height:WI,my:1,overflow:"hidden",mr:2},children:t?(0,cs.jsx)(Rs.Z,{...w,children:(0,cs.jsx)(wF,{as:wO,ref:u,onChange:f,onBlur:y,onMouseDown:p,...b,type:"text",value:s,placeholder:i,sx:{height:WI},...WN})}):(0,cs.jsx)(y9,{role:r?"button":void 0,sx:{lineHeight:WI,cursor:"default",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},...WN,children:e.nameHtml})})});W_.displayName="EditableColumnName";let WR=e=>void 0!==e.color&&void 0!==e.description&&void 0!==e.descriptionHtml,WP=(0,cg.memo)(function({option:e,items:t,index:a,shouldScrollToBottom:n,initialNameFocus:r,onDelete:l,onUpdateDetails:i,onChange:s,isDraggable:o,isUserEditable:d,isCurrentIteration:u,iterationDateRange:c}){let{openArchiveConfirmationDialog:m}=Mp(),{openRemoveConfirmationDialog:p}=Mg(),{currentView:f,missingRequiredColumnData:h}=v5(),g=f?.number,y=(0,cg.useRef)(null),x=(0,cg.useRef)(null),{moveCard:b}=WS(),{isDragging:v}=E4(),[w,k]=(0,cg.useState)(!1),[j,C]=(0,cg.useState)(!1),{enableOmnibar:S}=Ks(),{state:I,navigationDispatch:N}=Nb(),[T,_]=(0,cg.useState)(!1),{hasWritePermissions:R}=xQ(),{resetSelection:P}=Wr(),{insertFilter:D}=wn(),{groupedByColumn:E}=Ik(),L=(0,cg.useMemo)(()=>t.filter(e=>e.contentType!==mu.RedactedItem),[t]),{postStats:A}=v4(),{sortColumnId:M}=IS(),[F,Z]=(0,cg.useState)(!1),O=(0,cg.useCallback)(({dragMetadata:n,dropMetadata:r,side:l,state:i})=>{let[s,o]=WA(t,r?.id,"before"===l?"top":"bottom");N(NC(a,n.id)),M?i.dragOrigin!==e.id&&b(n.id,void 0,o,e.id):i.dragOrigin===e.id?b(n.id,s,o):b(n.id,s,o,e.id),_(!1)},[M,t,N,a,e.id,b]),$=(0,cg.useCallback)(()=>{Z(!0),t.length||(M||_(!0),EH())},[t.length,M]),V=(0,cg.useCallback)(()=>{Z(!1),_(!1)},[]),B=(0,cg.useMemo)(()=>({id:e.id}),[e.id]);(0,cg.useEffect)(()=>{n&&x.current?.scrollTo({top:x.current?.scrollHeight,behavior:"smooth"})},[n,t]);let z=E5({dragAxis:"horizontal",dragID:e.id,dragType:"column",dragIndex:a,dragRef:y,disable:!d||!o,metadata:B}),U=E3({dropID:e.id,dropType:"card",dropRef:x,onDrop:O,onDragOver:$,disableSash:!!M}),K=E6();Br({active:K===e.id,scrollRef:x,strength:50,deadZoneRatioY:.5});let W=(0,cg.useMemo)(()=>({borderRadius:2,transition:"transform 75ms",border:"1px solid",borderColor:"border.muted",":not(:focus-within)":M&&F?{boxShadow:e=>`0 0 0 1px ${e.colors.accent.emphasis}`,borderColor:"accent.emphasis"}:{}}),[F,M]),H=(0,cg.useCallback)(()=>{l(e.id)},[l,e.id]),G=(0,cg.useCallback)(()=>{if(E?.name){let{dataType:t,databaseId:a,name:n}=E;D(`-${E.name}`,e.name),A({name:"board_column_menu_hide",context:JSON.stringify({dataType:t,databaseId:a,name:n})})}},[E,e.name,D,A]),q=(0,cg.useCallback)(()=>{if(0===t.length)return;let a=t.map(e=>e.id);m(a,vD,pX.archiveBoardColumnConfirmationTitle,pX.archiveBoardColumnConfirmationMessage({itemsCount:t.length,columnName:e.name}))},[m,e,t]),Q=(0,cg.useCallback)(()=>{if(0===t.length)return;let a=t.map(e=>e.id);p(a,vD,{title:pX.removeBoardColumnConfirmationTitle,content:pX.removeBoardColumnConfirmationMessage({itemsCount:t.length,columnName:e.name})})},[p,e.name,t]),X=(0,cg.useCallback)(()=>{k(!0)},[]),Y=(0,cg.useCallback)(t=>{let a={id:e.id,name:t},n={id:e.id,name:e.nameHtml};i(a,n)},[e.id,i,e.nameHtml]),J=t=>{i(t,e),C(!1)},ee=(0,cg.useCallback)(()=>{S(e.id)},[S,e.id]),et=(0,cg.useCallback)(e=>{e.stopPropagation(),ee()},[ee]),ea=(0,cg.useCallback)(()=>{P()},[P]),en=null!=I.focus&&"coordinate"===I.focus.type?I.focus:null,er=null!=I.focus&&"footer"===I.focus.type&&I.focus.details.columnId===e.id;(0,cg.useLayoutEffect)(()=>{PZ(x.current)},[g]),(0,cg.useEffect)(()=>{let a=0===t.length;s?.({id:e.id,target:y.current,isEmpty:a,missingColumnData:h,columnCount:t.length})},[e.id,t,s,h]);let{loadingState:el}=Ku(),{hideItemsCount:ei,getAggregatesForItems:es}=R5(),eo=(0,cg.useMemo)(()=>es(t),[t,es]),{verticalScrollbarSize:ed}=Uu(x),eu=E?.dataType===c7.SingleSelect?"singleSelectDetails":"name";return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(Lr,{id:e.id,testingName:e.name,sx:W,ref:y,onPointerLeave:V,...z.props,onClick:ea,headerContent:(0,cs.jsxs)(cW.Z,{sx:{bg:"canvas.inset",alignItems:"center",justifyContent:"space-between",maxWidth:Lt,pt:2,pb:1,px:3,display:"flex"},...z.handle.props,children:[(0,cs.jsxs)(cW.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"90%",flexWrap:"nowrap"},children:[e.color&&(0,cs.jsx)(b$,{color:e.color,sx:{mr:2}}),(0,cs.jsx)(W_,{option:e,onNameChange:Y,isUserEditable:d&&"name"===eu,initialFocus:r,isEditing:w,setIsEditing:k}),el===Kd.loaded&&(0,cs.jsx)(Kc,{aggregates:eo,counterSx:{color:"fg.muted",mr:2,mt:1,mb:1},hideItemsCount:ei,itemsCount:t.length}),u&&(0,cs.jsx)(Av,{sx:{ml:2}})]}),(0,cs.jsx)(cW.Z,{sx:{backgroundColor:"canvas.inset",alignItems:"center",display:"flex"},children:el===Kd.loading?(0,cs.jsx)(yG.Z,{size:"small","aria-label":"Loading data required to properly display view",...(0,cK.f)("view-loading-indicator")}):el===Kd.missing?null:d&&(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{variant:"invisible",icon:me.Ui8,"aria-label":"Column context menu",...(0,cK.f)("column-context-menu-trigger"),sx:{color:"fg.muted",width:"24px",height:"24px",padding:0}})}),(0,cs.jsx)(kA.P.Overlay,{align:"end",children:(0,cs.jsxs)(kL.S,{children:[(0,cs.jsxs)(kL.S.Group,{title:"Item actions",children:[(0,cs.jsxs)(kL.S.Item,{disabled:0===L.length,onSelect:q,...(0,cK.f)("column-context-menu-archive-cards"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.rKT,{})}),"Archive all"]}),(0,cs.jsxs)(kL.S.Item,{disabled:0===L.length,onSelect:Q,variant:"danger",...(0,cK.f)("column-context-menu-delete-cards"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete all"]})]}),(0,cs.jsx)(kL.S.Divider,{}),(0,cs.jsxs)(kL.S.Group,{title:"Column actions",children:["name"===eu&&(0,cs.jsxs)(kL.S.Item,{onSelect:X,...(0,cK.f)("column-context-menu-rename"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.vdY,{})}),"Rename"]}),"singleSelectDetails"===eu&&(0,cs.jsxs)(kL.S.Item,{onSelect:()=>C(!0),...(0,cK.f)("column-context-menu-edit-option"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.vdY,{})}),"Edit details"]}),(0,cs.jsxs)(kL.S.Item,{onSelect:G,...(0,cK.f)("column-context-menu-hide-column"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.LAO,{})}),"Hide from view"]}),(0,cs.jsxs)(kL.S.Item,{variant:"danger",onSelect:H,...(0,cK.f)("column-context-menu-delete"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete"]})]})]})})]})})]}),children:[c&&(0,cs.jsx)(cW.Z,{sx:{bg:"canvas.inset",maxWidth:Lt,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",mt:-1,pb:2,px:3,color:"fg.muted",flexShrink:0},...(0,cK.f)(`${e.id}-date-range-board-header`),children:c}),(0,cs.jsx)(y9,{sx:{mt:-1,pb:2,px:3,maxWidth:Lt,color:"fg.muted"},children:e.descriptionHtml??""}),(0,cs.jsxs)(cW.Z,{...U.props,ref:x,className:"column-drop-zone",...(0,cK.f)(`drop-zone-${e.name}`),sx:{flexDirection:"column",backgroundColor:"canvas.inset",flexGrow:1,overflowY:"auto",position:"relative",px:2,py:1,display:"flex"},children:[T&&(0,cs.jsx)(Wk,{}),(0,cs.jsx)(y1,{rootRef:null,sizeEstimate:125,disableHide:v,children:t.map((t,n)=>{let r=en?.details.x===a&&en?.details.y===t.id?en.focusType:void 0,l=!R||t.contentType===mu.RedactedItem;return(0,cs.jsx)(Wv,{item:t,index:n,column:e.id,columnIndex:a,focusType:r,isDragDisabled:l,verticalScrollbarSize:ed},t.id)})}),(0,cs.jsx)(WD,{isVisible:Boolean(er)})]}),R&&(0,cs.jsx)(xh.z,{onClick:et,variant:"invisible",sx:{color:"fg.muted",display:"flex",py:2,'& [data-component="buttonContent"]':{flex:0}},block:!0,size:"large",leadingIcon:me.pOD,...(0,cK.f)("board-view-add-card-button"),children:"Add item"})]}),j&&WR(e)&&(0,cs.jsx)(BL,{initialOption:e,onCancel:()=>C(!1),onSave:J})]})}),WD=({isVisible:e})=>{let t=(0,cg.useRef)(null);return(0,cg.useEffect)(()=>{e&&t.current?.scrollIntoView({behavior:"smooth"})},[e]),e?(0,cs.jsx)(WL,{ref:t,sx:{flexShrink:0,height:"8px",bg:"accent.emphasis",border:"0",borderRadius:"6px",mb:"12px"},...(0,cK.f)("board-view-add-card-indicator")}):null},WE=cw.F4`
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  `,WL=(0,cw.ZP)(cW.Z)`
  animation: ${WE} 0.2s ease-out;
`;function WA(e,t,a){if(null==t||"top"===a)return[t,a];let n=e.findIndex(({id:e})=>e===t),r=e[n+1];return r?[r.id,"top"]:[t,a]}try{(sV=WP).displayName||(sV.displayName="Column")}catch{}try{(sB=WD).displayName||(sB.displayName="IsAddingItemsIndicator")}catch{}try{(sz=WL).displayName||(sz.displayName="StyledPlaceholder")}catch{}let WM=(0,cg.memo)(({onSave:e,onCancel:t})=>{let a=(0,cg.useMemo)(()=>({id:"",name:"",nameHtml:"",description:"",descriptionHtml:"",color:"GRAY"}),[]),n=(0,cg.useRef)(!1),r=(0,cg.useCallback)(t=>{n.current=!0,e(t)},[e]),l=(0,cg.useCallback)(e=>{e||n.current||t()},[t]);return(0,cs.jsx)(Lr,{testingName:"draft",headerContent:(0,cs.jsx)(cW.Z,{sx:{px:"10px",pt:"8px",display:"flex",maxWidth:"100%"},children:(0,cs.jsx)(W_,{option:a,onNameChange:r,isUserEditable:!0,isEditing:!0,setIsEditing:l,placeholder:"New column"})})})});WM.displayName="DraftColumn";let WF=e=>{let{addColumnOption:t}=Bx(),a=(0,cg.useCallback)(async a=>{e?.dataType===c7.SingleSelect&&await t(e,{...By,name:a})},[t,e]),{perform:n}=fx({request:a});return{addColumn:n}},WZ=(e,t)=>{switch(e.dataType){case c7.Iteration:return gp(e).find(e=>e.id===t)??void 0;case c7.SingleSelect:return e.settings.options?.find(e=>e.id===t)??void 0}},WO=(e,t)=>{let a=WZ(e,t);return a?"title"in a?a.title:a.name:void 0},W$=()=>{let{updateIterationConfiguration:e}=Bq(),t=(0,cg.useCallback)(async(t,a)=>{if(t.dataType!==c7.Iteration)return;let n=WZ(t,a.id);if(!n||!t.settings.configuration)return;let r=B5(t.settings.configuration,n);await e(t,r)},[e]);return{destroyColumnIteration:t}},WV=()=>{let{destroyColumnOption:e}=Bx(),{destroyColumnIteration:t}=W$(),a=(0,cg.useCallback)(async(a,n)=>a.dataType===c7.SingleSelect?e(a,n):a.dataType===c7.Iteration?t(a,n):void 0,[t,e]);return{destroyVerticalGroup:a}},WB=(e,t)=>{let{workflowsUsingColumnOption:a}=yK(),{destroyVerticalGroup:n}=WV(),r=(0,cg.useCallback)((e,t)=>a(e,t),[a]),l=Bw(),i=(0,cg.useCallback)(async a=>{if(!t)return;let i=WO(t,a),s=e[a]?.length??0;if(!i||!t)return;let o=r(t.databaseId,a).length;await l({field:t,values:[i],affectedItems:s,affectedWorkflows:o})&&n(t,{id:a})},[t,e,r,l,n]);return{deleteColumn:i}},Wz=e=>{let{moveColumnOption:t}=Bx(),a=(0,cg.useCallback)(async(a,n,r)=>{if(e?.dataType!==c7.SingleSelect||a===n)return;let l=e.settings.options.findIndex(e=>e.id===a)+1,i=e.settings.options.findIndex(e=>e.id===n)+1,s="before"===r?i:i+1;l<i&&s--,await t(e,{id:a,position:Math.max(s,1)})},[e,t]);return{moveColumn:a}},WU=()=>{let{updateIterationConfiguration:e}=Bq(),t=(0,cg.useCallback)(async(t,a)=>{if(t.dataType!==c7.Iteration)return;let n=gp(t),r=n.find(e=>e.id===a.id);if(!r||!t.settings.configuration)return;r.title=a.name;let{iterations:l,completedIterations:i}=t.settings.configuration;await e(t,{iterations:l,completedIterations:i})},[e]);return{updateColumnIterationTitle:t}},WK=()=>{let{updateColumnOption:e}=Bx(),{updateColumnIterationTitle:t}=WU(),a=(0,cg.useCallback)(async(a,n,r=!1)=>a.dataType===c7.SingleSelect?e(a,n,r):a.dataType===c7.Iteration?t(a,n):void 0,[t,e]);return{updateVerticalGroup:a}},WW=e=>{let{updateVerticalGroup:t}=WK(),a=(0,cg.useCallback)(async a=>{e&&await t(e,a)},[e,t]),n=(0,cg.useCallback)(a=>{e&&t(e,a,!0)},[e,t]),{perform:r}=fx({request:a,rollback:n});return{updateColumnDetails:r}},WH=parseInt(Lt,10),WG={initial:{transform:"initial",transition:"none"},transition:e=>({transform:`translateX(calc(-${Lt} + ${Math.abs(e)}px - 8px))`,transition:"transform 0.2s ease",transitionDelay:"0.1s",willChange:"transform"})},Wq=(0,cg.memo)(function(){let{currentView:e}=v5(),{setGroupedBy:t}=Ik(),{itemsGroupedByField:a,groupByFieldOptions:n,compatibleColumns:r}=IH(),l=(0,cg.useCallback)(()=>{for(let e=0;e<n.length;e++){let t=n[e],r=t&&a[t.id]?.[0]?.id;if(r)return NC(e,r).focus}return null},[n,a]),[i,s]=(0,cg.useState)(()=>({focus:l(),previousFocus:null})),o=e?.number,d=(0,cg.useRef)(o);(0,cg.useEffect)(()=>{d.current!==o&&(d.current=o,s({focus:l(),previousFocus:null}))},[o,l]);let{isSearchVisible:u}=wn();cU(()=>{if(!e)return null;let a=[];for(let[n,l]of Object.entries(r))a.push([n,`Column field by: ${l.name}`,"column.field",()=>t(e.number,l)]);return["c","Column field by...",a]},[r,e,t]);let c=(0,cg.useRef)({cardGrid:n.map(e=>({id:e.id,items:gZ(a[e.id])})),isSearchVisible:u}),{showTemplateDialog:m}=RR();return(0,cs.jsx)(E1,{children:(0,cs.jsx)(Wa,{initialState:{selected:{}},metaRef:c,children:(0,cs.jsx)(Nw,{initialState:i,metaRef:c,children:(0,cs.jsxs)(Ug,{children:[(0,cs.jsx)(Ko,{}),(0,cs.jsx)(WQ,{omnibarInitialFocus:null==i.focus&&!m,navigationMetaRef:c})]})})})})}),WQ=(0,cg.memo)(function({omnibarInitialFocus:e,navigationMetaRef:t}){let{itemsGroupedByField:a,groupByField:n,groupByFieldId:r,groupByFieldOptions:l}=IH(),{addColumn:i}=WF(n),{updateColumnDetails:s}=WW(n),{moveColumn:o}=Wz(n),{deleteColumn:d}=WB(a,n),{updateIterationConfiguration:u}=Bq(),c=(0,cg.useRef)(null),{isDragging:m}=E4(),[p,f]=(0,cg.useState)(!1),h=(0,cg.useRef)(null),g=(0,cg.useRef)(!1),y=(0,cg.useRef)(null),{navigationDispatch:x,stateRef:b}=Nv(),{isSearchVisible:v,isSearchDirty:w}=wn(),[k,j]=(0,cg.useState)(null),C=(0,cg.useCallback)(({dragMetadata:e,dropMetadata:t,side:n})=>{if(!e||!t)return;let r=e.id,l=t.id;if(l===Ip){let e=Object.keys(a);l=gZ(e[1]),n="before"}o(r,l,n||"before")},[a,o]),S=E3({dropID:"board",dropType:"column",dropRef:c,onDrop:C});Br({active:m,scrollRef:c,strength:50,deadZoneRatioX:.5});let I=(0,cg.useCallback)(e=>{y.current=e,i(e),f(!1)},[i]),N=(0,cg.useCallback)(()=>{g.current=!0,f(!1)},[]);(0,cg.useLayoutEffect)(()=>{g.current&&(g.current=!1,h.current?.focus())});let T=(0,cg.useRef)(null),{enableOmnibar:_,disableOmnibar:R}=Ks(),{horizontalScrollbarSize:P}=Uu(c),{resetSelection:D}=Wr(),E=e=>{if(!e)return;let t=a[e];if(t)return t[t.length-1]?.id},L=(0,cg.useMemo)(()=>{let e=n&&"configuration"in n.settings?n.settings.configuration:null;if(!e)return new Map;let t=gf(e),a=new Map;for(let e of t)a.set(e.id,gc(e));return a},[n]),A=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.CTRL_SPACE:T.current?.isInputElement(e.target)?R():_();break;case wf.ESCAPE:T.current?.isInputElement(e.target)&&R()}},[R,_]),M=(0,cg.useCallback)(()=>{b.current&&b.current.focus&&"footer"===b.current.focus.type&&R()},[R,b]),F=(0,cg.useCallback)(e=>{if(e.defaultPrevented)return;let t=e.relatedTarget,a=e.currentTarget.contains(t);a||T.current?.isInputElement(t)||(x(N_()),Uo()||D())},[D,x]),Z=(0,cg.useCallback)(e=>{if(!e.target||e.id!==Ip||e.missingColumnData)return;let t=e.target,a=t.className.includes("hidden"),n=c.current?.scrollLeft??0;e.columnCount?e.isEmpty&&w&&!a?(t.classList.add("hidden"),j(WG.initial)):e.isEmpty&&!a?n<=WH?j(WG.transition(n)):(t.classList.add("hidden"),c.current&&(c.current.scrollLeft=n-WH-8)):!e.isEmpty&&a&&(t.classList.remove("hidden"),j(WG.initial)):t.classList.add("hidden")},[w]),O=(0,cg.useCallback)(({target:e})=>{if(!c.current||e!==c.current||!(e instanceof Element))return;j(WG.initial);let t=e.querySelector(`#${Ip}`);t?.classList.add("hidden"),c.current.scrollLeft=0},[]);(0,cg.useEffect)(()=>(addEventListener("keydown",A),()=>{removeEventListener("keydown",A)}),[A]),(0,cg.useEffect)(()=>{t.current&&(t.current.cardGrid=l.map(e=>({id:e.id,items:gZ(a[e.id])})),t.current.isSearchVisible=v)},[l,a,v,t]);let{columnShouldScroll:$,onNewItem:V}=WY(),{hasWritePermissions:B}=xQ(),z=(0,cg.useCallback)(async()=>{if(!n)return;let e=n.dataType;if(e===c7.Iteration){let{configuration:e}=n.settings;if(!e)return;let t=n.name,a=B1(e,t);await u(n,a);return}f(!0)},[n,u]),U=(0,cg.useCallback)(e=>{if(!n||n.dataType!==c7.Iteration)return!1;let t=n.settings.configuration.iterations.find(t=>t.id===e.id);return!!t&&gl(new Date,t)},[n]);return(0,cs.jsx)(WC,{groupByFieldId:r,children:(0,cs.jsxs)(cW.Z,{sx:{flexDirection:"column",flex:"auto",overflowY:"hidden",display:"flex"},"data-hpc":!0,children:[(0,cs.jsxs)(cW.Z,{...(0,cK.f)("board-view"),ref:c,onPointerDown:M,onBlur:F,onTransitionEnd:O,...S.props,sx:{flex:"auto",height:"0",px:[3,4,5],py:2,overflowY:"hidden",position:"relative",display:"flex",...k},children:[l.map((e,t)=>{let r=a[e.id]??[],l=B&&e.id!==Ip,i=n?.dataType!==c7.Iteration;return(0,cs.jsx)(WP,{option:e,items:r,index:t,onDelete:d,onUpdateDetails:s,onChange:Z,shouldScrollToBottom:$===e.id,initialNameFocus:y.current===e.name,isUserEditable:l,isDraggable:i,isCurrentIteration:U(e),iterationDateRange:L.get(e.id)??""},e.id)}),p?(0,cs.jsx)(WM,{onSave:I,onCancel:N}):null,B&&!p&&(0,cs.jsx)(Kn,{ref:h,onClick:z})]}),B&&(0,cs.jsx)(WX,{omnibarRef:T,horizontalScrollbarSize:P,getPreviousItemId:E,groupByFieldId:r,onNewItem:V,omnibarInitialFocus:e})]})})}),WX=({omnibarRef:e,horizontalScrollbarSize:t,onNewItem:a,omnibarInitialFocus:n,getPreviousItemId:r,groupByFieldId:l})=>{let i=(0,cg.useRef)(null),s=(0,cg.useRef)(null),{state:o,navigationDispatch:d}=Nb(),{enableOmnibar:u,disableOmnibar:c}=Ks(),m=o.focus?.type==="footer";(0,cg.useLayoutEffect)(()=>{m?(e.current?.focus(),i.current&&(i.current.scrollTop=0)):e.current?.blur()},[c,m,u,e]),(0,cg.useEffect)(()=>{n&&u(Ip)},[n,u]);let p=(0,cg.useMemo)(()=>{let e=o.focus?.type==="footer"?o.focus.details.columnId:null;if(null==e)return null;let t=null==e||e===Ip?void 0:{dataType:c7.SingleSelect,memexProjectColumnId:l,value:{id:e}},a=r(e);return{setField:t,previousItemId:a}},[o.focus,r,l]),f=(0,cg.useCallback)(e=>{let t=Up(d,e);t.action?Um(e,t.keyAsShortcut):t.keyAsShortcut===wf.ESCAPE&&(d(NS()),Uc(e))},[d]);return(0,cs.jsx)(Kt,{ref:i,horizontalScrollbarSize:t,children:(0,cs.jsx)(Ke,{ref:s,horizontalScrollbarSize:t,disableBlur:!0,isFixed:!0,sx:{position:"static",bottom:"unset",transition:"opacity 0.2s ease-in-out",display:m?"block":"none",opacity:`${m?"1":"0"}`},children:(0,cs.jsx)(U3,{ref:e,newItemAttributes:p??void 0,onAddItem:a,onKeyDown:f,isFixed:!0,defaultPlaceholder:UD})})})},WY=()=>{let e=(0,cg.useRef)(null);(0,cg.useEffect)(()=>{e.current=null});let t=(0,cg.useCallback)(t=>{t&&t.setField&&t.setField.dataType===c7.SingleSelect&&t.setField.value?e.current=t.setField.value.id:e.current=Ip},[]);return{columnShouldScroll:e.current,onNewItem:t}};try{(sU=WH).displayName||(sU.displayName="PARSED_COLUMN_WIDTH")}catch{}try{(sK=Wq).displayName||(sK.displayName="Board")}catch{}try{(sW=WQ).displayName||(sW.displayName="BoardInner")}catch{}try{(sH=WX).displayName||(sH.displayName="BoardOmnibar")}catch{}function WJ(e,{autoFocus:t}){if(!t)return null;let a=e.flatRows.find(e=>!e.isGrouped),n=e.visibleColumns.find(e=>"row-drag-handle"!==e.id);return n&&a?N6(a.id,n.id).focus:null}function W0({currentViewNumber:e,setInitialFocalPoint:t,table:a,autoFocus:n,missingRequiredColumnData:r}){let l=(0,cg.useRef)(r),i=(0,cg.useRef)(e);(0,cg.useEffect)(()=>{if(r)return;let s=l.current&&!r,o=i.current===e;(!o||s)&&(s&&document.activeElement?.id===wB||t({focus:WJ(a,{autoFocus:n}),previousFocus:null}))},[n,r,e,t,a]),(0,cg.useEffect)(()=>{l.current=r,i.current=e})}let W1=(e,t)=>{let{currentView:a,missingRequiredColumnData:n}=v5(),[r,l]=(0,cg.useState)(()=>{let a=WJ(e,{autoFocus:t});return a?{focus:a,previousFocus:null}:{focus:N1().focus,previousFocus:null}});return W0({currentViewNumber:a?.number,missingRequiredColumnData:n,setInitialFocalPoint:l,table:e,autoFocus:t}),r},W2=(0,cg.createContext)(null);function W5({children:e}){let{showInput:t}=k3(),{navigationDispatch:a}=Tc(),n=(0,cg.useCallback)(()=>{a(N7({focusType:Ny.Suspended})),t(()=>{a(N7({focusType:Ny.Focus}))})},[a,t]);return(0,cs.jsx)(W2.Provider,{value:(0,cg.useMemo)(()=>({setShowFindInProject:n}),[n]),children:e})}function W3(){let e=(0,cg.useContext)(W2);if(!e)throw Error("useTableFindInProject must be used within a TableFindInProjectContext");return e}try{(sG=W5).displayName||(sG.displayName="TableFindInProjectProvider")}catch{}function W4(e,t,a){let n=(0,cg.useRef)(!1),r=(0,cg.useRef)(t);(0,cg.useLayoutEffect)(()=>{n.current&&t!==r.current&&(n.current=!1,e.current?.scrollTo({left:a,top:e.current?.scrollHeight,behavior:"smooth"})),r.current=t});let l=(0,cg.useCallback)(()=>{n.current=!0},[]);return{onNewItem:l}}var W6=a(79521);function W8(e,t,a){return[...e].sort((e,n)=>{for(let r=0;r<t.length;r+=1){let l=t[r],i=!1===a[r]||"desc"===a[r],s=l?.(e,n)??0;if(0!==s)return i?-s:s}return e.index-n.index})}let W7=new Intl.Collator(void 0,{numeric:!0});function W9(e,t){let a=e.sourceObject,n=t.sourceObject;return a.dataType!==c7.Assignees||n.dataType!==c7.Assignees?-1:W7.compare(e.value,t.value)}function He(e,t){let a=e.sourceObject,n=t.sourceObject;return a.dataType===c7.TrackedBy&&"group"===a.kind&&n.dataType===c7.TrackedBy&&"group"===n.kind?W7.compare(f_(a.value),f_(n.value)):-1}function Ht(e,t){return W7.compare(e.login,t.login)}function Ha(e,t){switch(e){case c7.Assignees:return t.sort(W9);case c7.TrackedBy:return t.sort(He);default:return t.sort((e,t)=>W7.compare(e.value,t.value))}}function Hn(e){return e.dataType!==c7.SingleSelect?[]:e.settings.options.map(t=>({value:t.id,sourceObject:{dataType:c7.SingleSelect,kind:"group",value:{option:t,columnId:e.id}}}))}function Hr(e){return e.dataType!==c7.Iteration?[]:gp(e).sort((e,t)=>{let a=(0,pK.Z)(e.startDate),n=(0,pK.Z)(t.startDate);return a.getTime()-n.getTime()}).map(t=>({value:t.id,sourceObject:{dataType:c7.Iteration,kind:"group",value:{iteration:t,columnId:e.id}}}))}function Hl(e){let t=e.Assignees;if(!t||0===t.length)return;let a=t.sort(Ht);return[{value:a.map(e=>e.login).join("_"),sourceObject:{dataType:c7.Assignees,kind:"group",value:a}}]}function Hi(e,t){if(e.dataType!==c7.Date)return;let a=t[e.id],n=mY(a);if(!n)return;let r=m3(n.value);return[{value:r,sourceObject:{dataType:c7.Date,kind:"group",value:{date:n,columnId:e.id}}}]}function Hs(e,t){if(e.dataType!==c7.Iteration)return;let a=t[e.id],n=mG(a);if(!n)return;let r=gp(e),l=r.find(e=>e.id===n.id);if(l)return[{value:l.id,sourceObject:{dataType:c7.Iteration,kind:"group",value:{iteration:l,columnId:e.id}}}]}function Ho(e){let t=e.Milestone;if(t)return[{value:t.title,sourceObject:{dataType:c7.Milestone,kind:"group",value:t}}]}function Hd(e,t){if(e.dataType!==c7.Number)return;let a=t[e.id],n=mH(a);if(n)return[{value:`${n.value}`,sourceObject:{dataType:c7.Number,kind:"group",value:{number:n,columnId:e.id}}}]}function Hu(e){let t=e.Repository;if(t)return[{value:t.nameWithOwner,sourceObject:{dataType:c7.Repository,kind:"group",value:t}}]}function Hc(e,t){if(e.dataType!==c7.SingleSelect)return;let a=t[e.id],n=mG(a);if(!n)return;let r=e.settings.options||[],l=r.find(e=>e.id===n.id);if(l)return[{value:n.id,sourceObject:{dataType:c7.SingleSelect,kind:"group",value:{option:l,columnId:e.id}}}]}function Hm(e,t){if(e.dataType!==c7.Text)return;let a=t[e.id],n=mW(a);if(n)return[{value:n.raw,sourceObject:{dataType:c7.Text,kind:"group",value:{text:n,columnId:e.id}}}]}function Hp(e){let t=e["Tracked by"];if(t&&0!==t.length)return t.map(e=>({value:e.url,sourceObject:{dataType:c7.TrackedBy,kind:"group",value:e}}))}function Hf(e){return{[c7.Assignees]:{getGroupingMetadata:(t,a)=>Hl(e(a))},[c7.Date]:{getGroupingMetadata:(t,a)=>Hi(t,e(a))},[c7.Iteration]:{getGroupingMetadata:(t,a)=>Hs(t,e(a)),getAllGroupMetadata:e=>Hr(e)},[c7.Labels]:void 0,[c7.LinkedPullRequests]:void 0,[c7.Milestone]:{getGroupingMetadata:(t,a)=>Ho(e(a))},[c7.Number]:{getGroupingMetadata:(t,a)=>Hd(t,e(a))},[c7.Repository]:{getGroupingMetadata:(t,a)=>Hu(e(a))},[c7.Reviewers]:void 0,[c7.SingleSelect]:{getGroupingMetadata:(t,a)=>Hc(t,e(a)),getAllGroupMetadata:e=>Hn(e)},[c7.Text]:{getGroupingMetadata:(t,a)=>Hm(t,e(a))},[c7.Title]:void 0,[c7.TrackedBy]:{getGroupingMetadata:(t,a)=>Hp(e(a))},[c7.Tracks]:void 0}}let Hh=()=>({total:0,groups:{}});Hh();let Hg=(e,t,a)=>{},Hy=(e,t,a)=>{(0,cg.useEffect)(()=>{Hg(e,t,a)})},Hx=Hy.bind(null,"CellRenderer"),Hb=Hy.bind(null,"CellEditor"),Hv=(0,cg.forwardRef)(({...e},t)=>(0,cs.jsx)(xh.z,{...e,sx:{border:"none",boxShadow:"none",minWidth:"16px",p:0,ml:"auto",bg:"transparent",":hover":{bg:"transparent",boxShadow:"none"}},"aria-label":"Dropdown button",tabIndex:-1,ref:t,children:(0,cs.jsx)(mt.Z,{icon:me.AS7,className:"table-row-dropdown-caret",size:"small",sx:{verticalAlign:"middle",color:"fg.muted",opacity:.3,".is-focused &":{opacity:1}}})}));Hv.displayName="DropdownCaret";let Hw=(0,cg.forwardRef)(({children:e,isDisabled:t},a)=>(0,cs.jsxs)(UB,{sx:{paddingRight:"4px",alignItems:"center",flexGrow:1,display:"flex",justifyContent:"space-between"},disallowSelection:!0,children:[e,t?null:(0,cs.jsx)(Hv,{ref:a,sx:{mx:1}})]}));Hw.displayName="DropdownCell";var Hk=a(8679),Hj=a.n(Hk);function HC(e,{nullWhenRedacted:t=!0}={}){let a=e.displayName||e.name||"withCellRenderer(anonymous)",n=a=>t&&a.model.contentType===mu.RedactedItem?null:(0,cs.jsx)(e,{...a});return Hj()(n,e),n.displayName=`withCellRenderer(${a})`,(0,cg.memo)(n)}let HS=HC(function({currentValue:e,model:t,dropdownRef:a,isDisabled:n}){return(Hx("AssigneesRenderer",t.id),Zn(e))?(0,cs.jsxs)(UB,{children:[(0,cs.jsx)(KU,{...(0,cK.f)("placeholder")}),(0,cs.jsx)(KB,{ml:2,minWidth:30,maxWidth:50})]}):Zl(e)?(0,cs.jsx)(Hw,{ref:a,isDisabled:n,children:(0,cs.jsx)(LQ,{users:e.value,isDisabled:n})}):t.contentType===mu.DraftIssue?(0,cs.jsx)(Hw,{ref:a,isDisabled:n}):null});HS.displayName="AssigneesRenderer";let HI={width:"small",onMouseDown:e=>{e.stopPropagation()}};function HN({contentType:e},t){if(e!==mu.DraftIssue)return!1;let a=mB(t);return!!a&&!SD(a)}function HT({model:e,columnId:t,rowId:a,renderButton:n,height:r,maxHeight:l,...i}){let{postStats:s}=v4(),{navigationDispatch:o}=Tu(),d=Tp(),u=(0,cg.useRef)(null),c=(0,cg.useCallback)(e=>{let t=e=>{e.stopPropagation(),e.preventDefault(),e.nativeEvent.detail<=1&&o(N7({focusType:Ny.Focus}))};return u.current=e.ref.current,(0,cs.jsx)("summary",{...e,onClick:t,style:{height:36,outline:"none",listStyle:"none"},children:n()})},[n,o]);(0,cg.useEffect)(()=>{o(N7({focusType:Ny.Suspended}))},[e.contentType,o]);let m=(0,cg.useCallback)((e,a,n)=>{if(!e)switch(a){case"selection":case"escape":case"click-outside":{let e={focusType:Ny.Focus},t=n&&"key"in n&&"Enter"===n.key;return"selection"===a&&t&&(e.y=Nx.Next),o(N7(e))}case"convert-confirmation":if(t===c9.Repository)return o(N7({y:Nx.Next,focusType:Ny.Focus}));return;default:return}},[t,o]),p=(0,cg.useCallback)(e=>{if(e.target instanceof Element){let t=e.target.closest("summary");if(t===u.current)return}m(!1,"click-outside")},[m]),f=Aa({...i,model:e,initialFilterValue:d,onOpenChange:m,columnId:t,renderAnchor:c});if(HN(e,t)){let a=()=>s({name:vl,ui:"cell-editor",memexProjectItemId:e.id});return(0,cs.jsx)(MS,{renderAnchor:c,isOpen:!0,showPrompt:t!==c9.Repository,item:e,onOpenChange:m,onSuccess:a})}return(0,cs.jsx)(bu.b,{...f,overlayProps:{...HI,height:r,maxHeight:l,sx:{...HI.sx,animationDuration:"80ms"},onClickOutside:p,...(0,cK.f)(`TableCellEditor{row: ${a}, column: ${t}}`)}})}HT.displayName="SelectPanelEditor";let H_=({currentValue:e,model:t,columnId:a,...n})=>{Hb("AssigneesEditor",t.id);let{fetchOptions:r,saveSelected:l}=LU({model:t}),i=(0,cg.useMemo)(()=>{let t=Zl(e)?e.value:[];return t},[e]),s=(0,cg.useCallback)(()=>(0,cs.jsx)(HS,{currentValue:e,model:t}),[e,t]);return(0,cs.jsx)(HT,{model:t,placeholderText:"Search people",selected:i,fetchOptions:r,filterOptions:LL,getSortAttribute:LB,convertOptionToItem:Lz,saveSelected:l,renderButton:s,columnId:a,groupMetadata:[{groupId:"assigned"},{groupId:"suggestions",header:{title:"Suggestions",variant:"filled"}}],...n})},HR=(0,cg.memo)(H_);HR.displayName="AssigneesEditor";try{(s2=H_).displayName||(s2.displayName="AssigneesEditorFunc")}catch{}let HP=HC(function({currentValue:e,model:t,isDisabled:a}){Hx("DateRenderer",t.id);let n=(0,cg.useRef)(null);if(k0(n),Zn(e))return(0,cs.jsx)(UB,{children:(0,cs.jsx)(KB,{minWidth:80,maxWidth:100,...(0,cK.f)("placeholder")})});if(Zr(e))return null;let r=m5(e.value.value);return(0,cs.jsx)(UB,{sx:{justifyContent:"flex-start"},children:(0,cs.jsx)(LW,{ref:n,dangerousHtml:r,isDisabled:a})})});try{(s5=HP).displayName||(s5.displayName="DateRenderer")}catch{}let HD=({labels:e,dropdownRef:t,isDisabled:a})=>(0,cs.jsx)(Hw,{ref:t,isDisabled:a,children:(0,cs.jsx)(cW.Z,{sx:{overflow:"hidden",display:"flex"},children:e?.map(e=>(0,cs.jsx)(Lm,{sx:{mr:1},colorHex:e.color,url:e.url,nameHtml:e.nameHtml},e.id))})});try{(s3=HD).displayName||(s3.displayName="LabelGroup")}catch{}let HE=HC(function({currentValue:e,model:t,dropdownRef:a,isDisabled:n}){Hx("LabelsRenderer",t.id);let r=Zl(e)?e.value:void 0;return Zn(e)?(0,cs.jsx)(UB,{children:(0,cs.jsx)(Kz,{minWidth:30,maxWidth:60,...(0,cK.f)("placeholder")})}):t.contentType===mu.DraftIssue?(0,cs.jsx)(Hw,{ref:a,isDisabled:n}):(0,cs.jsx)(HD,{labels:r,dropdownRef:a,isDisabled:n})});HE.displayName="LabelsRenderer";let HL=(0,cg.forwardRef)((e,t)=>{let a=(0,cg.useRef)(null);(0,bq.z)(t,a);let n=e.isDisabled?{color:"fg.muted",...e.sx}:e.sx;return(0,cs.jsx)(yH.Z,{target:"_blank",rel:"noreferrer",tabIndex:-1,...e,sx:{textAlign:"left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",...n},ref:a})});HL.displayName="LinkCell";let HA=(0,cg.memo)(function({milestone:e,isDisabled:t}){let a=(0,cg.useRef)(null);return k0(a),(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",overflow:"hidden",flex:"1",height:"20px",display:"flex"},children:e&&(0,cs.jsx)(HL,{ref:a,href:e.url,muted:!0,isDisabled:t,children:e.title})})});try{(s4=HA).displayName||(s4.displayName="Milestone")}catch{}let HM=HC(function({currentValue:e,model:t,dropdownRef:a,isDisabled:n}){if(Hx("MilestoneRenderer",t.id),Zn(e))return(0,cs.jsx)(UB,{children:(0,cs.jsx)(KB,{minWidth:50,maxWidth:100,...(0,cK.f)("placeholder")})});if(t.contentType===mu.DraftIssue)return(0,cs.jsx)(Hw,{ref:a,isDisabled:n});let r=Zl(e)?e.value:void 0;return(0,cs.jsx)(Hw,{ref:a,isDisabled:n,children:(0,cs.jsx)(HA,{milestone:r,isDisabled:n})})});HM.displayName="MilestoneRenderer";let HF=HC(function({currentValue:e,model:t,isDisabled:a}){Hx("NumberRenderer",t.id);let n=(0,cg.useRef)(null);return(k0(n),Zn(e))?(0,cs.jsx)(UB,{children:(0,cs.jsx)(KB,{minWidth:20,maxWidth:30,...(0,cK.f)("placeholder")})}):Zr(e)?null:(0,cs.jsx)(UB,{sx:{justifyContent:"flex-end"},children:(0,cs.jsx)(LW,{ref:n,dangerousHtml:e.value,isDisabled:a})})});HF.displayName="NumberRenderer";let HZ=HC(function({currentValue:e,model:t,dropdownRef:a,isDisabled:n}){Hx("RepositoryRenderer",t.id);let r=(0,cg.useRef)(null);if(k0(r),Zn(e))return(0,cs.jsx)(UB,{children:(0,cs.jsx)(KB,{minWidth:50,maxWidth:120,...(0,cK.f)("placeholder")})});if(Zl(e)){let t=e.value;return(0,cs.jsx)(UB,{children:(0,cs.jsxs)(HL,{ref:r,href:t.url,muted:!0,isDisabled:n,children:[(0,cs.jsx)(bg,{repository:t}),(0,cs.jsx)(mn.Z,{sx:{ml:1},children:t.nameWithOwner})]})})}return t.contentType===mu.DraftIssue?(0,cs.jsx)(Hw,{ref:a,isDisabled:n}):null});HZ.displayName="RepositoryRenderer";let HO=HC(function({currentValue:e,model:t,columnId:a,dropdownRef:n,options:r,isDisabled:l}){Hx("SingleSelectRenderer",t.id);let i=mB(a);if(!i)return null;let s=Zl(e)?e.value.id:null,o=r.find(e=>e.id===s);return Zn(e)?(0,cs.jsx)(UB,{children:(0,cs.jsx)(Kz,{minWidth:40,maxWidth:80,...(0,cK.f)("placeholder")})}):o?(0,cs.jsx)(Hw,{ref:n,isDisabled:l,sx:{overflow:"hidden",display:"flex"},children:(0,cs.jsx)(cW.Z,{sx:{overflow:"hidden",display:"flex"},children:(0,cs.jsx)(Li,{option:o})})}):(0,cs.jsx)(Hw,{ref:n,isDisabled:l})});HO.displayName="SingleSelectRenderer";let H$=HC(function({currentValue:e,model:t,isDisabled:a}){Hx("TextRenderer",t.id);let n=(0,cg.useRef)(null);return(k0(n),Zn(e))?(0,cs.jsx)(UB,{children:(0,cs.jsx)(KB,{minWidth:80,maxWidth:200,...(0,cK.f)("placeholder")})}):Zr(e)?null:(0,cs.jsx)(UB,{children:(0,cs.jsx)(LW,{ref:n,dangerousHtml:e.value.html,isDisabled:a})})});H$.displayName="TextRenderer";let HV=HC(function({currentValue:e,model:t,isDisabled:a}){Hx("TitleRenderer",t.id);let n=Zl(e)?e.value:void 0,r=m8(n),{openPane:l}=TJ();return(0,cs.jsxs)(UB,{children:[(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,mr:2,display:"flex"},children:(0,cs.jsx)(Zi,{titleColumn:e})}),(0,cs.jsx)(Zo,{model:t,isDisabled:a,currentValue:e,openPane:l}),mq(r)&&(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,ml:2,display:"flex"},children:(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted"},children:[" #",r]})})]})},{nullWhenRedacted:!1});HV.displayName="TitleRenderer";var HB=a(55546);let Hz=(0,cg.memo)(function({progress:e}){let t=(0,cg.useRef)(null);return k0(t),(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",overflow:"hidden",flex:"1",display:"flex"},children:(0,cs.jsx)(Ek,{percent:e.percent,completed:e.completed,total:e.total})})});try{(s6=Hz).displayName||(s6.displayName="TracksCell")}catch{}let HU=HC(function({currentValue:e,model:t}){Hx("TracksRenderer",t.id);let{openPane:a}=TJ(),n=(0,cg.useRef)(null),r=(0,cg.useRef)(null),[l,i]=(0,cg.useState)(!1),s=UT(n,r,l,[e],{xAlign:"center",yAlign:"top"}),o=(0,cg.useCallback)(()=>{t.contentType===mu.Issue&&a(t)},[t,a]);if(Zn(e))return(0,cs.jsx)(UB,{children:(0,cs.jsx)(Kz,{minWidth:30,maxWidth:60,...(0,cK.f)("placeholder")})});if(Zr(e)||t.contentType===mu.DraftIssue||t.contentType===mu.PullRequest||0===e.value.total)return null;let d=`${t.id}-tracks-completion-value`;return(0,cs.jsx)(UB,{children:(0,cs.jsxs)(xh.z,{variant:"invisible",sx:{p:0,borderRadius:3,"&:hover:not([disabled]), &:focus:not([disabled])":{backgroundColor:"transparent",color:"fg.default"}},"aria-describedby":d,onClick:o,tabIndex:-1,ref:n,onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),children:[(0,cs.jsx)(HB.h,{direction:"n",open:l,"aria-label":pX.progressPercentCount(Math.floor(e.value.completed/e.value.total*100)),ref:r,id:d,"aria-live":"polite",portalProps:{onMount:s.adjustPickerPosition}}),(0,cs.jsx)(Hz,{progress:e.value})]})})});HU.displayName="TracksRenderer";let HK=({currentValue:e,model:t,...a})=>{let{fetchOptions:n,saveSelected:r}=AZ({model:t});Hb("LabelsEditor",t.id);let l=(0,cg.useMemo)(()=>{let t=Zl(e)?e.value:[];return t.map(e=>({...e,selected:!0}))},[e]),i=(0,cg.useCallback)(()=>(0,cs.jsx)(HE,{currentValue:e,model:t}),[e,t]);return(0,cs.jsx)(HT,{model:t,placeholderText:"Search labels",selected:l,fetchOptions:n,filterOptions:AA,getSortAttribute:AM,convertOptionToItem:AF,saveSelected:r,renderButton:i,...a})},HW=(0,cg.memo)(HK);try{(s8=HK).displayName||(s8.displayName="LabelsEditorFunc")}catch{}try{(s7=HW).displayName||(s7.displayName="LabelsEditor")}catch{}let HH=({currentValue:e,model:t,...a})=>{Hb("MilestoneEditor",t.id);let{fetchOptions:n,saveSelected:r}=AG({model:t}),l=(0,cg.useMemo)(()=>{let t=Zl(e)?[e.value]:[];return t},[e]),i=(0,cg.useCallback)(()=>(0,cs.jsx)(HM,{currentValue:e,model:t}),[e,t]);return(0,cs.jsx)(HT,{model:t,placeholderText:"Search milestones",blankslateText:"No milestones to show.",selected:l,fetchOptions:n,filterOptions:AU,getSortAttribute:AW,convertOptionToItem:AH,groupMetadata:[{groupId:"open",header:{title:"Open",variant:"filled"}},{groupId:"closed",header:{title:"Closed",variant:"filled"}}],saveSelected:r,renderButton:i,...a,singleSelect:!0,height:"auto",maxHeight:"large"})},HG=(0,cg.memo)(HH);try{(s9=HH).displayName||(s9.displayName="MilestoneEditorFunc")}catch{}try{(oe=HG).displayName||(oe.displayName="MilestoneEditor")}catch{}function Hq(e,t){let[a,n]=(0,cg.useState)(!1);(0,cg.useLayoutEffect)(()=>{!a&&e.current&&(n(!0),t&&t(),e.current.focus())},[a,e,t])}let HQ=({submitValue:e,cleanupFn:t,defaultValue:a})=>{let n=(0,cg.useRef)(a),r=(0,cg.useCallback)(e=>{n.current=e.target.value},[n]),l=(0,cg.useCallback)(()=>{if(null!==n.current){let t=e(n.current.toString());return n.current=null,t}},[n,e]),i=(0,cg.useCallback)(()=>{n.current=null},[]);return(0,cg.useLayoutEffect)(()=>function(){l(),t&&t()},[]),{onChange:r,protectedSubmitValue:l,cancelSaveOnBlur:i}},HX=({model:e,align:t,columnId:a,defaultValue:n,rowId:r,onUpdate:l,validationFn:i,type:s,emojiPickerDisabled:o=!1})=>{let d=(0,cg.useRef)(null),{postStats:u}=v4(),{navigationDispatch:c}=Tc();Hq(d);let m=(0,cg.useRef)(!0),{setValidationMessage:p,clearValidationMessage:f,validationMessageId:h}=IY(r,a),g=(0,cg.useCallback)(t=>{let r=n||"number"==typeof n&&0!==n;if(u({name:r?vI:vN,memexProjectColumnId:a,memexProjectItemId:e.content.id}),!i)return l(t);let s=!1;return m.current&&(s=l(t)),s&&f(),s},[f,a,n,e.content.id,l,u,i]),{cancelSaveOnBlur:y,protectedSubmitValue:x,onChange:b}=HQ({submitValue:g,cleanupFn:f,defaultValue:n}),v=(0,cg.useCallback)(e=>{if(b(e),!i){m.current=!0,f();return}let t=i(e.target.value);t?(m.current=!1,p(t,r,a)):(m.current=!0,f())},[b,i,p,r,a,f]),w=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.ENTER:x()&&c(N7({y:Nx.Next,focusType:Ny.Focus})),e.stopPropagation(),e.preventDefault();return;case wf.SHIFT_TAB:x()&&c(N7({x:Nx.Previous,focusType:Ny.Focus,details:{wrap:!0}})),e.stopPropagation(),e.preventDefault();return;case wf.TAB:x()&&c(N7({x:Nx.Next,focusType:Ny.Focus,details:{wrap:!0}})),e.stopPropagation(),e.preventDefault();return;case wf.ESCAPE:y(),c(N7({focusType:Ny.Focus})),e.stopPropagation(),e.preventDefault();return}},[y,c,x]),k=Ds(w),j="right"===t?{justifyContent:"flex-end"}:void 0,C="right"===t?"right":"left",S=(0,cs.jsx)(wO,{...k,onChange:v,defaultValue:n,ref:d,"aria-describedby":h,"aria-invalid":!m.current,type:s,sx:{textAlign:C,fontSize:1}}),I=Rh();return(0,cs.jsx)(UB,{editing:!0,sx:j,children:o?(0,cs.jsx)(mn.Z,{sx:{width:"100%"},children:S}):(0,cs.jsx)(Rs.Z,{...I,sx:{width:"100%"},children:S})})};try{(ot=HX).displayName||(ot.displayName="TextCellEditor")}catch{}let HY=(0,cg.memo)(function(e){let{currentValue:t,model:a,columnId:n,rowId:r,replaceContents:l}=e,i=Tp(),s=Zl(t)?t.value:null,{updateItem:o}=LZ(),d=l||!s?i:s.value,u=(0,cg.useCallback)(e=>{let t;let r=s?.value;if(""!==e){let a=mz(e);Number.isNaN(a)?null!=r&&(t={value:r}):t={value:a}}return o(a,{dataType:c7.Number,memexProjectColumnId:n,value:t}),!0},[n,a,s?.value,o]);return(0,cs.jsx)(HX,{model:a,columnId:n,rowId:r,defaultValue:d,onUpdate:u,validationFn:AY,align:"right",emojiPickerDisabled:!0})});HY.displayName="NumberEditor";let HJ=(0,cg.memo)(function(e){let{currentValue:t,model:a,rowId:n,columnId:r}=e,l=Tp(),i=Zl(t)?t.value.raw:"",{updateItem:s}=LZ(),o=e.replaceContents||!i?l:i,d=(0,cg.useCallback)(e=>(s(a,{dataType:c7.Text,memexProjectColumnId:r,value:jf(e)}),!0),[r,a,s]);return(0,cs.jsx)(HX,{model:a,columnId:r,rowId:n,defaultValue:o,onUpdate:d,validationFn:AJ})});function H0(e){return Zl(e)?m4(e.value):""}HJ.displayName="TextEditor";let H1=(0,cg.memo)(function(e){let{model:t,currentValue:a}=e,n=t.columns,{navigationDispatch:r}=Tc(),l=Tp(),i=(0,cg.useRef)(null),s=(0,cg.useRef)(!0),{updateItem:o}=LZ(),{postStats:d}=v4(),{setColumnValue:u}=SU();Hq(i);let{addToast:c}=pU(),m=e.replaceContents?l:H0(a),p=(0,cg.useCallback)(async e=>{if(i.current){let a=jf(i.current.value);await o(t,{dataType:c7.Title,value:{...e,title:{raw:a,html:a}}})}},[t,o]),f=(0,cg.useCallback)(async e=>{u(t,{memexProjectColumnId:c9.Title,value:e})},[t,u]),{perform:h}=fx({request:p,rollback:f}),g=(0,cg.useCallback)(e=>{let a=n.Title;return!!a&&a.contentType!==mu.RedactedItem&&(""===e?c({message:pX.titleCannotBeBlank,type:pj.warning}):(h(a.value,a.value),d({name:vx,ui:"title field",memexProjectItemId:t.content.id})),!0)},[c,n,t.content.id,h,d]),{cancelSaveOnBlur:y,protectedSubmitValue:x,onChange:b}=HQ({submitValue:g,defaultValue:m}),v=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.ENTER:x()&&r(N7({y:Nx.Next,focusType:Ny.Focus})),e.stopPropagation(),e.preventDefault();return;case wf.SHIFT_TAB:x()&&r(N7({x:Nx.Previous,focusType:Ny.Focus,details:{wrap:!0}})),e.stopPropagation(),e.preventDefault();return;case wf.TAB:x()&&r(N7({x:Nx.Next,focusType:Ny.Focus,details:{wrap:!0}})),e.stopPropagation(),e.preventDefault();return;case wf.ESCAPE:y(),r(N7({focusType:Ny.Focus})),e.stopPropagation(),e.preventDefault();return}},[r,y,x]),w=(0,cg.useCallback)(e=>{b(e),s.current=!0},[b]),k=Ds(v),j={onChange:w,...k},C=Rh(),S=n.Title;if(!S)return null;switch(S.contentType){case mu.DraftIssue:return(0,cs.jsxs)(UB,{editing:!0,children:[(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,mr:2,display:"flex"},children:(0,cs.jsx)(mt.Z,{icon:me.aNF,sx:{color:"fg.muted"},"aria-label":"Draft issue"})}),(0,cs.jsx)(Rs.Z,{...C,sx:{width:"100%"},children:(0,cs.jsx)(wO,{sx:{color:"fg.muted",fontSize:1},...j,defaultValue:m,ref:i})})]});case mu.Issue:case mu.PullRequest:return(0,cs.jsxs)(UB,{editing:!0,children:[(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,mr:2,display:"flex"},children:(0,cs.jsx)(xl,{title:S})}),(0,cs.jsx)(Rs.Z,{...C,sx:{width:"100%"},children:(0,cs.jsx)(wO,{sx:{color:"fg.default",fontSize:1},...j,defaultValue:m,ref:i})})]});default:return null}});H1.displayName="TitleEditor";let H2=e=>e?{value:new Date((0,Am.Z)(e,{representation:"date"}))}:void 0,H5=(0,cg.memo)(function(e){let{model:t,rowId:a,columnId:n,currentValue:r}=e,{updateItem:l}=LZ(),{postStats:i}=v4(),[s,o]=(0,cg.useState)(!0),{navigationDispatch:d}=Tu(),u=!e.replaceContents&&Zl(r)?r.value:null,c=(0,cg.useCallback)(e=>{o(!1),"submit-key-press"===e?d(N7({y:Nx.Next,focusType:Ny.Focus})):d(N7({focusType:Ny.Focus}))},[d]),m=(0,cg.useCallback)(async e=>{await l(t,{dataType:c7.Date,memexProjectColumnId:n,value:H2(e)}),i({name:u?vI:vN,memexProjectColumnId:n,memexProjectItemId:t.id})},[n,u,t,i,l]),p=(0,cg.useRef)(null),f=(0,cg.useCallback)(e=>{let a=e=>{e.stopPropagation(),e.preventDefault(),e.nativeEvent.detail<=1&&c()};return p.current=e.ref.current,(0,cs.jsx)("summary",{...e,...(0,cK.f)("table-cell-date-editor"),onClick:a,style:{height:36,outline:"none",listStyle:"none"},children:(0,cs.jsx)(HP,{currentValue:r,model:t})})},[c,r,t]),h=(0,cg.useCallback)(e=>{if(e.target instanceof Element){let t=e.target.closest("summary");if(t===p.current)return}},[]);return(0,cs.jsx)(Ac.Mt,{open:s,onChange:m,onClose:c,value:u?new Date(m5(u.value)):null,showTodayButton:!1,showClearButton:!0,anchoredOverlayProps:{overlayProps:{onEscape:()=>c(),onClickOutside:h,onMouseDown:e=>{e.preventDefault()},...(0,cK.f)(`TableCellEditor{row: ${a}, column: ${n}}`)},focusTrapSettings:{restoreFocusOnCleanUp:!1}},anchor:f})});H5.displayName="DateEditor";let H3=HC(function({currentValue:e,model:t,dropdownRef:a,columnId:n,isDisabled:r}){Hx("IterationRenderer",t.id);let l=mB(n),i=(0,cg.useRef)(null);return(k0(i),l)?Zn(e)?(0,cs.jsx)(UB,{children:(0,cs.jsx)(Kz,{minWidth:40,maxWidth:80,...(0,cK.f)("placeholder")})}):Zr(e)?(0,cs.jsx)(Hw,{ref:a,isDisabled:r}):(0,cs.jsx)(Hw,{ref:a,isDisabled:r,children:(0,cs.jsx)(cW.Z,{sx:{overflow:"hidden",display:"flex"},children:(0,cs.jsx)(CQ.Z,{sx:{bg:"canvas.subtle",color:"fg.muted",my:0},ref:i,children:(0,cs.jsx)(y9,{children:e.value.titleHtml})})})}):null});H3.displayName="IterationRenderer";let H4=({currentValue:e,model:t,columnModel:a,...n})=>{let r=Zl(e)?e.value:null,{activeOptions:l,completedOptions:i,selected:s,saveSelected:o,filterChange:d}=AT({model:t,iteration:r,columnModel:a}),u=(0,cg.useCallback)(()=>(0,cs.jsx)(H3,{currentValue:e,model:t,columnId:n.columnId}),[e,t,n.columnId]);return(0,cs.jsx)(HT,{model:t,fetchOptions:j1.Z,placeholderText:"Filter options",selected:s,options:[...l,...i.slice(0,3)],filterOptions:d,getSortAttribute:AI,convertOptionToItem:AS,saveSelected:o,renderButton:u,getOptionMatchingFilterValue:AN,groupMetadata:[{groupId:"active"},{groupId:"completed",header:{title:"Completed",variant:"filled"}}],...n,singleSelect:!0,height:"auto",maxHeight:"large"})},H6=(0,cg.memo)(H4);try{(oa=H4).displayName||(oa.displayName="IterationEditorFunc")}catch{}try{(on=H6).displayName||(on.displayName="IterationEditor")}catch{}let H8=({model:e,...t})=>(0,cs.jsx)(HT,{model:e,fetchOptions:j1.Z,placeholderText:"",selected:[],filterOptions:j1.Z,getSortAttribute:j1.Z,convertOptionToItem:j1.Z,saveSelected:j1.Z,renderButton:j1.Z,...t}),H7=(0,cg.memo)(H8);try{(or=H8).displayName||(or.displayName="RepositoryEditorFunc")}catch{}try{(ol=H7).displayName||(ol.displayName="RepositoryEditor")}catch{}function H9(e){return!!e&&e.length>=f1().projectLimits.singleSelectColumnOptionsLimit}let Ge=(e,t)=>{let a=t.name;return a.toLowerCase()!==e.toLowerCase()?null:t},Gt=(0,cg.memo)(({model:e,columnModel:t,currentValue:a,...n})=>{let{navigationDispatch:r}=Tc(),{addColumnOption:l}=Bx(),{findColumn:i}=_w(),{projectLimits:{singleSelectColumnOptionsLimit:s}}=f1(),o=Zl(a)?a.value.id:null,{saveSelected:d,options:u,selected:c}=A9({columnModel:t,model:e,selectedValueId:o}),m=(0,cg.useCallback)(()=>(0,cs.jsx)(HO,{currentValue:a,model:e,columnId:n.columnId,options:t.settings.options}),[a,e,n.columnId,t]),p=H9(u),[f,h]=(0,cg.useState)(null),g=(0,cg.useCallback)(async e=>{h(null),await l(t,e);let a=i(t.id),n=a?.dataType===c7.SingleSelect?a.settings.options.find(({name:t})=>t===e.name):void 0;n&&d([{...n,selected:!0}]),r(N7({focusType:Ny.Focus}))},[l,t,i,d,r]),y=(0,cg.useCallback)(e=>{let t=jf(e);return p?{...(0,cK.f)("table-cell-editor-max-options-length-row"),text:pX.singleSelectOptionLimitWarning(s),disabled:!0}:{children:(0,cs.jsxs)(cs.Fragment,{children:["Create option ",(0,cs.jsxs)("strong",{children:["\xa0",t]})]}),onAction:async(e,a)=>{a.preventDefault(),h({...By,name:t})},...(0,cK.f)("add-column-option")}},[p,s]),x=u.every(e=>"GRAY"===e.color),b=(0,cg.useCallback)(e=>A7(e,!x),[x]);return f?(0,cs.jsx)(BL,{initialOption:f,onSave:g,onCancel:()=>h(null)}):(0,cs.jsx)(HT,{model:e,fetchOptions:j1.Z,placeholderText:"Filter options",selected:c,options:u,filterOptions:A6,getSortAttribute:A8,convertOptionToItem:b,saveSelected:d,renderButton:m,renderCreateNewOption:y,getOptionMatchingFilterValue:Ge,singleSelect:!0,height:"initial",maxHeight:"large",...n})});Gt.displayName="SingleSelectEditor";let Ga=(0,cg.memo)(Gt);try{(oi=Ga).displayName||(oi.displayName="SingleSelectEditor")}catch{}let Gn=({linkedPullRequests:e})=>(0,cs.jsx)(UB,{sx:{overflow:"hidden",display:"flex"},children:e?.map(e=>(0,cs.jsx)(cW.Z,{sx:{mr:1,lineHeight:0},...(0,cK.f)("linked-pr-label"),children:(0,cs.jsx)(Lp,{linkedPullRequest:e,sx:{my:0},tabIndex:-1})},e.id))});try{(os=Gn).displayName||(os.displayName="LinkedPullRequestGroup")}catch{}let Gr=HC(function({currentValue:e,model:t}){return(Hx("LinkedPullRequestsRenderer",t.id),Zn(e))?(0,cs.jsx)(UB,{children:(0,cs.jsx)(Kz,{minWidth:30,maxWidth:60,...(0,cK.f)("placeholder")})}):t.contentType===mu.DraftIssue||Zr(e)?null:(0,cs.jsx)(Gn,{linkedPullRequests:e.value})});Gr.displayName="LinkedPullRequestsRenderer";let Gl=HC(function({currentValue:e,model:t}){return(Hx("ReviewersRenderer",t.id),Zn(e))?(0,cs.jsx)(UB,{children:(0,cs.jsx)(Kz,{minWidth:30,maxWidth:60,...(0,cK.f)("placeholder")})}):t.contentType===mu.DraftIssue||Zr(e)?null:(0,cs.jsx)(UB,{children:(0,cs.jsx)(LQ,{users:e.value})})});Gl.displayName="ReviewersRenderer";let Gi=HC(({currentValue:e,model:t,projectOwner:a})=>{let n=(0,cg.useRef)(null);k0(n),Hx("TrackedByRenderer",t.id);let{createSidePanelHandler:r}=EL(),l=Zl(e)?e.value:void 0;return l?(0,cs.jsx)(UB,{ref:n,children:l.map(e=>(0,cs.jsx)(CQ.Z,{sx:{backgroundColor:"canvas.subtle",color:"fg.muted",mr:1},children:(0,cs.jsxs)(yH.Z,{target:"_blank",rel:"noreferrer",href:e.url,sx:{color:"inherit",display:"flex",alignItems:"center"},"data-hovercard-type":"issue","data-hovercard-url":`${e.url}/hovercard`,onClick:r(e),children:[(0,cs.jsx)(xr,{state:e.state,type:"Issue",isDraft:!1,sx:{mr:1,height:"14px",width:"14px"}}),fD(e,a)]})},e.key.itemId))}):null});Gi.displayName="TrackedByRenderer";let Gs={title:{typeToEditEnabled:!1,Cell(e){let t=c9.Title,a=e.row.original.columns[t],n=KA(t),r=(0,cg.useMemo)(()=>n?a?Ze(a):Za:Zt,[a,n]);return(0,cs.jsx)(HV,{currentValue:r,model:e.row.original,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,{replaceContents:a}=e,n=c9.Title,r=e.row.original.columns[n],l=KA(n),i=(0,cg.useMemo)(()=>l?r?Ze(r):Za:Zt,[r,l]);return(0,cs.jsx)(H1,{model:t,replaceContents:a,currentValue:i})}},text:{Cell(e){let t=e.column.columnModel?.id||-1,a=e.row.original.columns[t],n=KA(t),r=(0,cg.useMemo)(()=>{if(!n)return Zt;let e=mW(a);return e?Ze(e):Za},[a,n]);return(0,cs.jsx)(H$,{currentValue:r,model:e.row.original,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original;if(!e.column.columnModel||!e.column.columnModel.userDefined)throw Error(`${pX.textEditor} ${pX.requiresCustomColumn}`);let{replaceContents:a}=e,n=e.column.columnModel.id,r=e.row.original.columns[n],l=KA(n),i=(0,cg.useMemo)(()=>{if(!l)return Zt;let e=mW(r);return e?Ze(e):Za},[r,l]);return(0,cs.jsx)(HJ,{currentValue:i,model:t,replaceContents:a,columnId:n,rowId:e.row.id})}},number:{Cell(e){let t=e.column.columnModel?.id||-1,a=e.row.original.columns[t],n=KA(t),r=(0,cg.useMemo)(()=>{if(!n)return Zt;let e=mH(a);return e?Ze(e.value.toString()):Za},[a,n]);return(0,cs.jsx)(HF,{currentValue:r,model:e.row.original,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,{replaceContents:a}=e;if(!e.column.columnModel||!e.column.columnModel.userDefined)throw Error(`${pX.numberEditor} ${pX.requiresCustomColumn}`);let n=e.column.columnModel.id,r=e.row.original.columns[n],l=KA(n),i=(0,cg.useMemo)(()=>{if(!l)return Zt;let e=mH(r);return e?Ze(e):Za},[r,l]);return(0,cs.jsx)(HY,{currentValue:i,model:t,replaceContents:a,rowId:e.row.id,columnId:n})}},singleSelect:{Cell(e){let t=e.column.columnModel?.id||-1,a=e.row.original.columns[t],n=KA(t),r=(0,cg.useMemo)(()=>{if(!n)return Zt;let e=mG(a);return e?Ze(e):Za},[a,n]);if(e.column.columnModel?.dataType!==c7.SingleSelect)throw Error(pX.singleSelectCustomModelError);return(0,cs.jsx)(HO,{currentValue:r,model:e.row.original,options:e.column.columnModel.settings.options,columnId:e.column.id,dropdownRef:e.dropdownRef,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,a=e.column.columnModel?.id||-1,n=e.row.original.columns[a],r=KA(a),l=(0,cg.useMemo)(()=>{if(!r)return Zt;let e=mG(n);return e?Ze(e):Za},[n,r]);if(t.contentType===mu.RedactedItem)return null;if(e.column.columnModel?.dataType!==c7.SingleSelect)throw Error(pX.singleSelectCustomModelError);return(0,cs.jsx)(Ga,{currentValue:l,model:t,rowId:e.row.id,columnModel:e.column.columnModel,columnId:e.column.id})}},date:{Cell(e){let t=e.column.columnModel?.id||-1,a=e.row.original.columns[t],n=KA(t),r=(0,cg.useMemo)(()=>{if(!n)return Zt;let e=mY(a);return e?Ze(e):Za},[a,n]);return(0,cs.jsx)(HP,{currentValue:r,model:e.row.original,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,{replaceContents:a}=e;if(!e.column.columnModel||!e.column.columnModel.userDefined)throw Error(`${pX.dateEditor} ${pX.requiresCustomColumn}`);let n=e.column.columnModel?.id||-1,r=e.row.original.columns[n],l=KA(n),i=(0,cg.useMemo)(()=>{if(!l)return Zt;let e=mY(r);return e?Ze(e):Za},[r,l]);return(0,cs.jsx)(H5,{currentValue:i,model:t,replaceContents:a,rowId:e.row.id,columnId:e.column.columnModel.id})}},assignees:{Cell(e){let t=c9.Assignees,a=KA(t),n=e.row.original.columns[t],r=(0,cg.useMemo)(()=>a?n?Ze(n.map(LG)):Za:Zt,[n,a]);return(0,cs.jsx)(HS,{currentValue:r,model:e.row.original,dropdownRef:e.dropdownRef,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,a=c9.Assignees,n=KA(a),r=e.row.original.columns[a],l=(0,cg.useMemo)(()=>n?r?Ze(r.map(LG)):Za:Zt,[r,n]);return t.contentType===mu.RedactedItem?null:(0,cs.jsx)(HR,{currentValue:l,model:t,rowId:e.row.id,columnId:e.column.id})}},iteration:{Cell(e){let t=e.column.columnModel?.id||-1,a=e.row.original.columns[t],n=KA(t),r=(0,cg.useMemo)(()=>{if(!n)return Zt;let t=mG(a);if(!t)return Za;let r=e.column.columnModel?gp(e.column.columnModel):[],l=r.find(e=>e.id===t.id);return l?Ze(l):Za},[a,n,e.column.columnModel]);return(0,cs.jsx)(H3,{currentValue:r,model:e.row.original,columnId:e.column.id,dropdownRef:e.dropdownRef,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,a=e.column.columnModel?.id||-1,n=e.row.original.columns[a],r=KA(a),l=(0,cg.useMemo)(()=>{if(!r)return Zt;let t=mG(n);if(!t)return Za;let a=e.column.columnModel?gp(e.column.columnModel):[],l=a.find(e=>e.id===t.id);return l?Ze(l):Za},[n,r,e.column.columnModel]);if(t.contentType===mu.RedactedItem)return null;if(e.column.columnModel?.dataType!==c7.Iteration)throw Error(pX.iterationCustomModelError);return(0,cs.jsx)(H6,{currentValue:l,model:t,rowId:e.row.id,columnModel:e.column.columnModel,columnId:e.column.id})}},milestone:{Cell(e){let t=c9.Milestone,a=e.row.original.columns[t],n=KA(t),r=(0,cg.useMemo)(()=>n?a?Ze(a):Za:Zt,[a,n]);return(0,cs.jsx)(HM,{currentValue:r,model:e.row.original,dropdownRef:e.dropdownRef,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,a=c9.Milestone,n=e.row.original.columns[a],r=KA(a),l=(0,cg.useMemo)(()=>r?n?Ze(n):Za:Zt,[n,r]);return t.contentType===mu.RedactedItem?null:(0,cs.jsx)(HG,{currentValue:l,model:t,rowId:e.row.id,columnId:e.column.id})}},labels:{Cell(e){let t=c9.Labels,a=KA(t),n=e.row.original.columns[t],r=(0,cg.useMemo)(()=>a?n?Ze(n):Za:Zt,[n,a]);return(0,cs.jsx)(HE,{currentValue:r,model:e.row.original,dropdownRef:e.dropdownRef,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original,a=c9.Labels,n=KA(a),r=e.row.original.columns[a],l=(0,cg.useMemo)(()=>n?r?Ze(r):Za:Zt,[r,n]);return t.contentType===mu.RedactedItem?null:(0,cs.jsx)(HW,{currentValue:l,model:t,rowId:e.row.id,columnId:e.column.id})}},repository:{Cell(e){let t=c9.Repository,a=KA(t),n=e.row.original.columns[t],r=(0,cg.useMemo)(()=>a?n?Ze(n):Za:Zt,[n,a]);return(0,cs.jsx)(HZ,{currentValue:r,dropdownRef:e.dropdownRef,model:e.row.original,isDisabled:e.isDisabled})},CellEditor(e){let t=e.row.original;return t.contentType===mu.DraftIssue?(0,cs.jsx)(H7,{model:t,rowId:e.row.id,columnId:e.column.id}):null}},linkedPullRequests:{Cell(e){let t=c9.LinkedPullRequests,a=KA(t),n=e.row.original.columns[t],r=(0,cg.useMemo)(()=>a?n?Ze(n):Za:Zt,[n,a]);return(0,cs.jsx)(Gr,{model:e.row.original,currentValue:r})},CellEditor:()=>null},reviewers:{Cell(e){let t=c9.Reviewers,a=KA(t),n=e.row.original.columns[t],r=(0,cg.useMemo)(()=>{if(!a)return Zt;if(n){let e=n.map(LH);return Ze(e)}return Za},[n,a]);return(0,cs.jsx)(Gl,{model:e.row.original,currentValue:r})},CellEditor:()=>null},tracks:{Cell(e){let t=c9.Tracks,a=KA(t),n=e.row.original.columns[t],r=(0,cg.useMemo)(()=>a?n?Ze(n):Za:Zt,[n,a]);return(0,cs.jsx)(HU,{model:e.row.original,currentValue:r})},CellEditor:()=>null},trackedBy:{Cell(e){let t=c9.TrackedBy,a=KA(t),n=e.row.original.columns[t],{projectOwner:r}=f1(),l=(0,cg.useMemo)(()=>a?n?Ze(n):Za:Zt,[n,a]);return(0,cs.jsx)(Gi,{model:e.row.original,currentValue:l,projectOwner:r})},CellEditor:()=>null}},Go=Hf(e=>e.original.columns),Gd=Object.keys(Gs).reduce((e,t)=>(e[t]={...e[t],groupingConfiguration:Go[t]},e),{...Gs});function Gu(e){return Gd[e.dataType]}function Gc(e){if("empty"!==e.kind)switch(e.dataType){case c7.Iteration:return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:{id:e.value.iteration.id}};case c7.SingleSelect:return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:{id:e.value.option.id}};case c7.Text:return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:e.value.text.raw};case c7.Number:{let t=e.value.number;return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:{value:t.value}}}case c7.Date:{let t=e.value.date;return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:t}}case c7.Milestone:case c7.Repository:return{dataType:e.dataType,value:void 0};case c7.Assignees:return{dataType:e.dataType,value:e.value};case c7.TrackedBy:return{dataType:e.dataType,value:[e.value],appendOnly:!1};default:h2(e)}}function Gm(e,t,a={memex_group_by_multi_value_changes:!1,ctrlKeyPressed:!1},n=null){switch(e.dataType){case c7.Iteration:{let t="group"===e.kind?{id:e.value.iteration.id}:void 0;return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:t}}case c7.SingleSelect:{let t="group"===e.kind?{id:e.value.option.id}:void 0;return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:t}}case c7.Text:{let t="group"===e.kind?e.value.text.raw:void 0;return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:t}}case c7.Number:{let t="group"===e.kind?e.value.number:void 0;return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:t}}case c7.Date:{let t="group"===e.kind?e.value.date:void 0;return{dataType:e.dataType,memexProjectColumnId:e.value.columnId,value:t}}case c7.Milestone:case c7.Repository:return{dataType:e.dataType,value:"group"===e.kind?e.value:void 0};case c7.Assignees:{let n="group"===e.kind?e.value:[];if(n.length>0&&a.memex_group_by_multi_value_changes){let e=t.Assignees||[];for(let t of e){let e=n.find(e=>e.id===t.id);e||n.push(t)}}return{dataType:e.dataType,value:n}}case c7.TrackedBy:{let r="group"===e.kind?[e.value]:[];if(r.length>0){let e=t["Tracked by"]||[];for(let t of e){let e=r.find(e=>e.key.itemId===t.key.itemId),l=n?.dataType===c7.TrackedBy&&n?.kind==="group"&&n?.value.key.itemId===t.key.itemId;if(!e){if(l&&!a.ctrlKeyPressed)continue;r.push(t)}}}return{dataType:e.dataType,value:r,appendOnly:!1}}default:h2(e)}}function Gp(e){switch(e.dataType){case c7.Assignees:case c7.Milestone:case c7.Repository:case c7.TrackedBy:return{dataType:e.dataType,kind:"empty",value:{titleHtml:`No ${e.name}`}};case c7.Date:case c7.Iteration:case c7.Number:case c7.Text:case c7.SingleSelect:return{dataType:e.dataType,kind:"empty",value:{titleHtml:`No ${e.name}`,columnId:e.id}}}}function Gf(e,t){let a=e.groupedRows?.filter(e=>e.isGrouped)||[];if(0===a.length)return null;let n=a.find(e=>e.subRows.findIndex(e=>e.id===t.id)>-1);return n&&n.groupedSourceObject||null}function Gh(e,t,a,n,r){let l;let i=n&&n(t),s=new Map,o=[],d=[],{dataType:u}=t;for(let n of e){let e=a(t,n);if(!e){let e=r?r(n,"none"):n;d.push(e);continue}for(let t of e){let{value:e}=t;i||-1!==o.findIndex(t=>t.value===e)||o.push(t);let a=r?r(n,e):n,l=s.get(e);l?l.push(a):s.set(e,[a])}}if(i)l=i.map(e=>({...e,rows:s.get(e.value)??[]}));else{let e=Ha(u,[...o]);l=e.map(e=>({...e,rows:s.get(e.value)??[]}))}let c=Gp(t);return c&&l.push({value:pX.undefined,sourceObject:c,rows:d}),l}function Gg(e,t){return{...e,id:`${t}-${e.id}`}}let Gy=(e,t)=>a=>Gh(a,e,t.getGroupingMetadata,t.getAllGroupMetadata,Gg),Gx=(e,t)=>a=>t.getGroupingMetadata(e,a),Gb=(0,cg.createContext)(null),Gv=e=>{let{isFieldVisible:t}=e,{allColumns:a}=bD(),{memex_group_by_multi_value_changes:n}=xO(),{getWidth:r}=PS(),l=(0,cg.useMemo)(()=>a.map(e=>Gw(e,{memex_group_by_multi_value_changes:n},r(e.id))),[a,n,r]),i=(0,cg.useMemo)(()=>a.filter(e=>!t(e)).map(e=>`${e.id}`),[a,t]),s=(0,cg.useMemo)(()=>({columnDefinitions:l,hiddenColumns:i}),[l,i]);return(0,cs.jsx)(Gb.Provider,{value:s,children:e.children})};function Gw(e,t={memex_group_by_multi_value_changes:!1},a){let n=Gu(e);return Gk(e,n,t,a)}function Gk(e,t,a,n){let{groupingConfiguration:r,...l}=t,i=IK(e),s=(e,t,a,n)=>e.isGrouped&&t.isGrouped?0:i(e.original,t.original,n,!0),o=r;e.dataType===c7.Assignees&&a.memex_group_by_multi_value_changes&&(o=Gj());let d=o?{canGroupBy:!0,getGroupedRows:Gy(e,o),getGroupValue:Gx(e,o)}:{canGroupBy:!1};return{canSort:!0,sortType:s,Header:e.name,id:e.id.toString(),minWidth:75,width:n,columnModel:e,isDragDropColumn:!1,...d,...l}}function Gj(){return{getGroupingMetadata:(e,t)=>{let a=t.original.columns.Assignees;if(a&&a.length){let e=a.sort(Ht);return e.map(e=>({value:e.login,sourceObject:{dataType:c7.Assignees,kind:"group",value:[e]}}))}}}}try{(oo=Gb).displayName||(oo.displayName="TableColumnsContext")}catch{}let GC=()=>{let e=(0,cg.useContext)(Gb);if(null===e)throw Error("useTableColumns must be accessed from within a TableColumnsContext.Provider");return e},GS=(0,cg.createContext)(null),GI=({children:e})=>{let[t,a]=(0,cg.useState)(!1),n=(0,cg.useMemo)(()=>({showAddFieldModal:t,setShowAddFieldModal:a}),[t]);return(0,cs.jsx)(GS.Provider,{value:n,children:e})};try{(od=GS).displayName||(od.displayName="AddFieldModalContext")}catch{}try{(ou=GI).displayName||(ou.displayName="AddFieldModalContextProvider")}catch{}let GN=()=>{let e=(0,cg.useContext)(GS);if(!e)throw Error("useAddFieldModal must be used within a AddFieldModalContextProvider");return e},GT={NewFieldGroup:"NewFieldGroup",VisibleFieldGroup:"VisibleFieldGroup",HiddenFieldGroup:"HiddenFieldGroup"},G_=(0,cg.memo)(function({open:e,setOpen:t,anchorRef:a}){let{clientHeight:n}=$d({onResize:()=>{e&&((0,yX.flushSync)(()=>{t(!1)}),t(!0))}});return(0,cs.jsx)(kA.P,{open:e,anchorRef:a,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{maxHeight:n,overflow:"auto"},...(0,cK.f)("column-visibility-menu"),onEscape:()=>t(!1),onClickOutside:()=>t(!1),children:(0,cs.jsx)(GR,{setOpen:t},String(e))})})}),GR=(0,cg.memo)(function({setOpen:e}){let{currentView:t}=v5(),{setShowAddFieldModal:a,showAddFieldModal:n}=GN(),{allColumns:r}=bD(),{isFieldVisible:l,toggleField:i,visibleFields:s}=FR(),{hasWritePermissions:o}=xQ(),d=(0,cg.useCallback)(t=>{a(!0),e(!1),t.stopPropagation()},[e,a]),u=(0,cg.useCallback)((e,a,n)=>{let r=l(e),s=GL(e),o=Oj(e.dataType);return(0,cs.jsxs)(GP,{groupId:a,dragProps:{column:e,index:n},disabled:s,onSelect:s?void 0:a=>{t&&(i(t.number,e),a.stopPropagation())},selected:r,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(o,{})}),e.name]},e.id)},[t,l,i]),[c,m]=(0,cg.useMemo)(()=>{let e=new Set(s),t=r.filter(t=>!e.has(t)),a=[],n=[];for(let[e,t]of s.entries())a.push(u(t,GT.VisibleFieldGroup,e));for(let[e,a]of t.entries())n.push(u(a,GT.HiddenFieldGroup,e));return[a,n]},[r,u,s]),p=(0,cg.useMemo)(()=>o&&!n&&t?.localViewState?.layout===vK.Table,[o,n,t?.localViewState?.layout]);return(0,cs.jsx)(E1,{children:(0,cs.jsxs)(kL.S,{sx:{width:"max-content"},...(0,cK.f)("visible-columns-menu"),children:[(0,cs.jsx)(kL.S.Group,{children:(0,cs.jsxs)(kL.S.Item,{disabled:!p,onSelect:d,...(0,cK.f)("new-field-button"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.pOD,{})}),"New field"]},"new-field")}),(0,cs.jsx)(kL.S.Group,{selectionVariant:"multiple",title:"Visible fields",children:c}),(0,cs.jsx)(kL.S.Group,{selectionVariant:"multiple",title:"Hidden fields",children:m})]})})}),GP=(0,cg.memo)(function({dragProps:e,groupId:t,...a}){let{currentView:n}=v5(),{groupedByColumn:r}=R6(),{moveField:l,hideField:i,isFieldVisible:s}=FR(),{findColumnByDatabaseId:o}=xG(),d=(0,cg.useRef)(null),[u,c]=(0,cg.useState)(!1),[m]=GD(u),p=E5({dragID:String(e?.column.databaseId),dragType:"add-column-option",dragRef:d,dragIndex:e?.index??-1,dragOrigin:GT.VisibleFieldGroup,metadata:{},disable:!e,onDragStart(){c(!0)},onDragEnd(){c(!1)}}),f=E3({dropRef:d,dropID:String(e?.column.databaseId),dropType:"add-column-option",onDrop({state:{dragID:a}}){if(!a||!n)return;let s=o(Number(a));if(s&&a!==String(e?.column.databaseId)){if(t===GT.HiddenFieldGroup){if(r===s||s.dataType===c7.Title)return;i(n.number,s)}if(e&&t===GT.VisibleFieldGroup){l(n.number,s,e.index);return}}}}),h=Ub()({"hide-sash":!e||!s(e.column)||u});return(0,cs.jsx)(GE,{...p.props,...p.handle.props,...f.props,className:h,role:"menuitem",ref:d,children:(0,cs.jsx)(kL.S.Item,{...(0,cK.f)(GA(s(e.column),e?.column.name)),...a,sx:{...a.sx,boxShadow:u?e=>`0 0 0 1px ${e.colors.accent.emphasis}`:void 0,":hover":u?{background:"initial"}:void 0,pointerEvents:m}})})});function GD(e,t=150){let[a,n]=(0,cg.useState)(()=>e?"none":"auto"),r=pZ(t);return(0,cg.useEffect)(function(){if(!e)return;let t=!0,a=setTimeout(()=>{t&&n("none")},r.current);return()=>{t=!1,clearTimeout(a)}},[e,r]),(0,cg.useEffect)(function(){e||n("auto")},[e]),[a,n]}let GE=(0,cw.ZP)("div")`
  position: relative;
  margin-bottom: ${(0,ch.U2)("space.1")};
  user-select: none;

  &:not(.hide-sash):not(.is-dragging) {
    &::after,
    &::before {
      content: '';
      display: none;
      position: absolute;
      width: 100%;
      background-color: ${(0,ch.U2)("colors.accent.emphasis")};
      height: ${(0,ch.U2)("space.1")};
      border: 0;
      border-radius: 6px;
      z-index: 12;
    }

    &.show-sash-before {
      &::before {
        display: block;
        top: -${(0,ch.U2)("space.1")};
      }
    }

    &.show-sash-after {
      &::after {
        display: block;
        bottom: -${(0,ch.U2)("space.1")};
      }
    }
  }
`;function GL(e){return e.dataType===c7.Title}function GA(e,t){let a=t.replace(/\s+/g,"-").toLowerCase();return`${e?"visible":"hidden"}-column-item-${a}`}try{(oc=G_).displayName||(oc.displayName="AddColumnMenu")}catch{}try{(om=GR).displayName||(om.displayName="Options")}catch{}try{(op=Icon).displayName||(op.displayName="Icon")}catch{}try{(of=GP).displayName||(of.displayName="DragAndDroppableActionListItem")}catch{}try{(oh=GE).displayName||(oh.displayName="ItemWrapper")}catch{}let GM=(0,cg.forwardRef)(({openAddColumnMenu:e,setOpenAddColumnMenu:t,columnMenuTriggerRef:a},n)=>{let{stateRef:r,navigationDispatch:l}=Tc(),i=(0,cg.useCallback)(()=>{let e=r.current&&r.current.focus;e&&NJ(e)&&l(N7({focusType:Ny.Suspended})),t(!0)},[l,t,r]);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(ww.h,{size:"small",variant:"invisible",icon:me.pOD,"aria-label":"Add field",ref:n,onClick:i,onKeyPress:i,...(0,cK.f)("column-visibility-menu-trigger"),sx:{color:"fg.muted",width:"100%",height:32,display:"flex",alignItems:"center",justifyContent:"center"}}),(0,cs.jsx)(G_,{open:e,setOpen:t,anchorRef:a})]})});GM.displayName="AddColumnMenu";let GF=(0,cg.memo)(()=>{let{setShowAddFieldModal:e,showAddFieldModal:t}=GN(),{stateRef:a,navigationDispatch:n}=Tc(),r=(0,cg.useCallback)(e=>{let t=a.current&&a.current.focus||void 0;t&&NJ(t)?n(N6(t.details.y,e.id.toString())):n(N6("0",e.id.toString()))},[n,a]),[l,i]=(0,cg.useState)(!1),s=(0,cg.useRef)(null);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(GM,{openAddColumnMenu:l,setOpenAddColumnMenu:i,columnMenuTriggerRef:s,ref:s}),t&&(0,cs.jsx)(Un,{isOpen:t,setOpen:e,anchorRef:s,onSave:r})]})});GF.displayName="AddColumnHeader";let GZ=e=>{e.columns.push(G$)},GO={Header:GF,id:"add-column",width:50,canSort:!1,nonNavigable:!0,isDragDropColumn:!1,canBeShifted:!1,canReorder:!1,Cell:"",CellEditor:""},G$=e=>[...e,GO],GV=(0,cg.createContext)({});function GB(e){let[t,a]=(0,cg.useState)({isDragging:!1,autoScroll:!0});EF("is-dragging",t.isDragging),Br({active:t.isDragging&&(t.autoScroll??!0),axis:e.scrollAxis,scrollRef:e.scrollRef,strength:20,bufferX:e.bufferX??[20,20],bufferY:e.bufferY??[20,20],ease:Gz});let n=(0,cg.useMemo)(()=>({dragState:t,setDragState:a,scrollRef:e.scrollRef}),[t,e.scrollRef]);return(0,cs.jsx)(GV.Provider,{value:n,children:e.children})}function Gz(e){return Math.pow(e,5)}function GU(){let{dragState:e,setDragState:t}=(0,cg.useContext)(GV);return[e,t]}let GK={};function GW(e=GK){let[t,a]=GU(),[n,r]=(0,cg.useState)(!1),l=(0,cg.useCallback)(()=>{r(!1)},[]),i=(0,cg.useCallback)(t=>{l(),a(t=>({...t,isDragging:!0,autoScroll:e.autoScroll})),e.onDragStart&&e.onDragStart(t)},[e,a,l]),s=(0,cg.useCallback)(t=>{0!==t.button&&(a(t=>({...t,isDragging:!1,autoScroll:e.autoScroll})),e.onDragEnd&&e.onDragEnd(t))},[e,a]),o=(0,cg.useCallback)(t=>{e.onDrag&&e.onDrag(t)},[e]),d=(0,cg.useCallback)(t=>{0===t.button&&(a(t=>({...t,isDragging:!1,autoScroll:e.autoScroll})),e.onDragEnd&&e.onDragEnd(t))},[e,a]);(0,cg.useEffect)(()=>(n?(addEventListener("mousemove",i),addEventListener("mouseup",l)):(removeEventListener("mousemove",i),removeEventListener("mouseup",l)),()=>{removeEventListener("mousemove",i),removeEventListener("mouseup",l)}),[i,n,l]),(0,cg.useEffect)(()=>(t.isDragging?(addEventListener("mousedown",s),addEventListener("mousemove",o),addEventListener("mouseup",d)):(removeEventListener("mousedown",s),removeEventListener("mousemove",o),removeEventListener("mouseup",d)),()=>{removeEventListener("mousedown",s),removeEventListener("mousemove",o),removeEventListener("mouseup",d)}),[t.isDragging,s,o,d]);let{disabled:u,onMouseDown:c}=e,m=(0,cg.useCallback)(e=>{0!==e.nativeEvent.button||e.defaultPrevented||u||(r(!0),c&&c(e))},[c,u]);return{props:{onMouseDown:m}}}function GH(e={}){let[t]=GU(),{onDragEnter:a,onDragMove:n,onDragLeave:r,onDrop:l}=e,i=(0,cg.useCallback)(e=>{t.isDragging&&a&&a(e)},[t.isDragging,a]),s=(0,cg.useCallback)(e=>{t.isDragging&&n&&n(e)},[t.isDragging,n]),o=(0,cg.useCallback)(e=>{t.isDragging&&r&&r(e)},[t.isDragging,r]),d=(0,cg.useCallback)(e=>{0===e.nativeEvent.button&&t.isDragging&&l&&l(e)},[t.isDragging,l]);return{props:{onMouseEnter:i,onMouseMove:s,onMouseLeave:o,onMouseUp:d}}}try{(og=GV).displayName||(og.displayName="Context")}catch{}try{(oy=SomethingDraggable).displayName||(oy.displayName="SomethingDraggable")}catch{}try{(ox=SomethingDroppable).displayName||(ox.displayName="SomethingDroppable")}catch{}try{(ob=GB).displayName||(ob.displayName="DragAndDropWithEventsProvider")}catch{}let GG={SET_DRAGGING_COLUMN:"useColumnReordering.SET_DRAGGING_COLUMN",SET_DRAG_TARGET:"useColumnReordering.SET_DRAG_TARGET",RESET:"useColumnReordering.RESET"};function Gq(){return{type:GG.RESET}}function GQ(e){return{type:GG.SET_DRAGGING_COLUMN,columnId:e}}function GX(e,t){return e&&t?{type:GG.SET_DRAG_TARGET,overColumn:{column:e,side:t}}:{type:GG.SET_DRAG_TARGET,overColumn:null}}function GY(e){let{visibleFields:t}=FR(),a=(0,cg.useMemo)(()=>t.map(e=>e.id.toString()),[t]);e.useOptions.push(GJ(a)),e.getHeaderProps.push(G0),e.stateReducers.push(G1)}function GJ(e){return t=>({...t,initialState:{...t.initialState,columnOrder:e}})}function G0(e,t){let{dispatch:a}=t.instance,{moveField:n,visibleFields:r}=FR(),{currentView:l}=v5(),{hasWritePermissions:i}=xQ(),s=(0,cg.useCallback)(()=>{a(GQ(t.column.id))},[a,t.column]),o=(0,cg.useCallback)(e=>{if(t.instance.state.draggingColumnId===t.column.id)return;let n=G2(e,t.column);a(GX(t.column,n))},[a,t.column,t.instance.state.draggingColumnId]),d=(0,cg.useCallback)(()=>{a(GX(null))},[a]),u=(0,cg.useCallback)(()=>{a(Gq())},[a]),c=(0,cg.useCallback)(e=>{if(!l)return;let i=t.instance.state.draggingColumnId,s=t.column;if(null==i||i===s.id)return;let o=G2(e,t.column),d=t.instance.state.columnOrder,u=d.indexOf(i),c=d.indexOf(s.id);a(Gq());let m=r.find(e=>`${e.id}`===i);if(!m)throw Error("No field found for dragging column");n(l.number,m,("left"===o?u<c?c-1:c:u<c?c:c+1)-1)},[l,a,t.column,t.instance.state.columnOrder,t.instance.state.draggingColumnId,n,r]),m=!i||!1===t.column.canReorder,{props:p}=GW({disabled:m,onDragStart:s,onDragEnd:u}),{props:f}=GH({onDragMove:o,onDragLeave:d,onDrop:c});return[e,{...p,...f}]}function G1(e,t){if(!G3(t))return e;switch(t.type){case GG.RESET:{let t={...e,draggingColumnId:null,overColumn:null};if(po(e,t))return e;return t}case GG.SET_DRAGGING_COLUMN:{let a={...e,draggingColumnId:t.columnId};if(po(e,a))return e;return a}case GG.SET_DRAG_TARGET:{let a={...e,overColumn:t.overColumn};if(po(e.overColumn??{},a.overColumn??{}))return e;return a}}}function G2(e,t){if(!1===t.canBeShifted)return"row-drag-handle"===t.id?"right":"left";{let t=e.currentTarget.getBoundingClientRect(),a=t.width,n=e.clientX-t.left;return n>a/2?"right":"left"}}let G5=Object.values(GG);function G3(e){return G5.includes(e.type)}let G4="useCustomGroupBy",G6="useRanking",G8="useCustomGlobalFilter",G7="useSortedByGroupOrdering",G9=[W6.useColumnOrder.pluginName,W6.useSortBy.pluginName,G4,G6,G8,G7];function qe(e,t){let a=[],n=G9.indexOf(t);return n>-1&&(a=G9.slice(0,n)),(0,W6.ensurePluginOrder)(e,a,t)}let qt=e=>{e.useInstance.push(qa)};function qa(e){let{rows:t,groupedRows:a,globalFilter:n,state:{globalFilter:r},plugins:l}=e;qe(l,qt.pluginName);let[i,s,o]=(0,cg.useMemo)(()=>{if(void 0===r)return[t];let e=[],l={};if(!n||"string"==typeof n)return t;let i=t=>{for(let a of t=n(t,r))a.isGrouped||(e.push(a),l[a.id]=a),a.subRows=a.subRows&&a.subRows.length?i(a.subRows):a.subRows;return t};return[i(a||t),e,l]},[r,n,a,t]);Object.assign(e,{rows:i,flatRows:s,rowsById:o})}qt.pluginName=G8;let qn={RESET_GROUP_BY:"useCustomGroupBy.RESET_GROUP_BY",SET_GROUP_BY:"useCustomGroupBy.SET_GROUP_BY",TOGGLE_GROUP_BY:"useCustomGroupBy.TOGGLE_GROUP_BY"},qr=e=>{e.stateReducers.push(ql),e.visibleColumnsDeps.push((e,{instance:t})=>[...e,t.state.groupByColumnIds]),e.visibleColumns.push(qi),e.useInstance.push(qs)};function ql(e,t,a,n){if(!qd(t))return e;switch(t.type){case qn.RESET_GROUP_BY:{let t=n&&n.initialState&&n.initialState.groupByColumnIds||[],a={...e,groupByColumnIds:t};if(po(e,a))return e;return a}case qn.SET_GROUP_BY:{let a={...e,groupByColumnIds:t.groupedColumnIds};if(po(e,a))return e;return a}case qn.TOGGLE_GROUP_BY:{let{columnId:a,value:n}=t,r=void 0!==n?n:!e.groupByColumnIds.includes(a);if(r)return{...e,groupByColumnIds:[...e.groupByColumnIds,a]};return{...e,groupByColumnIds:e.groupByColumnIds.filter(e=>e!==a)}}}}function qi(e,t){let a=t.instance.state.groupByColumnIds||[];for(let t of e)t.isGrouped=a.includes(t.id);return e}function qs(e){let{rows:t,flatRows:a,allColumns:n,plugins:r,state:{groupByColumnIds:l,collapsedGroups:i},dispatch:s}=e;for(let t of(qe(r,qr.pluginName),n))t.canGroupBy&&(t.toggleGroupBy=()=>e.toggleGroupBy(t.id));let o=(0,cg.useCallback)((e,t)=>{s({type:qn.TOGGLE_GROUP_BY,columnId:e,value:t})},[s]),d=(0,cg.useCallback)(e=>{s({type:qn.SET_GROUP_BY,value:e})},[s]),[u,c]=(0,cg.useMemo)(()=>{if(!l.length)return[t,a];let e=l.filter(e=>n.find(t=>t.id===e)),r=[],s=(t,a=0,l)=>{if(a===e.length)return t;let o=gZ(e[a]),d=n.find(e=>e.id===o);if(!d)throw Error(`Column with id ${o} is used for grouping but could not be found`);if(!d.getGroupedRows)throw Error(`Column with id ${o} is used for grouping but does not have a valid grouping function`);if(!d.columnModel)throw Error(`Column with id ${o} is used for grouping but does not have a valid model`);let u=d.getGroupedRows(t),c=u.map(({value:e,sourceObject:t,rows:n})=>{let d=`${o}:${e}`;d=l?`${l}>${d}`:d;let u=s(n,a+1,d);r.push(...u);let c={id:d,isGrouped:!0,groupedColumnId:o,groupedValue:e,groupedSourceObject:t,subRows:u,isCollapsed:i.indexOf(e)>-1};return c});return c},o=s(t);return[o,r]},[l,t,a,n,i]);Object.assign(e,{groupedRows:l.length>0?u:void 0,rows:c,flatRows:c,toggleGroupBy:o,setGroupBy:d})}qr.pluginName=G4;let qo=Object.values(qn);function qd(e){return qo.includes(e.type)}let qu={DESELECT_ALL_ROWS:"useDeselectAllRows.deselectAllRows"},qc=Object.values(qu),qm=e=>qc.includes(e.type),qp=()=>({type:qu.DESELECT_ALL_ROWS}),qf=e=>{e.stateReducers.push(qh)};qf.pluginName="useDeselectAllRows";let qh=(e,t)=>{let a;return qm(t)?t.type===qu.DESELECT_ALL_ROWS?(a={...e,selectedRowIds:{}},po(e,a))?e:a:void 0:e};function qg(e){e.useInstance.push(qy)}function qy(e){let t=(0,cg.useRef)(e.state.columnResizing.isResizingColumn),{updateWidth:a}=PS();(0,cg.useEffect)(()=>{if(null!=t.current&&!e.state.columnResizing.isResizingColumn){let n=e.columns.find(e=>e.id===t.current);n&&null!==n.width&&a(t.current,Number(n.width))}t.current=e.state.columnResizing.isResizingColumn},[e.columns,e.state.columnResizing,a])}function qx(e){e.useInstance.push(qb)}function qb(e){Object.assign(e,{autoResetResize:!e.state.columnResizing.isResizingColumn})}let qv=e=>{e.useInstance.push(qw)};function qw(e){let{rows:t,plugins:a}=e;qe(a,qv.pluginName),(0,cg.useMemo)(()=>{let e=0;for(let a of t)if(a.isGrouped)for(let t of a.subRows)t.index=e++;else a.index=e++;return t},[t])}qv.pluginName=G6;let qk={ErrorToast:"error-toast",ConfirmDialog:"confirm-dialog",Alert:"alert"},qj={Success:"success",Failure:"failure",Pending:"pending"},qC=(e,t)=>(0,cs.jsxs)(cs.Fragment,{children:["Create the ",(0,cs.jsx)("code",{children:e.title})," milestone in the"," ",(0,cs.jsx)("a",{href:`${t.url}/milestones`,children:t.nameWithOwner})," repository before adding to this milestone group"]}),qS=async(e,t)=>{if(!t)return{status:qj.Success};let a={itemId:e.id,columnId:c9.Milestone};if(e.contentType===mu.DraftIssue)return{status:qj.Failure,action:qk.Alert,alertOptions:p2.Milestone.Alerts.NeedsConversion,stats:{...a,status:vb.FAILURE}};if(e.columns.Milestone&&e.columns.Milestone.id===t.id)return{status:qj.Success};let n=await Ir({memexProjectItemId:e.id}),r=n.suggestions.find(e=>e.title===t.title);return r?{status:qj.Success,stats:{...a,status:vb.SUCCESS},updateColumnActionOverride:{dataType:c7.Milestone,value:r}}:{status:qj.Failure,action:qk.Alert,alertOptions:{...p2.Milestone.Alerts.NeedsTransfer,content:qC(t,gZ(e.columns.Repository))},stats:{...a,status:vb.FAILURE}}},qI=e=>(0,cs.jsxs)("div",{children:["You can transfer this issue to a different repository from the\xa0",(0,cs.jsx)(yH.Z,{target:"_blank",href:e,children:"issue page"}),"."]}),qN=(e,t)=>{if(!t)return{status:qj.Success};let a={itemId:e.id,columnId:c9.Repository,status:vb.FAILURE};return e.contentType===mu.DraftIssue?{status:qj.Failure,action:qk.Alert,alertOptions:p2.Repository.Alerts.NeedsConversion,stats:a}:e.contentType===mu.PullRequest?{status:qj.Failure,action:qk.Alert,alertOptions:p2.Repository.Alerts.CannotTransferPulls,stats:a}:e.contentType===mu.Issue&&e.columns.Repository?.nameWithOwner!==t.nameWithOwner&&e.content&&"url"in e.content?{status:qj.Failure,action:qk.Alert,alertOptions:{...p2.Repository.Alerts.IssueNeedsTransfer,content:qI(e.content.url)},stats:a}:{status:qj.Success}},qT=(e,t)=>t.length>0&&(e.contentType===mu.DraftIssue||e.contentType===mu.PullRequest)?{status:qj.Failure,action:qk.ErrorToast,toastOptions:fa.Toasts.DraftAndPullsNotSupported,stats:{status:vb.FAILURE,itemId:e.id,columnId:c9.TrackedBy}}:(e.columns[c9.TrackedBy]?.length??0)>1&&0===t.length?{status:qj.Pending,action:qk.ConfirmDialog,confirmOptions:fa.moveMultipleTrackedByNoTrackedWarning}:{status:qj.Success};async function q_(e,t){switch(t.dataType){case c7.Repository:return qN(e,t.value);case c7.Milestone:return await qS(e,t.value);case c7.TrackedBy:return qT(e,t.value)}return{status:qj.Success}}function qR(e,{content:t,...a}){return new Promise(n=>{let r=document.createElement("div"),l=(0,cd.s)(r),i=e=>{l.unmount(),n("confirm"===e)};l.render((0,cs.jsx)(cg.StrictMode,{children:(0,cs.jsx)(cc.ZP,{...e,children:(0,cs.jsx)(cm.Z,{display:"contents",children:(0,cs.jsx)(zz,{...a,onClose:i,children:t})})})}))})}let qP=()=>{let{theme:e,colorMode:t,dayScheme:a,nightScheme:n}=(0,cc.Fg)();return(0,cg.useCallback)(r=>{let l={theme:e,colorMode:t,dayScheme:a,nightScheme:n};return qR(l,r)},[e,t,a,n])},qD=(0,cg.createContext)(null),qE=e=>{let[t,a]=(0,cg.useState)(!1);(0,cg.useEffect)(()=>{let e=e=>{a(e.ctrlKey)};return window.addEventListener("mousedown",e),window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",e)}}),(0,cg.useEffect)(()=>{let e=e=>{a(e.ctrlKey)};return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",e),window.addEventListener("keyup",e)}});let n=(0,cg.useMemo)(()=>({ctrlKey:t}),[t]);return(0,cs.jsx)(qD.Provider,{value:n,children:e.children})},qL=()=>{let e=(0,cg.useContext)(qD);if(!e)throw Error("useKeyPress can only be accessed from a KeyPressProvider component");return e};try{(ov=qD).displayName||(ov.displayName="KeyPress")}catch{}let qA={title:pX.cannotEditTitle,content:pX.cannotEditItemContent,confirmButtonContent:pX.confirmDialog},qM=({handleReorderItem:e,getVisibleItems:t})=>{let{updateAndReorderItem:a}=LZ(),n=qP(),r=(0,xg.N)(),{addToast:l}=pU(),{postStats:i}=v4(),{sortedByColumn:s,clearSortedBy:o}=IS(),{currentView:d}=v5(),u=(0,cg.useCallback)((e,t,a)=>{i({name:"item_drag_and_drop",context:e,memexProjectItemId:t,memexProjectColumnId:a})},[i]),c=(0,cg.useCallback)(e=>mV(e)?n(qA):m$(e)?l({message:e.message,type:pj.error}):void 0,[n,l]),m=(0,cg.useCallback)(async(n,r,l,i)=>{try{let s=await a(n,{updateColumnAction:i,reorderData:{overItemId:r,side:l}},{visibleItems:t()});e&&e(s)}catch(e){return c(e)}},[t,e,a,c]),{memex_group_by_multi_value_changes:p}=xO(),{ctrlKey:f}=qL(),h=(0,cg.useCallback)(async({movingItem:e,movingItemGrouping:t,overItemGrouping:a,overItem:i,side:s})=>{let o=Gm(a,e.columns,{memex_group_by_multi_value_changes:p,ctrlKeyPressed:f},t),d=await q_(e,o);if(d.stats&&u(d.stats.status,d.stats.itemId,d.stats.columnId),d.updateColumnActionOverride&&(o=Object.assign({},o,d.updateColumnActionOverride)),d.status===qj.Failure&&d.action===qk.Alert)await n(d.alertOptions);else if(d.status===qj.Failure&&d.action===qk.ErrorToast)l(d.toastOptions);else{if(d.status===qj.Pending&&!await r(d.confirmOptions))return;await m(e.id,i.id,s,o)}},[p,f,u,l,n,r,m]),g=(0,cg.useCallback)(async({movingItem:e,movingItemGrouping:t,overItemGrouping:a,overItem:n,side:r})=>{if(s){let t=IK(s);if(0!==t(e,n,void 0,!0)){let e=d?{text:pX.cannotReorderForSortAction,handleClick:()=>{o(d.number)}}:void 0;return l({message:pX.cannotReorderForSortMessage,type:pj.warning,action:e})}}t&&a?await h({movingItem:e,movingItemGrouping:t,overItemGrouping:a,overItem:n,side:r}):await m(e.id,n.id,r)},[m,h,l,o,s,d]);return(0,cg.useMemo)(()=>({onDrop:g}),[g])},qF={SET_MOVING_ROW:"useRowDragDrop.setMovingRow",SET_HIGHLIGHTED_ROW:"useRowDragDrop.setHighlightedRow"};function qZ(e,t,a,n,r){let l;return l=null==e||null==t?null:null==a||null==r||null==n?{id:e.id,itemId:e.itemId,index:t,groupContext:e.groupContext,over:null}:{id:e.id,itemId:e.itemId,index:t,groupContext:e.groupContext,over:{id:a.id,itemId:a.itemId,index:n,side:r}},{type:qF.SET_MOVING_ROW,movingRow:l}}function qO(e){return{type:qF.SET_HIGHLIGHTED_ROW,rowId:e}}function q$(e,t={memex_tracked_by_drag_drop:!1}){return!e||e.dataType===c7.TrackedBy&&!!t.memex_tracked_by_drag_drop||e.dataType!==c7.TrackedBy}let qV=(0,cg.forwardRef)(function({ranking:e},t){return(0,cs.jsx)(cW.Z,{ref:t,sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"fg.muted",paddingLeft:3},children:e})});try{(ow=qV).displayName||(ow.displayName="TableRankingCell")}catch{}function qB(e,t){if(t===c7.LinkedPullRequests||t===c7.Reviewers||t===c7.Tracks||t===c7.TrackedBy)return!1;switch(e){case mu.RedactedItem:return!1;case mu.DraftIssue:return!0;case mu.Issue:case mu.PullRequest:return t!==c7.Repository}}function qz(){let{memex_bulk_actions:e}=xO(),{viewType:t}=wt();return e&&t===vQ.Table}function qU(){let{updateColumnValueAndPriority:e}=SK(),t=(0,cg.useCallback)((t,a)=>{if(!t.columnModel)return{message:"You cannot delete this"};let{dataType:n}=t.columnModel,r=mB(t.id);switch(n){case c7.Assignees:return e(a,{columnValue:{dataType:c7.Assignees,value:[]}}),null;case c7.Labels:return e(a,{columnValue:{dataType:c7.Labels,value:[]}}),null;case c7.Milestone:return e(a,{columnValue:{dataType:c7.Milestone,value:void 0}}),null;case c7.Text:case c7.Number:case c7.Date:case c7.Iteration:return mq(r)&&e(a,{columnValue:{dataType:n,memexProjectColumnId:r,value:void 0}}),null;case c7.SingleSelect:return(r===c9.Status||mq(r))&&e(a,{columnValue:{memexProjectColumnId:r,dataType:n,value:void 0}}),null;case c7.LinkedPullRequests:return{message:"Linked pull requests cannot be deleted"};case c7.Title:case c7.Repository:case c7.Reviewers:case c7.Tracks:case c7.TrackedBy:return{message:`${n.slice(0,1).toUpperCase()+n.slice(1)} cannot be deleted`};default:h2(n)}},[e]);return{clearColumnValue:t}}let qK={columnId:null,rowIndexes:[]},qW=(e,t)=>e.columnId===t||null===e.columnId,qH=(e=0,t,a)=>{let n=Math.min(e,t),r=Math.max(e,t),l=Array.from({length:r-n+1},(e,t)=>n+t);return[...new Set([...l,...a])]},qG=(e,t)=>{switch("CLEAR"===t.type||qW(e,t.columnId)||(t={type:"SELECT",rowIndex:t.rowIndex,columnId:t.columnId}),t.type){case"SELECT":return{...e,rowIndexes:[t.rowIndex],columnId:t.columnId};case"META_SELECT":{let a=t.rowIndex;if(e.rowIndexes.includes(a))return{...e,rowIndexes:[...e.rowIndexes.filter(e=>e!==a)],columnId:t.columnId};return{...e,rowIndexes:[...e.rowIndexes,a],columnId:t.columnId}}case"GROUP_SELECT":{let a=e.rowIndexes.at(-1),n=qH(a,t.rowIndex,e.rowIndexes);return{...e,rowIndexes:[...n],columnId:t.columnId}}case"CLEAR":return qK;default:return e}},qq=(0,cg.createContext)(null),qQ=(0,cg.createContext)(null),qX=e=>{let[t,a]=(0,cg.useReducer)(qG,qK),n=(0,cg.useMemo)(()=>({select:(e,t)=>a({type:"SELECT",rowIndex:e,columnId:t}),metaSelect:(e,t)=>a({type:"META_SELECT",rowIndex:e,columnId:t}),groupSelect:(e,t)=>a({type:"GROUP_SELECT",rowIndex:e,columnId:t}),clearSelection:()=>a({type:"CLEAR"})}),[]);return(0,cs.jsx)(qQ.Provider,{value:n,children:(0,cs.jsx)(qq.Provider,{value:t,children:e.children})})},qY=()=>{let e=(0,cg.useContext)(qq);if(!e)throw Error("Must use `useTableCellBulkSelectionData` in child of `<TableCellBulkSelectionProvider>");return e},qJ=()=>{let e=(0,cg.useContext)(qQ);if(!e)throw Error("Must use `useTableCellBulkSelectionActions ` in child of `<TableCellBulkSelectionProvider>");return e},q0=(e,t)=>{let a=qY();return qW(a,t)&&a.rowIndexes.includes(e)},q1=()=>{let e=qY();return e.rowIndexes.length>1};try{(ok=qG).displayName||(ok.displayName="TableCellBulkSelectionReducer")}catch{}try{(oj=qq).displayName||(oj.displayName="TableCellBulkSelectionContext")}catch{}try{(oC=qQ).displayName||(oC.displayName="TableCellBulkSelectionStableContext")}catch{}function q2(e){return`TableColumnHeader{id: ${e}}`}function q5(e){return`TableRow{id: ${e}}`}function q3(e,t){return`TableCell{row: ${e}, column: ${t}}`}let q4=e=>void 0!==e&&e.isSelected&&e.original.contentType!==mu.RedactedItem;function q6(e,t=[]){let{navigationDispatch:a,stateRef:n}=Tc(),{toggleAllRowsSelected:r,flatRows:l,selectedFlatRows:i}=Ni(),[s,o]=(0,cg.useState)(null),[d,u]=(0,cg.useState)(null),{findMemexItem:c,findMemexItemIndex:m}=SV(),p=qJ(),f=(0,cg.useCallback)(t=>{let a=l.filter(e=>null!=e.toggleRowSelected),n=a.findIndex(e=>e.id===t),i=a.findIndex(t=>t.id===e.id),s=[];if(i<n?s=a.slice(i,n+1):i>n&&(s=a.slice(n,i+1)),s.length)for(let e of(r(!1),s))e.toggleRowSelected(!0)},[l,e.id,r]),h=(0,cg.useCallback)((e,t)=>{let a=i.filter(e=>!e.isGrouped);if(0===a.length)return;let n=l.filter(e=>!e.isGrouped),s=[],o=gZ(a[0]),d=n.findIndex(e=>e.id===o.id),u=gZ(a[a.length-1]),c=n.findIndex(e=>e.id===u.id),m=n.findIndex(e=>e.id===t.id);if(1===a.length)e===Km.Up?s=n.slice(d-1,d+1):e===Km.Down&&(s=n.slice(d,d+2));else if(m<c)e===Km.Up?s=n.slice(d,c):e===Km.Down&&(s=n.slice(d,c+2));else if(e===Km.Up){if(0===d)return;s=n.slice(d-1,m+1)}else e===Km.Down&&(s=n.slice(d+1,m+1));if(s.length)for(let e of(r(!1),s))e.toggleRowSelected(!0)},[l,i,r]),g=(0,cg.useCallback)(n=>{if(t.some(e=>e.current===n.target)){if(p.clearSelection(),py(n)){e.toggleRowSelected();let t=e.cells[1];t&&a(N6(e.id,t.column.id,!1))}else if(i.length&&n.shiftKey&&s?.focus?.type==="coordinate"){let{x:e,y:t}=s.focus.details;f(t),a(N6(t,e,!1))}else{r(!1),e.toggleRowSelected(!0);let t=e.cells[1];t&&a(N6(e.id,t.column.id,!1))}}},[t,p,i.length,s?.focus?.type,s?.focus?.details,e,a,f,r]),y=(0,cg.useCallback)(()=>{if(n.current?.focus?.type==="coordinate"){o(n.current);let{y:e}=n.current.focus.details,t=l.findIndex(t=>t.id===e);u(t)}},[l,n]),x=(0,cg.useMemo)(()=>l.findIndex(t=>t.id===e.id),[l,e.id]),b=(0,cg.useCallback)(()=>{if(null!==d&&d>-1){let e=l.filter(e=>void 0!==c(e.original.id)&&e.cells.length>1),t=e.length-1,n=e[d>t?t:d];if(n){let e=m(n.original.id),t=n.cells[1];t&&a(N6(`${e}`,t.column.id,!1))}else a(N1())}},[c,l,m,d,a]);return{onRowClick:g,onRowMouseDown:y,currentIndex:x,focusLastRowIndex:b,expandRowSelectionInDirection:h}}let q8=(e,t,a,n,r=!1,l=!1,i=!1)=>{let s=(0,cg.useRef)(null),o=(0,cg.useRef)(null),{state:d,navigationDispatch:u}=Tu(),c=(0,cg.useRef)(!1),{toggleAllRowsSelected:m,selectedFlatRows:p,flatRows:f}=Ni(),{hasWritePermissions:h}=xQ(),{copyCell:g,copyRows:y,paste:x,clearClipboard:b}=KL(),{findMemexItem:v,findMemexItemIndex:w}=SV(),{expandRowSelectionInDirection:k}=q6(e.row),j=Nn(),{openPane:C}=TJ(),S=q1(),I=qJ(),N=qz(),T=(0,cg.useMemo)(()=>f.findIndex(t=>t.id===e.row.id),[e.row.id,f]),_=(0,cg.useCallback)(()=>{if(-1===T)return;let e=f.filter(e=>void 0!==v(e.original.id)),t=e.length-1,a=T>t?t:T,n=e[a];if(n){let e=w(n.original.id),t=n.cells[1];if(!t)return;u(N6(`${e}`,t.column.id,!1))}else u(N1())},[f,T,w,v,u]),{rowIndexes:R}=qY(),P=R.reduce((e,t)=>{let a=f[t];return a&&a.original.contentType!==mu.RedactedItem&&e.push(a.original),e},[]),D=(0,cg.useCallback)(()=>{j(qp())},[j]),E=(0,cg.useCallback)(()=>{D(),_()},[_,D]),{openRemoveConfirmationDialog:L}=Mg(void 0,E,_),{openArchiveConfirmationDialog:A}=Mp(void 0,E,_),M=(0,cg.useCallback)(()=>{if(N&&S){u(N8());return}!N0(d,e.row.id,e.column.id)&&(u(N6(e.row.id,e.column.id,!1)),e.column.nonNavigable||D())},[S,N,d,e,u,D]),F=(0,cg.useCallback)(t=>{if(e.column.nonNavigable||t.isPropagationStopped())return;if(N){if(py(t)){I.metaSelect(e.row.index,e.column.id);return}if(t.shiftKey){I.groupSelect(e.row.index,e.column.id);return}I.select(e.row.index,e.column.id)}let a=t.target instanceof Node&&o.current?.contains(t.target),n=c.current||a;r&&n&&(c.current=!1,u(N6(e.row.id,e.column.id,r)))},[I,e,r,N,u]),Z=(0,cg.useCallback)(()=>{e.column.nonNavigable||N&&S||(a?a&&r&&(c.current=!0,N&&I.clearSelection()):(c.current=!1,u(N6(e.row.id,e.column.id,!1))),m(!1))},[e,S,N,a,r,m,u,I]),O=p.filter(e=>q4(e)),$=(0,cg.useCallback)(a=>{if(e.column.isDragDropColumn||n)return;let l=wy(a);N&&(l===wf.ARROW_LEFT||l===wf.ARROW_RIGHT)&&I.clearSelection();let i=Up(u,a);if(i.action)D(),Uc(a);else{switch(l){case wf.ENTER:r&&(u(N7({focusType:Ny.Edit})),Uc(a));return;case wf.ESCAPE:return b(),D();case wf.HOME:u(N7({x:Nx.First,focusType:Ny.Focus})),D(),Uc(a);return;case wf.SHIFT_SPACE:h&&(Uc(a),e.row.toggleRowSelected(!0));return;case wf.SPACE:"Title"===e.column.id&&(C(e.row.original),Uc(a));return;case wf.META_ENTER:{let t=e.row.original.getUrl();t&&(window.open(t,"_blank"),Uc(a));return}case wf.SHIFT_ARROW_UP:k(Km.Up,e.row),Uc(a);return;case wf.SHIFT_ARROW_DOWN:k(Km.Down,e.row),Uc(a);return;case wf.END:u(N7({x:Nx.Last,focusType:Ny.Focus})),D(),Uc(a);return;case wf.META_C:h&&e.row.original.contentType!==mu.RedactedItem&&(p.length>0?y(p):g(e),a.preventDefault());return;case wf.META_V:h&&e.row.original.contentType!==mu.RedactedItem&&(x(e,P),a.preventDefault());return;case wf.META_A:p.length===f.length?m(!1):p.length>0?m(!0):0===p.length&&e.row.toggleRowSelected(!0),Uc(a);return;case wf.DELETE:case wf.BACKSPACE:if(h&&O.length>0){Uc(a);let e=O.map(e=>e.original.id);L(e,v_)}else if(r){if(P.length>1)for(let a of P)t(e.column,a);else t(e.column,e.row.original);Uc(a)}return;case wf.ARCHIVE:if(O.length&&h&&O.every(e=>Mo(e.original.contentType))){Uc(a);let e=O.map(e=>e.original.id);A(e,v_);return}}if(a.key.match(/^\S$/)&&!q7(a)&&"/"!==a.key){let t=!1!==e.column.typeToEditEnabled;r&&t&&u(N6(e.row.id,e.column.id,!0,!1,!0,a.key)),Uc(a);return}}},[e,n,N,u,I,P,D,r,b,h,C,k,p,y,g,x,f.length,m,O,L,t,A]),V=(0,cg.useMemo)(()=>({ref:s,onKeyDown:$,onClick:F,onMouseDown:Z,onFocus:M,tabIndex:e.column.nonNavigable?void 0:0}),[$,F,Z,M,e.column.nonNavigable]),B=(0,cg.useMemo)(()=>n?{replaceContents:i,isDisabled:l}:{dropdownRef:o,isDisabled:l},[n,o,i,l]);return{wrapperProps:V,contentsProps:B}};function q7(e){return e.altKey||e.ctrlKey||e.metaKey}let q9=(0,cg.memo)(e=>{No();let{addToast:t}=pU(),{clearColumnValue:a}=qU(),{isReadonly:n,hasWritePermissions:r}=xQ(),l=qz(),{column:i,row:s}=e,{columnModel:o}=e.column,d=o?o.id:i.id,{validationMessage:u,validationMessageId:c}=IY(s.id,d),{state:{focus:m}}=Tu(),[p,f,h,g]=(0,cg.useMemo)(()=>m&&NJ(m)&&m.details.y===s.id&&m.details.x===e.column.id?[!0,Boolean(m.details.meta.editing),Boolean(m.details.meta.suspended),Boolean(m.details.meta.replaceContents)]:[!1,!1,!1,!1],[e.column.id,m,s.id]),y=(0,cg.useMemo)(()=>i.columnModel&&qB(s.original.contentType,i.columnModel.dataType)&&r,[i.columnModel,s.original.contentType,r]),x=(0,cg.useMemo)(()=>n&&e.column.id===c9.Title?e.row.original.contentType===mu.RedactedItem:!y,[e.column.id,e.row.original.contentType,y,n]),b=(0,cg.useCallback)((e,n)=>{let r=a(e,n);r&&t({...r,type:pj.warning})},[t,a]),{wrapperProps:v,contentsProps:w}=q8(e,b,p,f,y,x,g),k=q0(s.index,i.id)&&l,j=p&&f&&!!u,{isCellCopySource:C}=KL(),{focusCellElement:S,isDragging:I,styles:N,children:T}=e;(0,cg.useLayoutEffect)(()=>{let e=v.ref.current;e&&p&&!f&&!f&&S(e,i.id,{isSuspended:h})},[f,v.ref,S,h,i.id,p]);let _=Ub()({hoverable:!I,"is-focused":(p||k)&&!e.column.isDragDropColumn,"is-copy-source":C(e),"is-editing":f,"is-invalid":j,draggable:e.column.isDragDropColumn,"is-dragging":I,"cursor-not-allowed":!n&&!y,"is-first-row":0===s.index,...e.className?{[e.className]:!0}:{}}),R=e.getCellProps({style:{flexGrow:"add-column"===e.column.id?1:"unset",overflowX:e.column.isDragDropColumn?"visible":"unset",whiteSpace:"nowrap",minWidth:e.column.width,...N},className:_,role:"gridcell"});return(0,cs.jsxs)(Qe,{...v,...R,...(0,cK.f)(q3(void 0!==e.rowId?e.rowId:e.row.id,e.column.columnModel?.name||e.column.id)),sx:e.sx,"data-test-cell-is-focused":p||void 0,"data-test-cell-is-editing":f||void 0,"data-test-cell-is-suspended":h||void 0,children:[e.render(f?"CellEditor":"Cell",w),c&&(0,cs.jsx)(zh.v,{id:c,message:u}),T&&T]})});q9.displayName="TableCell";let Qe=cw.ZP.div`
  scroll-margin-top: 35px; /* Account for sticky header */
  scroll-margin-bottom: 64px; /* Account for sticky footer */
  cursor: default;
  border-left: 1px solid ${(0,ch.U2)("colors.border.muted")};
  border-bottom: 1px solid ${(0,ch.U2)("colors.border.muted")};
  outline: none;

  &:first-of-type {
    border-left: none;
  }

  &:nth-of-type(2) {
    border-left: none;
  }

  &:last-child {
    border-right: none;
  }

  .row-highlight &.hoverable:hover {
    background-color: unset;
  }

  &.is-copy-source {
    border: 2px dashed ${(0,ch.U2)("colors.accent.emphasis")};
  }

  &.is-focused {
    position: relative;
    overflow-x: visible !important;
    overflow-y: visible;

    :before {
      content: '';
      position: absolute;
      width: calc(100% - 2px);
      height: calc(100% - 2px);
      border: 2px solid ${(0,ch.U2)("colors.accent.emphasis")};
      border-radius: 2px;
      left: -1px;
      top: -1px;
      z-index: 0;
      box-shadow: inset -3px 0 0 0 ${(0,ch.U2)("colors.canvas.default")},
        inset 0 -3px 0 0 ${(0,ch.U2)("colors.canvas.default")}, inset 3px 0 0 0 ${(0,ch.U2)("colors.canvas.default")},
        inset 0 3px 0 0 ${(0,ch.U2)("colors.canvas.default")}, ${(0,ch.U2)("shadows.shadow.medium")};
      pointer-events: none;
    }

    /* NOTE: Lower-right handle for bulk cell selection (commented because we haven't shipped that, yet) */

    /* :after {
       content: '';
       position: absolute;
       width: 7px;
       height: 7px;
       border: 2px solid ${(0,ch.U2)("colors.fg.onEmphasis")};
       right: -6px;
       bottom: -6px;
       background-color: ${(0,ch.U2)("colors.accent.subtle")};
       z-index: 2;
       cursor: crosshair;
     } */
  }

  &.is-focused.is-first-row {
    :before {
      top: 0px;
      height: calc(100% - 3px);
    }
  }

  &.is-focused.is-editing {
    background-color: ${(0,ch.U2)("colors.canvas.default")};
    :before {
      box-shadow: inset -3px 0 0 0 ${(0,ch.U2)("colors.canvas.default")},
        inset 0 -3px 0 0 ${(0,ch.U2)("colors.canvas.default")}, inset 3px 0 0 0 ${(0,ch.U2)("colors.canvas.default")},
        inset 0 3px 0 0 ${(0,ch.U2)("colors.canvas.default")}, ${(0,ch.U2)("shadows.shadow.medium")};
    }

    :after {
      display: none;
    }
  }

  &.is-focused.is-invalid {
    :before {
      border-color: ${(0,ch.U2)("colors.danger.fg")};
    }
  }

  &.is-focused.cursor-not-allowed {
    :before {
      border: 2px solid ${(0,ch.U2)("colors.neutral.muted")};
      box-shadow: none;
    }
  }

  &.cursor-not-allowed {
    cursor: not-allowed;
  }

  &.draggable {
    cursor: grab;
    user-select: none;
  }

  &.draggable:active,
  &.is-dragging {
    cursor: grabbing;
    user-select: none;
  }

  .reveal-link-icon {
    visibility: hidden;
  }

  &:hover .reveal-link-icon {
    visibility: visible;
  }

  ${ma.Z}
`,Qt=cw.ZP.div`
  display: flex;
  background-color: ${(0,ch.U2)("colors.canvas.default")};

  &.row-highlight {
    position: relative;
    background-color: ${(0,ch.U2)("colors.accent.subtle")};
    box-shadow: 0 0 0 1px ${(0,ch.U2)("colors.accent.emphasis")};

    > * {
      border-bottom: transparent;
    }
  }

  &.row-selected {
    position: relative;
    background-color: ${(0,ch.U2)("colors.accent.subtle")};

    &.selection-top-edge {
      box-shadow: 0 -1px 0 0 ${(0,ch.U2)("colors.accent.emphasis")};

      &.selection-bottom-edge {
        box-shadow: 0 0 0 1px ${(0,ch.U2)("colors.accent.emphasis")};
      }
    }

    &.selection-bottom-edge {
      box-shadow: 0 1px 0 0 ${(0,ch.U2)("colors.accent.emphasis")};
    }
  }

  &.hoverable:not(.is-focused):hover {
    background-color: ${(0,ch.U2)("colors.canvas.subtle")};

    .table-row-dropdown-caret {
      opacity: 1;
    }
  }

  &.hoverable:hover .menu-trigger,
  &.hoverable:focus .menu-trigger {
    opacity: 1;
  }

  ${ma.Z}
`,Qa=(0,cg.createContext)(0),Qn={height:"37px",width:"100%",flexShrink:0},Qr=(e,t,a)=>{let n=q4(e),r=!1,l=!1;if(n){let a=t.filter(e=>!e.isGrouped),n=a.findIndex(t=>t.id===e.id);r=q4(a[n-1]),l=q4(a[n+1])}let i=!1,s=!1;if(a&&n)for(let t of a){let a=t.subRows.findIndex(t=>t.id===e.id);if(0===a){i=!0;break}if(a===t.subRows.length-1){s=!0;break}}return{beforeSelected:r,afterSelected:l,firstInGroup:i,lastInGroup:s}},Ql=(0,cg.memo)(e=>{let[t]=GU(),{flatRows:a,groupedRows:n}=Ni();e.data.prepareRow(e.row);let r=q4(e.row),{beforeSelected:l,afterSelected:i,firstInGroup:s,lastInGroup:o}=Qr(e.row,a,n),d=Ub()({hoverable:!t.isDragging,"row-selected":r,"selection-top-edge":r&&(!l||s),"selection-bottom-edge":r&&(!i||o)});return(0,cs.jsx)(Qa.Provider,{value:e.index+1,children:(0,cs.jsx)(Qt,{...e.row.getRowProps({className:d}),...(0,cK.f)(q5(e.row.id)),style:Qn,"data-test-row-is-selected":r,"data-hovercard-subject-tag":hb(e.row.original),children:e.row.cells.map(a=>(0,cg.createElement)(q9,{...a,key:a.column.id,focusCellElement:e.data.focusCellElement,isDragging:t.isDragging}))})})});Ql.displayName="TableRow";try{(oS=Qa).displayName||(oS.displayName="RowNumberContext")}catch{}let Qi={SET_ROW_MENU_OPEN:"useRowMenuShortcut.setRowMenuOpen"},Qs=Object.values(Qi),Qo=e=>Qs.includes(e.type),Qd=e=>({type:Qi.SET_ROW_MENU_OPEN,origin:e}),Qu=e=>{e.stateReducers.push(Qc)};Qu.pluginName="useRowMenuShortcut";let Qc=(e,t)=>{let a;return Qo(t)?t.type===Qi.SET_ROW_MENU_OPEN?(a={...e,rowMenuShortcutOrigin:t.origin},po(e,a))?e:a:void 0:e},Qm={position:"relative",overflow:"visible",userSelect:"none",WebkitUserSelect:"none"},Qp=e=>{for(let t of e)t.isSelected||t.toggleRowSelected()},Qf=e=>{for(let t of e)t.isSelected&&t.toggleRowSelected()},Qh=()=>{let{allColumns:e}=Ni(),{memex_tracked_by_drag_drop:t}=xO(),a=e.filter(e=>e.canGroupBy&&e.isVisible&&e.columnModel&&e.isGrouped),n=e.find(e=>e.columnModel?.dataType===c7.TrackedBy),r=n&&n.isGrouped&&!n.isVisible,l=a[0]?.columnModel;return{groupedColumnModel:l,canReorder:r?t:q$(l,{memex_tracked_by_drag_drop:t})}},Qg={position:"absolute",right:"30px",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,width:"18px",height:"18px","&:focus":{opacity:1}};function Qy({column:e,row:t}){let a=Nn(),n=Ni(),{toggleAllRowsSelected:r,selectedFlatRows:l}=n,{navigationDispatch:i}=Tc(),s=Ns(),{postStats:o}=v4(),{contentType:d}=t.original,u=(0,cg.useContext)(Qa),[c,m]=(0,cg.useState)(!1),[p,f]=(0,cg.useState)(!1),h=(0,cg.useRef)(null),g=(0,cg.useRef)(!1),{canReorder:y}=Qh(),{hasWritePermissions:x}=xQ(),b=(0,cg.useRef)(null),v=(0,cg.useRef)(null),{onRowClick:w,onRowMouseDown:k,focusLastRowIndex:j}=q6(t,[b,v]),C=(0,cg.useMemo)(()=>l.filter(e=>q4(e)),[l]),S=(0,cg.useCallback)(()=>{if(!c){let e=Gf(n,t);a(qZ({id:t.id,itemId:t.original.id,groupContext:e},t.index)),a(qO(t.original.id)),r(!1)}},[c,n,t,a,r]),I=(0,cg.useCallback)(()=>{a(qZ(null))},[a]),N=(0,cg.useCallback)(()=>{s&&i(Nf(s)),a(Qd())},[s,a,i]),T=(0,cg.useCallback)(()=>{i(N8()),m(!0),h.current&&h.current.focus()},[i]),_=(0,cg.useCallback)(()=>{h.current&&h.current.blur(),g.current||N(),m(!1)},[g,N,m]),R=(0,cg.useCallback)(e=>e?T():_(),[T,_]),P=(0,cg.useCallback)(()=>{g.current=!0;let e=-1!==C.findIndex(e=>e.id===t.id);e?Qp(C):(Qf(C),Qp([t]))},[t,C]),D=(0,cg.useCallback)(()=>{g.current=!1,_(),j()},[_,j]),E=(0,cg.useCallback)(()=>{g.current=!1,N(),a(qp()),j()},[a,N,j]);(0,cg.useEffect)(()=>{s?.details.y===t.id&&d!==mu.RedactedItem&&R(!0)},[t.id,R,s?.details.y,d]);let{openRemoveConfirmationDialog:L}=Mg(P,E,D),{openArchiveConfirmationDialog:A}=Mp(P,E,D),M=(0,cg.useCallback)(()=>{L([t.original.id],vT)},[L,t.original.id]),F=(0,cg.useCallback)(()=>{A([t.original.id],vT)},[A,t.original.id]),Z=(0,cg.useCallback)(()=>{let e=C.map(e=>e.original.id);A(e,vT)},[A,C]),O=(0,cg.useCallback)(()=>{let e=C.map(e=>e.original.id);L(e,vT)},[L,C]),{props:$}=GW({onDragStart:S,onDragEnd:I,onMouseDown:k}),V=q4(t),B=V&&C.length>1,z=C.every(e=>Mo(e.original.contentType))&&Mo(d)&&x,U=(0,cg.useCallback)(()=>{let e=t.original.id;o({name:vl,ui:vr,memexProjectItemId:e})},[o,t]),K=(0,cg.useMemo)(()=>d!==mu.RedactedItem&&x?y?{...$,draggable:!0,onDragStart:e=>e.preventDefault(),style:Qm,onClick:w}:{...$,style:{...Qm,cursor:"default"},onMouseDown:void 0,onClick:void 0}:{style:{...Qm,cursor:"default"},title:"Reordering this item is disabled",onClick:w,onMouseDown:void 0},[y,d,x,w,$]);return e.isDragDropColumn?(0,cs.jsxs)(UB,{...K,...(0,cK.f)("row-dragger"),ref:b,children:[(0,cs.jsx)(qV,{ranking:u,ref:v}),x&&d!==mu.RedactedItem&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(kA.P,{open:c,onOpenChange:R,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{icon:me.AS7,"aria-label":"Row actions",className:"menu-trigger",tabIndex:-1,block:!0,sx:Qg,...(0,cK.f)("row-menu-trigger")})}),(0,cs.jsx)(kA.P.Overlay,{...(0,cK.f)("row-menu"),children:(0,cs.jsxs)(kL.S,{children:[B||d!==mu.DraftIssue?null:(0,cs.jsxs)(kL.S.Item,{onSelect:()=>f(!0),...(0,cK.f)("row-menu-convert-to-issue"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.hEv,{})}),"Convert to issue"]}),z?(0,cs.jsx)(cs.Fragment,{children:B?(0,cs.jsxs)(kL.S.Item,{onSelect:Z,...(0,cK.f)("row-menu-archive-multiple"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.rKT,{})}),"Archive ",C.length," items",(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(KX,{})})]}):(0,cs.jsxs)(kL.S.Item,{onSelect:F,...(0,cK.f)("row-menu-archive"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.rKT,{})}),"Archive",(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(KX,{})})]})}):null,B?(0,cs.jsxs)(kL.S.Item,{variant:"danger",onSelect:O,...(0,cK.f)("row-menu-delete-multiple"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete ",C.length," selected items from project",(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(KQ,{})})]}):(0,cs.jsxs)(kL.S.Item,{variant:"danger",onSelect:M,...(0,cK.f)("row-menu-delete"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete from project",(0,cs.jsx)(kL.S.TrailingVisual,{children:(0,cs.jsx)(KQ,{})})]})]})})]}),(0,cs.jsx)(MS,{anchorRef:b,isOpen:p,item:t.original,onOpenChange:e=>f(e),onSuccess:U,...(0,cK.f)("row-menu-repo-picker")})]})]}):null}try{(oI=Qy).displayName||(oI.displayName="RowDragger")}catch{}let Qx=Object.values(qF);function Qb(e){return Qx.includes(e.type)}let Qv={Header:"",id:"row-drag-handle",width:50,canSort:!1,nonNavigable:!0,isDragDropColumn:!0,canBeShifted:!1,canReorder:!1,Cell:Qy,CellEditor:Qy};function Qw(e){let t=[Qv,...e];return t}let Qk=e=>{e.useOptions.push(Qj),e.getRowProps.push(QS),e.stateReducers.push(QC),e.columns.unshift(Qw)};function Qj(e){return{...e,initialState:{...e.initialState,highlightedRowId:null}}}Qk.pluginName="useRowDragDrop";let QC=(e,t)=>{let a;if(!Qb(t))return e;switch(t.type){case qF.SET_HIGHLIGHTED_ROW:if(a={...e,highlightedRowId:t.rowId},po(e,a))return e;return a;case qF.SET_MOVING_ROW:if(a={...e,movingRow:t.movingRow},(0,wK.Z)(e.movingRow,a.movingRow))return e;return a}},QS=(e,t)=>{let{instance:a,row:n}=t,r=Nr(),{groupByColumnIds:l}=Ne(),i=(0,cg.useMemo)(()=>l&&l.length>0?l[0]:void 0,[l]),s=(0,cg.useMemo)(()=>r===n.original.id?"row-highlight":"",[n,r]),o=(0,cg.useMemo)(()=>i?n.index:a.rows.findIndex(e=>e.original.id===n.original.id),[i,n.index,n.original.id,a.rows]),d=(0,cg.useCallback)(()=>{let{movingRow:e}=a.state;e&&null!==e.index&&a.dispatch(qZ({id:e.id,itemId:e.itemId,groupContext:e.groupContext},e.index))},[a]),u=(0,cg.useCallback)(e=>{let{movingRow:t}=a.state;if(!t||null===t.index)return;let r=n.original.id===t.itemId;if(r){a.dispatch(qZ({id:t.id,itemId:t.itemId,groupContext:t.groupContext},t.index));return}let l=e.currentTarget.clientHeight,i=e.clientY-e.currentTarget.getBoundingClientRect().top,s=i>l/2?"bottom":"top";a.dispatch(qZ({id:t.id,itemId:t.itemId,groupContext:t.groupContext},t.index,{id:n.id,itemId:n.original.id},o,s))},[a,n,o]),c=(0,cg.useCallback)(async()=>{a.state.movingRow||a.dispatch(qO(null))},[a]),m=(0,cg.useMemo)(()=>({getVisibleItems:()=>t.instance.rows.map(e=>({id:e.original.id})),handleReorderItem:e=>{if(void 0!==e&&e>-1){let n=t.instance.rows[e];n&&a.dispatch(N6(n.id,"row-drag-handle"))}}}),[t.instance.rows,a]),p=(0,cg.useCallback)(e=>{let t=a.flatRows.filter(e=>!e.isGrouped);return gZ(t.find(t=>t.original.id===e)).original},[a.flatRows]),{onDrop:f}=qM(m),h=(0,cg.useCallback)(async()=>{let{movingRow:e}=a.state;if(!e?.id||null===e.index||!e.over)return;let t=p(e.itemId),r=p(e.over.itemId);if(!t||!r)return;let l=e.groupContext||null,i=Gf(a,n);await f({movingItem:t,movingItemGrouping:l,overItemGrouping:i,overItem:r,side:e.over.side}),a.dispatch(qZ(null))},[a,p,f,n]),{props:g}=GH({onDragMove:u,onDrop:h,onDragLeave:d});return[e,{className:s,onClick:c,...g}]};function QI(e){e.useInstance.push(QN)}function QN(e){let{rows:t,flatRows:a,groupedRows:n,state:{sortBy:r,groupByColumnIds:l},plugins:i}=e;qe(i,QI.pluginName);let[s,o]=(0,cg.useMemo)(()=>{if(!n)return[t,a];let e=r[0]&&r[0].id,i=r[0]&&r[0].desc?"desc":"asc",s=l[0],o=e&&s&&e===s&&"desc"===i,d=o?n.slice().reverse():n,u=o?d.map(e=>[...e.subRows]).flat():a;return[d,u]},[a,l,n,t,r]);Object.assign(e,{rows:o,flatRows:o,groupedRows:n?s:void 0})}function QT({fields:e}){let{items:t}=h_(),{sortColumnId:a,sortDirection:n}=IS(),{groupedByColumnId:r,collapsedGroups:l}=R6(),{columnDefinitions:i,hiddenColumns:s}=GC(),o=(0,cg.useMemo)(()=>a?[{id:`${a}`,desc:"desc"===n}]:[],[a,n]),d=(0,cg.useMemo)(()=>r?[`${r}`]:[],[r]),u=(0,cg.useMemo)(()=>["row-drag-handle",...e.map(e=>e.id.toString())],[e]),c=[W6.useBlockLayout,W6.useColumnOrder,W6.useSortBy,qr,qv,qt,QI,GY,Qu,Qk,qx,W6.useResizeColumns,qg,GZ,W6.useRowSelect,qf],{query:m,globalFilter:p}=wn(),f=(0,W6.useTable)({columns:i,data:t,globalFilter:p,orderByFn:W8,initialState:{hiddenColumns:s,sortBy:o,groupByColumnIds:d,collapsedGroups:l,globalFilter:m,columnOrder:u},autoResetSortBy:!1,disableMultiSort:!0,autoResetHiddenColumns:!1,autoResetSelectedRows:!1,autoResetResize:!0,useControlledState:e=>(0,cg.useMemo)(()=>({...e,sortBy:o,globalFilter:m,groupByColumnIds:d,collapsedGroups:l,hiddenColumns:s,columnOrder:u}),[e,u,o,m,d,s,l])},...c);return f}QI.pluginName=G7;var Q_=a(35447);let QR=(0,cg.memo)(e=>{let t=Na(),a=t?.column,n=e.visibleColumns.at(-1)===a,r=t?.side;if(a){let t=a.totalLeft;return("right"===r&&(t+=a.totalWidth),n&&"right"===r?t-=3:t-=Math.ceil(1.5),e.sticky&&e.height)?(0,cs.jsx)(cW.Z,{sx:{bg:"accent.emphasis",top:0,ml:t,mt:-e.height,height:e.height,width:3,zIndex:1,pointerEvents:"none",position:"sticky"}}):(0,cs.jsx)(cW.Z,{sx:{bg:"accent.emphasis",left:t,top:0,bottom:0,width:3,height:"100%",position:"absolute"}})}return null});QR.displayName="ColumnDropZoneSash";let QP=(0,cg.memo)(e=>{let t=Nt(),a=t?.over?.index,n=t?.over?.side;if(null==a||null==n)return null;let r="bottom"===n?e.rowHeight:0,l=a+1,i=0;return i=a===e.rowCount-1&&"bottom"===n?l*e.rowHeight+r-6:l*e.rowHeight+r-3,(0,cs.jsx)(cW.Z,{sx:{bg:"accent.emphasis",top:i,left:0,right:0,height:3,zIndex:1,cursor:"grabbing",pointerEvents:"none",position:"absolute"}})});function QD({titleHtml:e,sx:t}){return(0,cs.jsx)(y9,{sx:{color:"fg.default",fontWeight:"bold",fontSize:2,overflow:"hidden",textOverflow:"ellipsis",...t},...(0,cK.f)("table-group-name"),children:e})}QP.displayName="RowDropZoneSash";try{(oN=QD).displayName||(oN.displayName="SanitizedTableGroupHeaderText")}catch{}function QE({assignees:e,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:r}){let l=ps(e.map(e=>e.login));return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(LK.Z,{sx:{zIndex:0,mr:2},children:e.map(e=>(0,cs.jsx)(bL.Z,{loading:"lazy",alt:e.login,src:e.avatarUrl},e.id))}),(0,cs.jsx)(QD,{titleHtml:l,sx:r}),(0,cs.jsx)(Kc,{counterSx:{color:"fg.muted",ml:2},itemsCount:t,aggregates:a,hideItemsCount:n})]})}try{(oT=QE).displayName||(oT.displayName="AssigneesGroupHeaderLabel")}catch{}function QL({titleHtml:e,label:t,rowCount:a,hideItemsCount:n,aggregates:r,titleSx:l}){return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(QD,{titleHtml:e,sx:l}),t&&(0,cs.jsx)(CQ.Z,{sx:{color:"accent.fg",ml:2},...(0,cK.f)("table-group-label"),children:t}),(0,cs.jsx)(Kc,{counterSx:{color:"fg.muted",ml:2},itemsCount:a,aggregates:r,hideItemsCount:n})]})}try{(o_=QL).displayName||(o_.displayName="DefaultGroupHeaderLabel")}catch{}function QA({iteration:e,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:r}){let l=e.titleHtml,i=gd(e),s=gl(new Date,e);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(QD,{titleHtml:l,sx:r}),(0,cs.jsx)(Kc,{counterSx:{color:"fg.muted",ml:2},itemsCount:t,aggregates:a,hideItemsCount:n}),i&&(0,cs.jsxs)(mn.Z,{sx:{color:"fg.muted",ml:2,fontSize:(0,ch.U2)("fontSizes.1"),textAlign:"left",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",code:{fontFamily:"fonts.mono",fontSize:0}},...(0,cK.f)("table-group-name-subtitle"),children:[(0,cs.jsx)("time",{dateTime:m3(i.startDate),children:gi(i.startDate)})," - ",(0,cs.jsx)("time",{dateTime:m3(i.endDate),children:gi(i.endDate)})]}),s&&(0,cs.jsx)(Av,{sx:{ml:2}})]})}try{(oR=QA).displayName||(oR.displayName="IterationGroupHeaderLabel")}catch{}function QM({repository:e,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:r}){return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(bg,{repository:e}),(0,cs.jsx)(QD,{titleHtml:e.nameWithOwner,sx:{ml:2,...r}}),(0,cs.jsx)(Kc,{counterSx:{color:"fg.muted",ml:2},itemsCount:t,aggregates:a,hideItemsCount:n})]})}try{(oP=QM).displayName||(oP.displayName="RepositoryGroupHeaderLabel")}catch{}let QF=({option:e,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:r})=>(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(b$,{color:e.color,sx:{mr:2}}),(0,cs.jsx)(QD,{titleHtml:e.nameHtml,sx:r}),(0,cs.jsx)(Kc,{counterSx:{color:"fg.muted",ml:2},itemsCount:t,aggregates:a,hideItemsCount:n}),e.descriptionHtml&&(0,cs.jsx)(y9,{sx:{color:"fg.muted",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"200ch",ml:2,flexBasis:0,flexGrow:1,mb:"-2px"},children:e.descriptionHtml})]});try{(oD=QF).displayName||(oD.displayName="SingleSelectGroupHeaderLabel")}catch{}let QZ=({trackedBy:e,titleSx:t,showOwnerOnFocus:a=!1})=>{let{projectOwner:n}=f1(),{getParentCompletion:r}=SY(),{getChildrenTrackedByParent:l}=SX(),{createSidePanelHandler:i}=EL(),[s,o]=(0,cg.useState)(),d=(0,cg.useRef)(!1),{memex_tracked_by_add_missing_items:u}=xO(),[c,m]=(0,cg.useState)(!1),p=(0,cg.useRef)(null),f=(0,cg.useRef)(null),h=UT(p,f,c,[s],{xAlign:"center",yAlign:"top"}),g=(0,cg.useCallback)(async e=>{if(!d.current)return;let t=r(e);if(t){o(t);return}await l(e)},[l,r]);(0,cg.useEffect)(()=>{if(u)return d.current=!0,g(e.key.itemId),()=>{d.current=!1}},[e.key.itemId,g,u]);let y=s?(0,cs.jsxs)(xh.z,{variant:"invisible",sx:{ml:2,p:0,borderRadius:3,"&:hover:not([disabled]), &:focus:not([disabled])":{backgroundColor:"transparent",color:"fg.default"}},onClick:i(e),ref:p,tabIndex:-1,onPointerEnter:()=>m(!0),onPointerLeave:()=>m(!1),...(0,cK.f)("tracked-by-completion-pill"),children:[(0,cs.jsx)(HB.h,{direction:"n",open:c,"aria-label":pX.progressPercentCount(Math.floor(s.completed/s.total*100)),ref:f,id:`${e.key.itemId}-tracked-by-completion-value`,"aria-live":"polite",portalProps:{onMount:h.adjustPickerPosition}}),(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",overflow:"hidden",flex:"1",display:"flex"},children:(0,cs.jsx)(Ek,{percent:s.percent,completed:s.completed,total:s.total})})]}):(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",overflow:"hidden",flex:"1 0 auto",display:"flex",ml:2},children:(0,cs.jsx)(Kz,{marginLeft:2,minWidth:40,maxWidth:80,...(0,cK.f)("placeholder")})});return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(xr,{state:e.state,type:"Issue",isDraft:!1,sx:{mr:2}},e.key.itemId),(0,cs.jsx)(QD,{titleHtml:e.title,sx:t}),a?(0,cs.jsxs)(yH.Z,{target:"_blank",rel:"noreferrer",href:e.url,onClick:i(e),sx:{color:"fg.subtle",display:"flex",alignItems:"center",ml:2,":focus-within .tracked-by-item-owner-repo":{display:"block"},":hover .tracked-by-item-owner-repo":{display:"block"}},"aria-label":fD(e,n),children:[(0,cs.jsx)(cW.Z,{className:"tracked-by-item-owner-repo",sx:{display:"none"},children:fP(e,n)}),`#${e.number}`]},e.url):(0,cs.jsx)(yH.Z,{target:"_blank",rel:"noreferrer",href:e.url,onClick:i(e),sx:{color:"fg.subtle",display:"flex",alignItems:"center",ml:2},children:fD(e,n)},e.url),u&&y]})};try{(oE=QZ).displayName||(oE.displayName="TrackedByGroupHeaderLabel")}catch{}let QO=({sourceObject:e,rowCount:t,aggregates:a,hideItemsCount:n,showTrackedByOwnerOnFocus:r=!1,titleSx:l})=>{if("empty"===e.kind)return(0,cs.jsx)(QL,{titleHtml:e.value.titleHtml,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:l});switch(e.dataType){case c7.Assignees:return(0,cs.jsx)(QE,{assignees:e.value,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:l});case c7.Date:{let r=m5(e.value.date.value),i=m3(e.value.date.value),s=pm(i)?"Today":void 0;return(0,cs.jsx)(QL,{titleHtml:r,label:s,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:l})}case c7.Repository:return(0,cs.jsx)(QM,{repository:e.value,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:l});case c7.Iteration:return(0,cs.jsx)(QA,{iteration:e.value.iteration,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:l});case c7.TrackedBy:return(0,cs.jsx)(QZ,{trackedBy:e.value,showOwnerOnFocus:r,titleSx:l});case c7.SingleSelect:return(0,cs.jsx)(QF,{option:e.value.option,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:l});default:{let r=NK(e);return(0,cs.jsx)(QL,{titleHtml:r,rowCount:t,aggregates:a,hideItemsCount:n,titleSx:l})}}};try{(oL=QO).displayName||(oL.displayName="GroupHeaderLabel")}catch{}let Q$={backgroundColor:"canvas.inset",zIndex:-1,padding:0,height:`${Uq}px`,display:"flex","&:last-child":{flexGrow:1}},QV=(0,cg.memo)(function(){return(0,cs.jsx)(cW.Z,{sx:Q$})});try{(oA=QV).displayName||(oA.displayName="TableGroupSeparator")}catch{}let QB=(e,t)=>{let a=e.findIndex(e=>e.original.id===t.itemId&&e.id===t.id);if(-1===a)return null;let n=37*a,r="bottom"===t.side?37:0;return UG+n+r-3},Qz=(0,cg.memo)(({rows:e,over:t})=>{let{ctrlKey:a}=qL();if(!t||!t.side)return null;let n=QB(e,t);return n?(0,cs.jsx)(cW.Z,{sx:{bg:"accent.emphasis",top:n,left:0,right:0,height:3,zIndex:1,cursor:"grabbing",pointerEvents:"none",position:"absolute"},...(0,cK.f)("group-row-drop-zone-sash"),children:a?(0,cs.jsx)(mt.Z,{icon:me.pOD,sx:{bg:"accent.emphasis",borderRadius:"100%",color:"fg.onEmphasis",position:"relative",left:42,top:"-9px",padding:"2px"},size:16}):null}):null});function QU(e){let{state:{focus:t},navigationDispatch:a}=Tu(),n=(0,cg.useRef)(null),r=(0,cg.useCallback)(()=>!!(e&&t&&NY(t,e))||!!(t&&NG(t)),[t,e]),l=(0,cg.useCallback)(()=>{e?a(N3(e)):a(N1())},[a,e]);(0,cg.useEffect)(()=>{r()&&n.current?.focus()},[r]);let i=(0,cg.useCallback)(()=>{l()},[l]),s=(0,cg.useCallback)(e=>{let t=Up(a,e);t.action?Um(e,t.keyAsShortcut):t.keyAsShortcut===wf.ESCAPE&&(a(N7({focusType:Ny.Focus,details:{previousFocus:!0}})),Uc(e))},[a]);return(0,cg.useMemo)(()=>({onKeyDown:s,onFocus:i,omnibarRef:n}),[i,s,n])}Qz.displayName="GroupRowDropZoneSash";let QK=(0,cg.memo)(function(e){let t=(0,cg.useRef)(null),{isVisible:a,size:n}=y2({ref:t,defaultHeight:37*e.rows.length}),{state:{focus:r}}=Tu(),l=!!r&&"coordinate"===r.type&&e.rows.some(e=>e.id===r.details.y),i=a?"unset":`${n}px`,s=(0,cg.useMemo)(()=>({height:i}),[i]);return(0,cs.jsx)("div",{style:s,ref:t,children:a||l?e.rows.map(t=>(0,cs.jsx)(Ql,{row:t,index:t.index,data:e.itemData},t.original.id)):null})});try{(oM=QK).displayName||(oM.displayName="TableRowChunk")}catch{}function QW({trackedBy:e}){let{memex_tracked_by_add_missing_items:t,memex_tracked_by_items:a}=xO(),{addAllItemsText:n,itemsNotInProjectText:r}=fa,{postStats:l}=v4(),{parentIssuesById:i,getChildrenTrackedByParent:s,removeChildIssues:o}=SX(),{createMemexItemOptimisitcally:d}=T6(),{setChildParentRelationship:u}=SJ(),{addSelectedItemsRequest:c}=f$(),m=(0,cg.useRef)(null),[p,f]=(0,cg.useState)(!1),[h,g]=(0,cg.useState)([]),[y,x]=(0,cg.useState)(!1),{clientHeight:b}=Eo({onResize:()=>{p&&((0,yX.flushSync)(()=>{f(!1)}),f(!0))}}),v=(0,cg.useCallback)(async e=>{let t=await s(e);t&&t.count&&g(t.items.map(e=>({key:{ownerId:e.ownerId,itemId:e.itemId,primaryKey:{uuid:e.uuid}},title:e.title,url:e.url,state:e.state,repoName:e.repositoryName,repoId:e.repositoryId,userName:e.ownerLogin,number:e.displayNumber,labels:e.labels,assignees:e.assignees,stateReason:e.stateReason})))},[s]);(0,cg.useEffect)(()=>{v(e.key.itemId)},[e.key.itemId,v]);let w=(0,cg.useCallback)(()=>{f(!0)},[]),k=(0,cg.useCallback)(t=>{let a=[],n=Gc({dataType:c7.TrackedBy,value:e,kind:"group"});if(n){let e=fL(n);e&&a.push(e)}for(let n of t)d({contentType:mu.Issue,content:{id:n.key.itemId,repositoryId:n.repoId},localColumnValues:a},[{memexProjectColumnId:"Title",value:{title:{raw:n.title,html:n.title},state:n.state,number:n.number,issueId:n.key.itemId}},{memexProjectColumnId:c9.TrackedBy,value:[e]}],n.url),u(n.key.itemId)},[d,u,e]),j=(0,cg.useCallback)(async(e=h)=>{x(!0),await c.perform(e),l({name:"bulk_add_tracked_by_items",context:e.length.toString()}),k(e);let t=h.map(e=>e.key.itemId);o(t),x(!1)},[h,c,l,o,k]);if(!a||!t)return null;let C=i.get(e.key.itemId)?.count??0,S=(0,cs.jsx)(kA.P,{anchorRef:m,open:p,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{width:"353px",maxHeight:b,overflow:"auto"},onEscape:()=>f(!1),onClickOutside:()=>f(!1),children:y?(0,cs.jsx)(cW.Z,{sx:{justifyContent:"center",my:4,display:"flex"},children:(0,cs.jsx)(yG.Z,{size:"medium"})}):(0,cs.jsxs)(kL.S,{...(0,cK.f)("tracked-by-missing-issues-menu"),children:[C>1&&(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kL.S.Group,{children:(0,cs.jsxs)(kL.S.Item,{onSelect:()=>j(void 0),...(0,cK.f)("tracked-by-missing-issues-menu-add-all"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.pOD,{})}),n(C)]})}),(0,cs.jsx)(kL.S.Divider,{})]}),(0,cs.jsx)(kL.S.Group,{...(0,cK.f)("tracked-by-missing-issues-menu-add-individual"),children:h.map(e=>(0,cs.jsxs)(kL.S.Item,{onSelect:()=>j([e]),...(0,cK.f)(`tracked-by-missing-issue-row-${e.title}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(xr,{type:"Issue",state:e.state,stateReason:e.stateReason,isDraft:!1})}),e.title]},e.key.primaryKey.uuid))})]})})});return 0===C?null:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Qt,{sx:{borderBottom:"1px solid",borderColor:"border.muted"},children:(0,cs.jsx)(UB,{sx:{pl:"50px"},children:(0,cs.jsxs)(xh.z,{ref:m,onClick:w,variant:"invisible",...(0,cK.f)("tracked-by-missing-issues-row"),children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted",fontWeight:"normal",pr:2},children:r(C)}),(0,cs.jsx)(mt.Z,{icon:me.AS7,size:"small",sx:{verticalAlign:"middle",color:"fg.muted"}})]})})}),S]})}function QH(e){return e.dataType===c7.TrackedBy&&"group"===e.kind}try{(oF=QW).displayName||(oF.displayName="TrackedByMissingIssuesRow")}catch{}let QG=({groupId:e,scrollRef:t,metadata:a,shouldDisableFooter:n,footerPlaceholder:r})=>{let{omnibarRef:l,onFocus:i,onKeyDown:s}=QU(e),o={setField:Gc(a.sourceObject)},d=NW(a.sourceObject),u=QH(a.sourceObject)?(0,cs.jsx)(QW,{trackedBy:a.sourceObject.value}):null;return(0,cs.jsxs)(cs.Fragment,{children:[u,(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",height:"37px",width:"100%",pl:"12px",bg:n?"canvas.subtle":"canvas.default",color:n?"fg.muted":"inherit",backdropFilter:"unset",pointerEvents:"none",borderBottom:"unset",borderBottomColor:"unset",boxShadow:"unset",left:0,marginTop:"1px",position:"sticky",display:"flex",">:first-child":{pointerEvents:"all"}},...(0,cK.f)(`table-group-footer-${d}`),children:(0,cs.jsx)(U3,{ref:l,role:"row",isFixed:!1,newItemAttributes:o,defaultPlaceholder:r,onKeyDown:s,onInputFocus:i,disabled:n,scrollRef:t})})]})};function Qq({groupId:e,firstRowIndex:t,isCollapsed:a,itemData:n,isEditable:r,metadata:l,rows:i,scrollRef:s,shouldDisableFooter:o,footerPlaceholder:d}){let u=Nt();if(a)return null;let c=u&&u.over?(0,cs.jsx)(Qz,{rows:i,over:u.over}):null;return(0,cs.jsxs)(cs.Fragment,{children:[(0,Q_.Z)(i,5).map((e,a)=>(0,cs.jsx)(QK,{rows:e,rowOffset:t+5*a,chunkIndex:a,chunkSize:5,itemData:n},a)),c,r&&(0,cs.jsx)(QG,{groupId:e,scrollRef:s,metadata:l,shouldDisableFooter:o,footerPlaceholder:d})]})}try{(oZ=QG).displayName||(oZ.displayName="TableGroupFooter")}catch{}try{(oO=Qq).displayName||(oO.displayName="TableGroupContents")}catch{}let QQ=(0,cg.forwardRef)((e,t)=>{let{sx:a,...n}=e,r={...a,backgroundColor:"canvas.default",borderBottomColor:"border.default",borderBottomStyle:"solid",borderBottomWidth:"1px",paddingLeft:"16px",height:`${UG}px`,display:"flex",alignItems:"center",position:"relative",overflow:"hidden","&.collapsed":{borderBottomColor:"transparent"}};return(0,cs.jsx)(cW.Z,{ref:t,sx:r,...n})});function QX({onCollapseToggle:e,isCollapsed:t,expandCollapseLabel:a,...n}){return(0,cs.jsx)(ww.h,{variant:"invisible",size:"small",onClick:e,sx:{color:"fg.muted",pl:0,ml:2,mr:2,"&:hover, > svg:hover, > span:hover":{color:"accent.fg",textDecoration:"none"}},icon:t?me.XCv:me.v4q,...n,"aria-label":a})}QQ.displayName="StyledTableGroupHeader";try{(o$=QX).displayName||(o$.displayName="TableGroupHeaderExpansionButton")}catch{}let QY=({isCollapsed:e,metadata:t,numberOfRows:a,children:n})=>{let{groupedByColumnId:r,toggleGroupCollapsed:l}=R6(),{postStats:i}=v4(),s=NU(t.sourceObject),o=NW(t.sourceObject),d=(0,cg.useCallback)(()=>{let n=!e;r&&i({key:"memex_project_field_group_by_collapse_toggle",groupTitle:pg(s),memexProjectColumnId:r,collapsed:n,numberOfRows:a}),l(t.value)},[e,r,l,t,i,s,a]),u=e?`Expand group ${s}`:`Collapse group ${s}`;return(0,cs.jsxs)(QQ,{className:e?"collapsed":"",...(0,cK.f)(`table-group-header-${o}`),children:[(0,cs.jsx)(QX,{onCollapseToggle:d,isCollapsed:e,expandCollapseLabel:u,...(0,cK.f)(`group-by-toggle-collapsed-${o}`)}),(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",display:"flex"},children:n})]})};try{(oV=QY).displayName||(oV.displayName="TableGroupHeader")}catch{}let QJ=UG+1+Uq;function Q0(e,t,a){return NJ(e)?t.some(t=>t.id===e.details.y):NY(e,a)}let Q1=(0,cg.memo)(function({groupId:e,metadata:t,rows:a,firstRowIndex:n,itemData:r,scrollRef:l,isCollapsed:i,shouldDisableFooter:s,footerPlaceholder:o,isEditable:d}){let u=(0,cg.useRef)(null),{missingRequiredColumnData:c}=v5(),m=NW(t.sourceObject),p=i?0:37*a.length+39,{isVisible:f,size:h}=y2({ref:u,defaultHeight:p+QJ}),g=f?"unset":`${h}px`,y=(0,cg.useMemo)(()=>({height:g}),[g]),{state:{focus:x}}=Tu(),{hideItemsCount:b,getAggregatesForItems:v}=R5(),w=(0,cg.useMemo)(()=>a.map(e=>e.original),[a]),k=(0,cg.useMemo)(()=>v(w),[v,w]),j=f||x&&Q0(x,a,e);return(0,cs.jsx)(cW.Z,{sx:y,ref:u,...(0,cK.f)(`table-group-${m}`),role:"rowgroup",children:j?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsxs)(cW.Z,{sx:{boxShadow:"shadow.medium",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"border.muted",position:"relative",zIndex:0},children:[(0,cs.jsx)(QY,{isCollapsed:i,metadata:t,numberOfRows:a.length,children:(0,cs.jsx)(QO,{sourceObject:t.sourceObject,rowCount:a.length,aggregates:k,hideItemsCount:b})}),c?null:(0,cs.jsx)(Qq,{groupId:e,firstRowIndex:n,isCollapsed:i,itemData:r,metadata:t,rows:a,scrollRef:l,shouldDisableFooter:s,footerPlaceholder:o,isEditable:d})]}),(0,cs.jsx)(QV,{})]}):null})});try{(oB=Q1).displayName||(oB.displayName="TableGroup")}catch{}let Q2=e=>{let{toggleSearch:t}=wn(),a=(0,cg.useRef)(null),{memex_find_in_project:n}=xO(),r=(0,cg.useMemo)(()=>wx(n),[n]),{state:{focus:l},navigationDispatch:i}=Tu();(0,cg.useEffect)(()=>{let e=l&&NQ(l);e&&a.current?.focus()},[l]);let s=(0,cg.useCallback)(()=>{i(N5())},[i]),o=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.ARROW_DOWN:i(N7({x:Nx.First,y:Nx.First,focusType:Ny.Focus})),Uc(e);return;case wf.ESCAPE:i(N7({focusType:Ny.Focus,details:{previousFocus:!0}})),Uc(e);return}},[i]),d=(0,cg.useCallback)(()=>{t(),i(N2())},[i,t]);return(0,cs.jsx)(Q5,{ref:a,icon:me.k1n,variant:"invisible",onClick:d,onKeyDown:o,onFocus:s,...e,"aria-label":"Show filter input","aria-keyshortcuts":r,sx:{color:"fg.muted",p:1}})},Q5=(0,cw.ZP)(ww.h)`
  z-index: 2;
  margin: 0;
  padding: 0;

  &:hover {
    color: ${(0,ch.U2)("colors.accent.fg")};
  }

  .is-focused & {
    color: ${(0,ch.U2)("colors.accent.fg")};
  }
  ${ma.Z}
`;try{(oz=Q5).displayName||(oz.displayName="SearchIconButton")}catch{}let Q3=(0,cg.forwardRef)((e,t)=>{let{sx:a,...n}=e,r={display:"flex",flexDirection:"row",textAlign:"center",fontWeight:"bold",fontSize:"0",whiteSpace:"nowrap",cursor:"grab",userSelect:"none",borderColor:"border.default",borderWidth:"1px",borderStyle:"solid",borderRight:"none",borderTop:"none",borderBottom:0,outline:"none","&.readonly, &.readonly:active":{cursor:"default"},"&:active":{cursor:"grabbing"},"&.inactive, &.inactive:active":{cursor:"default"},"&.hoverable:hover":{backgroundColor:"canvas.default"},"&:last-child":{borderRight:"1px solid transparent"},...a};return(0,cs.jsx)(cW.Z,{ref:t,role:"columnheader","aria-colspan":1,sx:r,...n})});Q3.displayName="HeaderGridCell";let Q4=({children:e,...t})=>{let{sx:a,...n}=t;return(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",py:2,px:3,overflow:"hidden",display:"flex",...a},...n,children:e})};try{(oU=Q4).displayName||(oU.displayName="HeaderGridCellLayout")}catch{}let Q6=e=>{let t=e.header.getHeaderProps({style:{minWidth:e.header.width,height:e.height}}),{isSearchVisible:a}=wn();return"add-column"===e.header.id?(0,cs.jsx)(Q3,{tabIndex:-1,...t,...(0,cK.f)(q2(e.header.id)),children:(0,cs.jsx)(Q4,{sx:{padding:0,flexGrow:1},children:e.header.render("Header")})}):(0,cs.jsx)(cW.Z,{...t,children:(0,cs.jsx)(cW.Z,{sx:{alignItems:"center",height:"38px",pb:"3px",pl:4,display:"flex"},children:(0,cs.jsx)(cW.Z,{sx:{opacity:a?"0":"1",transition:"opacity 0.1s ease-out",position:"relative",top:"-2px"},children:(0,cs.jsx)(Q2,{...(0,cK.f)("search-button-table-header-row"),tabIndex:a?-1:0})})})})};try{(oK=Q6).displayName||(oK.displayName="DummyHeaderCell")}catch{}var Q8=a(70697);let Q7=(e,t,a)=>{let n=e.name,{postStats:r}=v4(),{updateName:l,setName:i}=BG(),{findColumn:s}=_w(),o=(0,cg.useCallback)(async()=>{a!==e.name&&(await l(e,a),r({name:"field_rename",ui:vc,context:`new name: ${a}, original name: ${n}`,memexProjectColumnId:e.id}))},[a,e,l,r,n]),d=(0,cg.useCallback)(async()=>{let a=s(e.id);a&&(i(a,n),t(n))},[e.id,s,n,t,i]),{perform:u}=fx({request:o,rollback:d});return{updateColumnName:u}};function Q9(e,t){if(e)return void 0===t?"none":t?"descending":"ascending"}let Xe=(0,cg.memo)(e=>{let t=gZ(e.header.columnModel),{currentView:a}=v5(),{groupByColumn:n,header:r}=e,l=(0,cg.useRef)(null),i=(0,cg.useRef)(null),s=(0,cg.useRef)(null),[o,d]=Di(t.name),[u,c]=(0,cg.useState)(!1),[m]=GU(),{updateColumnName:p}=Q7(t,d,o),{sortBy:f}=Ne(),{canSort:h,isSorted:g,isSortedDesc:y}=r,x=f[0]?.id===t.id.toString(),{appendFilter:b,showSearch:v}=wn(),{postStats:w}=v4(),{hideField:k}=FR(),{hasWritePermissions:j}=xQ(),{allColumns:C}=bD(),{reservedColumnNames:S}=z5(),{clearSortedBy:I,setSortedBy:N}=IS(),T=(0,cg.useMemo)(()=>C.filter(e=>e.name!==t.name),[C,t.name]),{isValid:_,message:R}=z4({allColumns:T,reservedColumnNames:S},o),P=!!o,D=PV(u&&t.userDefined?s.current:null),E=(0,cg.useCallback)(async(e,a=!0)=>{if(c(e),!e){let e=_&&P;a&&e&&await p(),e||d(t.name)}},[p,c,_,d,t.name,P]),{safeSetTimeout:L}=(0,Q8.Z)(),A=(0,cg.useCallback)(e=>{L(()=>{e.target.setSelectionRange(0,e.target.value.length)},0)},[L]),M=(0,cg.useCallback)(e=>{e.defaultPrevented||d(e.target.value)},[d]),F=(0,cg.useCallback)(e=>{"Enter"===e.key&&_&&P&&(e.preventDefault(),E(!1)),"Escape"===e.key&&(E(!1,!1),d(t.name),e.preventDefault())},[_,P,E,d,t.name]),Z=Ds(F),O=(0,cg.useCallback)(()=>{a&&(k(a.number,t),w({name:vp,ui:vc,memexProjectColumnId:t.id}))},[t,k,w,a]),$=(0,cg.useCallback)(e=>{if(!a||!t)return;let n="desc"===e;g&&y===n?(r.clearSortBy(),I(a.number)):(r.toggleSortBy(n,!1),N(a.number,t,n?"desc":"asc")),E(!1,!1),w({name:n?vu:vd,ui:vc,context:t.id})},[a,t,g,y,E,w,r,I,N]),V=(0,cg.useCallback)(()=>e.header.isGrouped?(0,cs.jsx)(cW.Z,{sx:{color:"fg.muted",bg:"canvas.default"},...(0,cK.f)(`grouped-label-${t.name}`),children:(0,cs.jsx)(mt.Z,{icon:me.NoV})}):null,[t.name,e.header.isGrouped]),B=(0,cg.useCallback)(()=>g&&x?(0,cs.jsx)(cW.Z,{sx:{color:"fg.muted",bg:"canvas.default"},...(0,cK.f)(`sorted-label-${t.id}`),children:(0,cs.jsx)(mt.Z,{icon:y?me.veu:me.Hf3})}):null,[t.id,g,x,y]),z=OS(t.dataType),U=OI(t.dataType),K=(0,cg.useMemo)(()=>{if(!h)return[];{let e=g&&!y,a=g&&y;return[(0,cs.jsxs)(kL.S.Item,{onSelect:()=>$("asc"),sx:{fontWeight:e?(0,ch.U2)("fontWeights.bold"):(0,ch.U2)("fontWeights.normal")},...(0,cK.f)(`sort-toggle-asc-${t.id}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.aoE,{})}),e?`Sorted ascending ${z}`:`Sort ascending ${z}`]},`sort-ascending-${t.id}`),(0,cs.jsxs)(kL.S.Item,{onSelect:()=>$("desc"),sx:{fontWeight:a?(0,ch.U2)("fontWeights.bold"):(0,ch.U2)("fontWeights.normal")},...(0,cK.f)(`sort-toggle-asc-${t.id}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.k6S,{})}),a?`Sorted descending ${U}`:`Sort descending ${U}`]},`sort-descending-${t.id}`)]}},[h,g,y,t.id,z,U,$]),W=f5(),H=(0,cg.useMemo)(()=>j&&(t.dataType===c7.SingleSelect||t.dataType===c7.Iteration)?[(0,cs.jsxs)(kL.S.Item,{onSelect:()=>{W({pathname:hi.generatePath({fieldId:t.id})}),w({name:vw,ui:"column header",memexProjectColumnId:t.id}),E(!1)},...(0,cK.f)(`edit-${t.id}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.vdY,{})}),pX.editField]},`edit-${t.id}`)]:[],[j,t.dataType,t.id,W,w,E]),{navigationDispatch:G}=Tu(),q=(0,cg.useCallback)((e,t)=>{b(e),v(),G(N2()),t.stopPropagation()},[b,v,G]),Q=(0,cg.useMemo)(()=>{let e=[(0,cs.jsxs)(kL.S.Item,{onSelect:e=>{q(o,e),E(!1)},...(0,cK.f)("create-filter-trigger"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.k1n,{})}),"Filter by values"]},`filter-by-values-${t.id}`)];return t.dataType===c7.Title&&e.push((0,cs.jsxs)(kL.S.Item,{onSelect:e=>{q("is",e),E(!1)},...(0,cK.f)("create-is-filter-trigger"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.k1n,{})}),"Filter by item state or type"]},`filter-by-is-${t.id}`)),e},[t.id,t.dataType,q,o,E]),X=(0,cg.useCallback)(()=>{n(e.header,vc),E(!1)},[n,e.header,E]),Y=(0,cg.useMemo)(()=>e.header.canGroupBy?[(0,cs.jsxs)(kL.S.Item,{onSelect:X,sx:{fontWeight:e.header.isGrouped?(0,ch.U2)("fontWeights.bold"):(0,ch.U2)("fontWeights.normal")},...(0,cK.f)("group-by-trigger"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.NoV,{})}),e.header.isGrouped?"Grouped by field":"Group by values",(0,cs.jsx)(kL.S.TrailingVisual,{children:e.header.isGrouped&&(0,cs.jsx)(me.b0D,{})})]},`group-by-${t.id}`)]:[],[e.header.canGroupBy,e.header.isGrouped,t.id,X]),J=e.header.getResizerProps(),ee=(0,cg.useCallback)(e=>{e.stopPropagation(),J.onMouseDown(e)},[J]),et=(0,cg.useCallback)(()=>e.header.canResize&&j?(0,cs.jsx)(cW.Z,{sx:{pl:2,right:"-8px",top:0,bottom:0,width:"16px",zIndex:1,position:"absolute"},...J,onMouseDown:ee,...(0,cK.f)(`${t.name}-column-resizer`)}):null,[ee,e.header.canResize,J,t,j]),ea=e.header.getHeaderProps({className:`${j?m.isDragging?"":"hoverable":"readonly"}`,style:{minWidth:e.header.width,height:e.height}});EF("is-resizing",e.header.isResizing);let en=Rh();return(0,cg.useMemo)(()=>{let a={boxShadow:e=>`inset 0 -2px 0 ${B()||V()?e.colors.neutral.emphasis:e.colors.border.default}`},n=(0,cs.jsx)(cW.Z,{sx:{position:"relative",px:2,pt:2},children:(0,cs.jsx)("form",{ref:s,onSubmit:e=>e.preventDefault(),children:(0,cs.jsxs)(br.Z,{children:[(0,cs.jsx)(br.Z.Label,{visuallyHidden:!0,children:"Column name"}),(0,cs.jsx)(Rs.Z,{...en,sx:{display:"block",width:"100%"},children:(0,cs.jsx)(wE.Z,{ref:i,value:o,tabIndex:-1,block:!0,placeholder:"Column name",onChange:M,onFocus:A,...Z,disabled:!j,validationStatus:_?void 0:"error","aria-invalid":!_})}),!_&&(0,cs.jsx)(br.Z.Validation,{variant:"error",sx:{maxWidth:D?.clientWidth?`${D.clientWidth}px`:"unset"},children:R})]})})}),r=[...H,...Q,...Y];return(0,cs.jsx)(Q3,{...ea,...(0,cK.f)(q2(e.header.id)),"aria-sort":Q9(e.header.canSort,e.header.isSortedDesc),children:(0,cs.jsxs)(Q4,{sx:{...a,flexGrow:1,paddingLeft:"12px",paddingRight:"12px",height:e.height},children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted",textOverflow:"ellipsis",overflow:"hidden",textAlign:"left",flexGrow:1},children:e.header.render("Header")}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",px:0,py:0,gap:1},children:[(0,cs.jsx)(B,{}),(0,cs.jsx)(V,{}),(0,cs.jsxs)(kA.P,{open:u,onOpenChange:e=>E(e),anchorRef:l,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{ref:l,icon:me.Ui8,variant:"invisible",sx:{display:"flex",alignItems:"center",justifyContent:"center",px:0,py:0,height:18,width:20,color:"fg.muted"},"aria-label":`${t.name} column options`,...(0,cK.f)(`${t.name}-column-menu-trigger`)})}),(0,cs.jsxs)(kA.P.Overlay,{...(0,cK.f)(`${t.name}-column-menu`),initialFocusRef:l,children:[(0,cs.jsx)(cs.Fragment,{children:t.userDefined&&n}),(0,cs.jsxs)(kL.S,{children:[t.userDefined&&(0,cs.jsx)(kA.P.Divider,{sx:{mt:0}}),K,r.length>0&&(0,cs.jsx)(kA.P.Divider,{}),r,(0,cs.jsx)(kA.P.Divider,{}),(0,cs.jsxs)(kL.S.Item,{onSelect:O,disabled:t.dataType===c7.Title||x,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.LAO,{})}),"Hide field"]}),j&&(0,cs.jsxs)(kL.S.Item,{variant:"danger",onSelect:()=>{W({pathname:hi.generatePath({fieldId:t.id})})},disabled:!t.userDefined||!j,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete field..."]})]})]})]})]}),(0,cs.jsx)(et,{})]})})},[en,o,M,A,Z,j,_,D.clientWidth,R,H,Q,Y,ea,e.header,e.height,t,B,V,u,K,O,x,et,E,W])});Xe.displayName="TableHeaderCell";try{(oW=GroupedLabel).displayName||(oW.displayName="GroupedLabel")}catch{}try{(oH=SortedLabel).displayName||(oH.displayName="SortedLabel")}catch{}try{(oG=ColumnResizeDragger).displayName||(oG.displayName="ColumnResizeDragger")}catch{}let Xt=e=>e.columnModel&&!(e.columnModel?.dataType===c7.Title||e.isGrouped),Xa=()=>{let{currentView:e}=v5(),{allColumns:t}=Ni(),{hiddenColumns:a}=Ne(),{setShowAddFieldModal:n}=GN(),{toggleField:r}=FR(),{hasWritePermissions:l}=xQ(),{isProjectViewRoute:i}=v7();cU(()=>{if(!i||!e)return null;let a=[];return l&&a.push(["c","Create new field","field.create",()=>n(!0)]),a.push(...t.filter(Xt).map((t,a)=>[String(a+1),`${t.isVisible?"Hide:":"Show:"} ${t.columnModel?.name}`,`column.${t.isVisible?"hide":"show"}`,()=>{t.columnModel&&r(e.number,t.columnModel,void 0,vf)}])),["m","Manage fields...",a]},[i,a,e,l,t,n,r])},Xn=e=>{let{allColumns:t}=Ni(),{groupByColumnIds:a,hiddenColumns:n}=Ne(),{isProjectViewRoute:r}=v7();cU(()=>{if(!r)return null;let n=[],l=["g","Group by...",n];a.length>0&&n.push(["g","Remove group-by","grouping.clear",()=>t.filter(e=>e.isGrouped).map(t=>e(t,vf))]);let i=t.filter(e=>e.canGroupBy&&e.isVisible);for(let[t,a]of Object.entries(i)){let r=a.columnModel;r&&n.push([t,`${a.isGrouped?"Ungroup by:":"Group by:"} ${r.name}`,`column.${a.isGrouped?"ungroup":"group"}`,()=>e(a,vf)])}return l},[r,n,a.length,t,e])},Xr=(0,cg.memo)(e=>{No();let{currentView:t}=v5(),{postStats:a}=v4();Hy("Table","TableHeader","");let{clearGroupedBy:n,setGroupedBy:r}=R6(),{groupByColumnIds:l}=Ne(),{toggleGroupBy:i}=Ni(),s=(0,cg.useCallback)((e,s)=>{let o=e.columnModel;if(o&&t){if(e.isGrouped?n(t.number):r(t.number,o),l.length&&!e.isGrouped)for(let e of l)i(e,!1);a({groupByEnabled:!e.isGrouped,memexProjectColumnId:o.id,key:vs,ui:s}),e.toggleGroupBy()}},[l,a,n,t,r,i]);return Xa(),Xn(s),(0,cs.jsx)(GB,{scrollAxis:"x",scrollRef:e.scrollRef,children:(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexDirection:"column",position:"sticky",top:0,zIndex:1,backgroundColor:"canvas.default",height:e.height,minWidth:e.tableWidth,boxShadow:e=>`inset 0 -2px 0 ${e.colors.border.default}`},children:e.headerGroups.map(t=>{let a=t.getHeaderGroupProps({style:{width:"100%"}});return(0,cg.createElement)(cW.Z,{sx:{"> div:nth-child(2)":{borderLeft:"none"}},...a,key:a.key},t.headers.map(a=>a.columnModel?(0,cs.jsx)(Xe,{header:a,headers:t.headers,groupByColumn:s,height:e.height},a.id):(0,cs.jsx)(Q6,{header:a,height:e.height},a.id)))})})})});Xr.displayName="TableHeader";let Xl={flexDirection:"column",position:"absolute",top:0,bottom:0,left:0,right:0,overflow:"auto",userSelect:"none",scrollBehavior:"smooth","@media (prefers-reduced-motion)":{scrollBehavior:"auto"},display:"flex"};function Xi({scrollRef:e,containerRef:t,table:a,isOmnibarFixed:n,loadingState:r,tableGroups:l,itemData:i,hasWritePermissions:s}){return(0,cs.jsx)(y1,{rootRef:e,sizeEstimate:185,children:(0,cs.jsx)(cW.Z,{sx:Xl,...(0,cK.f)("table-scroll-container"),ref:e,children:(0,cs.jsxs)("div",{style:{userSelect:"none",position:"relative",width:a.totalColumnsWidth,minWidth:"100%",paddingBottom:n?"69px":"unset"},children:[(0,cs.jsx)(Xr,{headerGroups:a.headerGroups,height:34,scrollRef:e,tableWidth:a.totalColumnsWidth}),(0,cs.jsx)(QR,{visibleColumns:a.visibleColumns,height:34,sticky:!0}),(0,cs.jsx)("div",{ref:t,children:(0,cs.jsx)(KE,{children:(0,cs.jsx)(GB,{scrollAxis:"y",scrollRef:e,children:(0,cs.jsx)(fO,{children:r===Kd.loading?(0,cs.jsxs)(Qt,{style:Qn,sx:{display:"flex",alignItems:"center",pl:3,gap:1},...(0,cK.f)("view-loading-indicator"),children:[(0,cs.jsx)(yG.Z,{size:"small"}),"Loading..."]}):r===Kd.missing?null:l?l.map(t=>(0,cs.jsx)(Q1,{groupId:t.id,rows:t.subRows,metadata:{value:t.groupedValue,sourceObject:t.groupedSourceObject},firstRowIndex:t.subRows[0]?.index??0,itemData:i,isCollapsed:t.isCollapsed,scrollRef:e,shouldDisableFooter:NV(t.groupedSourceObject),footerPlaceholder:Nz(t),isEditable:s},t.id)):(0,Q_.Z)(a.rows,5).map((e,t)=>(0,cs.jsx)(QK,{rows:e,rowOffset:5*t,chunkIndex:t,chunkSize:5,itemData:i},t))})})})}),(0,cs.jsx)(QR,{visibleColumns:a.visibleColumns}),!l&&(0,cs.jsx)(QP,{rowHeight:37,rowCount:a.rows.length})]})})})}try{(oq=Xi).displayName||(oq.displayName="TableBodyWithObserver")}catch{}let Xs=(0,cg.memo)(function(){let{toggleSearch:e,hideSearch:t}=wn(),{state:{focus:a},navigationDispatch:n}=Tu(),r=(0,cg.useCallback)(()=>{n(N2())},[n]),l=(0,cg.useCallback)(e=>{switch(wy(e)){case wf.ESCAPE:t(),n(N5());return;case wf.ARROW_DOWN:n(N7({x:Nx.First,y:Nx.First,focusType:Ny.Focus})),Uc(e);return}},[t,n]),i=(0,cg.useCallback)(e=>{if(wy(e)===wf.ARROW_DOWN){n(N7({x:Nx.First,y:Nx.First,focusType:Ny.Focus})),Uc(e);return}},[n]),{setShowFindInProject:s}=W3(),o=(0,cg.useCallback)(t=>{t.stopPropagation(),e(),n(N5())},[n,e]);return(0,cs.jsx)(Ki,{handleSearchButtonClick:o,onInputKeyDown:l,onButtonKeyDown:i,dispatchInputFocusEvent:r,navigationFocus:a,setShowFindInProject:s})});try{(oQ=Xs).displayName||(oQ.displayName="TableFilterInput")}catch{}let Xo=({onAddItem:e,isFixed:t})=>{let{omnibarRef:a,onFocus:n,onKeyDown:r}=QU();return(0,cs.jsx)(U3,{ref:a,role:"row",childElementRole:"gridcell",onAddItem:e,onKeyDown:r,onInputFocus:n,isFixed:t,defaultPlaceholder:UD})};try{(oX=Xo).displayName||(oX.displayName="TableOmnibar")}catch{}function Xd(e,t){let a=!!t?.sticky,{currentView:n}=v5(),r=n?.number,l=(0,cg.useRef)(r),{firstNavigableColumnId:i,lastNavigableColumnId:s}=(0,cg.useMemo)(()=>({firstNavigableColumnId:e.visibleColumns.find(e=>!e.nonNavigable)?.id,lastNavigableColumnId:e.visibleColumns.slice().reverse().find(e=>!e.nonNavigable)?.id}),[e.visibleColumns]),o=(0,cg.useCallback)((e,t,{isSuspended:n})=>{let o=e===document.activeElement,d=!o&&e.contains(document.activeElement);if(d)return;let u="nearest";l.current!==r?(l.current=r,a||(u="end")):t===i&&o&&!a?u="end":t===s&&o&&!a&&(u="start"),e.focus({preventScroll:!0}),!n&&(Dv()?"scrollIntoViewIfNeeded"in e&&"function"==typeof e.scrollIntoViewIfNeeded&&e.scrollIntoViewIfNeeded(!1):e.scrollIntoView({block:"nearest",inline:u}))},[r,i,s,a]);return(0,cg.useMemo)(()=>({prepareRow:e.prepareRow,focusCellElement:o}),[o,e.prepareRow])}let Xu=()=>{let e=(0,cg.useRef)(null),{toggleAllRowsSelected:t}=Ni(),a=Nn();return(0,cg.useEffect)(()=>{function n(n){let r=n.target;e.current?.contains(r)||Uo()||Ud(r)||(t(!1),a(qO(null)))}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[t,a]),{containerRef:e}},Xc=()=>{let{state:{focus:e},navigationDispatch:t}=Tu(),a=Nn(),n=Nr(),r=(0,cg.useCallback)(t=>{!(!e||NJ(e)&&e.details.meta.editing)&&"\\"===t.key&&((0,mr.eE)()?t.metaKey:t.ctrlKey)&&t.shiftKey&&NJ(e)&&(t.stopPropagation(),t.preventDefault(),a(Qd(e)))},[e,a]),l=(0,cg.useCallback)(a=>{let n=a.relatedTarget,r=a.currentTarget.contains(n),l=Ud(n),i=!l&&!r,s=e?.type==="coordinate"&&e.details.meta.suspended;i&&!s&&t(N8())},[t,e]);return(0,cg.useEffect)(()=>{let e=e=>{let r=wy(e);r===wf.CTRL_SPACE&&(e.stopPropagation(),e.preventDefault(),t(N4())),r===wf.ESCAPE&&n&&a(qO(null))};return addEventListener("keydown",e),()=>removeEventListener("keydown",e)},[a,n,t]),{onKeyDown:r,onBlur:l}},Xm=(0,cg.memo)(function({focusOnInit:e}){Hy("Table","ReactTable","");let{isSearchVisible:t}=wn(),{visibleFields:a}=FR(),n=(0,cg.useMemo)(()=>({fields:a}),[a]),r=QT(n),l=W1(r,e),i=(0,cg.useRef)(()=>t?N2().focus:N5().focus),s=(0,cg.useRef)({instance:r,getHeaderFocus:i.current});return(0,cg.useLayoutEffect)(()=>{s.current&&(s.current.getHeaderFocus=()=>t?N2().focus:N5().focus)},[t,s]),(0,cs.jsx)(I9,{table:r,cellHeight:37,children:(0,cs.jsx)(Tm,{initialState:l,metaRef:s,children:(0,cs.jsx)(qX,{children:(0,cs.jsxs)(W5,{children:[(0,cs.jsx)(Xs,{}),(0,cs.jsx)(Xp,{table:r})]})})})})}),Xp=({table:e})=>{let{onKeyDown:t,onBlur:a}=Xc(),n=(0,cg.useRef)(null),{hasWritePermissions:r}=xQ(),{loadingState:l}=Ku(),i=l===Kd.loaded?37*e.rows.length+34:71,s=Xf({table:e,totalHeight:i,scrollRef:n}),{horizontalScrollbarSize:o,verticalScrollbarSize:d}=Uu(n),{onNewItem:u}=W4(n,e.rows.length,0),{currentView:c}=v5(),m=c?.number,{containerRef:p}=Xu(),f=Xd(e);(0,cg.useLayoutEffect)(()=>{PZ(n.current)},[m]);let h=e?.groupedRows?NB(e.groupedRows):void 0,g=(0,cg.useMemo)(()=>({flex:"1 1 auto",flexDirection:"column",width:"100%",position:"relative",backgroundImage:t=>e.groupedRows?"none":`url("data:image/svg+xml,%3Csvg viewBox='0 0 1 1' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='1' height='1' fill='transparent' /%3E%3C/svg%3E"), url("data:image/svg+xml,%3Csvg viewBox='0 0 1 1' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='1' height='1' fill='${encodeURIComponent(t.colors.border.muted)}' /%3E%3C/svg%3E")`,backgroundSize:"1px 37px",backgroundPositionY:"15px",backgroundRepeat:"repeat-x, repeat",bg:e.groupedRows?e=>`${e.colors.canvas.inset}`:s?e=>`${e.colors.canvas.default}`:e=>`${e.colors.canvas.inset}`,display:"flex"}),[s,e.groupedRows]);return(0,cs.jsxs)(cW.Z,{...e.getTableProps({onKeyDown:t,onBlur:a,role:"grid"}),...(0,cK.f)("table-root"),sx:g,children:[(0,cs.jsx)(cW.Z,{sx:{position:"relative",flex:"1 1 auto",width:"100%"},"data-hpc":!0,children:(0,cs.jsx)(cm.Z,{fontSize:"14px",children:(0,cs.jsx)(Xi,{scrollRef:n,containerRef:p,table:e,tableGroups:h,isOmnibarFixed:s,loadingState:l,hasWritePermissions:r,itemData:f})})}),(!h||0===h.length)&&r&&(0,cs.jsx)(Ke,{horizontalScrollbarSize:o,verticalScrollbarSize:d,isFixed:s,effectiveTableHeight:i,children:(0,cs.jsx)(Xo,{onAddItem:u,isFixed:s})})]})};function Xf({totalHeight:e,scrollRef:t,table:a}){return(0,cg.useSyncExternalStore)(Xh,()=>{let n=void 0!==a.groupedRows,r=e+45>(t.current?.clientHeight??0);return!n&&r})}function Xh(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}try{(oY=Xm).displayName||(oY.displayName="ReactTable")}catch{}try{(oJ=Xp).displayName||(oJ.displayName="InnerTable")}catch{}let Xg=({children:e})=>{let{isFieldVisible:t}=FR();return(0,cs.jsx)(Gv,{isFieldVisible:t,children:e})};try{(o0=Xg).displayName||(o0.displayName="TableColumnsProviderForTable")}catch{}var Xy=a(31147);function Xx(e){return(0,cg.useSyncExternalStore)(Xb,()=>Xv(e.current))}function Xb(e){let t=new ResizeObserver(e);return t.observe(document.documentElement),()=>{t.unobserve(document.documentElement),t.disconnect()}}function Xv(e){if(!e)return!1;let t=e.style.overflow;t&&"visible"!==t||(e.style.overflow="hidden");let a=e.offsetWidth<e.scrollWidth;return e.style.overflow=t,a}let Xw=()=>{let e=yJ(()=>document.querySelector(".command-palette")),t=(0,cg.useCallback)(t=>{if(!e.current)return()=>void 0;let a=new MutationObserver(t);return a.observe(e.current,{attributes:!0,characterData:!1,childList:!1,subtree:!0}),()=>{a.disconnect()}},[e]),a=(0,cg.useCallback)(()=>Boolean(e.current&&e.current.offsetParent),[e]),n=(0,cg.useSyncExternalStore)(t,a);return{isCommandPaletteVisible:n}},Xk=(0,cg.memo)(function({open:e,setOpen:t,anchorRef:a,children:n}){let{clientHeight:r}=Eo({onResize:()=>{e&&((0,yX.flushSync)(()=>{t(!1)}),t(!0))}});return(0,cs.jsx)(kA.P,{open:e,anchorRef:a,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{maxHeight:r,overflow:"auto"},...(0,cK.f)("group-by-menu"),onEscape:()=>t(!1),onClickOutside:()=>t(!1),children:n})})}),Xj=(0,cg.memo)(function({groupedByColumn:e,setGroupedBy:t,isValidGroupByColumn:a,statsUiKey:n,handleClearGroupBy:r}){let{currentView:l}=v5(),{viewType:i}=wt(),{allColumns:s}=bD(),{visibleFields:o}=FR(),{postStats:d}=v4(),u=i===vQ.Board?"Column field":"Group by field",c=(0,cg.useMemo)(()=>s.filter(a).sort((e,t)=>pv(e,t,o)).map(a=>{let i=i=>{if(!l)return;let s=e===a;if(s){if(!r)return;r()}else t(l.number,a);d({groupByEnabled:!s,memexProjectColumnId:a.id,key:vs,ui:n}),i.stopPropagation()},s=Oj(a.dataType);return(0,cs.jsxs)(kL.S.Item,{selected:e===a,onSelect:i,...(0,cK.f)(`group-by-${a.name}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(s,{})}),a.name]},a.id)}),[s,a,o,e,l,r,d,n,t]);return(0,cs.jsx)(kL.S,{selectionVariant:"single",children:(0,cs.jsxs)(kL.S.Group,{title:u,children:[c,r&&(0,cs.jsxs)(kL.S.Item,{selected:!e,onSelect:r,...(0,cK.f)("group-by-none"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.b0D,{})}),"No grouping"]},"group-by-none")]})})});try{(o1=Xk).displayName||(o1.displayName="GroupByMenu")}catch{}try{(o2=Xj).displayName||(o2.displayName="GroupByMenuOptions")}catch{}try{(o5=Icon).displayName||(o5.displayName="Icon")}catch{}let XC=(0,cg.memo)(function({open:e,setOpen:t,anchorRef:a}){return(0,cs.jsx)(Xk,{open:e,setOpen:t,anchorRef:a,children:(0,cs.jsx)(XS,{},String(e))})}),XS=(0,cg.memo)(function(){let{groupedByColumn:e,setGroupedBy:t}=Ik();return(0,cs.jsx)(Xj,{groupedByColumn:e,setGroupedBy:t,isValidGroupByColumn:Iy,statsUiKey:"vertical_group_menu"})});try{(o3=XC).displayName||(o3.displayName="BoardGroupByMenu")}catch{}try{(o4=XS).displayName||(o4.displayName="BoardGroupByMenuOptions")}catch{}let XI=(0,cg.memo)(function({open:e,setOpen:t,anchorRef:a}){let{clientHeight:n}=Eo({onResize:()=>{e&&((0,yX.flushSync)(()=>{t(!1)}),t(!0))}});return(0,cs.jsx)(kA.P,{open:e,anchorRef:a,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{maxHeight:n,overflow:"auto"},...(0,cK.f)("field-sum-menu"),onEscape:()=>t(!1),onClickOutside:()=>t(!1),children:(0,cs.jsx)(XN,{},String(e))})})}),XN=(0,cg.memo)(function(){let{currentView:e}=v5(),{allColumns:t}=bD(),a=t.filter(e=>e.dataType===c7.Number),{hideItemsCount:n,sum:r,toggleItemsCount:l,addFieldAggregation:i,removeFieldAggregation:s}=R5(),{postStats:o}=v4(),d=e?.localViewStateDeserialized?.viewType,u=(0,cg.useMemo)(()=>{let t=t=>{e&&(l(e.number),o({name:n?"aggregation_settings_show_items_count":"aggregation_settings_hide_items_count",ui:vo,context:d}),t.stopPropagation())};return(0,cs.jsx)(kL.S.Item,{selected:!n,onSelect:t,...(0,cK.f)("sum-of-items"),children:"Count"},"items-count")},[n,e,l,o,d]),c=(0,cg.useMemo)(()=>a.map(t=>{let a=r.some(e=>e.id===t.id),n=n=>{e&&(a?s(e.number,"sum",t):i(e.number,"sum",t),o({name:a?"aggregation_settings_sum_removed":"aggregation_settings_sum_applied",ui:vo,memexProjectColumnId:t.id,context:d}),n.stopPropagation())};return(0,cs.jsx)(kL.S.Item,{selected:a,onSelect:n,...(0,cK.f)(`sum-of-${t.name}`),children:t.name},t.id)}),[i,r,e,a,s,o,d]);return(0,cs.jsxs)(kL.S,{selectionVariant:"multiple",children:[u,c]})});try{(o6=XI).displayName||(o6.displayName="FieldSumMenu")}catch{}try{(o8=XN).displayName||(o8.displayName="MenuOptions")}catch{}let XT=(0,cg.memo)(function({id:e,open:t,setOpen:a,anchorRef:n}){let[r,l]=(0,cg.useState)(!1),{clientHeight:i}=Eo({onResize:()=>{t&&((0,yX.flushSync)(()=>{a(!1)}),a(!0))}}),{dateFields:s,setDateFields:o}=Pp(),{currentView:d}=v5(),u=(0,cg.useCallback)(e=>{if(!d||!Pn(e))return;let[t=vG,n=vG]=s;if(t===vG||n===vG){let a=[];a=t===vG?e.dataType===c7.Iteration&&n===vG?[e,e]:[e,n]:[t,e],o(d.number,a)}a(!0)},[d,s,o,a]);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kA.P,{open:t,anchorRef:n,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{maxHeight:i,overflow:"auto"},role:"dialog","aria-label":"Select date fields",...(0,cK.f)("roadmap-date-fields-menu"),onEscape:()=>a(!1),onClickOutside:()=>a(!1),children:(0,cs.jsx)(XP,{id:e,setOpen:a,setAddFieldOpen:l},String(t))})}),!t&&r&&(0,cs.jsx)(Un,{isOpen:r,setOpen:l,anchorRef:n,onSave:u,limitedTypes:[c7.Date,c7.Iteration]})]})}),X_=({dateFields:e,currentValue:t,onSelect:a,variant:n})=>(0,cs.jsx)(cs.Fragment,{children:e.map(e=>{let r=Oj(e.dataType);return(0,cs.jsxs)(kL.S.Item,{selected:e.id===t,onSelect:t=>{t.preventDefault(),a(e,n)},...(0,cK.f)(`date-field-${n}-${e.name}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(r,{})}),`${e.name} ${e.dataType===c7.Iteration?p7.iterationSuffix(n):""}`]},e.id)})});function XR(e,t){return Pn(e)&&Pn(t)&&e.id===t.id&&e.dataType===c7.Date}let XP=(0,cg.memo)(function({id:e,setOpen:t,setAddFieldOpen:a}){let{currentView:n}=v5(),{allColumns:r}=bD(),l=r.filter(e=>Pn(e)),{hasWritePermissions:i}=xQ(),{postStats:s}=v4(),o=(0,cg.useCallback)(e=>{a(!0),t(!1),e.stopPropagation()},[a,t]),{dateFields:d,setDateFields:u}=Pp(),[c=vG,m=vG]=d,p=(0,cg.useCallback)((e,t)=>{if(!n)return;let a=[];if("start"===t){let t=Pn(e)&&e.dataType===c7.Iteration?e:vG,n=XR(e,m);a.push(e,n?t:m)}else{let t=XR(e,c);a.push(t?vG:c,e)}s({name:"roadmap_date_field_selected",ui:"roadmap_date_fields_menu",context:"start"===t?"start":"target",...Pn(e)?{memexProjectColumnId:e.databaseId}:{}}),u(n.number,a)},[n,s,u,m,c]);return(0,cs.jsxs)(kL.S,{id:e,children:[(0,cs.jsx)(kL.S.Group,{children:(0,cs.jsxs)(kL.S.Item,{disabled:!i,onSelect:o,...(0,cK.f)("roadmap-new-field-button"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.pOD,{})}),"New field"]},"new-field")}),(0,cs.jsxs)(kL.S.Group,{title:p7.startDate,selectionVariant:"single",children:[(0,cs.jsx)(X_,{dateFields:l,currentValue:c===vG?c:c?.id,onSelect:p,variant:"start"}),(0,cs.jsx)(kL.S.Item,{selected:c===vG,onSelect:e=>{e.preventDefault(),p(vG,"start")},...(0,cK.f)("date-field-no-start"),children:p7.noStartDate},"none")]}),(0,cs.jsxs)(kL.S.Group,{title:p7.endDate,selectionVariant:"single",children:[(0,cs.jsx)(X_,{dateFields:l,currentValue:m===vG?m:m?.id,onSelect:p,variant:"end"}),(0,cs.jsx)(kL.S.Item,{disabled:!l,selected:m===vG,onSelect:e=>{e.preventDefault(),p(vG,"end")},...(0,cK.f)("date-field-no-end"),children:p7.noEndDate},"none")]})]})});try{(o7=XT).displayName||(o7.displayName="RoadmapDateFieldsMenu")}catch{}try{(o9=X_).displayName||(o9.displayName="DateFields")}catch{}try{(de=Icon).displayName||(de.displayName="Icon")}catch{}try{(dt=XP).displayName||(dt.displayName="MenuOptions")}catch{}function XD(e){switch(e.dataType){case c7.Date:case c7.Iteration:case c7.Milestone:case c7.Number:case c7.SingleSelect:case c7.Repository:case c7.Text:case c7.Assignees:case c7.TrackedBy:return!0;default:return!1}}let XE=(0,cg.memo)(function({open:e,setOpen:t,anchorRef:a}){return(0,cs.jsx)(Xk,{open:e,setOpen:t,anchorRef:a,children:(0,cs.jsx)(XL,{setOpen:t},String(e))})}),XL=(0,cg.memo)(function({setOpen:e}){let{groupedByColumn:t,setGroupedBy:a,clearGroupedBy:n}=R6(),{currentView:r}=v5(),l=(0,cg.useCallback)(()=>{r&&n(r.number),e(!1)},[n,r,e]);return(0,cs.jsx)(Xj,{groupedByColumn:t,setGroupedBy:a,isValidGroupByColumn:XD,statsUiKey:vm,handleClearGroupBy:l})});try{(da=XE).displayName||(da.displayName="RoadmapGroupByMenu")}catch{}try{(dn=XL).displayName||(dn.displayName="RoadmapGroupByMenuOptions")}catch{}let XA=new Set([c7.Iteration,c7.Milestone,c7.Date]);function XM(e){return XA.has(e.dataType)}let XF=()=>{let{allColumns:e}=bD();return(0,cg.useMemo)(()=>e.filter(XM),[e])},XZ=()=>{let{isRoadmapMarkerFieldsDirty:e}=Pp(),{hasWritePermissions:t}=xQ();return(0,cs.jsx)($K,{isDirty:e,hideDirtyState:!t,children:(0,cs.jsx)(me._tJ,{})})};function XO({id:e}){let{currentView:t}=v5(),a=XF(),{markerFields:n,toggleMarkerField:r}=Pp(),l=new Set(n);return(0,cs.jsx)(kL.S,{...(0,cK.f)("roadmap-markers-menu"),id:e,selectionVariant:"multiple",children:a.map(e=>{let a=Oj(e.dataType);return(0,cs.jsxs)(kL.S.Item,{selected:l.has(e),onSelect:()=>{t&&r(t.number,e)},children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(a,{})}),e.name]},e.id)})})}let X$=(0,cg.memo)(function({open:e,setOpen:t,anchorRef:a}){let{clientHeight:n}=$d({onResize:()=>{e&&((0,yX.flushSync)(()=>{t(!1)}),t(!0))}});return(0,cs.jsx)(kA.P,{open:e,anchorRef:a,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{maxHeight:n,overflow:"auto"},...(0,cK.f)("column-marker-menu"),role:"dialog",onEscape:()=>t(!1),onClickOutside:()=>t(!1),children:(0,cs.jsx)(XO,{})})})}),XV=({onSelect:e})=>{let{markerFields:t}=Pp(),a=t.length>0;return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-visible-columns"),onSelect:e,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(XZ,{})}),(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"markers: "}),(0,cs.jsx)(mn.Z,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"85%",fontStyle:a?"unset":"italic"},children:a?ps(t.map(e=>e.name)):"none"})]})};try{(dr=XA).displayName||(dr.displayName="MarkerFields")}catch{}try{(dl=XZ).displayName||(dl.displayName="MarkerDirtyIcon")}catch{}try{(di=XO).displayName||(di.displayName="RoadmapMarkerMenu")}catch{}try{(ds=Icon).displayName||(ds.displayName="Icon")}catch{}try{(dd=X$).displayName||(dd.displayName="MarkerColumnMenu")}catch{}try{(du=XV).displayName||(du.displayName="RoadmapMarkerViewMenuItem")}catch{}let XB=(0,cg.memo)(function({id:e,open:t,setOpen:a,anchorRef:n}){let r=Pv(),{clientHeight:l}=Eo({onResize:()=>{t&&((0,yX.flushSync)(()=>{a(!1)}),a(!0))}});return(0,cs.jsx)(kA.P,{open:t,anchorRef:n,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{maxHeight:l,overflow:"auto"},...(0,cK.f)("roadmap-zoom-level-menu"),role:"dialog","aria-label":p7.zoomMenuDialogAriaLabel(r),onEscape:()=>a(!1),onClickOutside:()=>a(!1),children:(0,cs.jsx)(XK,{id:e},String(t))})})}),Xz=[{type:vq.Month,label:p7.zoomLevelOptions.month},{type:vq.Quarter,label:p7.zoomLevelOptions.quarter},{type:vq.Year,label:p7.zoomLevelOptions.year}],XU=(0,cg.memo)(function({currentValue:e,onSelect:t}){return(0,cs.jsx)(cs.Fragment,{children:Xz.map(a=>(0,cs.jsx)(kL.S.Item,{selected:a.type===e,onSelect:e=>{e.preventDefault(),t(a.type)},...(0,cK.f)(`zoom-level-${a.type}`),children:a.label},a.type))})}),XK=(0,cg.memo)(function({id:e}){let{currentView:t}=v5(),a=Pv(),n=Pk(),r=(0,cg.useCallback)(e=>{t&&n(t.number,e)},[t,n]);return(0,cs.jsx)(kL.S,{id:e,children:(0,cs.jsx)(kL.S.Group,{title:p7.zoomLevel,selectionVariant:"single",...(0,cK.f)("roadmap-zoom-list"),children:(0,cs.jsx)(XU,{currentValue:a,onSelect:r})})})}),XW=(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)("path",{fillRule:"evenodd",d:"M7.5 15a7.469 7.469 0 004.746-1.693l2.474 2.473a.75.75 0 101.06-1.06l-2.473-2.474A7.5 7.5 0 107.5 15zm0-13.5a6 6 0 104.094 10.386.75.75 0 01.293-.292A6 6 0 007.5 1.5z"}),(0,cs.jsx)("path",{d:"M7.5 3.5a.75.75 0 01.75.75v2.5h2.5a.75.75 0 010 1.5h-2.5v2.5a.75.75 0 01-1.5 0v-2.5h-2.5a.75.75 0 010-1.5h2.5v-2.5a.75.75 0 01.75-.75z"})]});function XH(){return(0,cs.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",className:"octicon",style:{display:"inline-block",userSelect:"none",overflow:"visible"},children:XW})}try{(dc=XB).displayName||(dc.displayName="RoadmapZoomLevelMenu")}catch{}try{(dm=XU).displayName||(dm.displayName="ZoomLevels")}catch{}try{(dp=XK).displayName||(dp.displayName="MenuOptions")}catch{}try{(df=XH).displayName||(df.displayName="ZoomIcon")}catch{}let XG=(0,cg.memo)(function({id:e,open:t,setOpen:a,anchorRef:n}){let{clientHeight:r}=Eo({onResize:()=>{t&&((0,yX.flushSync)(()=>{a(!1)}),a(!0))}});return(0,cs.jsx)(kA.P,{open:t,anchorRef:n,onOpenChange:j1.Z,children:(0,cs.jsx)(kA.P.Overlay,{sx:{maxHeight:r,overflow:"auto"},...(0,cK.f)("sort-by-menu"),role:"dialog","aria-label":"Select a field to sort by",onEscape:()=>a(!1),onClickOutside:()=>a(!1),children:(0,cs.jsx)(Xq,{id:e,setOpen:a},String(t))})})}),Xq=(0,cg.memo)(function({setOpen:e,id:t}){let{currentView:a}=v5(),{allColumns:n}=bD(),{visibleFields:r}=FR(),{sortDirection:l,clearSortedBy:i,sortedByColumn:s,setSortedBy:o}=IS(),d=(0,cg.useMemo)(()=>{let e=n.slice().sort((e,t)=>pv(e,t,r)).map(e=>{let t=t=>{a&&(s===e?"desc"===l?i(a.number):o(a.number,e,"desc"):o(a.number,e,"asc"),t.stopPropagation())},n=Oj(e.dataType);return(0,cs.jsxs)(kL.S.Item,{onSelect:t,selected:s===e,...(0,cK.f)(`sort-by-${e.name}`),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(n,{})}),e.name,s===e&&(0,cs.jsx)(kL.S.TrailingVisual,{children:"asc"===l?(0,cs.jsx)(me.aoE,{}):(0,cs.jsx)(me.k6S,{})})]},e.id)});return e},[n,i,a,o,l,s,r]),u=(0,cg.useCallback)(()=>{a&&i(a.number),e(!1)},[i,a,e]);return(0,cs.jsx)(kL.S,{id:t,selectionVariant:"single",children:(0,cs.jsxs)(kL.S.Group,{title:"Sort By",children:[d,(0,cs.jsxs)(kL.S.Item,{selected:!s,onSelect:u,...(0,cK.f)("sort-by-none"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.b0D,{})}),"No sorting"]},"sort-by-none")]},"sort-by")})});try{(dh=XG).displayName||(dh.displayName="SortByMenu")}catch{}try{(dg=Xq).displayName||(dg.displayName="Options")}catch{}try{(dy=Icon).displayName||(dy.displayName="Icon")}catch{}function XQ(e){switch(e.dataType){case c7.Date:case c7.Iteration:case c7.Milestone:case c7.Number:case c7.SingleSelect:case c7.Repository:case c7.Text:case c7.Assignees:case c7.TrackedBy:return!0;default:return!1}}let XX=(0,cg.memo)(function({open:e,setOpen:t,anchorRef:a}){return(0,cs.jsx)(Xk,{open:e,setOpen:t,anchorRef:a,children:(0,cs.jsx)(XY,{setOpen:t},String(e))})}),XY=(0,cg.memo)(function({setOpen:e}){let{groupedByColumn:t,setGroupedBy:a,clearGroupedBy:n}=R6(),{currentView:r}=v5(),l=(0,cg.useCallback)(()=>{r&&n(r.number),e(!1)},[n,r,e]);return(0,cs.jsx)(Xj,{groupedByColumn:t,setGroupedBy:a,isValidGroupByColumn:XQ,statsUiKey:vm,handleClearGroupBy:l})});try{(dx=XX).displayName||(dx.displayName="TableGroupByMenu")}catch{}try{(db=XY).displayName||(db.displayName="TableGroupByMenuOptions")}catch{}let XJ=e=>e===vQ.Board,X0=(0,cs.jsx)(UP.u,{keys:"CommandOrControl+F"});function X1(){let{isVisibleFieldsDirty:e}=FR(),{hasWritePermissions:t}=xQ();return(0,cs.jsx)($K,{isDirty:e,hideDirtyState:!t,children:(0,cs.jsx)(me.Zi2,{})})}let X2=(0,cg.memo)(function({onSelect:e}){let{allColumns:t}=bD(),{visibleFields:a}=FR(),n=(0,cg.useMemo)(()=>fe.visibleFieldsLabelText({visibleFields:a,hiddenFields:t.filter(e=>!a.includes(e))}),[a,t]);return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-visible-columns"),onSelect:e,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:n,"aria-label":n,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(X1,{})}),(0,cs.jsxs)("span",{children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"fields: "})," ",fe.visibleFieldsText({visibleFields:a,allColumns:t})]})]})});function X5(){let{isGroupedByDirty:e}=R6(),{isGroupedByDirty:t}=Ik(),{viewType:a}=wt(),{hasWritePermissions:n}=xQ();return(0,cs.jsx)($K,{isDirty:e||t,hideDirtyState:!n,children:XJ(a)?(0,cs.jsx)(me.SeN,{}):(0,cs.jsx)(me.NoV,{})})}let X3=(0,cg.memo)(function({onSelect:e}){let{viewType:t}=wt(),{groupedByColumn:a}=R6(),{groupedByColumn:n}=Ik(),r=(0,cg.useMemo)(()=>XJ(t)?n:a,[t,n,a]);return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-grouped-by"),onSelect:e,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(X5,{})}),(0,cs.jsxs)("span",{"aria-label":`Grouped by: ${r?r.name:"none"}`,style:{display:"flex",gap:"4px"},children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted",whiteSpace:"nowrap"},children:XJ(t)?"column field: ":"group: "}),(0,cs.jsx)(mn.Z,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"85%",fontStyle:r?"unset":"italic"},children:r?r.name:"none"})]})]})});function X4(){let{isSortedByDirty:e,sortDirection:t,sortedByColumn:a}=IS(),{hasWritePermissions:n}=xQ();return(0,cs.jsx)($K,{isDirty:e,hideDirtyState:!n,children:a?"asc"===t?(0,cs.jsx)(me.aoE,{}):(0,cs.jsx)(me.k6S,{}):(0,cs.jsx)(mt.Z,{icon:me.Wk_,sx:{transform:"rotate(90deg)"}})})}let X6=(0,cg.memo)(function({onSelect:e}){let{sortDirection:t,sortedByColumn:a}=IS(),{sortLabel:n,sortText:r}=(0,cg.useMemo)(()=>a?{sortLabel:`Sorted by: ${a.name} ${"asc"===t?"ascending":"descending"}`,sortText:`${a.name}${"asc"===t?"-asc":"-desc"}`}:{sortLabel:"Sorted by: manual",sortText:"manual"},[a,t]);return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-sorted-by"),onSelect:e,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(X4,{})}),(0,cs.jsxs)("span",{"aria-label":n,style:{display:"flex",gap:"4px"},children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"sort: "}),(0,cs.jsx)(mn.Z,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"85%",fontStyle:a?"unset":"italic"},children:r})]})]})});function X8(){let{isSearchDirty:e}=wn(),{hasWritePermissions:t}=xQ();return(0,cs.jsx)($K,{isDirty:e,hideDirtyState:!t,children:(0,cs.jsx)(me.k1n,{})})}let X7=(0,cg.memo)(function({onSelect:e}){let{query:t}=wn(),{memex_find_in_project:a}=xO(),n=(0,cg.useMemo)(()=>wx(a),[a]);return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-search"),onSelect:e,"aria-label":t?`Search/filters applied: ${t}`:void 0,"aria-keyshortcuts":n,title:t,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(X8,{})}),(0,cs.jsxs)(cW.Z,{sx:{display:"flex",gap:1,maxWidth:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"filter: "}),(0,cs.jsx)(mn.Z,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"85%",fontStyle:t?"italic":"unset"},children:t||fe.queryPlaceholderText})]}),(0,cs.jsx)(kL.S.TrailingVisual,{children:X0})]})});function X9(){let{isAggregationSettingsDirty:e}=R5(),{hasWritePermissions:t}=xQ();return(0,cs.jsx)($K,{isDirty:e,hideDirtyState:!t,...(0,cK.f)("aggregation-settings-dirty"),children:(0,cs.jsx)(me.yEv,{})})}let Ye=(0,cg.memo)(function({onSelect:e}){let{hideItemsCount:t,sum:a}=R5(),n=t?"":"Count";if(a.length){let e=a[0];null!=e&&(n+=`${n?", ":""}${e.name}`),a.length>1&&(n+=` and ${a.length-1} more`)}return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-field-sum"),onSelect:e,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(X9,{})}),(0,cs.jsxs)("span",{"aria-label":`field sum: ${n||"none"}`,children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"field sum: "}),(0,cs.jsx)(mn.Z,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"85%",fontStyle:n?"unset":"italic"},children:n||"none"})]})]})}),Yt=(0,cg.memo)(function({onSelect:e}){let{hasWritePermissions:t}=xQ(),{dateFields:a,isRoadmapDateFieldsDirty:n}=Pp(),r=new Set(a.filter(Pn).map(e=>e.name)),l=ps(Array.from(r).filter(e=>!!e));return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-roadmap-date-fields"),onSelect:e,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)($K,{isDirty:n,hideDirtyState:!t,...(0,cK.f)("roadmap-date-fields-dirty"),children:(0,cs.jsx)(me.Que,{})})}),(0,cs.jsxs)("span",{"aria-label":`Date fields: ${l||"none"}`,children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"date fields: "}),(0,cs.jsx)(mn.Z,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"85%",fontStyle:l?"unset":"italic"},children:l||"none"})]})]})}),Ya=(0,cg.memo)(function({onSelect:e}){let{hasWritePermissions:t}=xQ(),a=Pv(),{isRoadmapZoomLevelDirty:n}=Pp();return(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-roadmap-zoom-level"),onSelect:e,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)($K,{isDirty:n,hideDirtyState:!t,...(0,cK.f)("roadmap-zoom-level-dirty"),children:(0,cs.jsx)(XH,{})})}),(0,cs.jsxs)("span",{"aria-label":`Zoom level: ${a}`,children:[(0,cs.jsx)(mn.Z,{sx:{color:"fg.muted"},children:"zoom level: "}),(0,cs.jsx)(mn.Z,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"85%",fontStyle:"unset"},children:p7.zoomLevelOptions[a]})]})]})});try{(dv=X1).displayName||(dv.displayName="VisibleFieldsLeadingVisual")}catch{}try{(dw=X2).displayName||(dw.displayName="VisibleFieldsItem")}catch{}try{(dk=X5).displayName||(dk.displayName="GroupLeadingVisual")}catch{}try{(dj=X3).displayName||(dj.displayName="GroupByConfig")}catch{}try{(dC=X4).displayName||(dC.displayName="SortLeadingVisual")}catch{}try{(dS=X6).displayName||(dS.displayName="SortByConfig")}catch{}try{(dI=X8).displayName||(dI.displayName="FilterLeadingVisual")}catch{}try{(dN=X7).displayName||(dN.displayName="FilterByConfig")}catch{}try{(dT=X9).displayName||(dT.displayName="AggregationLeadingVisual")}catch{}try{(d_=Ye).displayName||(d_.displayName="AggregationSettingsConfig")}catch{}try{(dR=Yt).displayName||(dR.displayName="RoadmapDateFieldsConfig")}catch{}try{(dP=Ya).displayName||(dP.displayName="RoadmapZoomLevelConfig")}catch{}let Yn=(0,cg.memo)(function({isDirty:e,isDisabled:t,selected:a,value:n,children:r,Icon:l,handleViewTypeChange:i,...s}){return(0,cs.jsx)(kL.S.Item,{sx:{flex:1,border:"1px solid",borderColor:a?"accent.emphasis":"border.default",textAlign:"center",cursor:"pointer",backgroundColor:a?"accent.subtle":"",boxShadow:a?e=>`inset 0 0 0 1px ${e.colors.accent.emphasis}`:"",borderRadius:0,mx:0,mb:2,mt:1,"&:hover":{backgroundColor:a?"":"canvas.subtle"},"&:first-of-type":{borderTopLeftRadius:2,borderBottomLeftRadius:2,borderRight:a?void 0:"0"},"&:last-of-type":{borderTopRightRadius:2,borderBottomRightRadius:2,borderLeft:a?void 0:"0"}},onSelect:()=>i(n),children:(0,cs.jsx)(cW.Z,{sx:{fontWeight:"normal",cursor:"pointer",px:3,py:2,mb:0},...s,children:(0,cs.jsxs)(cW.Z,{sx:{textAlign:"center",flexDirection:"column",m:"auto",alignItems:"center",display:"flex"},children:[(0,cs.jsx)($K,{isDirty:e&&a,hideDirtyState:t,children:(0,cs.jsx)(mt.Z,{icon:l,sx:{color:a?"fg.default":"fg.muted"},size:"medium"})}),(0,cs.jsx)(mn.Z,{sx:{color:a?"fg.default":"fg.muted",fontSize:0},children:r})]})})})}),Yr=(0,cg.memo)(function({view:e,setOpen:t}){let{isViewTypeDirty:a,viewType:n,setViewType:r}=wt(),{hasWritePermissions:l}=xQ(),{postStats:i}=v4(),s=(0,cg.useCallback)(a=>{r(e,a,vy),i({name:vg,ui:vy,context:a}),t(!1)},[t,r,e,i]);return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Yn,{value:vQ.Table,selected:n===vQ.Table,Icon:me.$eq,handleViewTypeChange:s,isDirty:a,isDisabled:!l,...(0,cK.f)("view-type-table"),children:"Table"}),(0,cs.jsx)(Yn,{value:vQ.Board,selected:n===vQ.Board,Icon:me.Rg1,handleViewTypeChange:s,isDirty:a,isDisabled:!l,...(0,cK.f)("view-type-board"),children:"Board"}),(0,cs.jsx)(Yn,{value:vQ.Roadmap,selected:n===vQ.Roadmap,Icon:me.Bjy,handleViewTypeChange:s,isDirty:a,isDisabled:!l,...(0,cK.f)("view-type-roadmap"),children:"Roadmap"})]})});try{(dD=Yn).displayName||(dD.displayName="LayoutToggleItem")}catch{}try{(dE=Yr).displayName||(dE.displayName="LayoutToggle")}catch{}let Yl=(0,cg.forwardRef)(function(e,t){let{isViewStateDirty:a}=v5(),{hasWritePermissions:n}=xQ();return(0,cs.jsx)($K,{isDirty:a,hideDirtyState:!n,onClick:e.onClick,...a?(0,cK.f)("view-options-dirty"):void 0,children:(0,cs.jsx)(ww.h,{...e,ref:t,icon:me.AS7,sx:{display:"flex",alignItems:"center",justifyContent:"center",px:0,py:0,height:18,width:18},"aria-label":"View options",...(0,cK.f)("view-options-menu-toggle")})})});try{(dL=Yl).displayName||(dL.displayName="MenuAnchor")}catch{}let Yi=()=>{let{roadmapTruncateTitles:e,roadmapShowDateFields:t}=PE(),{memex_roadmap_date_fields:a}=xO();return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(Ys,{option:e}),a&&(0,cs.jsx)(Ys,{option:t})]})};function Ys({option:e}){return(0,cs.jsxs)(kL.S.Item,{onSelect:e.toggleEnabled,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:e.enabled&&(0,cs.jsx)(me.nQG,{})}),e.label]},e.name)}try{(dA=Yi).displayName||(dA.displayName="RoadmapUserSettingsMenu")}catch{}try{(dM=Ys).displayName||(dM.displayName="OptionsElement")}catch{}let Yo=(0,cg.memo)(function({view:e,handleRenameViewClick:t,handleDuplicateView:a,handleDestroyView:n,viewsLength:r}){return(0,cs.jsxs)(cs.Fragment,{children:[e.isDeleted?null:(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-rename-view"),onSelect:t,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.vdY,{})}),"Rename view"]}),(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-duplicate-view"),onSelect:a,children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.cRd,{})}),e.isViewStateDirty?"Save changes to new view":"Duplicate view"]}),(0,cs.jsxs)(kL.S.Item,{...(0,cK.f)("view-options-menu-item-delete-view"),onSelect:n,disabled:r<=1,variant:"danger",children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),e.isDeleted?"Remove deleted view":"Delete view"]})]})});try{(dF=Yo).displayName||(dF.displayName="ViewActionItems")}catch{}function Yd({view:e,setOpen:t}){let{hasWritePermissions:a}=xQ(),{saveCurrentViewState:n,resetViewState:r}=v5(),l=(0,cg.useCallback)(async()=>{await n(e.number,{ui:vy}),t(!1)},[n,t,e.number]),i=(0,cg.useCallback)(async()=>{r(e.number,{ui:vy}),t(!1)},[r,t,e.number]);return(0,cs.jsxs)(cs.Fragment,{children:[a&&!e.isDeleted?(0,cs.jsx)(kL.S.Item,{onSelect:l,disabled:!e.isViewStateDirty,...(0,cK.f)("view-options-menu-save-changes-button"),sx:{flex:"auto",color:"accent.fg",borderRight:"1px solid",borderColor:"border.default",borderRadius:0,my:-2,mx:0,py:3,textAlign:"center",fontWeight:"normal","&:hover":{bg:"canvas.inset"}},children:"Save changes"}):null,(0,cs.jsx)(kL.S.Item,{onSelect:i,...(0,cK.f)("view-options-menu-reset-changes-button"),sx:{flex:"auto",color:"fg.muted",borderRadius:0,my:-2,mx:0,py:3,textAlign:"center",fontWeight:"normal","&:hover":{bg:"canvas.inset"}},children:"Discard changes"})]})}try{(dZ=Yd).displayName||(dZ.displayName="ViewChangeButtons")}catch{}let Yu=(0,cg.memo)(function({viewNameInputRef:e,view:t,viewOptionMenuTriggerRef:a,startEditing:n}){let[r,l]=(0,cg.useState)(!1),[i,s]=(0,cg.useState)(null),{clientHeight:o}=Eo({onResize:()=>{r&&((0,yX.flushSync)(()=>{l(!1)}),l(!0))}}),{query:d,showSearch:u,searchInputRef:c}=wn(),[m,p]=(0,cg.useState)(),{views:f,currentView:h,duplicateCurrentViewState:g,destroyCurrentView:y}=v5(),{hasWritePermissions:x}=xQ(),{isInsightsChartViewEnabled:b}=RW(),v=(0,cg.useRef)(null);(0,cg.useEffect)(()=>{r&&s(null)},[r]),(0,cg.useEffect)(()=>{m&&(m.focus(),p(null))},[m]);let w=(0,cg.useCallback)(()=>{u(),p(c.current)},[c,u]),k=(0,cg.useCallback)(async()=>{y(t.number,{ui:vy},()=>{l(!1)})},[y,t.number]),j=(0,cg.useCallback)(async()=>{h&&(await g(h.number,void 0,{ui:vy}),l(!1))},[h,g]),C=(0,cg.useCallback)(()=>{l(!1),n(),p(e.current)},[p,e,n]),{viewType:S}=wt(),I=Yc(S);(0,cg.useImperativeHandle)(a,()=>v.current);let N=(0,cg.useCallback)(()=>{s("sort-by"),l(!1)},[]),{isCommandPaletteVisible:T}=Xw(),_=(0,cg.useCallback)(()=>{s("add-field"),l(!1)},[]),R=(0,cg.useCallback)(e=>s(()=>e?"add-field":null),[]),{memex_user_settings:P}=xO();return(0,cs.jsxs)(cW.Z,{sx:{position:"relative"},children:[(0,cs.jsx)(Yl,{ref:v,onClick:()=>l(e=>!e)}),(0,cs.jsx)(kA.P,{anchorRef:v,open:r&&!T,onOpenChange:(0,cg.useCallback)(e=>l(e),[]),children:(0,cs.jsx)(kA.P.Overlay,{...(0,cK.f)("view-options-menu-modal"),width:"medium",sx:{maxHeight:o,overflow:"auto"},children:(0,cs.jsxs)(kL.S,{children:[(0,cs.jsx)(kL.S.Group,{title:"Layout",variant:"subtle",sx:{"& > ul":{display:"flex",px:2}},...(0,cK.f)("view-options-menu-layout"),children:(0,cs.jsx)(Yr,{view:t,setOpen:l})}),(0,cs.jsx)(kL.S.Divider,{}),(0,cs.jsxs)(kL.S.Group,{title:"Configuration",variant:"subtle",children:[S===vQ.Roadmap?(0,cs.jsx)(XV,{onSelect:_}):(0,cs.jsx)(X2,{onSelect:_}),(0,cs.jsx)(X3,{onSelect:(0,cg.useCallback)(()=>{s("group-by"),l(!1)},[])}),t.localViewState.layout===vK.Roadmap&&(0,cs.jsx)(Yt,{onSelect:()=>{s("roadmap-date-fields"),l(!1)}}),t.localViewState.layout===vK.Roadmap&&(0,cs.jsx)(Ya,{onSelect:()=>{s("roadmap-zoom-level"),l(!1)}}),t.localViewState.layout===vK.Board||t.localViewState.groupBy.length>0?(0,cs.jsx)(Ye,{onSelect:()=>{s("field-sum"),l(!1)}}):null,(0,cs.jsx)(X6,{onSelect:N}),(0,cs.jsx)(X7,{onSelect:w})]}),P&&t.localViewState.layout===vK.Roadmap?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kL.S.Divider,{}),(0,cs.jsx)(kL.S.Group,{title:"User settings",children:(0,cs.jsx)(Yi,{})})]}):null,b?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kL.S.Divider,{}),(0,cs.jsx)(kL.S.Group,{children:(0,cs.jsxs)(kL.S.LinkItem,{as:f3,...(0,cK.f)("view-options-menu-item-show-insights"),to:{pathname:ho.generatePath(),search:d?`${new URLSearchParams({filterQuery:d})}`:void 0},children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.RIw,{})}),"Generate chart"]})})]}):null,x?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kL.S.Divider,{}),(0,cs.jsx)(Yo,{handleRenameViewClick:C,handleDuplicateView:j,handleDestroyView:k,viewsLength:f.length,view:t})]}):null,t.isViewStateDirty?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(kL.S.Divider,{}),(0,cs.jsx)(kL.S.Group,{sx:{"& > ul":{display:"flex"}},children:(0,cs.jsx)(Yd,{setOpen:l,view:t})})]}):null]})})}),S===vQ.Roadmap?(0,cs.jsx)(X$,{anchorRef:v,open:"add-field"===i,setOpen:R}):(0,cs.jsx)(G_,{anchorRef:v,open:"add-field"===i,setOpen:R}),(0,cs.jsx)(I,{anchorRef:v,open:"group-by"===i,setOpen:(0,cg.useCallback)(e=>s(()=>e?"group-by":null),[])}),(0,cs.jsx)(XG,{anchorRef:v,open:"sort-by"===i,setOpen:(0,cg.useCallback)(e=>s(()=>e?"sort-by":null),[])}),(0,cs.jsx)(XI,{anchorRef:v,open:"field-sum"===i,setOpen:(0,cg.useCallback)(e=>s(()=>e?"field-sum":null),[])}),(0,cs.jsx)(XT,{anchorRef:v,open:"roadmap-date-fields"===i,setOpen:(0,cg.useCallback)(e=>s(()=>e?"roadmap-date-fields":null),[])}),(0,cs.jsx)(XB,{anchorRef:v,open:"roadmap-zoom-level"===i,setOpen:(0,cg.useCallback)(e=>s(()=>e?"roadmap-zoom-level":null),[])})]})});function Yc(e){switch(e){case vQ.Board:return XC;case vQ.Roadmap:return XE;case vQ.Table:case vQ.List:return XX}}try{(dO=Yu).displayName||(dO.displayName="ViewOptionsMenu")}catch{}try{(d$=GroupByMenu).displayName||(d$.displayName="GroupByMenu")}catch{}let Ym=(0,cw.ZP)(cW.Z)`
  position: relative;
  &:after,
  &:before {
    content: '';
    display: none;
    position: absolute;
    top: -${(0,ch.U2)("space.2")};
    width: ${(0,ch.U2)("space.1")};
    background-color: ${(0,ch.U2)("colors.accent.emphasis")};
    height: calc(100% + ${(0,ch.U2)("space.3")});
    border: 0;
    border-radius: 6px;
    z-index: 12;
  }

  body.is-dragging &.show-sash-view.show-sash-after {
    &::after {
      right: -20px;
      display: block;
    }

    &.selected::after {
      right: -20px;
    }
  }

  body.is-dragging &.show-sash-view.show-sash-before {
    &::before {
      left: -18px;
      display: block;
    }
    &.selected::before {
      right: -21px;
    }
  }
`,Yp={[vQ.Board]:me.Rg1,[vQ.List]:me.Rg1,[vQ.Roadmap]:me.Bjy,[vQ.Table]:me.$eq},Yf=(e,t)=>t?me.XHJ:Yp[e],Yh=({selected:e,viewLayout:t,isDeleted:a})=>(0,cs.jsx)(mt.Z,{icon:Yf(vJ(t),a),sx:{color:a?"fg.subtle":e?"fg.default":"fg.muted",mr:2}}),Yg=(0,cg.forwardRef)(function({view:e,selected:t},a){let n=(0,cg.useRef)(null);(0,cg.useImperativeHandle)(a,()=>n.current);let r=(0,cg.useRef)(null),l=(0,cg.useRef)(null),i=(0,cg.useRef)(null),{renameView:s}=v5(),[o,d]=Di(e.name),[u,c]=(0,cg.useState)(!1),{hasWritePermissions:m}=xQ(),p=(0,cg.useMemo)(()=>({id:e.id,number:e.number}),[e.id,e.number]),f=E5({dragAxis:"horizontal",dragID:`${e.number}`,dragType:"view",dragIndex:e.number,dragRef:i,disable:!m,metadata:p});(0,cg.useEffect)(()=>{u&&r.current?.focus()},[u,r]);let h=(0,cg.useCallback)(()=>{m&&c(!0)},[m,c]),g=(0,cg.useCallback)(()=>{c(!1)},[c]),y=(0,cg.useCallback)(e=>{d(e.target.value)},[d]),x=(0,cg.useCallback)(e=>{e.stopPropagation()},[]),b=(0,cg.useCallback)(()=>{d(e.name)},[d,e.name]),v=(0,cg.useCallback)(t=>{switch(t.key){case"Enter":u||h(),o.trim().length>0&&o!==e.name&&s(e.number,o,{ui:vy}),t.preventDefault(),(0,yX.flushSync)(()=>{g()}),l.current?.focus();break;case"Escape":b(),u&&g()}},[u,o,e.name,e.number,g,s,h,b]),w=Ds(v),k=(0,cg.useCallback)(()=>{document.hasFocus()&&(0===o.trim().length?b():s(e.number,o,{ui:vy}),g())},[o,b,g,s,e.number]);k0(n);let j=Rh();return(0,cs.jsxs)(Ym,{className:Ub()({selected:t}),ref:i,...f.props,sx:{display:"flex",maxWidth:"100%",width:"100%"},...f.handle.props,children:[(0,cs.jsx)(cW.Z,{children:(0,cs.jsx)(Yh,{selected:t,viewLayout:e.localViewState.layout,isDeleted:e.isDeleted})}),(0,cs.jsx)(cW.Z,{onClick:h,sx:m&&u?{px:1,ml:-1,"&:focus-within":{boxShadow:"primer.shadow.focus",borderRadius:"2"},"&:hover:not(:focus-within)":{boxShadow:"primer.shadow.focus",borderRadius:"2"}}:{pl:1,ml:-1,overflow:"hidden"},children:t&&u?(0,cs.jsx)(Rs.Z,{...j,children:(0,cs.jsx)(wF,{as:wO,ref:r,sx:{fontSize:1},autoComplete:"off",value:o,onChange:y,onMouseDown:x,onBlur:k,"aria-label":"Change view name",disabled:!m||e.isDeleted,...w,...(0,cK.f)("view-name-input")})}):(0,cs.jsx)(mn.Z,{ref:n,sx:{display:"inline-block",color:t?"fg.default":"fg.muted","&:hover":{color:"fg.default"},whiteSpace:"nowrap",maxWidth:"100%",pr:0},...(0,cK.f)("view-name-static"),children:o})}),t?(0,cs.jsx)(cW.Z,{sx:{ml:2},children:(0,cs.jsx)(Yu,{viewOptionMenuTriggerRef:l,view:e,viewNameInputRef:r,startEditing:h})}):null]})});try{(dV=Ym).displayName||(dV.displayName="TabBox")}catch{}try{(dB=Yh).displayName||(dB.displayName="PageIcon")}catch{}try{(dz=Yg).displayName||(dz.displayName="ViewTab")}catch{}let Yy=({projectViewId:e})=>(0,cs.jsx)(E1,{children:(0,cs.jsx)(Yx,{projectViewId:e})}),Yx=(0,cg.memo)(function({projectViewId:e}){let{views:t,viewsMap:a,createNewDefaultView:n,currentView:r,setCurrentViewNumber:l,updateViewPriority:i}=v5(),{hasWritePermissions:s}=xQ(),o=(0,cg.useRef)(null),d=(0,cg.useCallback)(async({dragMetadata:e,dropMetadata:n,side:r})=>{let l;if(!s||!n||!e)return;let o=a[e.number],d=t.findIndex(t=>t.id===e?.id),u=t.findIndex(e=>e.id===n?.id);if(!o||d===u||("before"===r?l=t[u]:"after"===r&&u!==t.length-1&&(l=t[u+1]),o.number===l?.number))return;let c=d!==t.length-1?t[d+1]:void 0;await i(o.number,l?.id||"",l?.number,c?.number)},[t,a,s,i]),u=E3({dropID:"views",dropType:"view",dropRef:o,onDrop:d});return(0,cs.jsx)("div",{...u.props,ref:o,children:(0,cs.jsxs)(Xy.Z,{"aria-label":"Select view",sx:{isolation:"isolate",bg:"canvas.inset","> nav":{px:[3,4,5]},"& .TabNav-item:not(.selected):not(:first-child):not(.TabNav-item.selected + .TabNav-item)::before":{content:'""',position:"absolute",backgroundColor:"border.muted",width:"1.5px",height:"19px",top:"50%",right:"100%",transform:"translateY(-50%)"},"& .TabNav-item.TabNav-item-truncate:not(.selected):not(.TabNav-item-new)::after":{content:"''",position:"absolute",right:1,top:"50%",width:"30px",height:"21px",transform:"translateY(-50%)",backgroundImage:e=>`linear-gradient(to right, transparent, ${e.colors.canvas.inset} 75%, ${e.colors.canvas.inset} 50%, ${e.colors.canvas.inset} 25%)`}},...(0,cK.f)("tab-nav"),children:[t.map(t=>{let a=t.number===r?.number;return(0,cs.jsx)(Yv,{selected:a,projectViewId:e,onTabChange:e=>{e.preventDefault(),a||l(t.number,{ui:vv})},view:t},t.number)}),s&&t.length<42&&(0,cs.jsxs)(Xy.Z.Link,{className:"TabNav-item-new",as:"button",sx:{position:"relative",display:"flex",alignItems:"center",cursor:"pointer",margin:0},onClick:()=>n({ui:vv}),...(0,cK.f)("view-navigation-create-new-view"),children:[(0,cs.jsx)(mt.Z,{icon:me.pOD,sx:{color:"fg.muted",mr:2}}),(0,cs.jsx)(mn.Z,{sx:{"&:hover":{color:"fg.default"},overflow:"hidden",whiteSpace:"nowrap",color:"fg.muted"},children:"New view"})]},"new")]})})}),Yb=(0,cg.forwardRef)(function({sx:e,...t},a){return(0,cs.jsx)($A,{...t,ref:a})}),Yv=({selected:e,onTabChange:t,view:a,projectViewId:n})=>{let{hasWritePermissions:r}=xQ(),l=(0,cg.useRef)(null);(0,cg.useEffect)(()=>{let{current:t}=l;e&&t&&t.scrollIntoView()},[e]);let i=(0,cg.useRef)(null),s=Xx(i);return(0,cs.jsxs)(Xy.Z.Link,{ref:l,className:s&&!e?"TabNav-item-truncate":"",selected:e,"aria-selected":e?"true":void 0,as:e?"div":Yb,"aria-controls":e?n:void 0,to:e?void 0:ha.generatePath({viewNumber:a.number}),sx:{position:"relative",cursor:"pointer",display:"flex",alignItems:"center",margin:0,flexGrow:1,width:"200px",maxWidth:"max-content",minWidth:e?"min-content":s?"140px":void 0,px:3,pr:e?void 0:3},title:a.name,onMouseDown:t,onClick:t,...(0,cK.f)("view-navigation-view-tab-link"),children:[(0,cs.jsx)(Yg,{ref:i,view:a,selected:e}),a.isViewStateDirty&&!e&&(0,cs.jsx)($K,{isDirty:!0,hideDirtyState:!r,sx:{top:"-5px",left:"-4px",zIndex:1}},`dirty-for-${a.number}`)]})};try{(dU=Yy).displayName||(dU.displayName="ViewNavigation")}catch{}try{(dK=Yx).displayName||(dK.displayName="ViewNavigationInner")}catch{}try{(dW=Yb).displayName||(dW.displayName="TabNavLink")}catch{}try{(dH=Yv).displayName||(dH.displayName="ViewNavigationTab")}catch{}let Yw=()=>{let{currentView:e}=v5(),{allColumns:t}=bD(),{visibleFields:a}=FR(),{sortDirection:n,clearSortedBy:r,sortedByColumn:l,setSortedBy:i}=IS(),{isProjectViewRoute:s}=v7(),{postStats:o}=v4(),d=(0,cg.useMemo)(()=>t.slice().sort((e,t)=>pv(e,t,a)),[t,a]),u=(0,cg.useCallback)((t,a)=>{e&&(i(e.number,t,a),o({name:"desc"===a?vu:vd,ui:vf,context:t.id}))},[e,o,i]);cU(()=>{if(!s||!e)return null;let t=[],a=["s","Sort by...",t],i=()=>r(e.number);for(let[e,a]of(l&&t.push(["s","Remove sort-by","sorting.clear",i]),Object.entries(d))){let r=l===a,s=()=>u(a,"asc"),o=()=>u(a,"desc");r?r&&"asc"===n?t.push([e,`${pX.sortBy}: ${a.name}, desc`,"column.sort",o]):t.push([e,`${pX.unsortBy}: ${a.name}`,"column.unsort",i]):t.push([e,`${pX.sortBy}: ${a.name}, asc`,"column.sort",s])}return a},[s,e,l,r,d,n,u])},Yk=()=>{let{title:e}=_4();(0,cg.useEffect)(()=>{document.title=e,document.dispatchEvent(new CustomEvent("context-region-label:update",{detail:{label:e}}))},[e])},Yj=(0,cg.createContext)(null),YC=(0,cg.memo)(function({children:e}){let[t,a]=(0,cg.useState)(null);return(0,cs.jsx)(Yj.Provider,{value:(0,cg.useMemo)(()=>({highlightedRowId:t,setHighlightedRowId:a}),[t,a]),children:e})});function YS(){let e=(0,cg.useContext)(Yj);if(!e)throw Error("useHighlightedRow must be used inside a HighlightedRowContext");return e}try{(dG=Yj).displayName||(dG.displayName="HighlightedRowContext")}catch{}try{(dq=YC).displayName||(dq.displayName="HighlightedRowProvider")}catch{}var YI=a(11640);let YN=(0,cg.createContext)(null),YT=(0,cg.createContext)(null),Y_=(0,cg.createContext)(null),YR=(0,cg.createContext)(null),YP=(0,cg.createContext)(null),YD=(0,cg.createContext)(null),YE=(0,cg.createContext)(null),YL={month:{columnWidth:48,timeRangeMonths:6},quarter:{columnWidth:16,timeRangeMonths:18},year:{columnWidth:4,timeRangeMonths:72}},YA=(0,cg.memo)(function({children:e}){let t=(0,cg.useMemo)(()=>pH(new Date),[]),a=Pg(),n=Pv(),{disableDateFieldsPopover:r}=Pf(),[l,i]=(0,cg.useState)(n),s=(0,cg.useMemo)(()=>YL[l].columnWidth,[l]),[{timeRangeStart:o,timeRangeEnd:d},u]=(0,cg.useState)({timeRangeStart:pH((0,YI.Z)(t,-YL[n].timeRangeMonths)),timeRangeEnd:pH((0,YI.Z)(t,YL[n].timeRangeMonths))}),c=(0,cg.useRef)(null),m=(0,cg.useRef)(null),p=(0,cg.useMemo)(()=>Math.abs((0,gt.Z)(d,o)),[d,o]),f=p*s,h=(0,cg.useCallback)(e=>{let t=d.getTime()-o.getTime(),a=e.getTime()-o.getTime();return 0+a/t*(f-0)},[f,0,d,o]),g=(0,cg.useCallback)(e=>c&&c.current?c.current.scrollLeft+e:0,[]),y=(0,cg.useCallback)(e=>{let t=o.getTime(),a=d.getTime()-t,n=new Date(new Date(e*(a/f)+t).setUTCHours(0,0,0,0));return n},[d,o,f]),x=(0,cg.useCallback)(e=>{if(c&&c.current)return y(c.current.scrollLeft+e)},[y]),b=(0,cg.useSyncExternalStore)((0,cg.useCallback)(e=>{let t=new ResizeObserver(e);return t.observe(document.documentElement),()=>{t.disconnect()}},[]),(0,cg.useCallback)(()=>c.current?.clientWidth??1,[c])),v=(0,cg.useCallback)(()=>{if(c&&c.current){let e=c.current.scrollLeft+a;return{left:e,right:e+b-a}}return{left:0,right:0}},[a,b]),w=kC(e=>{k(e)},500),k=(0,cg.useCallback)(e=>{let t=m.current;if(!t||t.completed){m.current=e;let t=e.zoomLevel||l;u({timeRangeStart:pH((0,YI.Z)(e.date,-YL[t].timeRangeMonths)),timeRangeEnd:pH((0,YI.Z)(e.date,YL[t].timeRangeMonths))})}},[l]),j=(0,cg.useCallback)(()=>{w({date:d,direction:"next"})},[w,d]),C=(0,cg.useCallback)(()=>{w({date:o,direction:"prev"})},[w,o]),S=(0,cg.useCallback)(()=>{let e=window.innerWidth-a;return Math.floor(a+e*(1/3)-s/2)},[a,s]),I=(0,cg.useCallback)((e,t=!1)=>{if(c&&c.current){let a=h(e),n=S();a-n<1?k({date:e,direction:"prev"}):a+n>f-1?k({date:e,direction:"next"}):c.current?.scrollTo({left:a-n,behavior:t?"smooth":"auto"})}},[h,k,S,f]),N=(0,cg.useCallback)((e=!1)=>{if(c&&c.current){let t=c.current.scrollLeft-a,n=t+c.current.offsetWidth-50;c.current?.scrollTo({left:n,behavior:e?"smooth":"auto"})}},[a]),T=(0,cg.useCallback)((e=!1)=>{if(c&&c.current){let t=c.current.scrollLeft+a,n=t-c.current.offsetWidth+50;c.current?.scrollTo({left:n,behavior:e?"smooth":"auto"})}},[a]),[_,R]=(0,cg.useState)(!1),P=(0,cg.useCallback)(e=>{r(),R(e)},[r]),{allColumns:D}=bD(),{dateFields:E}=Pp(),L=(0,cg.useMemo)(()=>{let e=D.reduce((e,t)=>{if(t.dataType===c7.Iteration){let a=gp(t),n=a.map(e=>{let{startDate:t,duration:a}=e,n=gu({startDate:t,duration:a});return{...e,start:n.startDate,end:n.endDate}});e[t.id]=n}return e},{});return e},[D]),A=(0,cg.useCallback)((e,t)=>{let a=L[e.id]?.find(e=>t>=e.start&&t<=e.end);return a},[L]),M=(0,cg.useCallback)(e=>{let t=E[0]??vG,a=E[1]??vG,n={start:e,end:e};if(t!==vG&&t.dataType===c7.Iteration){let r=A(t,e);r?(n.start=r.start,n.startIteration=r,a===vG&&(n.end=r.end,n.endIteration=r)):n.start=void 0}if(a!==vG&&a.dataType===c7.Iteration){let r=A(a,e);r?(n.end=r.end,n.endIteration=r,t===vG&&(n.start=r.start,n.startIteration=r)):n.end=void 0}return n},[E,A]);(0,cg.useLayoutEffect)(()=>{if(n!==l&&c&&c.current){let e=S()+c.current.scrollLeft,t=y(e);i(n),k({date:t,direction:"none",zoomLevel:n})}},[n,k,l,S,s,y]),(0,cg.useLayoutEffect)(()=>{if(m.current&&c.current){let{date:e,direction:t,completed:a}=m.current;if(!a){let a=h(e),n="next"===t?c.current.offsetWidth:"prev"===t?0:S();c.current?.scrollTo({left:a-n})}}},[s,h,d,o,S]),(0,cg.useEffect)(()=>{if(m.current&&c.current){let{date:e,completed:t}=m.current;t||(I(e,!0),m.current={...m.current,completed:!0})}},[I,d,o]);let[F,Z]=(0,cg.useState)(!1);return(0,cs.jsx)(Y_.Provider,{value:M,children:(0,cs.jsx)(YT.Provider,{value:v,children:(0,cs.jsx)(YN.Provider,{value:(0,cg.useMemo)(()=>({columnWidth:s,getX:h,getXFromClientX:g,getDateFromClientX:x,getDateFromX:y,timeRangeEnd:d,timeRangeStart:o,totalWidth:f,today:t}),[s,h,g,x,y,d,o,f,t]),children:(0,cs.jsx)(YE.Provider,{value:Z,children:(0,cs.jsx)(YD.Provider,{value:F,children:(0,cs.jsx)(YR.Provider,{value:(0,cg.useMemo)(()=>({roadmapRef:c,scrollToDate:I,scrollToNextPage:N,scrollToPrevPage:T,shiftToNextRange:j,shiftToPrevRange:C}),[I,N,T,j,C]),children:(0,cs.jsx)(YP.Provider,{value:(0,cg.useMemo)(()=>({isDateConfigurationMenuOpen:_,setOpenDateConfigurationMenu:P}),[_,P]),children:e})})})})})})})}),YM=()=>{let e=(0,cg.useContext)(YN);if(null===e)throw Error("useRoadmapView must be used within a RoadmapViewContext");return e},YF=()=>{let e=(0,cg.useContext)(Y_);return(0,ck.Z)(null!=e,"useRoadmapGetTimeSpan must be used within a RoadmapGetTimeSpanContext"),e},YZ=()=>{let e=(0,cg.useContext)(YT);return(0,ck.Z)(null!=e,"useRoadmapGetViewport must be used within a RoadmapGetViewportContext"),e},YO=()=>{let e=(0,cg.useContext)(YR);if(null===e)throw Error("useRoadmapNavigation must be used within a RoadmapNavigationContext");return e},Y$=()=>{let e=(0,cg.useContext)(YP);if(null===e)throw Error("useRoadmapDateFieldsMenu must be used within a RoadmapDateFieldsMenuContext");return e},YV=()=>{let e=(0,cg.useContext)(YD);return(0,ck.Z)(null!==e),e},YB=()=>{let e=(0,cg.useContext)(YE);return(0,ck.Z)(null!==e),e};try{(dQ=YA).displayName||(dQ.displayName="RoadmapViewProvider")}catch{}function Yz(){let{rows:e,groupedRows:t}=Ni(),{collapsedGroups:a,groupedByColumnId:n}=R6(),{hasWritePermissions:r}=xQ(),l=(0,cg.useMemo)(function(){if(void 0!==n&&t){let e=t.filter(e=>e.subRows.length>0);return YU({groups:e,collapsedGroups:a})}let l=r?e.length+1:e.length;return 40*l-2},[a,n,r,e,t]);return l}function YU({groups:e,collapsedGroups:t}){let a=new Set(t),n=0;for(let[t,r]of e.entries())r.subRows.length>0&&(n+=UG+2,t!==e.length-1&&(n+=Uq)),r.subRows.length>0&&!a.has(r.groupedValue)&&(n+=(r.subRows.length+1)*40-1);return n}function YK(e){let t=Yz(),{groupedByColumnId:a}=R6(),{hasWritePermissions:n}=xQ(),r=(0,cg.useCallback)(t=>{let a=new ResizeObserver(t);return e.current&&a.observe(e.current),()=>{a.disconnect()}},[e]),l=(0,cg.useCallback)(()=>{if(!e.current)return!1;let r=t+90>(e.current?.clientHeight??0);return void 0===a&&r&&n},[e,a,n,t]);return(0,cg.useSyncExternalStore)(r,l)}let YW="data-row-selection-handle",YH=e=>e&&e.hasAttribute(YW),YG=()=>{let{setHighlightedRowId:e}=YS();(0,cg.useEffect)(()=>{function t(t){let a=t.target;YH(a)||Ud(a)||e(null)}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[e])};var Yq=a(80770),YQ=a(32339),YX=a(45587);let YY=(e,t)=>{let a=e?.rect?.current?.translated?.top,n=t?.rect.top;return"number"!=typeof a||"number"!=typeof n?null:a<=n?LF.Top:LF.Bottom},YJ=(e,t)=>e?t===LF.Top?e.rect.top:e.rect.bottom:null,Y0=(0,cg.createContext)(null);function Y1(){let e=(0,cg.useContext)(Y0);return e}try{(dX=Y0).displayName||(dX.displayName="DraggingRowContext")}catch{}let Y2=[YQ.DL,YQ.lv],Y5={threshold:{x:0,y:.4}},Y3=(0,cg.memo)(function({children:e,getVisibleItemIds:t,handleReorderItem:a,getItemById:n,getGroupContext:r,onDragStart:l}){let[i,s]=(0,cg.useState)(null),{setHighlightedRowId:o}=YS(),[d,u]=(0,cg.useState)(!1);EF("is-dragging",d);let c=(0,cg.useMemo)(()=>t(),[t]),m=(0,cg.useMemo)(()=>({getVisibleItems:()=>c.map(e=>({id:e})),handleReorderItem:a}),[c,a]),{onDrop:p}=qM(m),f=(0,cg.useCallback)(e=>{let t=e.active?.data;return t?.current?.itemId},[]),h=(0,cg.useRef)(!1),g=(0,cg.useRef)(null),y=(0,cg.useCallback)(e=>{s(e),h.current=!0,g.current=null},[s]),x=pO(y,200),b=(0,cg.useCallback)(()=>{g.current?.cancel(),g.current=null,h.current=!1},[]),v=(0,cg.useCallback)(e=>{b(),o(null),u(!0);let t=f(e);t&&(g.current=x(t),l(t))},[o,u,x,b,f,l]),w=(0,cg.useCallback)(e=>{if(!h.current){b();let t=f(e);t&&y(t)}},[y,b,f]),k=(0,cg.useCallback)(e=>{let t=f(e);t&&o(t),b(),u(!1),s(null)},[u,s,b,o,f]),j=(0,cg.useCallback)(async e=>{b(),u(!1);let{over:t,active:a}=e,l=t?.data;if(i&&l?.current?.itemId){let e=YY(a,t),d=n(i),u=r(i),c=n(l.current.itemId),m=r(l.current.itemId);d&&c&&e&&(await p({movingItem:d,movingItemGrouping:u,overItemGrouping:m,overItem:c,side:e}),o(i)),s(null)}else{s(null);let t=f(e);t&&o(t)}},[s,i,n,r,p,u,o,b,f]),C=(0,Yq.Dy)((0,Yq.VT)(Yq.we)),S=Pz();return(0,cs.jsx)(Yq.LB,{collisionDetection:Yq.pE,modifiers:Y2,onDragStart:v,onDragEnd:j,onDragMove:w,onDragCancel:k,autoScroll:Y5,sensors:C,accessibility:(0,cg.useMemo)(()=>({container:S}),[S]),children:(0,cs.jsx)(YX.Fo,{items:c,strategy:YX.qw,children:(0,cs.jsx)(Y0.Provider,{value:i,children:e})})})});try{(dY=Y3).displayName||(dY.displayName="RowReorderingProvider")}catch{}function Y4(){let{navigationDispatch:e}=Tu();return(0,cg.useCallback)(()=>{e(N8())},[e])}let Y6=(0,cg.memo)(function({children:e}){let{groupedByColumnId:t}=R6(),a=Ni(),{flatRows:n}=a,r=Y4(),l=(0,cg.useCallback)(()=>n.filter(e=>!e.isGrouped),[n]),i=(0,cg.useCallback)(()=>l().map(e=>e.original.id),[l]),s=(0,cg.useCallback)(e=>{let t=l().find(t=>t.original.id===e);return(0,ck.Z)(t,"Row must exist"),t},[l]),o=(0,cg.useCallback)(e=>s(e).original,[s]),d=(0,cg.useCallback)(e=>{if(!t)return null;let n=s(e);return Gf(a,n)},[s,a,t]);return(0,cs.jsx)(Y3,{getVisibleItemIds:i,getItemById:o,getGroupContext:d,onDragStart:r,children:e})});try{(dJ=Y6).displayName||(dJ.displayName="RoadmapRowReorderingProvider")}catch{}let Y8=(0,cg.memo)(function(){let{searchInputRef:e,searchToggleButtonRef:t,toggleSearch:a,hideSearch:n,isSearchVisible:r}=wn(),l=(0,cg.useCallback)(()=>{e.current?.focus()},[e]),i=(0,cg.useCallback)(e=>{if(wy(e)===wf.ESCAPE){n(),t.current?.focus();return}},[n,t]),s=(0,cg.useCallback)(()=>{},[]),o=(0,cg.useCallback)(e=>{e.stopPropagation(),a(),t.current?.focus()},[t,a]);return(0,cs.jsx)(Ki,{containerSx:(0,cg.useMemo)(()=>({zIndex:`${r?5:-1}`,boxShadow:"unset",borderBottom:"1px solid",borderBottomColor:"border.muted",opacity:`${r?1:0}`}),[r]),handleSearchButtonClick:o,onInputKeyDown:i,onButtonKeyDown:s,dispatchInputFocusEvent:l})}),Y7=e=>{let{searchInputRef:t,searchToggleButtonRef:a,toggleSearch:n,isSearchVisible:r}=wn(),l=(0,cg.useCallback)(e=>{e.stopPropagation(),n(),r?a.current?.focus():t.current?.focus()},[t,a,n,r]);return(0,cs.jsx)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:(0,cs.jsx)(xh.z,{ref:a,leadingIcon:me.k1n,variant:"invisible",onClick:l,"aria-label":"Show filter input","aria-keyshortcuts":wx(),size:"small",...(0,cK.f)("roadmap-header-filter-toggle"),...e,children:"Filter"})})};try{(d0=Y8).displayName||(d0.displayName="RoadmapFilterInput")}catch{}try{(d1=Y7).displayName||(d1.displayName="RoadmapFilterToggle")}catch{}let Y9={color:"fg.muted",fontWeight:"normal"},Je={position:"absolute",top:"3px",right:3,zIndex:4,pr:[0,2,3],"&:before":{content:'""',position:"absolute",top:0,left:"-20px",width:"20px",height:"100%",backgroundColor:"canvas.default",maskImage:"linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%)"},display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"canvas.default",listStyle:"none"},Jt=(0,cg.memo)(function(){let e=(0,cg.useRef)(null);return(0,DL.v)({containerRef:e,bindKeys:DE.Qw.ArrowHorizontal}),(0,cs.jsxs)(cW.Z,{role:"menubar",ref:e,as:"ul",sx:Je,...(0,cK.f)("roadmap-controls"),children:[(0,cs.jsx)(Y7,{sx:Y9}),(0,cs.jsx)(Ja,{}),(0,cs.jsx)(Ji,{}),(0,cs.jsx)(Jd,{}),(0,cs.jsx)(Js,{}),(0,cs.jsx)(Jn,{}),(0,cs.jsx)(Jr,{}),(0,cs.jsx)(Jl,{})]})}),Ja=()=>{let e=(0,cg.useId)(),t=(0,cg.useRef)(null),[a,n]=(0,cg.useState)(!1);return(0,cs.jsxs)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:[(0,cs.jsx)(xh.z,{...(0,cK.f)("roadmap-controls-markers-menu"),ref:t,"aria-haspopup":"true","aria-expanded":a,"aria-controls":e,trailingIcon:null,variant:"invisible",size:"small",sx:Y9,leadingIcon:XZ,onClick:()=>n(e=>!e),children:"Markers"}),(0,cs.jsx)(kA.P,{anchorRef:t,open:a,children:(0,cs.jsx)(kA.P.Overlay,{role:"dialog",onEscape:()=>n(!1),onClickOutside:()=>n(!1),children:(0,cs.jsx)(XO,{id:e})})})]})};function Jn(){let{today:e}=YM(),{scrollToDate:t}=YO(),a=()=>{t(e,!0)},n=(0,cg.useRef)(null),[r,l]=EE({contentRef:n,"aria-label":p7.scrollToDateText(e)});return(0,cs.jsxs)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:[(0,cs.jsx)(xh.z,{onClick:a,size:"small",variant:"invisible",sx:Y9,...r,ref:n,children:p7.toolbarToday}),l]})}function Jr(){let{scrollToPrevPage:e}=YO(),t=()=>{e(!0)},a=(0,cg.useRef)(null),[n,r]=EE({contentRef:a,"aria-label":p7.scrollToPreviousPage,direction:"nw"});return(0,cs.jsxs)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:[(0,cs.jsx)(ww.h,{onClick:t,size:"small",variant:"invisible","aria-label":p7.scrollToPreviousPage,icon:me.wyc,sx:Y9,ref:a,...n}),r]})}function Jl(){let{scrollToNextPage:e}=YO(),t=()=>{e(!0)},a=(0,cg.useRef)(null),[n,r]=EE({contentRef:a,"aria-label":p7.scrollToNextPage,direction:"nw"});return(0,cs.jsxs)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:[(0,cs.jsx)(ww.h,{onClick:t,size:"small",variant:"invisible","aria-label":p7.scrollToNextPage,icon:me.XCv,sx:Y9,ref:a,...n}),r]})}function Ji(){let{sortDirection:e,sortedByColumn:t}=IS(),a=(0,cg.useRef)(null),[n,r]=(0,cg.useState)(!1),l=()=>{r(!n)},{sortLabel:i,sortText:s}=(0,cg.useMemo)(()=>t?{sortLabel:`Sorted by: ${t.name} ${"asc"===e?"ascending":"descending"}`,sortText:t.name}:{sortLabel:"No sort applied",sortText:"Sort"},[t,e]),o=bQ("roadmap-controls-sort-by-menu");return(0,cs.jsxs)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:[(0,cs.jsx)(xh.z,{ref:a,"aria-haspopup":"true","aria-expanded":n,onClick:l,variant:"invisible",size:"small",sx:Y9,"aria-controls":o,...(0,cK.f)("roadmap-controls-sort-by-menu"),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},"aria-label":i,children:[(0,cs.jsx)(X4,{}),(0,cs.jsx)(mn.Z,{sx:{ml:2},children:s})]})}),(0,cs.jsx)(XG,{id:o,anchorRef:a,open:n,setOpen:r})]})}function Js(){let{hasWritePermissions:e}=xQ(),t=Pv(),{isRoadmapZoomLevelDirty:a}=Pp(),n=(0,cg.useRef)(null),[r,l]=(0,cg.useState)(!1),i=()=>{l(!r)},s=bQ("roadmap-zoom-level-menu");return(0,cs.jsxs)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:[(0,cs.jsx)(xh.z,{ref:n,"aria-haspopup":"true","aria-expanded":r,onClick:i,variant:"invisible",size:"small","aria-label":p7.toolbarZoomAriaLabel(t),sx:Y9,"aria-controls":s,...(0,cK.f)("roadmap-controls-zoom-level"),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)($K,{isDirty:a,hideDirtyState:!e,...(0,cK.f)("roadmap-zoom-level-dirty"),children:(0,cs.jsx)(XH,{})}),(0,cs.jsx)(mn.Z,{sx:{ml:2},children:p7.zoomLevelOptions[t]})]})}),(0,cs.jsx)(XB,{id:s,anchorRef:n,open:r,setOpen:l})]})}function Jo(e,t){let a="none";return t===c7.Iteration?a="iteration_field":t===c7.Date&&(a=`${e}_date_field${1===e?"":"s"}`),{dateFields:a}}function Jd(){let{hasWritePermissions:e}=xQ(),{dateFields:t,areDateFieldsDefault:a,isRoadmapDateFieldsDirty:n}=Pp(),{isDateFieldsPopoverDisabled:r}=Pf(),l=new Set(t.filter(Pn).map(e=>e.name)),{isDateConfigurationMenuOpen:i,setOpenDateConfigurationMenu:s}=Y$(),{currentView:o}=v5(),{postStats:d}=v4(),u=0===l.size,c=o?.serverViewState.layout!==vK.Roadmap&&o?.localViewState.layout===vK.Roadmap,m=!u&&a&&c,p=t.some(e=>Pn(e)&&"iteration"===e.dataType)?"iteration":"date",f=(0,cg.useRef)(null),h=!r&&(u||m),g=()=>{s(!i)},y=()=>{s(!0),d({name:"roadmap_date_fields_popover_dismissed",ui:"roadmap_date_fields_popover",context:JSON.stringify(Jo(l.size,p))})},x=bQ("roadmap-date-fields-menu");return(0,cs.jsxs)(cW.Z,{as:"li",sx:{position:"relative"},role:"menuitem",children:[(0,cs.jsx)(xh.z,{ref:f,"aria-haspopup":"true","aria-expanded":i,onClick:g,variant:"invisible",size:"small","aria-label":p7.toolbarDateFieldsAriaLabel,sx:Y9,"aria-controls":x,...(0,cK.f)("roadmap-controls-date-fields"),children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex"},children:[(0,cs.jsx)($K,{isDirty:n,hideDirtyState:!e,...(0,cK.f)("roadmap-controls-date-fields-dirty"),children:(0,cs.jsx)(me.Que,{})}),(0,cs.jsx)(mn.Z,{sx:{ml:2},children:p7.toolbarDateFields})]})}),h&&(0,cs.jsx)(_0.Z,{relative:!1,open:h,caret:"top",sx:{top:"24px",left:"-54px"},children:(0,cs.jsxs)(_0.Z.Content,{sx:{mt:2},children:[(0,cs.jsx)(cW.Z,{sx:{fontSize:2,fontWeight:"bold"},children:p7.gettingStarted.popoverTitle}),(0,cs.jsx)(cW.Z,{sx:{marginTop:2,marginBottom:3},children:m?p7.gettingStarted.fieldsSelectedByDefault(p):p7.gettingStarted.projectNeedsField}),(0,cs.jsx)(xh.z,{onClick:y,children:p7.gettingStarted.popoverDismissButton})]})}),(0,cs.jsx)(XT,{id:x,anchorRef:f,open:i,setOpen:s})]})}try{(d2=Jt).displayName||(d2.displayName="RoadmapControls")}catch{}try{(d5=Ja).displayName||(d5.displayName="RoadmapMarkerButton")}catch{}try{(d3=Jn).displayName||(d3.displayName="TodayButton")}catch{}try{(d4=Jr).displayName||(d4.displayName="PrevPageButton")}catch{}try{(d6=Jl).displayName||(d6.displayName="NextPageButton")}catch{}try{(d8=Ji).displayName||(d8.displayName="RoadmapSortByMenu")}catch{}try{(d7=Js).displayName||(d7.displayName="ZoomLevelMenu")}catch{}try{(d9=Jd).displayName||(d9.displayName="DateConfigurationMenu")}catch{}function Ju(e,t){let{start:a,end:n,startIteration:r,endIteration:l}=e;if(r&&a)return n?l?r===l?`${pG(a,n)} [${r.title}]`:`${pG(a,n)} [${r.title} start - ${l.title} end]`:a.getTime()===n.getTime()?`${pW(a)} [${r.title} start]`:`${pG(a,n)} [${r.title} start - ${pW(n,"MMM d")}]`:`${pW(a)} [${r.title} start]`;return l&&n?a?a.getTime()===n.getTime()?`${pW(n)} [${l.title} end]`:`${pG(a,n)} [${pW(a,"MMM d")} - ${l.title} end]`:`${pW(n)} [${l.title} end]`:a&&n&&a.getTime()!==n.getTime()?pG(a,n):a?pW(a):n?pW(n):t&&!Jc(t)?p7.noDateFieldsConfiguredTooltip:void 0}function Jc(e){return e.filter(Pn).length>0}let Jm=(e,t,a)=>{if("none"!==t&&"number"==typeof t.id){let n=t.id,r=e.id,l=t.dataType;if(l===c7.Iteration){let t=e.getCustomField(n),i=t?vI:vN;if(!t||t.id!==a?.id)return{memexProjectColumnId:n,action:{dataType:l,memexProjectColumnId:n,value:a},stats:{payload:{name:i,memexProjectColumnId:n,memexProjectItemId:r}}}}else if(l===c7.Date){let t={value:a},i=e.getCustomField(n),s=i?.value?new Date(i.value):void 0,o=s?vI:vN;if(!s||s.getTime()!==t.value?.getTime())return{memexProjectColumnId:n,action:{dataType:l,memexProjectColumnId:n,value:t},stats:{payload:{name:o,memexProjectColumnId:n,memexProjectItemId:r}}}}}};function Jp(){let{updateMultipleSequentially:e}=SK(),{postStats:t}=v4(),{dateFields:[a=vG,n=vG]}=Pp(),r=(0,cg.useCallback)((r,l)=>{let i=new Map,s=Jm(r,a,l.startIteration||l.start),o=Jm(r,n,l.endIteration||l.end);s&&i.set(s.memexProjectColumnId,s),o&&i.set(o.memexProjectColumnId,o);let d=Array.from(i.values()).map(e=>e.action),u=Array.from(i.values()).map(e=>e.stats),c=d.length>0?e(r,d):Promise.resolve();for(let e of u)t(e.payload);return c},[a,n,t,e]);return(0,cg.useMemo)(()=>({updateItemDates:r}),[r])}let Jf={borderRadius:"5px",backgroundColor:"canvas.default",border:"1px solid",borderColor:"border.muted",padding:"0",color:"fg.muted",width:22},Jh={...Jf,backgroundColor:"unset",border:"none","&.roadmap-add-date-button:hover":{backgroundColor:"unset",border:"none"}},Jg={position:"absolute",height:28,backgroundColor:"canvas.default",borderStyle:"dotted",borderWidth:"1px",borderColor:"fg.muted",borderRadius:"5px",opacity:.7},Jy=(0,cg.memo)(function({isBefore:e,startDate:t,endDate:a,role:n}){let{scrollToDate:r}=YO(),l=YZ(),i=Pg(),s=l(),o=Y4(),d=(0,cg.useCallback)(()=>{t&&r(t,!0)},[r,t]),u=t?p7.scrollToDateText(t):a?p7.scrollToDateText(a):"";return(0,cs.jsx)(cW.Z,{role:n,sx:{position:"sticky",zIndex:1},style:{left:e?i+8:i+(s.right-s.left)-30},children:(0,cs.jsx)(w_.Z,{"aria-label":u,direction:e?"e":"w",children:(0,cs.jsx)(ww.h,{onClick:d,onFocus:o,variant:"invisible",icon:e?me.Y4O:me.LZ3,...(0,cK.f)("roadmap-navigation-button"),sx:Jf,"aria-label":u})})})}),Jx=(0,cg.memo)(function({item:e,date:t,offsetX:a,isDefaultAddButton:n,hideTooltip:r,hidePlaceholder:l}){let i;let s=YF(),{today:o}=YM(),{updateItemDates:d}=Jp(),{dateFields:u}=Pp(),c=Pg(),{setOpenDateConfigurationMenu:m}=Y$(),p=f5(),f=Y4(),h=Jc(u),g=n||!t,y=g?o:t,x=s(y),b=!x.start||!x.end;b?i=p7.noIterationConfiguredTooltip(pW(y)):h?(i=Ju(x),i=g?`Add to today at ${i}`:`Add to ${i}`):i=p7.noDateFieldsConfiguredTooltip;let v=(0,cg.useCallback)(()=>{if(h){if(b){let e=Jv(x.start?gZ(u[1]):gZ(u[0]));e&&p({pathname:hi.generatePath({fieldId:e.id})})}else y&&d(e,x)}else m(!0)},[u,h,b,e,p,m,y,x,d]),[w,k]=(0,cg.useState)(!1),j=(0,cg.useCallback)(()=>{k(!0),f()},[f]),C=(0,cg.useCallback)(()=>k(!1),[]),S=(!n||w)&&b?me.H9J:me.pOD,{sx:I,style:N}=n?{sx:{position:"sticky",zIndex:1},style:{left:c+8}}:{sx:{position:"absolute",zIndex:1},style:{left:a-11}},T=(0,cg.useRef)(null),[_,R]=EE({"aria-label":i,...!h||b||g?{direction:"e",anchorSide:"outside-right"}:{direction:"n",anchorSide:"outside-top"},contentRef:T});return(0,cs.jsxs)(cs.Fragment,{children:[!l&&!(n&&!w)&&!b&&(0,cs.jsx)(Jb,{timeSpan:x}),(0,cs.jsx)(cW.Z,{sx:I,style:N,role:"gridcell",ref:T,..._,children:(0,cs.jsx)(ww.h,{onClick:v,onFocus:j,onBlur:C,variant:"invisible",icon:S,sx:g||b?Jf:Jh,...(0,cK.f)("roadmap-add-date-button"),className:"roadmap-add-date-button","aria-label":i})}),r?null:R]})}),Jb=({timeSpan:e})=>{let{getX:t,columnWidth:a}=YM(),n=e.start?t(e.start):0,r=e.end?t(e.end):0;return(0,cs.jsx)(cW.Z,{role:"gridcell",sx:Jg,style:{width:r-n+a,left:n},children:"\xa0"})};function Jv(e){if(e&&"none"!==e&&e.dataType===c7.Iteration)return e}try{(ue=Jy).displayName||(ue.displayName="NavigationArrow")}catch{}try{(ut=Jx).displayName||(ut.displayName="AddDateButton")}catch{}try{(ua=Jb).displayName||(ua.displayName="PillPlaceholder")}catch{}function Jw({children:e,sx:t}){return(0,cs.jsx)(cW.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden",padding:"12px",position:"relative",height:"40px",borderBottom:"1px solid",borderColor:"border.muted",...t},children:e})}let Jk={cursor:"default",backgroundColor:"canvas.default",zIndex:2},Jj=(0,cg.memo)((0,cg.forwardRef)(function(e,t){let{children:a,sx:n,role:r="gridcell",style:l,...i}=e;return(0,cs.jsx)(cW.Z,{ref:t,role:r,sx:{...Jk,...n},style:l,...i,children:a})})),JC={display:"flex",height:"40px",alignItems:"center","body.roadmap-date-tooltip-visible:not(.is-dragging) &.roadmap-row:hover":{zIndex:1},"body:not(.is-dragging) &.roadmap-row:hover, &.pill-drag":{"& .roadmap-table-cell":{backgroundColor:"canvas.subtle","&:before":{backgroundColor:"canvas.subtle"}},"& .roadmap-pill":{border:"1px solid",borderColor:"fg.muted",borderRadius:1},"& .row-menu-trigger":{opacity:1},"&.row-highlight":{zIndex:3}},"&.roadmap-row.row-highlight":{zIndex:3,"& .roadmap-table-cell, & .roadmap-table-cell:hover":{backgroundColor:"canvas.default",boxShadow:e=>`0 -1px 0 0 ${e.colors.accent.emphasis}, 0 1px 0 0 ${e.colors.accent.emphasis}`,"&:before":{zIndex:-1,content:'""',position:"absolute",backgroundColor:e=>`${e.colors.accent.subtle}`},":not(.is-focused):before":{inset:0}}},"& .roadmap-table-cell.is-focused":{zIndex:3,position:"sticky","& .roadmap-drag-sash:after":{borderColor:"transparent"}}},JS={...JC,position:"relative","&::after":{content:'""',position:"absolute",inset:0,borderBottom:"1px solid",borderBottomColor:"border.default",boxShadow:"shadow.medium",clipPath:"inset(0 0 -9px 0)"}},JI=(0,cg.forwardRef)(function({children:e,isDraggingPill:t,isHighlighted:a,isLastChild:n,...r},l){let i=Pg(),s=Ub()("roadmap-row",{"row-highlight":a,"pill-drag":t});return(0,cs.jsx)(cW.Z,{ref:l,role:"row",className:s,sx:n?JS:JC,style:{marginLeft:`-${i}px`},...r,children:e})});try{(un=Jw).displayName||(un.displayName="RoadmapCellContent")}catch{}try{(ur=Jj).displayName||(ur.displayName="RoadmapCell")}catch{}try{(ul=Jj).displayName||(ul.displayName="RoadmapCell")}catch{}try{(ui=JI).displayName||(ui.displayName="RoadmapRow")}catch{}let JN={backgroundColor:"initial",zIndex:0,display:"flex",alignItems:"center",width:"100%"},JT={display:"flex",flexShrink:0,alignItems:"center",lineHeight:1.5,left:0,height:28,fontSize:"14px",fontWeight:"normal",backgroundColor:"canvas.default",padding:"0 16px",borderColor:"border.default",borderRadius:"14px",borderWidth:"2px"},J_=(0,cg.memo)(function({startDate:e,endDate:t,pillOffsetLeft:a,pillWidth:n}){let r=YZ(),l=Pg(),i=(0,cg.useRef)(null),{isVisible:s}=y2({ref:i}),o=(0,cg.useRef)(null),{isVisible:d}=y2({ref:o}),u=r(),c=!s&&a+n<=u.left+1,m=!s&&a>=u.right-1,p=Ju({start:e,end:t}),f=(0,cs.jsx)(CQ.Z,{sx:JT,style:{width:n},className:"roadmap-pill",...(0,cK.f)("roadmap-view-group-header-item")}),h=(0,cs.jsx)(cs.Fragment,{children:(0,cs.jsx)(cW.Z,{sx:{display:"flex",flexShrink:0,color:"fg.muted",alignItems:"center",whiteSpace:"nowrap",textAlign:"left",width:"min-content"},children:p})});return(0,cs.jsxs)(Jj,{role:"gridcell","data-date-start":e?m3(e):void 0,"data-date-end":t?m3(t):void 0,sx:JN,children:[(0,cs.jsx)(cW.Z,{ref:o,role:"presentation",sx:{position:"absolute",width:8},style:{left:a}}),(0,cs.jsx)(cW.Z,{ref:i,sx:{position:"absolute",display:"flex",alignItems:"center"},style:{left:a},children:f}),s?(0,cs.jsx)(cW.Z,{sx:{position:d?"absolute":"sticky",display:"flex",alignItems:"center"},style:{left:d?a+16:l+8},children:h}):c||m?(0,cs.jsx)(Jy,{isBefore:c,startDate:e,endDate:t}):null]})});try{(us=J_).displayName||(us.displayName="RoadmapGroupPill")}catch{}let JR=(0,cg.memo)(function({rows:e}){let t,a;let{getTimeSpanFromColumnData:n}=Pp(),{getX:r,totalWidth:l}=YM();for(let r of e){let e=n(r.original.columns),[l,i]=pq([e.start,e.end]);l&&(!t||l<t)&&(t=l),i&&(!a||i>a)&&(a=i)}let i={start:t,end:a},s=i.start?r(i.start):0,o=i.end?r((0,mi.Z)(i.end,1))-s:0,d=s+o<=0,u=i.start||i.end;return u?d||s>=l?u?(0,cs.jsx)(Jy,{role:"gridcell",isBefore:d,startDate:i.start,endDate:i.end}):null:(0,cs.jsx)(J_,{startDate:i.start,endDate:i.end,pillOffsetLeft:s,pillWidth:o}):null});try{(uo=JR).displayName||(uo.displayName="RoadmapGroupPillArea")}catch{}let JP=(e,t,{leading:a=!0,trailing:n=!0,onChangeBehavior:r="flush"}={})=>{let l=pZ(e),i=(0,cg.useMemo)(()=>(0,Bn.Z)((...e)=>l.current(...e),t,{leading:a,trailing:n}),[l,t,a,n]);return(0,cg.useEffect)(()=>()=>{i?.[r]()},[i,r]),i},JD=()=>{let[e,t]=(0,cg.useState)({isHovered:!1,mouseX:null,mouseY:null,buttonPressedOnEntry:!1}),a=(0,cg.useCallback)(e=>t(t=>({...t,isHovered:!0,buttonPressedOnEntry:!!e.buttons})),[]),n=JP(e=>{t(t=>({...t,mouseX:e.clientX,mouseY:e.clientY}))},16),r=(0,cg.useCallback)(()=>t(e=>({...e,isHovered:!1,buttonPressedOnEntry:!1})),[]);return(0,cg.useMemo)(()=>({mouseState:e,onMouseEnter:a,onMouseMove:n,onMouseLeave:r}),[e,a,n,r])};var JE=a(92300);function JL(){let{hasWritePermissions:e}=xQ(),t=(0,cg.useCallback)(t=>e&&t.contentType!==mu.RedactedItem,[e]);return(0,cg.useMemo)(()=>({canUpdate:e,canUpdateItem:t}),[t,e])}let JA=(e,t)=>(0,h7.Z)(e,24*t),JM=e=>e!==vG&&e.dataType===c7.Iteration,JF=e=>e!==vG&&e.dataType===c7.Date;function JZ(){let e=YF(),{getX:t}=YM(),{dateFields:a}=Pp(),n=a[0]??vG,r=a[1]??vG,l=(0,cg.useCallback)((e,a,n,r=!1)=>{let[l,i]=pq([e.start,e.end]);if(!(l&&i))return{startX:0,endX:0};let s={startX:t(l),endX:t(JA(i,1))};switch(a){case"move":s.startX+=n,s.endX+=n;break;case"expand-leading":r?(s.startX=t(i),s.endX=t(l),s.endX+=n):s.startX+=n;break;case"expand-trailing":r?(s.startX=t(JA(i,1)),s.endX=t(JA(l,1)),s.startX+=n):s.endX+=n}return s},[t]),i=(0,cg.useCallback)((t,a,l)=>{let i=e(l);if(JM(n)&&JM(r)&&t.startIteration===t.endIteration||JM(n)&&r===vG||n===vG&&JM(r));else if(JM(n)&&JF(r))switch(a){case"move":if(t.start&&t.end){let e=(0,JE.Z)(t.end,t.start);i.end=i.start&&JA(i.start,e)}else t.start?(i.end=void 0,i.endIteration=void 0):(i.start=void 0,i.startIteration=void 0);break;case"expand-leading":t.end&&(i.end=t.end,i.endIteration=t.endIteration);break;case"expand-trailing":t.start&&(i.start=t.start,i.startIteration=t.startIteration);break;default:h2(a)}else if(JF(n)&&JM(r))switch(a){case"move":if(t.start&&t.end){let e=(0,JE.Z)(t.end,t.start);i.start=i.end&&JA(i.end,-e)}else t.start?(i.end=void 0,i.endIteration=void 0):(i.start=void 0,i.startIteration=void 0);break;case"expand-leading":t.end&&(i.end=t.end,i.endIteration=t.endIteration);break;case"expand-trailing":t.start&&(i.start=t.start,i.startIteration=t.startIteration);break;default:h2(a)}else switch(a){case"move":if(t.startIteration&&t.endIteration&&t.start&&t.end){let a=(0,JE.Z)(t.end,t.start),n=i.start&&e(JA(i.start,a));i.end=n?.end,i.endIteration=n?.endIteration}else t.start?(i.end=void 0,i.endIteration=void 0):(i.start=void 0,i.startIteration=void 0);break;case"expand-leading":t.end&&(i.end=t.end,i.endIteration=t.endIteration);break;case"expand-trailing":t.start&&(i.start=t.start,i.startIteration=t.startIteration);break;default:h2(a)}if(!(i.start&&i.end&&(0,h3.Z)(i.start,i.end)))return i},[r,e,n]),s=(0,cg.useCallback)((e,t,a)=>{let{start:n,end:r}=e,l=n,i=r;switch(t){case"move":l=n?JA(n,a):void 0,i=r?JA(r,a):void 0;break;case"expand-leading":n?(l=JA(n,a),r||(i=n)):r&&(l=JA(r,a));break;case"expand-trailing":r?(i=JA(r,a),n||(l=r)):n&&(i=JA(n,a))}let s=!!(l&&i&&(0,h3.Z)(l,i));s&&("expand-leading"===t&&l&&(l=JA(l,-1)),"expand-trailing"===t&&i&&(i=JA(i,1)),[l,i]=[i,l]);let o={start:l,end:i};return{swapHandles:s,nextTimeSpan:o}},[]);return(0,cg.useMemo)(()=>({getNextTimeSpanWithDates:s,getNextTimeSpanWithIterations:i,getGhostSpan:l}),[s,i,l])}let JO=new Set(["move","expand-leading","expand-trailing"]);function J$(e){return!!e&&JO.has(e)}function JV({timeSpan:e,onSaveDate:t,onCancel:a,disabled:n}){let{getDateFromClientX:r,getXFromClientX:l,getDateFromX:i}=YM(),s=YZ(),{dateFields:o}=Pp(),{getNextTimeSpanWithDates:d,getNextTimeSpanWithIterations:u,getGhostSpan:c}=JZ(),m=(0,cg.useRef)(null),p=o[0]??vG,f=o[1]??vG,h=JM(p)||JM(f),g=e.start&&e.end&&(0,h3.Z)(e.start,e.end),y=JL().canUpdate&&!n,x=y&&!o.some(e=>e===vG)&&!(h&&p===f)&&!(h&&g),b=(0,Yq.O1)({id:"pill",disabled:!y}),{isDragging:v,activatorEvent:w,transform:k}=b;EF("is-dragging",v),(0,cg.useEffect)(()=>{!v&&m.current&&(m.current=null)},[v]);let j=(0,cg.useMemo)(()=>{let e=new Set;return y&&e.add("allowed-drag-update"),x&&e.add("allowed-drag-expand"),e},[x,y]),C=(0,cg.useMemo)(()=>{if(w&&w.target instanceof HTMLElement){let e=w.target.closest("[data-dnd-operation]");if(e&&e instanceof HTMLElement){let t=e.dataset.dndOperation;if(J$(t))return t}}return"move"},[w]),S=(()=>{let t;let a=w&&"clientX"in w?w.clientX:null;if(!C||!a)return null;if(!m.current){let e=l(a),t=r(a);if(!t)return null;m.current={x:e,date:t}}let n=s(),o=Math.min(n.right-m.current.x,Math.max(n.left-m.current.x,k?.x??0)),p=m.current.date,f=i(m.current.x+o);if(!f||!p)return null;let y={...e};g&&(y.start=e.end,y.startIteration=e.endIteration,y.end=e.start,y.endIteration=e.startIteration);let x=(0,JE.Z)(f,p),b=!1;if(h){let e;switch(C){case"move":e=f;break;case"expand-leading":e=y.start?JA(y.start,x):f;break;case"expand-trailing":e=y.end?JA(y.end,x):f;break;default:h2(C)}if(!(t=u(y,C,e)))return null}else{let{nextTimeSpan:e,swapHandles:a}=d(y,C,x);t=e,b=a}let v=c(y,C,o,b);return{operation:C,adjustedTimeSpan:t,dragGhostSpan:v,swapHandles:b}})(),I=(0,cg.useCallback)(async()=>{S?.adjustedTimeSpan&&j.has("allowed-drag-update")&&await t(S.adjustedTimeSpan)},[j,S?.adjustedTimeSpan,t]);return(0,Yq.IJ)({onDragEnd:I,onDragCancel:a}),{dragProps:b,allowedOperations:j,dragDetails:S}}let JB={display:"block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"middle",whiteSpace:"nowrap"},Jz={color:"fg.muted",textAlign:"left",whiteSpace:"nowrap",textDecoration:"none"},JU={flexShrink:0,left:0,height:28,backgroundColor:"canvas.default",boxShadow:"shadow.medium",borderColor:"border.default",padding:"0 8px",borderRadius:"5px"},JK={position:"absolute",right:"0",width:"1px",height:"16px",backgroundColor:"canvas.subtle"},JW={display:"flex",flexShrink:0,alignItems:"center",lineHeight:1.5,left:0,height:28,fontSize:"14px",fontWeight:"normal",backgroundColor:"transparent",padding:"0 8px",borderColor:"transparent",borderRadius:1,cursor:"default"},JH={...JW,cursor:"grab"},JG={position:"absolute",height:28,backgroundColor:"accent.muted",borderStyle:"dotted",borderWidth:"1px",borderColor:"accent.muted",borderRadius:1,opacity:.5},Jq={position:"absolute",left:0,right:0,height:"100%","body.is-dragging &:hover":{" &:not(.active)":{backgroundColor:"transparent","&::after, &::before":{opacity:0,display:"none"}}}},JQ={...Jq,display:"none"},JX={width:21,height:21,cursor:"col-resize",position:"absolute",zIndex:1,"& .roadmap-item-drag-handle":{content:'""',width:"3px",height:21,backgroundColor:"transparent",boxShadow:"none",borderRadius:"2px",position:"absolute",top:"50%",transform:"translateY(-50%)",bottom:0,"&.active":{backgroundColor:"fg.default",borderColor:"black",borderWidth:1,borderStyle:"solid",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"}},"&.expand-trailing":{left:"100%","& .roadmap-item-drag-handle":{left:"50%",transform:"translate(-50%, -50%)"}},"&.expand-leading":{right:"100%","& .roadmap-item-drag-handle":{left:"50%",transform:"translate(-50%, -50%)"}},"&:hover":{"& .roadmap-item-drag-handle":{backgroundColor:"fg.subtle","&.active":{backgroundColor:"fg.default",borderColor:"black"}}},"body.is-dragging &:hover":{"& .roadmap-item-drag-handle:not(.active)":{backgroundColor:"transparent"}}},JY=(0,cg.memo)((0,cg.forwardRef)(function({tooltip:e,operation:t,active:a,containerRef:n,...r},l){let[i,s]=EE({contentRef:n,"aria-label":e,className:"roadmap-item-drag-handle-tooltip",direction:"n",alignmentOffset:-10.5,anchorOffset:-10.5,anchorSide:"expand-leading"===t?"inside-left":"inside-right",open:!!a||void 0});return(0,cs.jsxs)(cW.Z,{...(0,cK.f)(`roadmap-view-item-${t}-handle`),className:t,"data-dnd-operation":t,sx:JX,...r,ref:l,...i,children:[(0,cs.jsx)(cW.Z,{className:Ub()("roadmap-item-drag-handle",{active:a})}),s]})})),JJ=[],J0=(0,cg.memo)(function({titleHtml:e,linkOnClick:t,linkRef:a,renderLink:n,titleColumnValue:r,timeSpan:l,pendingTimeSpan:i,url:s,number:o,assignees:d=JJ,allowedOperations:u,dragProps:c,dragDetails:m,index:p}){let f=Y4(),h=YZ(),{getX:g}=YM(),y=Pg(),{isVisible:x}=y2({ref:c.node}),b=null!==i,v=(0,cg.useRef)(null),{isVisible:w}=y2({ref:v}),[k,j]=i?pq([i.start,i.end]):pq([l.start,l.end]),C=k?g(k):0,S=j?g((0,mi.Z)(j,1))-C:0,I=h(),N=!x&&C+S<=I.left+1,T=!x&&C>=I.right-1,[_,R]=(0,cg.useState)(void 0);EF("roadmap-date-tooltip-visible",void 0!==_);let{roadmapTruncateTitles:P}=PE(),D=(0,cs.jsx)(y9,{sx:JB,children:e}),E=u.has("allowed-drag-update"),L=c.isDragging&&!!m,A=L&&!b?m.dragGhostSpan.endX-m.dragGhostSpan.startX:0,{theme:M}=(0,cc.Fg)(),F=M?.shadows.shadow.medium;"string"==typeof F&&(F.startsWith("0 3px 6px rgb")||F.startsWith("0 3px 6px #"))&&(F=F.replace("0 3px 6px","-3px 6px 6px -3px"));let Z=F?{...JU,boxShadow:F}:JU,O=(0,cs.jsx)(CQ.Z,{sx:Z,style:{width:S}}),$=(0,cs.jsx)(CQ.Z,{ref:a,as:"a",href:s,target:"_blank",rel:"noreferrer",onClick:t,onFocus:f,sx:{...E?JH:JW,pointerEvents:L?"none":"auto"},style:{width:L?A:S},...c.attributes,...c.listeners,onMouseOver:e=>{if(L)return;let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientX-t.left>t.width/2,r=n?0:2*a-t.width,l=n?t.width-2*a:0;R({left:r,right:l})},onMouseOut:()=>{L||R(void 0)},className:"roadmap-pill",...(0,cK.f)("roadmap-view-item-pill"),children:(0,cs.jsx)(w_.Z,{"aria-label":Ju(L?m.adjustedTimeSpan:l),className:Ub()("roadmap-pill-tooltip",{active:m?.operation==="move"}),sx:L&&"move"!==m.operation?JQ:Jq,style:_,direction:0===p?"s":"n"})}),V=(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(cW.Z,{sx:{flexShrink:0,mr:2,display:"flex",pointerEvents:"none"},children:(0,cs.jsx)(Zi,{titleColumn:r})}),n?(0,cs.jsx)(yH.Z,{href:s,target:"_blank",rel:"noreferrer",onClick:t,onFocus:f,sx:{...Jz,pointerEvents:L?"none":"auto"},hoverColor:"accent.fg",draggable:!1,...(0,cK.f)("roadmap-item-link"),children:D}):D,o&&(0,cs.jsx)(mn.Z,{sx:{ml:1,color:"fg.muted"},children:`#${o}`}),(0,cs.jsx)(Kq,{assignees:d,sx:{ml:2},wrapperSx:{zIndex:1},...(0,cK.f)("roadmap-item-assignees")})]}),B=m?.operation==="expand-leading"&&!m?.swapHandles||m?.operation==="expand-trailing"&&m?.swapHandles,z=m?.operation==="expand-trailing"&&!m?.swapHandles||m?.operation==="expand-leading"&&m?.swapHandles;return(0,cs.jsxs)(Jj,{role:"gridcell",...(0,cK.f)("roadmap-pill"),"data-date-start":k?m3(k):void 0,"data-date-end":j?m3(j):void 0,sx:{backgroundColor:"initial",zIndex:0,display:"flex",alignItems:"center",width:"100%"},children:[(0,cs.jsx)(cW.Z,{ref:v,role:"presentation",sx:{position:"absolute",width:0},style:{left:C}}),(0,cs.jsxs)(cW.Z,{ref:c.setNodeRef,sx:{position:"absolute",display:"flex",alignItems:"center"},style:{left:C},...(0,cK.f)("roadmap-view-pill-background"),children:[O,!P.enabled&&(0,cs.jsx)(cW.Z,{sx:JK})]}),L&&!b&&(0,cs.jsx)(J1,{timeSpan:m.adjustedTimeSpan}),x||L?(0,cs.jsx)(cW.Z,{sx:{position:w||L||b||P.enabled?"absolute":"sticky",display:"flex",alignItems:"center"},style:{left:w||L||b||P.enabled?C+8:y+8,opacity:L||b?.3:void 0},...(0,cK.f)("roadmap-view-item-pill-content"),children:P.enabled?(0,cs.jsx)(Ri.Z,{title:e,expandable:!0,sx:{maxWidth:S-16,display:"flex",alignItems:"center"},children:V}):V}):N||T?(0,cs.jsx)(Jy,{isBefore:N,startDate:k,endDate:j}):null,(0,cs.jsxs)(cW.Z,{ref:c.setNodeRef,sx:{position:"absolute",display:"flex",alignItems:"center"},style:{left:C,transform:`translateX(${L&&m.dragGhostSpan.startX?m.dragGhostSpan.startX-C:0}px) translateZ(0)`},...(0,cK.f)("roadmap-view-pill-foreground"),children:[$,u.has("allowed-drag-expand")&&k&&j?(0,cs.jsxs)(cs.Fragment,{children:[z?null:(0,cs.jsx)(JY,{tooltip:Ju({start:L?m.adjustedTimeSpan.start:l.start,startIteration:L?m.adjustedTimeSpan.startIteration:l.startIteration,end:void 0})||p7.noDateSet,operation:"expand-leading",active:B,ref:c.setActivatorNodeRef,containerRef:c.node,onFocus:f,...c.attributes,...c.listeners,tabIndex:-1,"aria-label":"Resize the item by dragging the earlier date"}),B?null:(0,cs.jsx)(JY,{tooltip:Ju({start:void 0,end:L?m.adjustedTimeSpan.end:l.end,endIteration:L?m.adjustedTimeSpan.endIteration:l.endIteration})||p7.noDateSet,operation:"expand-trailing",active:z,ref:c.setActivatorNodeRef,containerRef:c.node,onFocus:f,...c.attributes,...c.listeners,tabIndex:-1,"aria-label":"Resize the item by dragging the later date"})]}):null]})]})}),J1=({timeSpan:e})=>{let{getX:t}=YM(),[a,n]=pq([e.start,e.end]),r=a?t(a):0,l=n?t((0,mi.Z)(n,1))-r:0;return(0,cs.jsx)(cW.Z,{sx:JG,style:{width:l,left:r},...(0,cK.f)("roadmap-view-pill-drag-target"),children:"\xa0"})};try{(ud=JY).displayName||(ud.displayName="RoadmapPillDragHandle")}catch{}try{(uu=JY).displayName||(uu.displayName="RoadmapPillDragHandle")}catch{}try{(uc=J0).displayName||(uc.displayName="RoadmapPill")}catch{}try{(um=J1).displayName||(um.displayName="TargetPill")}catch{}let J2=(0,cg.memo)(function({item:e,mouseState:t,setIsDragging:a,...n}){let r=YF(),l=YZ(),{getX:i,getDateFromClientX:s,totalWidth:o}=YM(),{canUpdateItem:d}=JL(),{dateFields:u,getTimeSpanFromColumnData:c}=Pp(),m=Pg(),{updateItemDates:p}=Jp(),{openProjectItemInPane:f}=TY(),h=(0,cg.useRef)(null),{roadmapRef:g}=YO(),[y,x]=(0,cg.useState)(null),b=(0,cg.useRef)(!1),v=(e=200)=>{b.current=!0,window.setTimeout(()=>{b.current=!1},e)},w=(0,cg.useCallback)(t=>{if(b.current){t.preventDefault();return}e.contentType!==mu.DraftIssue&&e.contentType!==mu.Issue||(t.metaKey||t.ctrlKey)&&e.contentType!==mu.DraftIssue||(f(e,()=>{h.current?.focus()}),t.preventDefault())},[f,e]),k=(0,cg.useMemo)(()=>c(e.columns),[e.columns,c]),[j,C]=(0,cg.useState)(void 0),S=(0,cg.useCallback)(e=>k.startIteration&&!e.startIteration&&u[0]?J5(u[0]):k.endIteration&&!e.endIteration&&u[1]?J5(u[1]):void 0,[u,k]),I=(0,cg.useCallback)(t=>{let a=S(t);return a?(C(a.id),Promise.resolve()):(x(t),v(),p(e,t).finally(()=>{x(null)}))},[S,e,p]),N=(0,cg.useCallback)(()=>{v(2e3)},[]),{allowedOperations:T,dragProps:_,dragDetails:R}=JV({timeSpan:k,disabled:e.contentType===mu.RedactedItem||!!y,onSaveDate:I,onCancel:N});Br({active:_.isDragging,axis:"x",scrollRef:g,strength:20,bufferX:[m,50],bufferY:[20,20],ease:e=>Math.pow(e,5)}),(0,cg.useLayoutEffect)(()=>{if(j){if(t&&t.isHovered&&t.mouseX){let e=t.mouseX>m+8,a=e?s(t.mouseX):void 0,n=a&&r(a),l=!!(n&&(!n.start||!n.end));l||C(void 0)}else C(void 0)}},[t?.isHovered,j,t,m,s,r]),(0,cg.useEffect)(()=>{a(_.isDragging)},[_.isDragging,a]);let[P,D]=pq([k.start,k.end]),E=P?i(P):0,L=D?i((0,mi.Z)(D,1))-E:0,A=E+L<=0,M=P||D,F=!!(_.isDragging&&R&&S(R.adjustedTimeSpan)),Z=!M&&d(e);if((Z||M&&j||F)&&t&&t.isHovered&&t.mouseX){let a=t.mouseX>m+8,n=a?s(t.mouseX):void 0;if(n){let a;let r=l().left,i=t.mouseX<m+30,s=t.buttonPressedOnEntry&&!_.isDragging;return i&&!j||s?(a=r+8+11,n=void 0):a=r-m+t.mouseX,(0,cs.jsx)(Jx,{item:e,date:n,offsetX:a,hideTooltip:_.isDragging,hidePlaceholder:s})}}return F?null:A||E>=o?M?(0,cs.jsx)(Jy,{role:"gridcell",isBefore:A,startDate:P,endDate:D}):d(e)&&!j?(0,cs.jsx)(Jx,{isDefaultAddButton:!0,item:e,date:void 0,offsetX:0}):null:(0,cs.jsx)(J0,{item:e,timeSpan:k,linkOnClick:w,linkRef:h,allowedOperations:T,dragProps:_,dragDetails:R,pendingTimeSpan:y,...n})});function J5(e){if(e&&e!==vG&&e.dataType===c7.Iteration)return e}try{(up=J2).displayName||(up.displayName="RoadmapPillArea")}catch{}let J3="data-row-item-index",J4={position:"absolute",left:"2px",opacity:0,"&&":{width:"18px",height:"18px"},display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,"&:focus":{opacity:1}},J6=(0,cg.memo)(function({index:e,item:t,cellHeight:a,onFocus:n}){let{postStats:r}=v4(),{contentType:l}=t,[i,s]=(0,cg.useState)(!1),[o,d]=(0,cg.useState)(!1),u=(0,cg.useRef)(null),c=(0,cg.useRef)(!1),m=(0,cg.useRef)(null),{hasWritePermissions:p}=xQ(),f=(0,cg.useCallback)(()=>{let t=document.querySelector(`[${J3}="${e}"]`);t&&t?.focus()},[e]),h=(0,cg.useCallback)(()=>{s(!0),u.current&&u.current.focus()},[]),g=(0,cg.useCallback)(()=>{u.current&&u.current.blur(),s(!1)},[s]),y=(0,cg.useCallback)(e=>e?h():g(),[h,g]),x=(0,cg.useCallback)(()=>{c.current=!0},[]),b=(0,cg.useCallback)(()=>{c.current=!1,g(),f()},[g,f]),v=(0,cg.useCallback)(()=>{c.current=!1,f()},[f]),{openRemoveConfirmationDialog:w}=Mg(x,v,b),{openArchiveConfirmationDialog:k}=Mp(x,v,b),j=(0,cg.useCallback)(()=>{w([t.id],vE)},[w,t.id]),C=(0,cg.useCallback)(()=>{k([t.id],vE)},[k,t.id]),S=Mo(l)&&p,I=(0,cg.useCallback)(()=>{r({name:vl,ui:vr,memexProjectItemId:t.id})},[r,t.id]);return(0,cs.jsxs)(cW.Z,{ref:m,sx:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",left:"0",padding:"0",background:"transparent",height:"18px",width:"18px",top:`${a/2-9}px`},children:[(0,cs.jsxs)(kA.P,{open:i,onOpenChange:y,children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsx)(ww.h,{icon:me.AS7,"aria-label":"Row actions",className:"row-menu-trigger",sx:J4,tabIndex:-1,onFocus:n,[J3]:e,...(0,cK.f)("row-menu-trigger")})}),(0,cs.jsx)(kA.P.Overlay,{...(0,cK.f)("row-menu"),children:(0,cs.jsxs)(kL.S,{children:[l===mu.DraftIssue?(0,cs.jsxs)(kL.S.Item,{onSelect:()=>d(!0),...(0,cK.f)("row-menu-convert-to-issue"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.hEv,{})}),"Convert to issue"]}):null,S?(0,cs.jsxs)(kL.S.Item,{onSelect:C,...(0,cK.f)("row-menu-archive"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.rKT,{})}),"Archive"]}):null,(0,cs.jsxs)(kL.S.Item,{variant:"danger",onSelect:j,...(0,cK.f)("row-menu-delete"),children:[(0,cs.jsx)(kL.S.LeadingVisual,{children:(0,cs.jsx)(me.XHJ,{})}),"Delete from project"]})]})})]}),(0,cs.jsx)(MS,{anchorRef:m,isOpen:o,item:t,onOpenChange:e=>d(e),onSuccess:I,...(0,cK.f)("row-menu-repo-picker")})]})});try{(uf=J6).displayName||(uf.displayName="RowItemMenu")}catch{}let J8={CustomDate:"custom-date",Iteration:"iteration",IterationBreak:"iteration-break",Milestone:"milestone"},J7=(0,cg.createContext)(null),J9=(0,cg.createContext)(null),eee=(0,cg.createContext)(null),eet=(0,cg.memo)(function({children:e,rows:t}){let{dateFields:a,markerFields:n}=Pp(),{timeRangeStart:r,timeRangeEnd:l}=YM(),{allColumns:i}=bD(),s=(0,cg.useMemo)(()=>{let e=[];for(let t of n)t.dataType===c7.Date&&e.push(t);return e},[n]),o=!!n.find(e=>e.id===c9.Milestone),d=(0,cg.useMemo)(()=>{let e=new Map;if(!o)return e;for(let a of t)!function(t){let a=t.getMilestone();if(!a?.dueDate)return;let n=new Date(a.dueDate);if(n<r||n>l)return;let i=e.get(a.dueDate)??new Map;e.set(a.dueDate,i.set(a.id,a))}(a.original);return e},[o,t,l,r]),u=(0,cg.useMemo)(()=>t.map(e=>e.original),[t]),c=(0,cg.useMemo)(()=>ees(u,s,r,l),[s,u,l,r]),m=(0,cg.useMemo)(()=>eel(i,n,eed(a),r,l),[i,n,a,r,l]),p=(0,cg.useMemo)(()=>eei(d),[d]),f=(0,cg.useMemo)(()=>{let e=new Map([...c,...p]),t=[...m.values(),...e.values()].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());return{markersInRange:t,singleDayMarkerMap:e}},[c,m,p]);return(0,cs.jsx)(J7.Provider,{value:f,children:(0,cs.jsx)(J9.Provider,{value:d.size,children:(0,cs.jsx)(eee.Provider,{value:m.size,children:e})})})}),eea=()=>{let e=(0,cg.useContext)(J7);return(0,ck.Z)(null!=e,"useRoadmapMarkersInRange must be used within a RoadmapMarkersInRangeProvider"),e};function een(){let e=(0,cg.useContext)(J9);return(0,ck.Z)(null!=e,"useRoadmapMilestoneMarkersSize must be used within a RoadmapMarkersInRangeProvider"),e}function eer(){let e=(0,cg.useContext)(eee);return(0,ck.Z)(null!=e,"useRoadmapIterationMarkersSize must be used within a RoadmapMarkersInRangeProvider"),e}function eel(e,t,a,n,r){let l=new Map,i=e.reduce((e,t)=>(t.dataType===c7.Iteration&&e.push(t),e),[]),s=new Set(a.map(e=>e===vG?vG:e.databaseId)),o=new Set([...t.map(e=>e.databaseId),...s]);function d(e,t,a,i){let s=new Date(e);if(s>=n&&s<=r){let n=l.get(e);if(n){let t=n.options;t.push(i),l.set(e,{...n,title:`${t.length} iterations`,duration:n.duration>i.duration?n.duration:i.duration,options:t})}else l.set(e,{id:i.id,type:a,title:i.title,date:i.startDate,duration:i.duration,isDateField:t,options:[i]})}}for(let e of i)if(o.has(e.databaseId)){let t=gp(e).sort(eeo),a=t.entries();for(let[n,r]of a){let a=eeu(t[n-1],r);void 0!==a&&d(a.startDate,s.has(e.databaseId),J8.IterationBreak,a),d(r.startDate,s.has(e.databaseId),J8.Iteration,r)}}return l}function eei(e){let t=new Map;for(let[a,n]of e.entries()){let e=[...n.values()],[r,l]=e.reduce((e,t)=>(e[0].push(t.title),e[1].push(`${t.title} (${t.repoNameWithOwner})`),e),[[],[]]);t.set(a,{id:`milestone:${a}`,type:J8.Milestone,title:e.length>1?`${e.length} milestones`:ps(r),description:ps(l),date:a,options:e})}return t}function ees(e,t,a,n){let r=new Map;function l(e){for(let l of t){let t=e.getCustomField(l.id);if(t?.value){let i=h5(t.value),s=new Date(i);if(s<a||s>n)continue;r.set(i,{id:`${e.id}:${l.id}`,type:J8.CustomDate,title:l.name,date:i})}}}for(let t of e){if("rows"in t){for(let e of t.rows)l(e);continue}l(t)}return r}function eeo(e,t){return new Date(e.startDate).getTime()-new Date(t.startDate).getTime()}function eed(e){return e.filter(e=>e!==vG&&e.dataType===c7.Iteration)}function eeu(e,t){let a=g_(e,t);if(void 0!==a)return{id:`break-${e?.id}-${t?.id}`,title:"Break",titleHtml:"Break",startDate:h5(a.startDate.toString()),duration:a.duration}}let eec=e=>{if(e.type!==J8.Iteration||!e.isDateField)return!1;let t=new Date,a=new Date(e.date),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=(0,mi.Z)(gn(e.date,e.duration||0),1);return(0,h3.Z)(n,(0,h4.Z)(a,1))&&(0,h6.Z)(n,r)};try{(uh=J7).displayName||(uh.displayName="RoadmapMarkersInRangeContext")}catch{}try{(ug=J9).displayName||(ug.displayName="RoadmapMilestoneMarkersSizeContext")}catch{}try{(uy=eee).displayName||(uy.displayName="RoadmapIterationMarkersSizeContext")}catch{}try{(ux=eet).displayName||(ux.displayName="RoadmapMarkersInRangeProvider")}catch{}let eem=()=>{let e=een(),t=eer();return t>0||e>0},eep=()=>{let e=eem();return e?88:64},eef="is-roadmap-table-expanding-dragging",eeh=(e,t)=>{let a=e.delta.x,n=e.active.rect.current.initial;if(!n)return;let r=Math.floor((n.left+n.width/2)??0),l=r+a-t;return Math.min(Math.max(l,75),1e3)},eeg=[YQ.K7],eey={start:["Space","Enter"],cancel:["Escape"],end:["Space","Enter","Tab"]},eex=(0,cg.memo)(function({children:e,focusable:t}){let{columnWidth:a}=YM(),n=YB(),[r,l]=(0,cg.useState)(!1),i=(0,cg.useCallback)(()=>{l(!0),n(!0)},[n]),s=(0,cg.useCallback)(()=>{l(!1),n(!1)},[n]),{updateTitleColumnWidth:o,updateLocalTitleColumnWidth:d}=Pp(),u=Px();EF("is-dragging",r),EF("is-roadmap-table-expanding-dragging",r);let c=(0,cg.useCallback)(e=>{i();let t=eeh(e,u);t&&d(t)},[i,u,d]),m=(0,cg.useCallback)(async e=>{s();let t=eeh(e,u);if(t)try{await o(t)}finally{d(null)}},[s,u,o,d]),p=(0,cg.useCallback)(async e=>{s(),d(null)},[d,s]),f=(0,cg.useCallback)((e,t)=>{let{currentCoordinates:n}=t,r=wy(e);switch(r){case wf.ARROW_RIGHT:return{...n,x:n.x+a};case wf.ARROW_LEFT:return{...n,x:n.x-a}}},[a]),h=(0,Yq.VT)(Yq.we),g=(0,Yq.VT)(Yq.Lg,{coordinateGetter:f,keyboardCodes:eey}),y=(0,Yq.Dy)(h,t?g:null),x=Pz();return(0,cs.jsx)(Yq.LB,{autoScroll:!1,onDragStart:i,onDragMove:c,onDragEnd:m,onDragCancel:p,modifiers:eeg,sensors:y,accessibility:(0,cg.useMemo)(()=>({container:x}),[x]),children:e})});try{(ub=eex).displayName||(ub.displayName="RoadmapTableColumnResizeProvider")}catch{}let eeb={cursor:"col-resize",paddingLeft:"8px",position:"absolute",top:0,right:"-8px",width:"16px",height:"100%",zIndex:3,"&::after":{content:'""',position:"absolute",top:"-1px",right:"8px",bottom:"-1px",borderRight:"1px solid",borderColor:"border.muted"},[`body.${eef} &`]:{"&::after":{borderRightColor:"accent.fg"}}},eev=e=>{e.stopPropagation(),e.preventDefault()},eew=e=>{e.stopPropagation(),e.preventDefault()},eek=e=>{e.stopPropagation(),e.preventDefault()},eej=(0,cg.memo)(function({id:e}){let t=Pg(),a=Px(),{attributes:n,listeners:r,setNodeRef:l}=(0,Yq.O1)({id:e,attributes:{role:"separator",tabIndex:-1}});return(0,cs.jsx)(cW.Z,{sx:eeb,className:"roadmap-drag-sash",ref:l,"aria-label":p7.dragSashAriaLabel,"aria-valuenow":t+50,"aria-valuemin":125+a,"aria-valuemax":1050+a,"aria-orientation":"vertical",...r,onClick:eev,onFocus:eek,onMouseDown:eew,...n,...(0,cK.f)("roadmap-table-drag-sash")})}),eeC={cursor:"col-resize",display:"flex",position:"sticky",width:"18px",height:"32px",zIndex:3,alignItems:"center",top:"-32px",justifyContent:"center","& > svg":{backgroundColor:"canvas.default",transform:"rotate(90deg)"},[`&:hover, &:focus-visible, .${eef} &`]:{"& > svg":{color:"accent.fg"}}},eeS=(0,cg.memo)(function({id:e}){let t=Pg(),a=Px(),n=Y4(),{attributes:r,listeners:l,setNodeRef:i}=(0,Yq.O1)({id:e,attributes:{role:"separator"}}),s=(0,cg.useRef)(null),[o,d]=EE({contentRef:s,"aria-label":p7.dragSashAriaLabel});return(0,cs.jsxs)(cW.Z,{sx:eeC,ref:e=>{s.current=e,i(e)},style:{left:t-8-1},"aria-label":p7.dragSashAriaLabel,"aria-valuenow":t+50,"aria-valuemin":125+a,"aria-valuemax":1050+a,"aria-orientation":"vertical",onFocus:n,...l,...r,...o,...(0,cK.f)("roadmap-table-drag-sash"),children:[(0,cs.jsx)(me.NoM,{}),d]})});try{(uv=eej).displayName||(uv.displayName="RoadmapTableDragSash")}catch{}try{(uw=eeS).displayName||(uw.displayName="RoadmapTableHeaderDragSash")}catch{}let eeI={...Jk,height:40,position:"sticky",flexGrow:1,left:50},eeN=(0,cg.memo)(function({number:e,cell:t,focusCellElement:a,rowIndex:n,isLastCell:r}){let{titleColumnWidth:l}=Pp(),{hasWritePermissions:i}=xQ(),s=eep();return(0,cs.jsx)(q9,{...t,isDragging:!1,focusCellElement:a,sx:eeI,styles:{maxWidth:l,minWidth:l,scrollMarginTop:`${s+1}px`},className:"roadmap-table-cell",rowId:n,children:i&&r&&(0,cs.jsx)(eex,{children:(0,cs.jsx)(eej,{id:`RoadmapTableDragSash-${e}`})})})}),eeT={position:"sticky",left:"0px",flexShrink:0,width:50,minWidth:50},ee_=(0,cg.memo)(function({index:e,item:t,ranking:a,canDrag:n,...r}){let l=Y4(),{setNodeRef:i,listeners:s}=(0,YX.nB)({id:t.id,data:{itemId:t.id}}),o=n?{...s,ref:i,[YW]:!0,role:"button",tabIndex:-1}:{};return(0,cs.jsxs)(Jj,{className:"roadmap-table-cell",sx:eeT,...r,children:[(0,cs.jsx)(cW.Z,{...o,sx:{cursor:n?"grab":"default",height:40},children:(0,cs.jsx)(Jw,{sx:{pointerEvents:"none"},children:(0,cs.jsx)(qV,{ranking:a})})}),(0,cs.jsx)(J6,{index:e,item:t,ranking:a,cellHeight:40,onFocus:l})]})}),eeR={...Jk,height:40,position:"sticky",flexGrow:1,maxWidth:120,minWidth:120},eeP=(0,cg.memo)(function({number:e,startCell:t,endCell:a,focusCellElement:n,rowIndex:r}){let{hasWritePermissions:l}=xQ(),{titleColumnWidth:i}=Pp(),s=a&&t!==a;return(0,cs.jsxs)(cs.Fragment,{children:[t&&(0,cs.jsx)(q9,{...t,isDragging:!1,focusCellElement:n,sx:eeR,styles:{maxWidth:120,minWidth:120,left:50+i},className:"roadmap-table-cell",rowId:r,children:!s&&l&&(0,cs.jsx)(eex,{children:(0,cs.jsx)(eej,{id:`RoadmapTableDragSash-${e}`})})}),s&&(0,cs.jsx)(q9,{...a,isDragging:!1,focusCellElement:n,sx:eeR,styles:{maxWidth:120,minWidth:120,left:50+i+(t?120:0)},className:"roadmap-table-cell",rowId:r,children:l&&(0,cs.jsx)(eex,{children:(0,cs.jsx)(eej,{id:`RoadmapTableDragSash-${e}`})})})]})});try{(uk=eeN).displayName||(uk.displayName="RoadmapTitleCell")}catch{}try{(uj=ee_).displayName||(uj.displayName="RoadmapNumberCell")}catch{}try{(uC=eeP).displayName||(uC.displayName="RoadmapTimeSpanCells")}catch{}let eeD=(0,cg.memo)(function({row:e,index:t,isLastChild:a,itemData:n}){let r=(0,cg.useRef)(null),{isVisible:l}=y2({ref:r}),i=Y1(),{highlightedRowId:s}=YS(),[o,d]=(0,cg.useState)(!1),{groupedByColumn:u}=R6(),{memex_roadmap_reordering:c}=xO(),{showDateFields:m}=Pp(),{dateFields:p}=Pp(),{mouseState:f,...h}=JD(),g=(0,Yq.Dy)((0,Yq.VT)(Yq.we,{activationConstraint:{distance:2}})),y=[YQ.K7],x=e.original,b=x.getTitle(),v=x.getUrl(),w=x.columns,k=w[c9.Title],j=(0,cg.useMemo)(()=>k?Ze(k):Za,[k]),C=w[c9.Assignees],S=m8(k),{hasWritePermissions:I}=xQ(),N=c&&q$(u)&&I&&x.contentType!==mu.RedactedItem,T=Pz(),{roadmapShowDateFields:_}=PE();n.prepareRow(e);let R=e.cells.find(e=>e.column.columnModel?.id===c9.Title),P=m?e.cells.find(e=>p[0]!==vG&&e.column.columnModel?.id===p[0]?.id):void 0,D=m?e.cells.find(e=>p[1]!==vG&&e.column.columnModel?.id===p[1]?.id):void 0,E=(0,cg.useMemo)(()=>({container:T,screenReaderInstructions:{draggable:_.enabled?"To update the start and target dates, drag item or edit date fields":'To update the start and target dates, drag item or enable the user setting "Show date fields" in the views options menu to edit date fields'}}),[T,_.enabled]);return l&&R?(0,cs.jsxs)(JI,{ref:r,...(0,cK.f)(`TableRow{id: ${t}}`),isDraggingPill:o,isHighlighted:i===x.id||s===x.id,isLastChild:a,...null!==i?{}:h,children:[(0,cs.jsx)(ee_,{index:t,item:x,ranking:e.index+1,canDrag:N,...(0,cK.f)(`TableCell{row: ${t}, column: Rank}`)}),(0,cs.jsx)(eeN,{cell:R,focusCellElement:n.focusCellElement,number:S,rowIndex:t,isLastCell:!m||!P&&!D}),m&&(0,cs.jsx)(eeP,{startCell:P,endCell:D,focusCellElement:n.focusCellElement,number:S,rowIndex:t}),(0,cs.jsx)(Yq.LB,{sensors:g,autoScroll:!1,modifiers:y,accessibility:E,children:(0,cs.jsx)(J2,{titleHtml:b,renderLink:x.contentType!==mu.RedactedItem,url:v,titleColumnValue:j,number:S,assignees:C,index:t,item:x,mouseState:f,setIsDragging:d})})]}):(0,cs.jsx)(JI,{"aria-hidden":"true",ref:r})});try{(uS=eeD).displayName||(uS.displayName="RoadmapItem")}catch{}let eeE=e=>{if(!e||!NV(e.sourceObject))return pX.addItem;switch(e.sourceObject.dataType){case c7.Milestone:return pX.cannotAddItemsWhenGroupByMilestone;case c7.Repository:return pX.cannotAddItemsWhenGroupByRepository;default:return pX.addItem}},eeL={position:"sticky",left:0},eeA=({groupId:e,groupRows:t,groupMetadata:a,...n})=>{let r=(0,cg.useRef)(null),{omnibarRef:l,onFocus:i,onKeyDown:s}=QU(e),{isVisible:o}=y2({ref:r}),d=(0,cg.useRef)(!1),u=!!a&&NV(a.sourceObject),c=eeE(a),m=Pg(),p=(0,cg.useMemo)(()=>{if(!a||!t)return null;let e=Gc(a.sourceObject),n=t[t.length-1]?.original?.id;return{setField:e,previousItemId:n}},[a,t]);(0,cg.useLayoutEffect)(()=>{d.current&&(d.current=!1,r?.current&&("scrollIntoViewIfNeeded"in r.current&&"function"==typeof r.current.scrollIntoViewIfNeeded?r.current.scrollIntoViewIfNeeded(!1):r.current.scrollIntoView({block:"nearest"})))});let f=(0,cg.useCallback)(()=>{d.current=o},[o]);return(0,cs.jsx)(JI,{ref:r,...(0,cK.f)("roadmap-omnibar-item"),isLastChild:!0,children:(0,cs.jsx)(Jj,{sx:eeL,style:{width:m},...n,children:(0,cs.jsxs)(Jw,{sx:{padding:"0 0 0 12px",bg:u?"canvas.subtle":"canvas.default",color:u?"fg.muted":"inherit"},children:[(0,cs.jsx)(U3,{ref:l,newItemAttributes:p??void 0,defaultPlaceholder:c,onFocus:i,onKeyDown:s,onAddItem:f,disabled:u}),(0,cs.jsx)(eex,{children:(0,cs.jsx)(eej,{id:"RoadmapTableDragSash-omnibar"})})]})})})};try{(uI=eeA).displayName||(uI.displayName="RoadmapOmnibarItem")}catch{}let eeM=(0,cg.memo)(function({groupMetadata:e,groupId:t,rows:a,isOmnibarFixed:n,itemData:r}){let{hasWritePermissions:l}=xQ();return(0,cs.jsxs)(cg.Fragment,{children:[a.map((e,t)=>(0,cs.jsx)(eeD,{index:t,row:e,isLastChild:(n||!l)&&t===a.length-1,itemData:r},e.original.id)),l&&!n&&(0,cs.jsx)(eeA,{groupMetadata:e,groupRows:a,groupId:t})]})});try{(uN=eeM).displayName||(uN.displayName="RoadmapItems")}catch{}function eeF({collapsedGroupIds:e,toggleGroupCollapsed:t,tableGroups:a,itemData:n}){return(0,cs.jsx)(cg.Fragment,{children:a.map((a,r)=>{let l=e.includes(a.groupedValue);return(0,cs.jsxs)(cg.Fragment,{children:[(0,cs.jsx)(eeZ,{metadata:{value:a.groupedValue,sourceObject:a.groupedSourceObject},index:r,collapsed:l,toggleGroupCollapsed:t,rows:a.subRows,itemData:n,groupId:a.id}),(0,cs.jsx)(QV,{})]},a.id)})})}let eeZ=(0,cg.memo)(function({collapsed:e,metadata:t,toggleGroupCollapsed:a,rows:n,itemData:r,groupId:l}){let i=(0,cg.useCallback)(()=>{a(t.value)},[a,t.value]),{hideItemsCount:s,getAggregatesForItems:o}=R5(),d=(0,cg.useMemo)(()=>n.map(e=>e.original),[n]),u=(0,cg.useMemo)(()=>o(d),[o,d]),c=NU(t.sourceObject),{hasWritePermissions:m}=xQ();return(0,cs.jsxs)(cW.Z,{...(0,cK.f)(`roadmap-group-${c}`),role:"rowgroup",sx:e?ee$:eeO,children:[(0,cs.jsxs)(eeV,{children:[(0,cs.jsxs)(eez,{collapsed:e,toggleExpansion:i,name:c,children:[(0,cs.jsx)(QO,{sourceObject:t.sourceObject,aggregates:u,hideItemsCount:s,rowCount:n.length,titleSx:{flexShrink:1},showTrackedByOwnerOnFocus:!0}),m&&(0,cs.jsx)(eex,{children:(0,cs.jsx)(eej,{id:`RoadmapTableDragSash-${t.value}`})})]}),(0,cs.jsx)(JR,{rows:n})]}),!e&&(0,cs.jsx)(eeM,{groupMetadata:t,rows:n,isOmnibarFixed:!1,itemData:r,groupId:l})]})}),eeO={position:"relative",display:"flex",flexDirection:"column",borderTop:"1px solid",borderTopColor:"border.default","&:first-child":{borderTop:"none"}},ee$={...eeO,borderBottom:"1px solid",borderBottomColor:"border.default",boxShadow:"shadow.medium"},eeV=({children:e})=>(0,cs.jsx)(cW.Z,{sx:eeB,role:"row",...(0,cK.f)("roadmap-group-header-row"),children:e}),eeB={display:"flex",position:"relative",alignItems:"center",height:`${UG}px`};function eez({name:e,children:t,collapsed:a,toggleExpansion:n}){let r=(0,cg.useCallback)(()=>{n()},[n]);return(0,cs.jsx)(eeU,{collapsed:a,children:(0,cs.jsxs)(cW.Z,{sx:{display:"flex",alignItems:"center",padding:"4px",whiteSpace:"nowrap",overflow:"hidden",height:`${UG}px`},children:[(0,cs.jsx)(QX,{onCollapseToggle:r,isCollapsed:a,expandCollapseLabel:a?`Expand group ${e}`:`Collapse group ${e}`}),t]})})}let eeU=({collapsed:e,children:t})=>{let a=Pg();return(0,cs.jsx)(cW.Z,{role:"gridcell",style:{width:a,minWidth:a},sx:e?eeW:eeK,children:t})},eeK={backgroundColor:"canvas.default",borderColor:"border.default",borderStyle:"solid",borderWidth:"0 0 1px 0",position:"sticky",left:"0px",display:"flex",alignItems:"center",zIndex:2,height:`${UG}px`},eeW={...eeK,borderBottomColor:"transparent"};try{(uT=eeF).displayName||(uT.displayName="GroupedRoadmapItems")}catch{}try{(u_=eeZ).displayName||(u_.displayName="RoadmapGroup")}catch{}try{(uR=eeV).displayName||(uR.displayName="RoadmapGroupHeaderRow")}catch{}try{(uP=eez).displayName||(uP.displayName="GroupHeaderTable")}catch{}try{(uD=eeU).displayName||(uD.displayName="GroupHeaderCell")}catch{}var eeH=a(30352),eeG=a(43703),eeq=a(35186),eeQ=a(63500),eeX=a(69295),eeY=a(584);let eeJ={today:{nub:"danger.fg",marker:"danger.muted"},customDate:{nub:"fg.subtle",marker:"fg.muted"},iteration:{nub:"fg.subtle",marker:"fg.muted"},currentIteration:{nub:"accent.fg",marker:"accent.muted"},iterationBreak:{nub:"canvas.default"},milestone:{nub:"success.fg",marker:"success.muted"},divider:{marker:"border.default"}},ee0={position:"absolute",width:"1px",borderLeftWidth:1,borderLeftStyle:"solid",top:"1px",bottom:0,zIndex:-1},ee1={...ee0,borderLeftColor:eeJ.today.marker},ee2={...ee0,borderLeftColor:eeJ.iteration.marker,opacity:.33},ee5={...ee0,borderLeftColor:eeJ.milestone.marker},ee3={...ee0,borderLeftColor:eeJ.customDate.marker,opacity:.33},ee4={...ee0,borderLeftColor:eeJ.currentIteration.marker},ee6={...ee0,borderLeftColor:eeJ.divider.marker},ee8={display:"inline-block",position:"absolute",height:"7px",width:"7px",borderRadius:0,zIndex:2,top:"-4.5px"},ee7={...ee8,borderRadius:"100%",backgroundColor:eeJ.today.nub},ee9={...ee8,backgroundColor:"transparent"},ete={...ee8,backgroundColor:"transparent",borderColor:eeJ.iteration.nub,borderStyle:"solid",borderWidth:2,borderRadius:"100%"},ett={...ee8,borderRadius:"2px",backgroundColor:eeJ.milestone.nub,transform:"rotate(45deg)"},eta={...ee8,height:"4px",width:"4px",borderRadius:0,backgroundColor:eeJ.customDate.nub,top:"-4.5px",borderTopRightRadius:"50%",transform:"translate(1.5px, 2px) rotate(120deg) skewX(-30deg) scale(1,.866)","&::before":{content:'""',position:"absolute",height:"4px",width:"4px",backgroundColor:"inherit",borderTopRightRadius:"50%",transform:"rotate(-135deg) skewX(-45deg) scale(1.414,.707) translate(0,-50%)"},"&::after":{content:'""',position:"absolute",height:"4px",width:"4px",backgroundColor:"inherit",borderTopRightRadius:"50%",transform:"rotate(135deg) skewY(-45deg) scale(.707,1.414) translate(50%)"}},etn={...ete,backgroundColor:eeJ.iterationBreak.nub},etr={...ete,borderColor:eeJ.currentIteration.nub};function etl(){return(0,cs.jsxs)(cW.Z,{role:"row",sx:{position:"relative"},children:[(0,cs.jsx)(ets,{}),(0,cs.jsx)(etd,{})]})}function eti(){return(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(eth,{}),(0,cs.jsx)(eto,{}),(0,cs.jsx)(etm,{})]})}function ets(){let{getX:e,today:t}=YM(),{singleDayMarkerMap:a}=eea(),n=(0,cg.useMemo)(()=>(0,h7.Z)(t,12),[t]),r=e(n)-3.5,l=(0,cg.useRef)(null),{isVisible:i}=y2({ref:l}),[s,o]=EE({contentRef:l,"aria-label":`Today: ${Ju({start:t,end:t})}`}),d=h5(t.toISOString()),u=a.has(d);return(0,cs.jsx)(cW.Z,{as:"time",role:"gridcell",dateTime:d,ref:l,sx:i&&!u?ee7:ee9,style:{left:`${r}px`},...s,...(0,cK.f)("roadmap-today-marker-nub"),children:o})}function eto(){let{getX:e,today:t,totalWidth:a}=YM(),{singleDayMarkerMap:n}=eea(),r=Yz(),l=(0,cg.useMemo)(()=>(0,h7.Z)(t,12),[t]),i=e(l);if(!(i>0&&i<a))return null;let s=h5(t.toISOString());return n.has(s)?null:(0,cs.jsx)(cW.Z,{sx:ee1,style:{left:`${i}px`,height:`${r}px`},...(0,cK.f)("roadmap-today-marker")})}function etd(){let{markersInRange:e}=eea();return(0,cs.jsx)(cs.Fragment,{children:e.map(e=>(0,cs.jsx)(etc,{marker:e,isCurrent:eec(e)},e.id))})}let etu={[J8.CustomDate]:eta,[J8.Iteration]:ete,[J8.IterationBreak]:etn,[J8.Milestone]:ett};function etc({isCurrent:e=!1,marker:t}){let{getX:a,today:n}=YM(),{startDate:r,endDate:l}=(0,cg.useMemo)(()=>{let e="duration"in t?new Date(t.date):(0,h7.Z)(new Date(t.date),12),a="duration"in t?(0,mi.Z)(e,t.duration):new Date(t.date);return{startDate:e,endDate:a}},[t]),i=a(new Date(r))-3,s=(0,cg.useRef)(null),{isVisible:o}=y2({ref:s}),d=h5(n.toISOString()),u=t.date===d&&!("duration"in t),{startDate:c,endDate:m}="duration"in t?gd({startDate:t.date,duration:t.duration}):{startDate:r,endDate:l},p="duration"in t&&t.options.length>1?Pd(t.options):`${t.title}: ${Ju({start:c,end:m})}`,[f,h]=EE({contentRef:s,"aria-label":p}),g=e?etr:etu[t.type];return(0,cs.jsx)(cW.Z,{as:"time",role:"gridcell",dateTime:t.date,ref:s,sx:u?{...g,backgroundColor:eeJ.today.nub}:g,style:{left:`${i}px`,...o?{}:{backgroundColor:"transparent",borderColor:"transparent"}},...f,...(0,cK.f)(`${t.type}-marker-nub-${t.id}`),children:h})}let etm=(0,cg.memo)(function(){let{markersInRange:e}=eea();return(0,cs.jsx)(cs.Fragment,{children:e.map(e=>(0,cs.jsx)(etf,{marker:e,isCurrent:eec(e)},e.id))})}),etp={[J8.CustomDate]:ee3,[J8.Iteration]:ee2,[J8.IterationBreak]:ee2,[J8.Milestone]:ee5};function etf({marker:e,isCurrent:t=!1}){let{getX:a,today:n}=YM(),r=Yz(),l=(0,cg.useMemo)(()=>"duration"in e?new Date(e.date):(0,h7.Z)(new Date(e.date),12),[e]),i=a(new Date(l)),s=h5(n.toISOString()),o=e.date===s&&!("duration"in e),d=t?ee4:etp[e.type],u=o?{...d,borderLeftColor:eeJ.today.marker,opacity:1}:d;return(0,cs.jsx)(cW.Z,{...(0,cK.f)(`${e.type}-marker-line`),sx:u,style:{left:`${i}px`,height:`${r}px`}})}function eth(){let{getX:e,timeRangeEnd:t,timeRangeStart:a}=YM(),n=Yz(),r=Pv(),l=r===vq.Month?Math.abs((0,eeX.Z)(t,a))+1:Math.abs((0,eeq.Z)(t,a))+1,i=Array.from({length:l},(e,t)=>r===vq.Month?pH((0,eeQ.Z)((0,eeY.Z)(a,{weekStartsOn:1}),t)):pH((0,YI.Z)((0,eeG.Z)(a),t)));return(0,cs.jsx)(cs.Fragment,{children:i.map(t=>{let a=e(t);return(0,cs.jsx)(cW.Z,{sx:ee6,style:{left:`${a}px`,height:`${n}px`}},a)})})}try{(uE=etl).displayName||(uE.displayName="RoadmapMarkerHeaderNubs")}catch{}try{(uL=eti).displayName||(uL.displayName="RoadmapMarkers")}catch{}try{(uA=ets).displayName||(uA.displayName="TodayMarkerNub")}catch{}try{(uM=eto).displayName||(uM.displayName="TodayMarkerLine")}catch{}try{(uF=etd).displayName||(uF.displayName="MarkerNubs")}catch{}try{(uZ=etc).displayName||(uZ.displayName="MarkerNub")}catch{}try{(uO=etm).displayName||(uO.displayName="MarkerLines")}catch{}try{(u$=etf).displayName||(u$.displayName="MarkerLine")}catch{}try{(uV=eth).displayName||(uV.displayName="DividerMarkersLines")}catch{}let etg={position:"sticky",left:"4px",paddingLeft:"12px",paddingTop:"8px",fontSize:"12px",backgroundColor:"canvas.default",whiteSpace:"nowrap",flexShrink:0,flexGrow:0,"&:before":{content:'""',position:"absolute",top:0,left:"-20px",width:"20px",height:"100%",backgroundColor:"canvas.default",maskImage:"linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%)"}},ety={position:"absolute",paddingTop:"6px",display:"flex",justifyContent:"center",fontSize:"12px"},etx={...ety,color:eeJ.today.nub,fontWeight:"bold"},etb={position:"relative",width:"100%",top:"-32px"},etv=(0,cg.memo)(function(){let{totalWidth:e}=YM(),t=eem(),a=eep(),{hasWritePermissions:n}=xQ();return(0,cs.jsxs)(cW.Z,{role:"rowgroup",sx:{height:a,borderBottomStyle:"solid",borderBottomWidth:2,borderBottomColor:"border.default",position:"sticky",top:0,zIndex:3,backgroundColor:"canvas.default",width:`${e}px`,color:"fg.muted",contain:"layout"},...(0,cK.f)("roadmap-header"),children:[(0,cs.jsx)(etj,{}),t&&(0,cs.jsx)(etS,{}),(0,cs.jsx)(etk,{}),(0,cs.jsx)(etl,{}),n?(0,cs.jsx)(cW.Z,{role:"row",sx:etb,children:(0,cs.jsx)("div",{role:"gridcell",children:(0,cs.jsx)(eex,{focusable:!0,children:(0,cs.jsx)(eeS,{id:"RoadmapTableHeaderDragSash"})})})}):null]})}),etw={[vq.Month]:1,[vq.Quarter]:7,[vq.Year]:14},etk=(0,cg.memo)(function(){let{columnWidth:e,getX:t,timeRangeEnd:a,timeRangeStart:n,today:r}=YM(),l=Pv(),i=(0,cg.useMemo)(()=>{let i=n.getUTCDay(),s=etw[l],o=(0,mi.Z)(n,(s-i+1)%s),d=Math.floor((0,gt.Z)(a,o)/s),u=o.getTime();return Array.from({length:d},(a,n)=>{let l=new Date(u+n*s*864e5),i=l.getTime()===r.getTime(),o=`${l.getUTCFullYear()}-${(l.getUTCMonth()+1).toString().padStart(2,"0")}-${l.getUTCDate().toString().padStart(2,"0")}`;return(0,cs.jsx)(cW.Z,{sx:i?etx:ety,role:"columnheader",style:{left:t(l),width:e},as:"time","data-index":n,dateTime:o,"aria-current":i?"date":void 0,children:l.getUTCDate()},o)})},[e,t,a,n,r,l]);return(0,cs.jsx)(cW.Z,{role:"row",sx:{position:"relative",display:"flex",height:"32px"},children:i})}),etj=(0,cg.memo)(function(){let{timeRangeEnd:e,timeRangeStart:t,getX:a}=YM(),n=Pv(),r=(0,eeG.Z)(t),l=pH((0,YI.Z)(r,1)),i=a(l)-12,s=(0,cg.useMemo)(()=>(0,eeq.Z)(e,t)+1,[e,t]),o=n===vq.Year,d=(0,cg.useMemo)(()=>Array.from({length:s},(n,l)=>{let d=(0,YI.Z)(r,l),u=pH(d),c=pH((0,YI.Z)(d,1)),m=0,p=4,f=12;if(0===l)p=0,i<=0?(f=0,m=0):i<16?(f=i,m=i):(f=16,m=i);else if(1===l&&i<0){if(u.getTime()===t.getTime())m=a(c)-a(u)-12;else{let e=12+i;f=e,p=-e,m=a(c)-a(u)-12+e}}else if(l===s-1){let t=a(e)-a(u)+12-32;t<=0?(f=0,m=0):(t<12&&(f=t),m=t)}else m=a(c)-a(u);return(0,cs.jsx)(cW.Z,{role:"columnheader",sx:etg,style:{width:`${m}px`,left:`${p}px`,paddingLeft:`${f}px`},children:(0,Ac.p6)(d,o?"MMM yyyy":"MMMM yyyy")},d.getTime())}),[s,o,r,i,t,a,e]);return(0,cs.jsxs)(cW.Z,{role:"row",sx:{position:"relative",display:"flex",height:"32px"},children:[d,(0,cs.jsx)(etC,{})]})}),etC=()=>(0,cs.jsx)(cW.Z,{sx:{position:"sticky",width:"32px}",right:0,backgroundColor:"canvas.default"}}),etS=(0,cg.memo)(function(){let{getX:e}=YM(),{markersInRange:t}=eea(),a=eer(),n=een(),{milestoneMarkers:r,iterationMarkers:l}=(0,cg.useMemo)(()=>t.reduce((e,t)=>(t.type===J8.Iteration||t.type===J8.IterationBreak?e.iterationMarkers.push(t):t.type===J8.Milestone&&e.milestoneMarkers.push(t),e),{iterationMarkers:[],milestoneMarkers:[]}),[t]),i=l[0],s=i?e(new Date(i.date)):0;return t.length>0||n>0?(0,cs.jsxs)(cW.Z,{role:"row",sx:{position:"relative",display:"flex",height:"24px"},children:[(0,cs.jsx)(cW.Z,{role:"presentation",sx:etI,style:{width:`${s-12}px`},...(0,cK.f)("roadmap-iteration-marker-header-spacer")}),l.map((e,t)=>(0,cs.jsx)(etR,{marker:e,nextMarker:l[t+1]},e.id)),a>0&&(0,cs.jsx)(cW.Z,{role:"presentation",sx:{...etI,width:"200px"},...(0,cK.f)("roadmap-iteration-marker-header-fill")}),r.map(e=>(0,cs.jsx)(et_,{marker:e},e.id))]}):null}),etI={position:"sticky",color:eeJ.iteration.nub,fontWeight:600,left:"4px",paddingLeft:"12px",paddingTop:"6px",fontSize:"12px",lineHeight:"12px",backgroundColor:"canvas.default",whiteSpace:"nowrap",flexShrink:0,flexGrow:0,"&:before":{content:'""',position:"absolute",top:0,left:"-20px",width:"20px",height:"100%",backgroundColor:"canvas.default",maskImage:"linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%)",pointerEvents:"none"}},etN={...etI,color:eeJ.milestone.nub,position:"absolute",pl:0,boxShadow:e=>`0px 0px 11px 1px ${e.colors.canvas.default}`,"&:hover":{boxShadow:e=>`10px 0 11px 1px ${e.colors.canvas.default}, -10px 0 11px 1px ${e.colors.canvas.default}`,zIndex:1}},etT={...etI,color:eeJ.currentIteration.nub};function et_({marker:e}){let{getX:t}=YM(),a=(0,cg.useMemo)(()=>(0,h7.Z)(new Date(e.date),12),[e.date]),n=t(a),r=(0,cg.useRef)(null),[l,i]=EE({contentRef:r,"aria-label":Ju({start:a,end:a})});return(0,cs.jsxs)(cW.Z,{ref:r,role:"columnheader",sx:etN,style:{left:n},...l,...(0,cK.f)("roadmap-milestone-marker-header"),children:[(e.options.length||0)>1?(0,cs.jsx)(etD,{marker:e}):(0,cs.jsx)(etP,{marker:e}),i]})}function etR({marker:e,nextMarker:t}){let{getX:a,timeRangeEnd:n}=YM(),r=eec(e),l=new Date(e.date),i=t?new Date(t.date):(0,mi.Z)(l,e.duration||0),s=a(l),o=a(n<i?n:i),d=(0,cg.useRef)(null),[u,c]=EE({contentRef:d,"aria-label":Pd(e.options),anchorOffset:6});return(0,cs.jsxs)(cW.Z,{ref:d,role:"columnheader",sx:r?etT:etI,style:{width:`${o-s}px`},...(0,cK.f)(`roadmap-iteration-marker-header-${e.id}`),children:[(0,cs.jsx)(etE,{ref:d,sx:r?etT:etI,...u,children:1===e.options.length?(0,cs.jsx)(cs.Fragment,{children:e.title}):(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsxs)(xh.z,{title:e.title,"aria-label":e.title,sx:{all:"unset",cursor:"pointer","&:hover":{backgroundColor:"inherit",textDecoration:"underline"}},children:[e.title,e.date&&(0,cs.jsxs)(b7,{children:["(Starting on ",(0,cs.jsx)("time",{dateTime:e.date,children:pW(new Date(e.date))}),")"]})]})}),(0,cs.jsx)(kA.P.Overlay,{sx:{marginTop:"7px"},children:(0,cs.jsx)(kL.S,{...(0,cK.f)("roadmap-iteration-marker-selector"),children:e.options.map(e=>{let{startDate:t,endDate:a}=gd({startDate:e.startDate,duration:e.duration});return(0,cs.jsxs)(kL.S.Item,{active:!1,selected:!1,sx:{cursor:"default",pointerEvents:"none","&:hover":{backgroundColor:"unset",color:"unset"}},children:[e.title,(0,cs.jsx)(kL.S.Description,{children:Ju({start:t,end:a})})]},e.id)})})})]})}),c]})}function etP({marker:e}){let t=e.options[0],a=t?.url;return(0,cs.jsxs)(yH.Z,{sx:{all:"unset",cursor:"pointer",display:"inline-block"},target:"_blank",rel:"noopener noreferrer",href:a,title:e.description,children:[e.title,e.date&&(0,cs.jsxs)(b7,{children:["(Due on ",(0,cs.jsx)("time",{dateTime:e.date,children:pW(new Date(e.date))}),")"]})]})}function etD({marker:e}){return(0,cs.jsxs)(kA.P,{children:[(0,cs.jsx)(kA.P.Anchor,{children:(0,cs.jsxs)(xh.z,{as:"button",title:e.description,"aria-label":e.description,sx:{all:"unset",cursor:"pointer","&:hover":{backgroundColor:"inherit",textDecoration:"underline"}},children:[e.options.length," milestones",e.date&&(0,cs.jsxs)(b7,{children:["(Due on ",(0,cs.jsx)("time",{dateTime:e.date,children:pW(new Date(e.date))}),")"]})]})}),(0,cs.jsx)(kA.P.Overlay,{sx:{marginTop:"7px"},children:(0,cs.jsx)(kL.S,{...(0,cK.f)("roadmap-milestone-marker-selector"),children:e.options.map(e=>(0,cs.jsxs)(kL.S.LinkItem,{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[e.title,(0,cs.jsx)(kL.S.Description,{children:e.repoNameWithOwner})]},e.id))})})]})}let etE=(0,cg.forwardRef)(function({children:e,sx:t,...a},n){let r=(0,cg.useRef)(null);(0,cg.useImperativeHandle)(n,()=>r.current);let[l,i]=(0,cg.useState)(!1);return(0,cs.jsxs)(cW.Z,{ref:r,...a,sx:{display:"inline-block"},onPointerEnter:e=>{i(!0),a.onPointerEnter?.(e)},onPointerLeave:e=>{i(!1),a.onPointerLeave?.(e)},children:[e,l?(0,cs.jsx)(etL,{sx:t,contentRef:r,children:e}):null]})});function etL({contentRef:e,children:t,sx:a}){let n=(0,cg.useRef)(null),{left:r,top:l}=etA(n,e);return(0,cs.jsx)(k6.Z,{children:(0,cs.jsx)(cW.Z,{role:"presentation","aria-hidden":!0,sx:{...a,position:"absolute",fontSize:"12px",lineHeight:"12px",backgroundColor:"canvas.default",pointerEvents:"none",padding:0,boxShadow:e=>`10px 0 11px 1px ${e.colors.canvas.default}, -10px 0 11px 1px ${e.colors.canvas.default}`},style:{left:r,top:l},ref:n,children:t})})}let etA=(e,t)=>{let{roadmapRef:a}=YO(),n=(0,cg.useRef)({top:0,left:0});return(0,cg.useSyncExternalStore)((0,cg.useCallback)(e=>(a.current?.addEventListener("scroll",e),()=>{a.current?.removeEventListener("scroll",e)}),[a]),(0,cg.useCallback)(()=>{if(!e.current||!t.current)return n.current;let{left:a,top:r}=(0,eeH.N)(e.current,t.current,{side:"inside-top",align:"start",alignmentOffset:0,anchorOffset:0});return(n.current.left!==a||n.current.top!==r)&&(n.current={left:a,top:r}),n.current},[t,e]))};try{(uB=etv).displayName||(uB.displayName="RoadmapHeader")}catch{}try{(uz=etk).displayName||(uz.displayName="RoadmapDays")}catch{}try{(uU=etj).displayName||(uU.displayName="RoadmapMonths")}catch{}try{(uK=etC).displayName||(uK.displayName="RoadmapControlsCaulk")}catch{}try{(uW=etS).displayName||(uW.displayName="RoadmapMarkerHeaders")}catch{}try{(uH=et_).displayName||(uH.displayName="RoadmapMilestoneHeader")}catch{}try{(uG=etR).displayName||(uG.displayName="RoadmapIterationHeader")}catch{}try{(uq=etP).displayName||(uq.displayName="RoadmapMilestoneMarkerHeaderLink")}catch{}try{(uQ=etD).displayName||(uQ.displayName="RoadmapMilestoneMarkerActionMenu")}catch{}try{(uX=etE).displayName||(uX.displayName="HoverOverPortalContent")}catch{}try{(uY=etL).displayName||(uY.displayName="OverlayingContent")}catch{}let etM=({rowCount:e})=>{let{omnibarRef:t,onFocus:a,onKeyDown:n}=QU(),{roadmapRef:r}=YO(),{horizontalScrollbarSize:l,verticalScrollbarSize:i}=Uu(r),{onNewItem:s}=W4(r,e,void 0);return(0,cs.jsx)(Ke,{horizontalScrollbarSize:l,verticalScrollbarSize:i,isFixed:!0,children:(0,cs.jsx)(U3,{ref:t,onKeyDown:n,onInputFocus:a,role:"row",childElementRole:"gridcell",onAddItem:s,defaultPlaceholder:UD,isFixed:!0})})};try{(uJ=etM).displayName||(uJ.displayName="RoadmapFixedOmnibar")}catch{}let etF=({getStyles:e,isLastOfType:t})=>{let{active:a,over:n}=(0,Yq.Cj)(),r=a?YY(a,n):null,l=r?YJ(n,r):null,i=n?.data?.current?.itemId,s=!!i&&t(i),o=r===LF.Bottom&&s?-3:0,d=Y1();return(0,cs.jsx)(cs.Fragment,{children:null!==d&&null!=a&&null!==l&&i&&r&&(0,cs.jsx)(cW.Z,{sx:{bg:"accent.emphasis",height:3,pointerEvents:"none",display:"flex",position:"absolute",zIndex:2},style:e(l+o)})})};try{(u0=etF).displayName||(u0.displayName="RowReorderSash")}catch{}let etZ=({rows:e,isGrouped:t})=>{let a=Pg(),{roadmapRef:n}=YO(),r=eep(),l=(0,cg.useMemo)(()=>{let a=[];if(t)for(let t of e){let e=t.subRows[t.subRows.length-1]?.original?.id;void 0!==e&&a.push(e)}else{let t=e[e.length-1]?.original?.id;void 0!==t&&a.push(t)}return a},[e,t]),i=(0,cg.useCallback)(e=>l.includes(e),[l]),s=(0,cg.useCallback)(e=>{if(n?.current){let t=n.current.getBoundingClientRect();return{top:n.current.scrollTop-t.top-r+e,left:n.current.scrollLeft,width:a}}return{}},[n,a,r]);return(0,cs.jsx)(etF,{getStyles:s,isLastOfType:i})};try{(u1=etZ).displayName||(u1.displayName="RoadmapRowReorderSash")}catch{}let etO=()=>null,et$=(0,cg.memo)(function(){let{addPotentiallyMissingFieldIds:e}=MX(),{dateFields:t,markerFields:a}=Pp(),{allColumns:n}=bD(),r=(0,cg.useMemo)(()=>({fields:n.filter(e=>e.id===c9.Title)}),[n]),l=QT(r),i=W1(l,!0),s=(0,cg.useRef)({instance:l,getHeaderFocus:etO});return(0,cg.useEffect)(()=>{let n=[...new Set([...t.filter(Pn).map(e=>e.id),...a.map(e=>e.id)])];e(n)},[t,a,e]),(0,cs.jsx)(YA,{children:(0,cs.jsx)(I9,{table:l,cellHeight:40,children:(0,cs.jsx)(qX,{children:(0,cs.jsxs)(Tm,{initialState:i,metaRef:s,children:[(0,cs.jsx)(Y8,{}),(0,cs.jsx)(etU,{table:l})]})})})})}),etV={flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column"},etB={...etV},etz={flex:"1 1 auto",display:"flex",flexDirection:"column",position:"absolute",inset:0,backgroundColor:"canvas.subtle",overflow:"auto",scrollbarGutter:"stable","&.is-scrolling-locked":{overflow:"hidden"},"&.is-omnibar-fixed":{paddingBottom:"57px"},"&.is-grouped":{paddingBottom:0}},etU=({table:e})=>{let t=YV(),{onKeyDown:a,onBlur:n}=Xc(),{toggleGroupCollapsed:r,collapsedGroups:l}=R6(),{today:i}=YM(),s=Pg(),{roadmapRef:o,scrollToDate:d,shiftToNextRange:u,shiftToPrevRange:c}=YO(),m=(0,cg.useRef)(null),p=YK(m),{rows:f,groupedRows:h}=e,g=(0,cg.useRef)(!0);(0,cg.useEffect)(()=>{g.current&&(g.current=!1,d(i))},[i,d]);let y=(0,cg.useCallback)(()=>{if(o?.current){let{scrollLeft:e,scrollWidth:t,clientWidth:a}=o.current;e+a+1>t?u():e<=0&&c()}},[u,c,o]),x=(0,cg.useSyncExternalStore)(etH,()=>window.innerWidth),b=(0,cg.useMemo)(()=>s<x?`400px 0px 400px -${s}px`:"400px 0px 400px 0px",[s,x]),v=h?NB(h):void 0,w=void 0!==v,k=Xd(e,{sticky:!0});return(0,cs.jsx)(eet,{rows:e.flatRows,children:(0,cs.jsx)(y1,{rootRef:o,rootMargin:b,sizeEstimate:40,children:(0,cs.jsxs)(cW.Z,{sx:etV,children:[(0,cs.jsx)(Jt,{}),(0,cs.jsxs)(cW.Z,{ref:m,role:"grid",sx:etB,"data-hpc":!0,onKeyDown:a,onBlur:n,...(0,cK.f)("roadmap-view"),children:[(0,cs.jsxs)(cW.Z,{ref:o,onScroll:y,className:Ub()({"is-scrolling-locked":t,"is-grouped":w,"is-omnibar-fixed":p}),sx:etz,...(0,cK.f)("roadmap-scroll-container"),children:[(0,cs.jsx)(etv,{}),(0,cs.jsx)(YC,{children:(0,cs.jsx)(Y6,{children:(0,cs.jsxs)(etW,{children:[(0,cs.jsx)(eti,{}),w?(0,cs.jsx)(eeF,{collapsedGroupIds:l,toggleGroupCollapsed:r,tableGroups:v,itemData:k}):(0,cs.jsx)(eeM,{rows:f,isOmnibarFixed:p,itemData:k}),(0,cs.jsx)(etZ,{rows:w?v:f,isGrouped:w})]})})})]}),p&&(0,cs.jsx)(etM,{rowCount:f.length})]})]})})})},etK={position:"relative",flex:"1 1 auto",display:"flex",flexDirection:"column",contain:"content"},etW=(0,cg.memo)(function({children:e}){let{totalWidth:t}=YM();return YG(),(0,cs.jsx)(cW.Z,{sx:etK,style:{width:t},...(0,cK.f)("roadmap-items"),children:e})});function etH(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}try{(u2=et$).displayName||(u2.displayName="RoadmapView")}catch{}try{(u5=etU).displayName||(u5.displayName="RoadmapContent")}catch{}try{(u3=etW).displayName||(u3.displayName="RoadmapItemsArea")}catch{}let etG=({children:e})=>{let{roadmapShowDateFields:t}=PE(),{dateFields:a}=Pp(),n=(0,cg.useMemo)(()=>t.enabled?a.filter(Pn).map(e=>e.id):[],[t,a]),r=(0,cg.useCallback)(e=>e.id===c9.Title||n.includes(e.id),[n]);return(0,cs.jsx)(Gv,{isFieldVisible:r,children:e})};try{(u4=etG).displayName||(u4.displayName="TableColumnsProviderForRoadmap")}catch{}function etq(){Yk();let e=bQ("project-view");return(0,cs.jsxs)(cW.Z,{as:"main",id:"memex-project-view-root",...(0,cK.f)("app-root"),sx:{flexDirection:"column",flex:"auto",position:"relative",zIndex:1,display:"flex"},children:[(0,cs.jsx)(Yy,{projectViewId:e}),(0,cs.jsx)(cW.Z,{id:e,role:"tabpanel",sx:{flexDirection:"column",flex:"auto",position:"relative",zIndex:1,display:"flex"},children:(0,cs.jsx)(etX,{})})]})}let etQ=({type:e})=>{switch(e){case vQ.Table:return(0,cs.jsx)(qE,{children:(0,cs.jsx)(Xg,{children:(0,cs.jsx)(Xm,{focusOnInit:!0})})});case vQ.Roadmap:return(0,cs.jsx)(qE,{children:(0,cs.jsx)(etG,{children:(0,cs.jsx)(et$,{})})});case vQ.List:default:return(0,cs.jsx)(Wq,{})}},etX=(0,cg.memo)(function(){let{currentView:e,views:t,duplicateCurrentViewState:a}=v5(),{partialFailures:n}=f1(),{viewType:r}=wt(),{addToast:l}=pU(),i=pZ(l);return((0,cg.useEffect)(()=>{let e=n?.[0];e&&i.current({message:e.message,type:pj.warning,keepAlive:!0})},[n,i]),Yw(),e)?(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(etQ,{type:r}),e.isDeleted?(0,cs.jsxs)(pA,{role:"status",...(0,cK.f)("deleted-view-toast"),children:[(0,cs.jsx)(pL,{sx:{bg:pI[pj.warning]},children:p_}),(0,cs.jsxs)(cW.Z,{sx:{py:1},children:[(0,cs.jsx)(mn.Z,{sx:{fontSize:1,mx:2,color:"fg.onEmphasis"},children:"This view has been deleted."}),t.length<42?(0,cs.jsx)(pM,{...(0,cK.f)("deleted-view-toast-action"),sx:{mt:0,mb:0},onClick:()=>{a(e.number,void 0,{ui:"deleted view toast"})},children:e.isViewStateDirty?"Save a copy to make changes.":"Duplicate it to make changes."}):null]})]}):null]}):(0,cs.jsx)(etY,{})}),etY=(0,cg.memo)(function(){return(0,cs.jsxs)(yQ,{sx:{backgroundColor:e=>`${e.colors.canvas.default}`,display:"flex",flexGrow:1},"data-hpc":!0,children:[(0,cs.jsx)(mt.Z,{icon:me.wNq,size:30,sx:{color:"danger.fg"}}),(0,cs.jsx)(mn.Z,{as:"h2",children:"This view no longer exists"}),(0,cs.jsx)(mn.Z,{as:"p",sx:{color:"fg.muted"},children:"Select another view to use this project."})]})});try{(u6=etq).displayName||(u6.displayName="ProjectView")}catch{}try{(u8=etQ).displayName||(u8.displayName="ProjectViewInner")}catch{}try{(u7=etX).displayName||(u7.displayName="MainView")}catch{}try{(u9=etY).displayName||(u9.displayName="NoViewFound")}catch{}async function etJ(e){let t=cQ("memex-chart-create-api-data"),{data:a}=await fd(t.url,{method:"POST",body:e,token:t.token});return a}async function et0(e){let t=cQ("memex-chart-delete-api-data"),{data:a}=await fd(t.url,{method:"DELETE",body:e,token:t.token});return a}async function et1(e){let t=cQ("memex-chart-update-api-data"),{data:a}=await fd(t.url,{method:"PUT",body:e,token:t.token});return a}function et2(e,t){let{configuration:{description:a,...n}}=e,{time:r,xAxis:l}=n;return r||"time"!==l.dataSource.column||(n.time={period:"2W"}),{number:e.number,name:e.name,description:a,localVersion:{configuration:{...n,...t}},serverVersion:{configuration:n}}}function et5(){let{hasUnlimitedSavedCharts:e}=RW(),t=(0,cg.useCallback)(t=>{let a={};if(e){let e=t.get(Tv);null!=e&&ZH(e)&&(a.type=e);let n=t.get(TR),r=t.get(T_);null!=n&&null!=r&&(a.xAxis={dataSource:"time"===n?{column:"time"}:{column:parseInt(n,10)},groupBy:r?{column:parseInt(r,10)}:void 0});let l=t.get(TD),i=t.get(TP);null!=l&&null!=i&&Zq(l)&&(a.yAxis={aggregate:{operation:l,columns:i?[parseInt(i,10)]:void 0}})}let n=t.get(Tb);return null!=n&&(a.filter=n),a},[e]);return{getOverrides:t}}function et3(e,t){return t&&ZV(t).isDirty?{...t,name:e.name,serverVersion:{configuration:e.configuration}}:et2(e)}let et4=(0,cg.memo)(function({children:e}){let{isInsightsEnabled:t,hasUnlimitedSavedCharts:a,savedChartsLimit:n}=RW(),{getChartLinkParameters:r}=OD(),{getInitialChartState:l}=et6(),{getOverrides:i}=et5(),{findColumn:s}=_w(),{findColumnByDatabaseId:o}=xG(),{postStats:d}=v4(),u=(0,DC.Z)(),c=(0,cg.useRef)({}),m=(0,cg.useCallback)(()=>{let e=gZ(s("Status"));return{chart:{configuration:{filter:"",type:"stacked-area",xAxis:{dataSource:{column:"time"},groupBy:{column:e.databaseId}},yAxis:{aggregate:{operation:"count"}},time:{period:"2W"}}}}},[s]),p=(0,cg.useCallback)(()=>{let e=gZ(s("Status"));return{chart:{configuration:{filter:"",type:"column",xAxis:{dataSource:{column:e.databaseId}},yAxis:{aggregate:{operation:"count"}}}}}},[s]),f=(0,cg.useCallback)(()=>t?m():p(),[m,p,t]),h=(0,cg.useCallback)(()=>p(),[p]),[g,y]=(0,cg.useState)(()=>l(f().chart.configuration)),x=(0,cg.useCallback)(()=>a||Object.values(g).filter(e=>!Zz(e)).length<n,[g,a,n]),b=(0,cg.useCallback)(e=>g[e],[g]),v=(0,cg.useCallback)(e=>{let t=b(e);if(!t){let e=ho.generatePath();return{url:e,pathname:e,search:""}}let a=Zz(t)?ho.generatePath():hd.generatePath({insightNumber:t.number}),n=r(t),l=n.toString();return{url:`${a}${l?`?${l}`:""}`,pathname:a,search:l}},[b,r]),w=(0,cg.useCallback)((e,t,a)=>{c.current[t]&&window.clearTimeout(c.current[t]),c.current[t]=window.setTimeout(()=>{if(u()){let n={};if(e===vV||e===vB){let e=a?.xAxis?.dataSource?.column;n.dataSourceName=mq(e)?o(e)?.name:e;let t=a?.xAxis?.groupBy?.column;n.groupByName=mq(t)?o(t)?.name:t;let r=a?.yAxis?.aggregate?.columns?.[0];n.aggregateName=mq(r)?o(r)?.name:r}d({name:e,context:JSON.stringify({chartNumber:t,...n,...a})})}},250)},[o,u,d]),k=fx({request:(0,cg.useCallback)(async function(e){let t=await etJ(e);return y(e=>({...e,[t.chart.number]:et2(t.chart)})),w(vV,t.chart.number,t.chart.configuration),t},[w])}),j=fx({request:(0,cg.useCallback)(async function(e){if(e.chartNumber<0)throw Error("Invalid chart number");let t=await et1(e);return y(e=>({...e,[t.chart.number]:{...e[t.chart.number],name:t.chart.name}})),w("insights_chart_rename",t.chart.number,t.chart.configuration),t},[w])}),C=fx({request:(0,cg.useCallback)(async function(e){if(e.chartNumber<0)throw Error("Invalid chart number");let t=await et1(e);return y(e=>({...e,[t.chart.number]:et2(t.chart)})),w(vB,t.chart.number,t.chart.configuration),t},[w])}),S=fx({request:(0,cg.useCallback)(async function(e){if(e<0)throw Error("Invalid chart number");await et0({chartNumber:e}),y(t=>{if(!t[e])return t;let{[e]:a,...n}=t;return n}),w("insights_chart_delete",e)},[w])}),I=(0,cg.useCallback)((e,t)=>{y(a=>{let n=a[e],r=!n||void 0!==t.filter&&1===Object.keys(t).length&&t.filter===n.localVersion.configuration.filter;return r?a:(w("insights_chart_update_local",e,t),{...a,[e]:{...n,localVersion:{configuration:{...n.localVersion.configuration,...t}}}})})},[w]),N=(0,cg.useCallback)(e=>{y(t=>{let a=t[e];return a?{...t,[e]:{...a,localVersion:a.serverVersion}}:t}),w("insights_chart_discard_local",e)},[w]),T=pZ(b);(0,cg.useEffect)(function(){function e(){let e;let t=hd.matchFullPath(window.location.pathname),a=ho.matchFullPath(window.location.pathname);if(t&&t.params.insightNumber)e=parseInt(t.params.insightNumber,10);else{if(!a)return;e=0}let n=T.current(e),r=new URLSearchParams(window.location.search);n&&I(n.number,{...n.serverVersion.configuration,...i(r)})}return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[T,i,I]);let _=(0,cg.useCallback)(e=>{y(t=>{let a=Object.fromEntries(e.map(e=>{let a=et3(e,t[e.number]);return[a.number,a]}));return a[0]=gZ(t[0]),a})},[]);return(0,cs.jsx)(_x.Provider,{value:(0,cg.useMemo)(()=>({chartConfigurations:g,getChartConfigurationByNumber:b,getChartLinkTo:v,getDefaultChart:f,getCreateChartRequest:h,canCreateChart:x,updateChartConfigurations:_}),[g,b,v,f,h,x,_]),children:(0,cs.jsx)(ZQ.Provider,{value:(0,cg.useMemo)(()=>({createChartConfiguration:k,updateChartConfiguration:C,updateChartName:j,destroyChartConfiguration:S,updateLocalChartConfiguration:I,resetLocalChangesForChartNumber:N}),[k,S,C,j,I,N]),children:e})})});function et6(){let{getOverrides:e}=et5(),t=(0,cg.useCallback)(t=>{let a=cG("memex-charts-data")??[],n="time"===t.xAxis.dataSource.column,r=n?p8.defaultBurnupChartName:p8.defaultStatusChartName,l=n?p8.defaultBurnupChartDescription:p8.defaultStatusChartDescription,i={number:0,name:r,configuration:{...t,description:l}},s=[i,...a],o=hd.matchFullPath(window.location.pathname),d=ho.matchFullPath(window.location.pathname),u=null;o&&o.params.insightNumber?u=parseInt(o.params.insightNumber,10):d&&(u=0);let c=new URLSearchParams(window.location.search);return Object.fromEntries(s.map(t=>{let a=et2(t,t.number===u?e(c):void 0);return[a.number,a]}))},[e]);return{getInitialChartState:t}}try{(ce=et4).displayName||(ce.displayName="ChartStateProvider")}catch{}let et8=cw.vJ`
  body.is-dragging,
  body.is-dragging *,
  body.is-resizing,
  body.is-resizing * {
    user-select: none !important;
  }

  body.is-dragging,
  body.is-dragging * {
    cursor: grabbing !important;

    & a:hover {
      color: inherit;
      text-decoration: inherit;
    }
  }

  #memex-root {
    background-color: ${(0,ch.U2)("colors.canvas.default")};

    mark.find-in-project-highlight {
      background-color: yellow;
      color: black;
    }
  }

  code {
    font-size: 0.9em;
    background-color: ${(0,ch.U2)("colors.neutral.muted")};
    padding: 0.1em;
    border-radius: 0.25em;
  }

  .hide-copy-project-button-in-memex {
    display: none;
  }
`;function et7(){let e=(0,cx.lk)();if(e)throw e;return null}let et9=(0,cg.memo)(function({basename:e,children:t=null}){let{isInsightsChartViewEnabled:a}=RW(),{isOrganization:n}=f1(),r=Ve(),l=Vs(),i=(0,cg.useCallback)(e=>a?e:null,[a]),s=(0,cg.useMemo)(()=>{let a=(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(RQ,{isProjectPath:!0,children:(0,cs.jsx)(RY,{})}),(0,cs.jsx)(etq,{})]}),s=(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(RQ,{children:(0,cs.jsx)(R0,{title:"Workflows"})}),(0,cs.jsx)(kW,{})]});return(0,cb.aj)([{path:ht.path,errorElement:(0,cs.jsx)(ErrorBoundary,{fallback:(0,cs.jsx)(kG,{}),children:(0,cs.jsx)(et7,{})}),element:(0,cs.jsxs)(eat,{children:[(0,cs.jsx)(eaa,{}),(0,cs.jsx)(_A,{}),(0,cs.jsx)(RA,{}),(0,cs.jsx)(Rr,{}),(0,cs.jsx)(cx.j3,{}),(0,cs.jsx)(R1,{}),t]}),children:pf([{path:ht.path,element:a},{path:ha.path,element:a},FV({children:pf([{path:hu.path,element:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(RQ,{children:(0,cs.jsx)(R0,{title:"Archive"})}),(0,cs.jsx)(Z$,{})]})},{path:hl.path,element:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(RQ,{children:(0,cs.jsx)(R0,{title:"Settings"})}),(0,cs.jsx)(Ui,{})]}),children:pf([FB({path:hs.path,element:(0,cs.jsx)(Bt,{}),loader:async()=>(0,cv.PQ)({collaborators:l(),organizationAccessRole:n?await r():null})}),{path:hi.path,element:(0,cs.jsx)(zT,{})},{path:hl.path,element:(0,cs.jsx)(z2,{})}])},FO({children:pf([{path:hn.path,element:s},{path:hr.path,element:s}])}),FZ({children:pf([i({path:ho.path,element:(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(RQ,{children:(0,cs.jsx)(R0,{title:"Insights"})}),(0,cs.jsx)($J,{})]}),children:[{path:ho.path,element:(0,cs.jsx)($O,{})},{path:hd.path,element:(0,cs.jsx)($O,{})}]})])})])}),{path:"*",element:(0,cs.jsx)(f9,{})}])}],{basename:e})},[e,t,n,l,r,i]);return(0,cs.jsx)(cx.pG,{router:s})}),eae=(0,cg.memo)(function({basename:e,children:t=null}){return(0,cs.jsx)(fS,{children:(0,cs.jsx)(et9,{basename:e,children:t})})}),eat=({children:e})=>(ean(),(0,cs.jsxs)(cs.Fragment,{children:[(0,cs.jsx)(et8,{}),(0,cs.jsx)("div",{id:"__primerPortalRoot__",style:{zIndex:10,position:"absolute",width:"100%"}}),(0,cs.jsx)(pz,{children:(0,cs.jsx)(_Y,{children:(0,cs.jsx)(jk,{children:(0,cs.jsx)(bf,{children:(0,cs.jsx)(xU,{children:(0,cs.jsx)(hI,{children:(0,cs.jsx)(hP,{children:(0,cs.jsx)(S7,{children:(0,cs.jsx)(SQ,{children:(0,cs.jsx)(cz,{children:(0,cs.jsx)(FL,{children:(0,cs.jsx)(yO,{children:(0,cs.jsx)(et4,{children:(0,cs.jsx)(k5,{children:(0,cs.jsx)(GI,{children:(0,cs.jsx)(_P,{children:(0,cs.jsx)(R_,{children:(0,cs.jsx)(_a,{children:e})})})})})})})})})})})})})})})})})})]})),eaa=(0,cg.memo)(function(){let e=f5(),{isReadonly:t}=xQ(),{isInsightsEnabled:a}=RW(),{returnToViewLinkTo:n}=v5(),{projectViewRoutesMatch:r}=v7(),l=(0,cx.bS)(hl.pathWithChildPaths),i=(0,cx.bS)(hn.pathWithChildPaths),s=(0,cx.bS)(ho.pathWithChildPaths),o=(0,cx.bS)(hu.pathWithChildPaths),{memex_automation_enabled:d}=c5();return cU(()=>{let u=[];return(r||u.push(["p","Navigate to project views","navigate",()=>e(n)]),t||l||u.push(["s","Navigate to settings","navigate",()=>e(hl.generatePath())]),t||i||!d||u.push(["w","Navigate to workflows","navigate",()=>e(hn.generatePath())]),t||!a||s||u.push(["i","Navigate to insights","navigate",()=>e(ho.generatePath())]),t||o||u.push(["a","Navigate to archive","navigate",()=>e(hu.generatePath())]),0===u.length)?null:["n","Navigate to...",u]},[r,t,l,i,d,a,s,o,e,n]),null}),ean=()=>{let{resolvedColorScheme:e}=(0,cc.Fg)(),t=Pz();(0,cg.useEffect)(()=>{t&&(t.dataset.currentThemeColorScheme=e)},[e,t])};try{(ct=et7).displayName||(ct.displayName="RootBoundary")}catch{}try{(ca=et9).displayName||(ca.displayName="AppRoutes")}catch{}try{(cn=eae).displayName||(cn.displayName="App")}catch{}try{(cr=eat).displayName||(cr.displayName="AppContainer")}catch{}try{(cl=eaa).displayName||(cl.displayName="NavigationCommands")}catch{}var ear=a(17689);function eal(e){switch(e){case"light":return"day";case"dark":return"night";default:return e}}let eai={colorMode:"auto",dayScheme:"light",nightScheme:"dark"};function eas(e){let t,a;return e?(e.light&&(e.light in ear.Z.colorSchemes?t=e.light:e.light.startsWith("light")&&(t="light")),e.dark&&(e.dark in ear.Z.colorSchemes?a=e.dark:e.dark.startsWith("dark")&&(a="dark")),{colorMode:eal(e.mode),dayScheme:t,nightScheme:a}):eai}function eao(){let e=yJ(eac);return(0,cg.useSyncExternalStore)(ead,()=>{let t=eac();return(0,wK.Z)(e.current,t)?e.current:(e.current=t,t)})}function ead(e){let t=new MutationObserver(e);return t.observe(document.documentElement,{attributes:!0,attributeFilter:["data-color-mode","data-light-theme","data-dark-theme"]}),()=>{t.disconnect()}}function eau(){let{dataset:e}=document.documentElement;return{mode:e.colorMode,light:e.lightTheme,dark:e.darkTheme}}function eac(){let e=eau(),{themePreferences:{markdown_fixed_width_font:t,...a}}=f1();return{mode:e.mode??a?.mode,light:e.light??a.light,dark:e.dark??a?.dark}}var eam=a(4312);let eap=new eam.S({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),eaf=({basename:e,children:t,rootElement:a})=>{let n=(0,cs.jsx)(kG,{});return(0,cs.jsx)(PB.Provider,{value:a,children:(0,cs.jsxs)(cp.aH,{client:eap,children:[(0,cs.jsx)(eah,{children:(0,cs.jsx)(ErrorBoundary,{fallback:n,children:(0,cs.jsx)(eae,{basename:e,children:t})})}),(0,cs.jsx)(cf.t,{position:"bottom-right"})]})})},eah=({children:e})=>{let t=eao();return(0,cs.jsx)(cc.ZP,{...eas(t),children:(0,cs.jsx)(cm.Z,{display:"contents",children:e})})};try{(ci=eah).displayName||(ci.displayName="MemexThemeProvider")}catch{}async function eag(e,t,a){let n=t?.parentElement;if(!document.getElementById("portal-root")){let e=document.createElement("div");e.setAttribute("id","portal-root"),n?.appendChild(e)}a.render((0,cs.jsx)(cg.StrictMode,{children:e})),t.style.overflow="hidden",t.parentElement?.parentElement&&(t.parentElement.parentElement.style.overflow="hidden")}function eay(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function eax(e,t,a){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return a}function eab(e,t){eay(e,t),t.add(e)}var eav=new WeakSet;let eaw=class ProjectsV2 extends HTMLElement{async connectedCallback(){let e=co.Z.isEnabled()?(await eax(this,eav,eak).call(this)).createRoot:cd.s,t=e(this);this.reactRoot=t;let a=ht.matchFullPathOrChildPaths(window.location.pathname);a&&eag((0,cs.jsx)(eaf,{basename:a.pathnameBase,rootElement:this}),this,t)}disconnectedCallback(){this.reactRoot?.unmount()}constructor(...e){super(...e),eab(this,eav)}};function eak(){return a.e("react-profiling").then(a.t.bind(a,62518,19))}"undefined"!=typeof window&&(window.customElements.get("projects-v2")||window.customElements.define("projects-v2",eaw))},55546:(e,t,a)=>{a.d(t,{h:()=>p});var n,r=a(85893),l=a(42379),i=a(15173),s=a(71977),o=a(94184),d=a.n(o),u=a(67294),c=a(15388);let m=c.ZP.span`
  &::before {
    position: absolute;
    z-index: 1000001;
    display: none;
    width: 0px;
    height: 0px;
    color: ${(0,l.U2)("colors.neutral.emphasisPlus")};
    pointer-events: none;
    content: '';
    border: 6px solid transparent;
    opacity: 0;
  }
  &::after {
    position: absolute;
    z-index: 1000000;
    display: none;
    padding: 0.5em 0.75em;
    font: normal normal 11px/1.5 ${(0,l.U2)("fonts.normal")};
    -webkit-font-smoothing: subpixel-antialiased;
    color: ${(0,l.U2)("colors.fg.onEmphasis")};
    text-align: center;
    text-decoration: none;
    text-shadow: none;
    text-transform: none;
    letter-spacing: normal;
    word-wrap: break-word;
    white-space: pre;
    pointer-events: none;
    content: attr(aria-label);
    background: ${(0,l.U2)("colors.neutral.emphasisPlus")};
    border-radius: ${(0,l.U2)("radii.1")};
    opacity: 0;
  }
  /* delay animation for tooltip */
  @keyframes tooltip-appear {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  &.tooltipped-open,
  &:hover,
  &:active,
  &:focus {
    &::before,
    &::after {
      display: inline-block;
      text-decoration: none;
      animation-name: tooltip-appear;
      animation-duration: 0.1s;
      animation-fill-mode: forwards;
      animation-timing-function: ease-in;
      animation-delay: 0.4s;
    }
  }

  &.tooltipped-no-delay.tooltipped-open,
  &.tooltipped-no-delay:hover,
  &.tooltipped-no-delay:active,
  &.tooltipped-no-delay:focus {
    &::before,
    &::after {
      animation-delay: 0s;
    }
  }

  /* Tooltipped south */
  &.tooltipped-s,
  &.tooltipped-se,
  &.tooltipped-sw {
    &::after {
      top: 100%;
      right: 50%;
      margin-top: 6px;
    }
    &::before {
      top: auto;
      right: 50%;
      bottom: -7px;
      margin-right: -6px;
      border-bottom-color: ${(0,l.U2)("colors.neutral.emphasisPlus")};
    }
  }
  &.tooltipped-se {
    &::after {
      right: auto;
      left: 50%;
      margin-left: -${(0,l.U2)("space.3")};
    }
  }
  &.tooltipped-sw::after {
    margin-right: -${(0,l.U2)("space.3")};
  }
  /* Tooltips above the object */
  &.tooltipped-n,
  &.tooltipped-ne,
  &.tooltipped-nw {
    &::after {
      right: 50%;
      bottom: 100%;
      margin-bottom: 6px;
    }
    &::before {
      top: -7px;
      right: 50%;
      bottom: auto;
      margin-right: -6px;
      border-top-color: ${(0,l.U2)("colors.neutral.emphasisPlus")};
    }
  }
  &.tooltipped-ne {
    &::after {
      right: auto;
      left: 50%;
      margin-left: -${(0,l.U2)("space.3")};
    }
  }
  &.tooltipped-nw::after {
    margin-right: -${(0,l.U2)("space.3")};
  }
  /* Move the tooltip body to the center of the object. */
  &.tooltipped-s::after,
  &.tooltipped-n::after {
    transform: translateX(50%);
  }
  /* Tooltipped to the left */
  &.tooltipped-w {
    &::after {
      right: 100%;
      bottom: 50%;
      margin-right: 6px;
      transform: translateY(50%);
    }
    &::before {
      top: 50%;
      bottom: 50%;
      left: -7px;
      margin-top: -6px;
      border-left-color: ${(0,l.U2)("colors.neutral.emphasisPlus")};
    }
  }
  /* tooltipped to the right */
  &.tooltipped-e {
    &::after {
      bottom: 50%;
      left: 100%;
      margin-left: 6px;
      transform: translateY(50%);
    }
    &::before {
      top: 50%;
      right: -7px;
      bottom: 50%;
      margin-top: -6px;
      border-right-color: ${(0,l.U2)("colors.neutral.emphasisPlus")};
    }
  }
  &.tooltipped-align-right-2::after {
    right: 0;
    margin-right: 0;
  }
  &.tooltipped-align-right-2::before {
    right: 15px;
  }
  &.tooltipped-align-left-2::after {
    left: 0;
    margin-left: 0;
  }
  &.tooltipped-align-left-2::before {
    left: 10px;
  }
  ${i.Z};
`,p=(0,u.forwardRef)(function({direction:e="n",className:t,text:a,noDelay:n,align:l,wrap:i,open:o=!1,portalProps:u={},...c},p){let f=d()(t,`tooltipped-${e}`,l&&`tooltipped-align-${l}-2`,n&&"tooltipped-no-delay",i&&"tooltipped-multiline",o&&"tooltipped-open");return(0,r.jsx)(s.Z,{...u,children:(0,r.jsx)(m,{ref:p,role:"tooltip","aria-label":a,...c,sx:{position:"fixed",zIndex:1,...c.sx},className:f})})});try{(n=p).displayName||(n.displayName="ControlledTooltip")}catch{}},32740:(e,t,a)=>{a.d(t,{u:()=>c});var n,r=a(85893),l=a(48030),i=a(67294),s=a(55546);let o=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let a=t.getPropertyValue(e);return"auto"===a||"scroll"===a})},d=(e,t)=>e&&null!==e.parentNode?d(e.parentNode,t.concat([e])):t;function u(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return;let t=d(e.parentNode,[]);for(let e of t)if((e instanceof HTMLElement||e instanceof SVGElement)&&o(e))return e;return document.scrollingElement||document.documentElement}let c=(0,i.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:a,anchorSide:n,anchorOffset:o,alignmentOffset:d,allowOutOfBounds:c,...m},p){let f=(0,i.useRef)(null);(0,i.useImperativeHandle)(p,()=>f.current);let h=(0,i.useRef)({left:0,top:0}),g=(0,i.useSyncExternalStore)((0,i.useCallback)(a=>{if(!f.current||!e.current||!t)return()=>void 0;let n=u(e.current);return n?.addEventListener("scroll",a),()=>{n?.removeEventListener("scroll",a)}},[e,t]),(0,i.useCallback)(()=>{if(!f.current||!e.current)return h.current;let t=(0,l.N)(f.current,e.current,{align:a??"center",side:n??"outside-top",alignmentOffset:d??0,anchorOffset:o??0,allowOutOfBounds:c});return(t.left!==h.current.left||t.top!==h.current.top)&&(h.current=t),h.current},[e,d,o,a,n,c]));return(0,r.jsx)(s.h,{...m,ref:f,open:t,style:{position:"absolute",...g,...m.style}})});try{(n=c).displayName||(n.displayName="PortalTooltip")}catch{}},4412:(e,t,a)=>{a.d(t,{C:()=>l,x:()=>r});var n=a(86283);let r=n.n4?.readyState==="interactive"||n.n4?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.n4?.addEventListener("DOMContentLoaded",()=>{e()})}),l=n.n4?.readyState==="complete"?Promise.resolve():new Promise(e=>{n.iG?.addEventListener("load",e)})},59392:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n={kind:"InlineDataFragment",name:"searchInputLabel"};n.hash="52a949cfd65641f7e70925d735bf135d";let r=n},10846:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=["labels"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:a(77097),identifierField:"id"}},name:"searchInputLabelSuggestionsPaginated",selections:[{alias:"labels",args:null,concreteType:"LabelConnection",kind:"LinkedField",name:"__Repository_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"searchInputLabel",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},t],type:"Repository",abstractKey:null}}();n.hash="7b63f86539c0fac47a54ef3bde3c41e8";let r=n},77097:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"searchInputLabelSuggestionsPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"searchInputLabelSuggestionsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"searchInputLabelSuggestionsPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,n,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"Repository_labels",kind:"LinkedHandle",name:"labels"}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"a070d1f6d4a1baeb814107011a04e7ff",metadata:{},name:"searchInputLabelSuggestionsPaginationQuery",operationKind:"query",text:null}}}();n.hash="7b63f86539c0fac47a54ef3bde3c41e8";let r=n},13303:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a=[{kind:"Literal",name:"first",value:100}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"searchInputLabelSuggestionsQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"searchInputLabelSuggestionsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"searchInputLabelSuggestionsQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:a,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"labels(first:100)"},{alias:null,args:a,filters:null,handle:"connection",key:"Repository_labels",kind:"LinkedHandle",name:"labels"},n],storageKey:null}]},params:{id:"0afc284c83cca58f2326e10aab586ccf",metadata:{},name:"searchInputLabelSuggestionsQuery",operationKind:"query",text:null}}}();n.hash="a97cc6ad8f70cca9b8f704109d9f0319";let r=n},93570:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n={kind:"InlineDataFragment",name:"searchInputMilestone"};n.hash="25725c8585936addfbf60c431dd10621";let r=n},18972:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=["milestones"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:a(66911),identifierField:"id"}},name:"searchInputMilestoneSuggestionsPaginated",selections:[{alias:"milestones",args:null,concreteType:"MilestoneConnection",kind:"LinkedField",name:"__Repository_milestones_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"MilestoneEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"searchInputMilestone",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},t],type:"Repository",abstractKey:null}}();n.hash="6a182a85da1b4aaa57c5958db49d2080";let r=n},66911:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"searchInputMilestoneSuggestionsPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"searchInputMilestoneSuggestionsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"searchInputMilestoneSuggestionsPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,n,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"MilestoneEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"Repository_milestones",kind:"LinkedHandle",name:"milestones"}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"3c21c80d26e4d260a8591b064eebf9fe",metadata:{},name:"searchInputMilestoneSuggestionsPaginationQuery",operationKind:"query",text:null}}}();n.hash="6a182a85da1b4aaa57c5958db49d2080";let r=n},88213:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a=[{kind:"Literal",name:"first",value:100}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"searchInputMilestoneSuggestionsQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"searchInputMilestoneSuggestionsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"searchInputMilestoneSuggestionsQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:a,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"MilestoneEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"milestones(first:100)"},{alias:null,args:a,filters:null,handle:"connection",key:"Repository_milestones",kind:"LinkedHandle",name:"milestones"},n],storageKey:null}]},params:{id:"2ae90bb1622608a706e5a01daaf35d30",metadata:{},name:"searchInputMilestoneSuggestionsQuery",operationKind:"query",text:null}}}();n.hash="2b30d6dbe062dd2d42ee7353b2f5ca0b";let r=n},50022:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e={defaultValue:null,kind:"LocalArgument",name:"projectId"},t={defaultValue:null,kind:"LocalArgument",name:"workflowNumber"},a=[{alias:null,args:[{fields:[{kind:"Variable",name:"number",variableName:"workflowNumber"},{kind:"Variable",name:"projectId",variableName:"projectId"}],kind:"ObjectValue",name:"input"}],concreteType:"DeleteProjectV2WorkflowByNumberPayload",kind:"LinkedField",name:"deleteProjectV2WorkflowByNumber",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"deletedWorkflowId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"deleteProjectV2WorkflowByNumberMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"deleteProjectV2WorkflowByNumberMutation",selections:a},params:{id:"2450a4a64f1dc63de57eacac2fcd3f9f",metadata:{},name:"deleteProjectV2WorkflowByNumberMutation",operationKind:"mutation",text:null}}}();n.hash="5ccdf246729b2e483d88018a9460db8b";let r=n},66641:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"number",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"createIssueMutation",selections:[{alias:null,args:t,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[l],storageKey:null}],storageKey:null},i,s,n,o],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"createIssueMutation",selections:[{alias:null,args:t,concreteType:"CreateIssuePayload",kind:"LinkedField",name:"createIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[a,n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,n],storageKey:null}],storageKey:null},i,s,n,o],storageKey:null}],storageKey:null}]},params:{id:"0f7a5a3322fdfc6718947aad10b6810d",metadata:{},name:"createIssueMutation",operationKind:"mutation",text:null}}}();n.hash="c259d101db5e9f5bf1f3f6c36a4e3410";let r=n},79387:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Actions",selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanClose",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReopen",storageKey:null}],type:"Issue",abstractKey:null};n.hash="8d843f0cb7a687dc63026a38763237ec";let r=n},50784:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Body",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:[{kind:"Literal",name:"unfurlReferences",value:!0}],kind:"ScalarField",name:"bodyHTML",storageKey:"bodyHTML(unfurlReferences:true)"},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null}],type:"Issue",abstractKey:null}}();n.hash="0c36efcb6b3fa1091a0a6a71e7e1d5af";let r=n},16318:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e={defaultValue:null,kind:"LocalArgument",name:"number"},t={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:null,kind:"LocalArgument",name:"repo"},n=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],r={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},l=[{kind:"Variable",name:"number",variableName:"number"}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null};return{fragment:{argumentDefinitions:[e,t,a],kind:"Fragment",metadata:null,name:"BodyQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r,{alias:null,args:l,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"Body"},{args:null,kind:"FragmentSpread",name:"Actions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,a,e],kind:"Operation",name:"BodyQuery",selections:[{alias:null,args:n,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[r,{alias:null,args:l,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:[{kind:"Literal",name:"unfurlReferences",value:!0}],kind:"ScalarField",name:"bodyHTML",storageKey:"bodyHTML(unfurlReferences:true)"},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[s,r,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanClose",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReopen",storageKey:null}],storageKey:null},i],storageKey:null}]},params:{id:"94555f553ff3d3b9e83ea29d1c0d3f77",metadata:{},name:"BodyQuery",operationKind:"query",text:null}}}();n.hash="2d2008a8de19da08bf301b3555949604";let r=n},35095:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e={defaultValue:null,kind:"LocalArgument",name:"first"},t={defaultValue:null,kind:"LocalArgument",name:"name"},a={defaultValue:null,kind:"LocalArgument",name:"owner"},n={defaultValue:null,kind:"LocalArgument",name:"query"},r=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"query"}],concreteType:"UserConnection",kind:"LinkedField",name:"assignableUsers",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,t,a,n],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableRepositoryUsersQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,t,n,e],kind:"Operation",name:"AssigneePickerSearchAssignableRepositoryUsersQuery",selections:[{alias:null,args:r,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[i,l],storageKey:null}]},params:{id:"3c1a61d06903635273e9cb290592e564",metadata:{},name:"AssigneePickerSearchAssignableRepositoryUsersQuery",operationKind:"query",text:null}}}();n.hash="bb24e9419b215c486a14f708ee1846df";let r=n},27792:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e={defaultValue:null,kind:"LocalArgument",name:"first"},t={defaultValue:null,kind:"LocalArgument",name:"name"},a={defaultValue:null,kind:"LocalArgument",name:"number"},n={defaultValue:null,kind:"LocalArgument",name:"owner"},r={defaultValue:null,kind:"LocalArgument",name:"query"},l=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Variable",name:"number",variableName:"number"}],s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"query",variableName:"query"}],concreteType:"UserConnection",kind:"LinkedField",name:"suggestedAssignees",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}],storageKey:null}],storageKey:null}],type:"Assignable",abstractKey:"__isAssignable"};return{fragment:{argumentDefinitions:[e,t,a,n,r],kind:"Fragment",metadata:null,name:"AssigneePickerSearchAssignableUsersQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[o],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,a,r,e],kind:"Operation",name:"AssigneePickerSearchAssignableUsersQuery",selections:[{alias:null,args:l,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"issueOrPullRequest",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o,{kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"}],storageKey:null},s],storageKey:null}]},params:{id:"21da5e211d2d8cf34933b0ab1862eed3",metadata:{},name:"AssigneePickerSearchAssignableUsersQuery",operationKind:"query",text:null}}}();n.hash="97a2f2f07f9f68e10692fab273206dc7";let r=n},24917:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n={kind:"InlineDataFragment",name:"LabelPickerLabel"};n.hash="be345ae2c81b2ccea9b30f2282fb52db";let r=n},92609:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=["labels"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:a(1091),identifierField:"id"}},name:"LabelPickerLabelsPaginated",selections:[{alias:"labels",args:[{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],concreteType:"LabelConnection",kind:"LinkedField",name:"__Repository_labels_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"LabelPickerLabel",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'__Repository_labels_connection(orderBy:{"direction":"ASC","field":"NAME"})'},t],type:"Repository",abstractKey:null}}();n.hash="dcd83876fe74f34ae13dcf2deb181483";let r=n},70416:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a=[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelPickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelPickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:a,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:'labels(first:100,orderBy:{"direction":"ASC","field":"NAME"})'},{alias:null,args:a,filters:["orderBy"],handle:"connection",key:"Repository_labels",kind:"LinkedHandle",name:"labels"},n],storageKey:null}]},params:{id:"1aff66713d55e7d2188d3bddce0a27ce",metadata:{},name:"LabelPickerQuery",operationKind:"query",text:null}}}();n.hash="b34b7924abb4cf2b113729dd0dc40fd4";let r=n},1091:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"NAME"}}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LabelsListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"LabelPickerLabelsPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LabelsListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,n,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:["orderBy"],handle:"connection",key:"Repository_labels",kind:"LinkedHandle",name:"labels"}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"2017936c3459ae6cf90e6489d4403f69",metadata:{},name:"LabelsListPaginationQuery",operationKind:"query",text:null}}}();n.hash="dcd83876fe74f34ae13dcf2deb181483";let r=n},31428:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MilestoneListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"MilestonePickerPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MilestoneListPaginationQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,n,{kind:"InlineFragment",selections:[{alias:null,args:r,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"MilestoneEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:r,filters:null,handle:"connection",key:"Repository_milestones",kind:"LinkedHandle",name:"milestones"}],type:"Repository",abstractKey:null}],storageKey:null}]},params:{id:"85f7353bcbb3aff12ce5812b8000bffe",metadata:{},name:"MilestoneListPaginationQuery",operationKind:"query",text:null}}}();n.hash="3cdcc8c0aedf9e396dd5fa08b40a5007";let r=n},27633:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n={kind:"InlineDataFragment",name:"MilestonePickerMilestone"};n.hash="3ba982b598caa812684117e513c799b8";let r=n},72939:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=["milestones"],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:100,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:e}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:e},fragmentPathInResult:["node"],operation:a(31428),identifierField:"id"}},name:"MilestonePickerPaginated",selections:[{alias:"milestones",args:null,concreteType:"MilestoneConnection",kind:"LinkedField",name:"__Repository_milestones_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"MilestoneEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},t],type:"Repository",abstractKey:null}}();n.hash="3cdcc8c0aedf9e396dd5fa08b40a5007";let r=n},55921:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a=[{kind:"Literal",name:"first",value:100}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MilestonePickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MilestonePickerPaginated"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MilestonePickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:a,concreteType:"MilestoneConnection",kind:"LinkedField",name:"milestones",plural:!1,selections:[{alias:null,args:null,concreteType:"MilestoneEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"node",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"milestones(first:100)"},{alias:null,args:a,filters:null,handle:"connection",key:"Repository_milestones",kind:"LinkedHandle",name:"milestones"},n],storageKey:null}]},params:{id:"42378b28a76074464d0f45e55dfd8d23",metadata:{},name:"MilestonePickerQuery",operationKind:"query",text:null}}}();n.hash="a8c72739af0fb9369f78027f52011a36";let r=n},35551:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:null,kind:"LocalArgument",name:"repo"}],t=[{kind:"Variable",name:"name",variableName:"repo"},{kind:"Variable",name:"owner",variableName:"owner"}],a=[{kind:"Literal",name:"first",value:10}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r=[n,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null}],l={alias:null,args:a,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"nodes",plural:!0,selections:r,storageKey:null}],storageKey:"projectsV2(first:10)"},i=[{alias:null,args:null,concreteType:"ProjectV2Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"node",plural:!1,selections:r,storageKey:null}],storageKey:null}],s={alias:null,args:a,concreteType:"ProjectV2Connection",kind:"LinkedField",name:"recentProjects",plural:!1,selections:i,storageKey:"recentProjects(first:10)"},o={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"orderBy",value:{direction:"ASC",field:"TITLE"}}],concreteType:"ProjectV2Connection",kind:"LinkedField",name:"projectsV2",plural:!1,selections:i,storageKey:'projectsV2(first:100,orderBy:{"direction":"ASC","field":"TITLE"})'},s],type:"Organization",abstractKey:null},d={kind:"InlineFragment",selections:[s],type:"User",abstractKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ProjectPickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[o,d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ProjectPickerQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[l,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o,d,n],storageKey:null},n],storageKey:null}]},params:{id:"df75d94a9d32cc27ca45558bf87e0064",metadata:{},name:"ProjectPickerQuery",operationKind:"query",text:null}}}();n.hash="16b947548e3b6b2a2431e16eb79a1a10";let r=n},32223:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e={defaultValue:null,kind:"LocalArgument",name:"name"},t={defaultValue:null,kind:"LocalArgument",name:"owner"},a=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"RepositoryPickerCurrentRepositoriesQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[n,r,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[i],storageKey:null},s,o]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"RepositoryPickerCurrentRepositoriesQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[n,r,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,n],storageKey:null},s,o],storageKey:null}]},params:{id:"998cb4a7823456d0d5bca1fe9f13899a",metadata:{},name:"RepositoryPickerCurrentRepositoriesQuery",operationKind:"query",text:null}}}();n.hash="ab04e62b63cef5126558198f84bb923c";let r=n},33360:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n={kind:"InlineDataFragment",name:"RepositoryPickerRepository"};n.hash="e390424c2b13f8243fd768291d8ac501";let r=n},62499:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"searchQuery"}],t=[{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"query",variableName:"searchQuery"},{kind:"Literal",name:"type",value:"REPOSITORY"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RepositoryPickerSearchRepositoriesQuery",selections:[{alias:null,args:t,concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[a,n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[l],storageKey:null},i,s]}],type:"Repository",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RepositoryPickerSearchRepositoriesQuery",selections:[{alias:null,args:t,concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"InlineFragment",selections:[a,n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[o,l,a],storageKey:null},i,s],type:"Repository",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"51e30735cfca39a3fab13e309d5b1ad8",metadata:{},name:"RepositoryPickerSearchRepositoriesQuery",operationKind:"query",text:null}}}();n.hash="eb28d4ad5bae650831a907bcbffd3064";let r=n},65619:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"topRepositoriesFirst"}],t=[{kind:"Variable",name:"first",variableName:"topRepositoriesFirst"},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:t,concreteType:"RepositoryConnection",kind:"LinkedField",name:"topRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[a,n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[l],storageKey:null},i,s]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:t,concreteType:"RepositoryConnection",kind:"LinkedField",name:"topRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[a,n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,a],storageKey:null},i,s],storageKey:null}],storageKey:null}],storageKey:null},a],storageKey:null}]},params:{id:"997d0f1b4e3fdf426663e515325417fa",metadata:{},name:"RepositoryPickerTopRepositoriesQuery",operationKind:"query",text:null}}}();n.hash="1fa1f19ca229eb83ea766a5bacd108c6";let r=n},76674:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a=[{alias:null,args:null,concreteType:"UserEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"}],storageKey:null}],storageKey:null}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[t,{alias:null,args:[{kind:"Literal",name:"first",value:20}],concreteType:"UserConnection",kind:"LinkedField",name:"assignees",plural:!1,selections:a,storageKey:"assignees(first:20)"},{alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"UserConnection",kind:"LinkedField",name:"participants",plural:!1,selections:a,storageKey:"participants(first:10)"}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueAssigneesMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueAssigneesMutation",selections:n},params:{id:"39e864e4e0ebb9ebc9e5a06e6aaa05b4",metadata:{},name:"updateIssueAssigneesMutation",operationKind:"mutation",text:null}}}();n.hash="194beb7c9ef73d93d09a2da9d799f2da";let r=n},84946:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:[{kind:"Literal",name:"unfurlReferences",value:!0}],kind:"ScalarField",name:"bodyHTML",storageKey:"bodyHTML(unfurlReferences:true)"}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueBodyMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueBodyMutation",selections:t},params:{id:"9ccc9323a10a41634aee0df97486ca9b",metadata:{},name:"updateIssueBodyMutation",operationKind:"mutation",text:null}}}();n.hash="3f68feab8073168d04abf583caa37d0e";let r=n},79812:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},l={alias:null,args:[{kind:"Literal",name:"unfurlReferences",value:!0}],kind:"ScalarField",name:"bodyHTML",storageKey:"bodyHTML(unfurlReferences:true)"},i={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"authorAssociation",storageKey:null},u={alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null}],storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueCommentBodyMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssueCommentPayload",kind:"LinkedField",name:"updateIssueComment",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueComment",kind:"LinkedField",name:"issueComment",plural:!1,selections:[a,n,r,l,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[s,o],storageKey:null},d,u,c],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueCommentBodyMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssueCommentPayload",kind:"LinkedField",name:"updateIssueComment",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueComment",kind:"LinkedField",name:"issueComment",plural:!1,selections:[a,n,r,l,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s,o,{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null},d,u,c],storageKey:null}],storageKey:null}]},params:{id:"1408cedb0e6cfc991069141b8bb58b96",metadata:{},name:"updateIssueCommentBodyMutation",operationKind:"mutation",text:null}}}();n.hash="b8220f01855ab72d67b440f16232e7e0";let r=n},27983:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{kind:"Literal",name:"first",value:20}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueLabelsMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{args:null,kind:"FragmentSpread",name:"MetadataSectionAssignedLabels"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueLabelsMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:n,concreteType:"LabelConnection",kind:"LinkedField",name:"labels",plural:!1,selections:[{alias:null,args:null,concreteType:"LabelEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Label",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:"labels(first:20)"},{alias:null,args:n,filters:null,handle:"connection",key:"MetadataAssignedLabels_labels",kind:"LinkedHandle",name:"labels"}],storageKey:null}],storageKey:null}]},params:{id:"3f2fba025e3465dcf47aac9a3a1fc2a7",metadata:{},name:"updateIssueLabelsMutation",operationKind:"mutation",text:null}}}();n.hash="556935ff8f5cab6280cee730001cbd74";let r=n},98789:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[a,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closed",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMilestoneMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MilestonePickerMilestone",selections:n}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMilestoneMutation",selections:[{alias:null,args:t,concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Milestone",kind:"LinkedField",name:"milestone",plural:!1,selections:n,storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"0b2940b4d5bda1d93e9c8ef4e99e532f",metadata:{},name:"updateIssueMilestoneMutation",operationKind:"mutation",text:null}}}();n.hash="7302553b3cbaeec71894985dcc50a52b";let r=n},33290:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UpdateIssuePayload",kind:"LinkedField",name:"updateIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleHTML",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:[{kind:"Literal",name:"unfurlReferences",value:!0}],kind:"ScalarField",name:"bodyHTML",storageKey:"bodyHTML(unfurlReferences:true)"}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueMutation",selections:t},params:{id:"26e0261b05d97201824b4c2a3298b775",metadata:{},name:"updateIssueMutation",operationKind:"mutation",text:null}}}();n.hash="ca3959767ba8891e6b6c1e8cac3d3432";let r=n},77574:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"connections"},{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,concreteType:"ProjectV2",kind:"LinkedField",name:"project",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanUpdate",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueProjectsMutation",selections:[{alias:null,args:t,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueProjectsMutation",selections:[{alias:null,args:t,concreteType:"AddProjectV2ItemByIdPayload",kind:"LinkedField",name:"addProjectV2ItemById",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2ItemEdge",kind:"LinkedField",name:"projectEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"ProjectV2Item",kind:"LinkedField",name:"node",plural:!1,selections:[n,a],storageKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"appendEdge",key:"",kind:"LinkedHandle",name:"projectEdge",handleArgs:[{kind:"Variable",name:"connections",variableName:"connections"}]}],storageKey:null}]},params:{id:"a117a4f700ebbae4d10cb64da2cf46c6",metadata:{},name:"updateIssueProjectsMutation",operationKind:"mutation",text:null}}}();n.hash="5c855b87343ec8aaf4720afba69cda3e";let r=n},50218:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"newStateReason"}],t=[{alias:null,args:[{fields:[{kind:"Variable",name:"issueId",variableName:"id"},{kind:"Variable",name:"stateReason",variableName:"newStateReason"}],kind:"ObjectValue",name:"input"}],concreteType:"CloseIssuePayload",kind:"LinkedField",name:"closeIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stateReason",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueStateMutationCloseIssueMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueStateMutationCloseIssueMutation",selections:t},params:{id:"f83f27c1da926efe31998f1dda00604d",metadata:{},name:"updateIssueStateMutationCloseIssueMutation",operationKind:"mutation",text:null}}}();n.hash="edf54f99898ddb688b33a0ba00667583";let r=n},89181:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});let n=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{alias:null,args:[{fields:[{kind:"Variable",name:"issueId",variableName:"id"}],kind:"ObjectValue",name:"input"}],concreteType:"ReopenIssuePayload",kind:"LinkedField",name:"reopenIssue",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"issue",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"updateIssueStateMutationReopenIssueMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"updateIssueStateMutationReopenIssueMutation",selections:t},params:{id:"ce97291b0a3a716ca09c5023e2c9629f",metadata:{},name:"updateIssueStateMutationReopenIssueMutation",operationKind:"mutation",text:null}}}();n.hash="9edaddea7b1113c51f9fd7e7683c915e";let r=n},65722:(e,t,a)=>{a.d(t,{Z:()=>n});let n=()=>void 0},95883:(e,t,a)=>{a.d(t,{u:()=>n.u});var n=a(32740)},51145:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(44544);let{getItem:r,setItem:l,removeItem:i}=(0,n.Z)("localStorage"),s="REACT_PROFILING_ENABLED",o={enable:()=>l(s,"true"),disable:()=>i(s),isEnabled:()=>!!r(s)},d=o},53729:(e,t,a)=>{a.d(t,{A7:()=>c,ko:()=>d,q1:()=>s});var n=a(15205),r=a(86283);let l=(0,n.Z)(i);function i(){return r.n4?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}let s=(0,n.Z)(o);function o(){return r.n4?.head?.querySelector('meta[name="is-private-instance"]')?.content==="true"}let d=(0,n.Z)(u);function u(){return"enterprise"===l()}let c="webpack"},44544:(e,t,a)=>{a.d(t,{Z:()=>i,_:()=>s});var n=a(86283),r=a(71643);let l=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function i(e,t={throwQuotaErrorsOnSet:!1},a=n.iG,i=e=>e,s=e=>e){let o;try{if(!a)throw Error();o=a[e]||new l}catch{o=new l}let{throwQuotaErrorsOnSet:d}=t;function u(e){t.sendCacheStats&&(0,r.b)({incrementKey:e})}function c(e){try{if(o.removeItem(e),t.ttl){let t=`${e}:expiry`;o.removeItem(t)}}catch(e){}}return{getItem:function(e,t=new Date().getTime()){try{let a=o.getItem(e);if(!a)return null;let n=`${e}:expiry`,r=Number(o.getItem(n));if(r&&t>r)return c(e),c(n),u("SAFE_STORAGE_VALUE_EXPIRED"),null;return u("SAFE_STORAGE_VALUE_WITHIN_TTL"),i(a)}catch(e){return null}},setItem:function(e,a,n=new Date().getTime()){try{if(o.setItem(e,s(a)),t.ttl){let a=`${e}:expiry`,r=n+t.ttl;o.setItem(a,r.toString())}}catch(e){if(d&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:c,clear:o.clear,key:o.key,get length(){return o.length}}}function s(e){return i(e,{throwQuotaErrorsOnSet:!1},window,JSON.parse,JSON.stringify)}},86283:(e,t,a)=>{a.d(t,{Qg:()=>n.Qg,W6:()=>n.W6,cF:()=>n.cF,iG:()=>r.iG,jX:()=>r.jX,n4:()=>r.n4});var n=a(35647),r=a(73614)},73614:(e,t,a)=>{a.d(t,{iG:()=>r,jX:()=>l,n4:()=>n});let n="undefined"==typeof document?void 0:document,r="undefined"==typeof window?void 0:window,l="undefined"==typeof location?{pathname:"",origin:"",search:"",hash:""}:location},35647:(e,t,a)=>{a.d(t,{Qg:()=>l,W6:()=>r,cF:()=>i});var n=a(73614);let r=void 0===n.n4,l=!r;function i(){return!!r||Boolean(n.n4.querySelector('react-app[data-ssr="true"]'))}},71643:(e,t,a)=>{a.d(t,{B:()=>h,b:()=>s});var n=a(86283),r=a(4412),l=a(53729);let i=[];function s(e,t=!1){void 0===e.timestamp&&(e.timestamp=new Date().getTime()),e.loggedIn=f(),e.staff=h(),e.bundler=l.A7,i.push(e),t?u():d()}let o=null;async function d(){await r.C,null==o&&(o=window.requestIdleCallback(u))}function u(){if(o=null,!i.length)return;let e=n.n4?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!e)return;let t=c(i);for(let a of t)p(e,`{"stats": [${a.join(",")}] }`);i=[]}function c(e){let t=[],a=e.map(e=>JSON.stringify(e));for(;a.length>0;)t.push(m(a));return t}function m(e){let t=e.shift(),a=[t],n=t.length;for(;e.length>0&&n<=65536;){let t=e[0].length;if(n+t<=65536){let r=e.shift();a.push(r),n+=t}else break}return a}function p(e,t){try{navigator.sendBeacon&&navigator.sendBeacon(e,t)}catch{}}function f(){return!!n.n4?.head?.querySelector('meta[name="user-login"]')?.content}function h(){return!!n.n4?.head?.querySelector('meta[name="user-staff"]')?.content}n.n4?.addEventListener("pagehide",u),n.n4?.addEventListener("visibilitychange",u)},8135:(e,t,a)=>{a.d(t,{I:()=>s,t:()=>o});let n="\\s*(\\[[xX]\\]|\\[[\\s]\\])(?=\\s)",r="^(?:\\s*[-+*]|(?:\\s*\\d+\\.))",l="\\s*(.*?)\\s*$",i=`${r}${n}${l}`;function s(e){let t=RegExp("#{1,6}\\s+.*");return t.test(e)}function o(e){let t=RegExp(i),a=e.split("\n"),o=a.map(e=>e.trim()).map(e=>{if(s(e)||t.test(e))return e;let a=RegExp(r).test(e),i=RegExp(n).test(e),o=e&&RegExp(l).test(e);if(!a&&!i&&!o||!o)return e;let d=e;return a||(d=`- ${e}`),i||(d=`${d.slice(0,2)}[ ] ${d.slice(2)}`),d});return o.join("\n")}},78249:(e,t,a)=>{a.d(t,{g:()=>l});var n=a(67294),r=a(86283);function l(e,t){r.Qg&&(0,n.useLayoutEffect)(e,t)}},9058:(e,t,a)=>{a.d(t,{Z:()=>d,_:()=>o});var n=a(44544),r=a(67294);let l=(0,n.Z)("localStorage"),i="local-storage-update",s=class UseLocalStorageUpdateEvent extends Event{constructor(e,t){super(i),this.storageKey=e,this.storageValue=t}};function o(e,t){let a=(0,r.useRef)(t);(0,r.useEffect)(()=>{a.current=t});let[n,o]=(0,r.useState)(()=>{let t=l.getItem(e);return t?JSON.parse(t):a.current}),d=(0,r.useCallback)(t=>{o(t??a.current),void 0===t?l.removeItem(e):l.setItem(e,JSON.stringify(t)),document.dispatchEvent(new s(e,t))},[e]);return(0,r.useEffect)(()=>{function t(t){if(t.storageKey===e){let e=t.storageValue??a.current;o(e)}}document.addEventListener(i,t);let n=l.getItem(e);return n?o(JSON.parse(n)):o(a.current),()=>{document.removeEventListener(i,t)}},[e]),[n,d]}function d(e){for(let t of e)l.removeItem(t),document.dispatchEvent(new s(t,void 0))}},89445:(e,t,a)=>{function n(e,t={}){if(e.match(/^https?:/))throw Error("Can not make cross-origin requests from verifiedFetch");let a={...t.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(e,{...t,headers:a})}function r(e,t){let a=t?.headers??{},r={...a,Accept:"application/json","Content-Type":"application/json"},l=t?.body?JSON.stringify(t.body):void 0;return n(e,{...t,body:l,headers:r})}a.d(t,{Q:()=>n,v:()=>r})}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","vendors-node_modules_primer_react_lib-esm_BaseStyles_js-node_modules_react-aria_ssr_dist_modu-e2aff6","vendors-node_modules_primer_octicons-react_dist_index_esm_js-node_modules_primer_react_lib-es-26d548","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_lib-esm_Button_index_js-node_modules_primer_react_lib-esm_L-41b0e5","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_Button_IconButton_js-node_modules_primer_react_lib--c3f726","vendors-node_modules_primer_react_lib-esm_TextInput_TextInput_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_js","vendors-node_modules_primer_behaviors_dist_esm_scroll-into-view_js-node_modules_primer_react_-04bb1b","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_insights_dist_index_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_alive-client_dist-bf5aa2","vendors-node_modules_primer_react_lib-esm_Dialog_ConfirmationDialog_js-node_modules_primer_re-6e457e","vendors-node_modules_react-relay_index_js","vendors-node_modules_primer_react_lib-esm_PageLayout_PageLayout_js","vendors-node_modules_primer_react_lib-esm_Popover_js-node_modules_date-fns_esm_format_index_j-0f81f4","vendors-node_modules_date-fns_esm_differenceInBusinessDays_index_js-node_modules_date-fns_esm-af440f","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_fzy_js_index_js-node_modules_github_markdown-toolbar-element_dist_index_js","vendors-node_modules_primer_react_lib-esm_StateLabel_StateLabel_js-node_modules_primer_react_-38d2e3","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-63ffd9","vendors-node_modules_primer_react_lib-esm_NavList_NavList_js-node_modules_date-fns_esm_format-9bbff6","vendors-node_modules_dnd-kit_modifiers_dist_modifiers_esm_js-node_modules_dnd-kit_sortable_di-4d07df","ui_packages_date-picker_date-picker_ts","ui_packages_relay-environment_relay-environment_ts-ui_packages_use-is-mounted_use-is-mounted_ts"],()=>t(46132));var a=e.O()}]);
//# sourceMappingURL=memex-b67020ad1d2d.js.map